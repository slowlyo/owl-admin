import{$o as e,Ao as t,Ci as n,Fo as r,J as i,Ko as a,Mo as o,No as s,dr as c}from"./index-C4Pf1uQ-.js";var l=e(a()),u=function(e){s(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.highlightIndex=-1,t.prevIndex=-1,t}return a.prototype.chartRef=function(e){var t=this,n;this.chart=e,(n=this.chart)==null||n.on(`click`,`series`,function(e){t.props.onToggle(t.props.options[e.dataIndex])}),setTimeout(function(){return t.highlight()})},a.prototype.highlight=function(e){e===void 0&&(e=this.highlightIndex),!this.props.static&&(this.highlightIndex=e,!(!this.chart||this.prevIndex===e)&&(~this.prevIndex&&this.chart.dispatchAction({type:`downplay`,seriesIndex:0,dataIndex:this.prevIndex}),~e&&(this.chart.dispatchAction({type:`highlight`,seriesIndex:0,dataIndex:e}),this.props.showTooltipOnHighlight&&this.chart.dispatchAction({type:`showTip`,seriesIndex:0,dataIndex:e})),this.prevIndex=e))},a.prototype.componentDidMount=function(){this.props.selectedOptions.length&&this.highlight(this.props.options.indexOf(this.props.selectedOptions[0]))},a.prototype.componentDidUpdate=function(){this.props.selectedOptions.length&&this.highlight(this.props.options.indexOf(this.props.selectedOptions[0]))},a.prototype.renderStatic=function(e){e===void 0&&(e=`-`),this.prevIndex=-1,this.highlightIndex=-1;var t=this.props,n=t.options,r=n===void 0?[]:n,i=t.selectedOptions,a=t.labelField,o=a===void 0?`label`:a,s=t.valueField,c=s===void 0?`value`:s,u=t.chartValueField;if(r.length&&i.length){var d=r.reduce(function(e,t){return e+t[u||c]},0);if(d>0){var f=(+i[0][u||c]/d*100).toFixed(2);e=`${i[0][o]}：${f}%`}}return l.createElement(l.default.Fragment,null,e)},a.prototype.render=function(){var e=this.props,n=e.options,r=e.labelField,i=e.chartValueField,a=e.valueField,o=e.render;return o(`chart`,{type:`chart`},{config:t(t({legend:{top:10},tooltip:{formatter:function(e){return`${e.name}：${e.value[i||a||`value`]}（${e.percent}%）`}},series:[{type:`pie`,top:30,bottom:0}]},this.props.config),{dataset:{dimensions:[r||`label`,i||a||`value`],source:n}}),chartRef:this.chartRef})},o([n,r(`design:type`,Function),r(`design:paramtypes`,[Object]),r(`design:returntype`,void 0)],a.prototype,`chartRef`,null),o([i(),r(`design:type`,Function),r(`design:paramtypes`,[]),r(`design:returntype`,void 0)],a.prototype,`render`,null),a}(l.Component),d=function(e){s(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.defaultProps={multiple:!1},t=o([c({type:`chart-radios`,sizeMutable:!1})],t),t}(u);export{d as RadiosControlRenderer,u as default};