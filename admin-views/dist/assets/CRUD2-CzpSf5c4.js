import{$o as e,Ao as t,Ar as n,Ci as r,Eo as i,Fo as a,Ga as o,Gi as s,Go as c,Hr as l,Ia as u,Ii as d,Io as f,Jt as p,Ko as m,La as h,Lo as g,Ma as _,Mo as v,No as y,Oa as b,Po as x,Ro as S,Ur as C,Wn as w,Yi as T,aa as E,ba as D,ga as O,gi as k,ia as A,ja as j,jo as M,kr as N,n as P,ni as F,oa as I,ra as L,ti as R,wr as z,xa as B,ya as V,yi as H}from"./index-C4Pf1uQ-.js";import{t as U}from"./omitBy-B7ioCFKg.js";var W=e(m()),G=c(),K=e(U()),q=e(C()),J=e(k()),Y=e(o()),X=e(P()),Z=e(i()),ee=e(B()),te=[`selectedChange`,`columnSort`,`columnFilter`,`columnSearch`,`columnToggled`,`orderChange`,`rowClick`,`rowDbClick`,`rowMouseEnter`,`rowMouseLeave`,`selected`],Q=function(e){y(i,e);function i(t){var n=e.call(this,t)||this;n.stopingAutoRefresh=!1;var r=t.location,i=t.store,a=t.syncLocation,o=t.pageField,s=t.perPageField;t.parsePrimitiveQuery;var c=n.getParseQueryOptions(t);n.mounted=!0,a&&r&&(r.query||r.search)?i.updateQuery(A(r,c),void 0,o,s):a&&!r&&window.location.search&&i.updateQuery(A(window.location,c),void 0,o,s),n.props.api&&n.props.store.updateData({items:[]});var l=t.mode,u=t.columns;return l===`table2`&&u&&i.updateColumns(u),n}return i.prototype.componentDidMount=function(){var e=this.props,t=e.store,n=e.pickerMode,r=e.loadType,i=e.loadDataOnce,a=e.maxLoadNum;if(r&&!i){var o=r===`more`?this.props.perPage||10:this.getPaginationPerPage();t.changePage(t.page,o)}else r||t.changePage(1,a||500);if(this.initQuery({}),n){var s=d(this.props);s&&t.setSelectedItems(s)}},i.prototype.componentDidUpdate=function(e){var t=this.props,n=e.store;t.parsePrimitiveQuery,e.columns!==t.columns&&n.updateColumns(t.columns);var r;this.props.pickerMode&&s(r=d(this.props),d(e))&&n.setSelectedItems(r);var i=!1;if(e.syncLocation&&e.location&&e.location.search!==t.location.search&&(n.updateQuery(A(t.location,this.getParseQueryOptions(t)),void 0,t.pageField,t.perPageField),i=!!(t.api&&T(n.query,this.lastQuery,!1))),!i){if(e.api&&t.api&&R(e.api,t.api,n.fetchCtxOf(e.data,{pageField:e.pageField,perPageField:e.perPageField}),n.fetchCtxOf(t.data,{pageField:t.pageField,perPageField:t.perPageField})))i=!0;else if(!t.api&&D(t.source)){var a=h(t.source,t.data,`| raw`);(!this.lastData||this.lastData!==a)&&(n.initFromScope(t.data,t.source,{columns:n.columns??t.columns}),this.lastData=a)}}i&&this.getData()},i.prototype.componentWillUnmount=function(){this.mounted=!1,clearTimeout(this.timer)},i.prototype.getPaginationPerPage=function(){var e=10,t=this.props,n=t.headerToolbar,r=t.footerToolbar;return H({headerToolbar:n,footerToolbar:r},function(t,n,r){n===`type`&&t===`pagination`&&!isNaN(r?.perPage)&&(e=+r.perPage)}),e},i.prototype.getParseQueryOptions=function(e){var t=e.parsePrimitiveQuery;return{parsePrimitive:!!(_(t)?t?.enable:t),primitiveTypes:t?.types??[`boolean`]}},i.prototype.controlRef=function(e){for(;e&&e.getWrappedInstance;)e=e.getWrappedInstance();this.control=e},i.prototype.initQuery=function(e){var n=this.props,r=n.store,i=n.orderBy,a=n.orderDir,o=n.loadType,s={};i&&(s.orderBy=i,s.orderDir=a||`asc`),this.handleSearch({query:t(t(t({},s),e),r.query),replaceQuery:this.props.initFetch!==!1,loadMore:o===`more`,resetPage:!1}),r.setPristineQuery()},i.prototype.handleLoadMore=function(){var e=this.props,t=e.store,n=e.perPage,r=n===void 0?10:n;t.changePage(t.page+1,r),this.getData(void 0,void 0,void 0,!0)},i.prototype.handleSearch=function(e){var n=this.props,r=n.store,i=n.syncLocation,a=n.env,o=n.pageField,s=n.perPageField,c=n.parsePrimitiveQuery,l=this.getParseQueryOptions(this.props),u=e||{},d=u.query,f=u.resetQuery,p=u.replaceQuery,m=u.loadMore,h=u.resetPage;d=t(t({},d),(0,X.default)(d?.__super?.diff??{},function(e){return e===void 0})),d=i?E(I(d,void 0,!0)):d,c&&(d=L(d,l)),r.updateQuery(f?t(t({},d),this.props.store.pristineQuery):d,i&&a&&a.updateLocation?function(e){return a.updateLocation(e,!0)}:void 0,o,s,p),h&&r.changePage(1),this.lastQuery=r.query,this.getData(void 0,void 0,void 0,m??!1)},i.prototype.handleStopAutoRefresh=function(){this.timer&&clearTimeout(this.timer),this.stopingAutoRefresh=!0},i.prototype.handleStartAutoRefresh=function(){this.stopingAutoRefresh=!1,this.reload()},i.prototype.reloadTarget=function(e,t){},i.prototype.closeTarget=function(e){},i.prototype.updateQuery=function(e){e===void 0&&(e={}),this.props.store},i.prototype.getData=function(e,t,n,r){return n===void 0&&(n=!1),M(this,void 0,void 0,function(){var i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,S,C,w,T,E,D;return x(this,function(x){switch(x.label){case 0:return i=this.props,a=i.store,o=i.api,s=i.messages,c=i.pageField,l=i.perPageField,u=i.interval,d=i.stopAutoRefreshWhen,f=i.silentPolling,i.syncLocation,p=i.syncResponse2Query,m=i.keepItemSelectionOnPageChange,h=i.stopAutoRefreshWhenModalIsOpen,g=i.pickerMode,i.env,_=i.loadType,v=i.loadDataOnce,y=i.source,S=i.columns,C=i.perPage,w=i.pullRefresh,!r&&m&&t&&!g&&(a.setSelectedItems([]),a.setUnSelectedItems([])),clearTimeout(this.timer),this.lastQuery=a.query,T=r??_===`more`,E=b(a.data,a.query),T&&C&&a.changePerPage(C),F(o,E)?[4,a.fetchInitData(o,E,{successMessage:s&&s.fetchSuccess,errorMessage:s&&s.fetchFailed,autoAppend:!0,forceReload:n,loadDataOnce:v,source:y,silent:e,pageField:c,perPageField:l,loadDataMode:T,dataAppendTo:w?.dataAppendTo||`bottom`,syncResponse2Query:p,columns:a.columns??S,isTable2:!0,minLoadingTime:w?.minLoadingTime})]:[3,2];case 1:return D=x.sent(),D!=null&&D.ok&&u&&!this.stopingAutoRefresh&&this.mounted&&(!d||!(d&&O(d,b(a.data,a.query))))&&(!h||!a.dialogOpen&&!a?.parentStore?.dialogOpen)&&(this.timer=setTimeout(this.getData.bind(this,f,void 0,!0),Math.max(u,1e3))),[3,3];case 2:y&&a.initFromScope(E,y,{columns:a.columns??S}),x.label=3;case 3:return[2,a.data]}})})},i.prototype.handleChangePage=function(e,t){var n,r=this.props,i=r.store,a=r.syncLocation,o=r.env,s=r.pageField,c=r.perPageField,l=r.autoJumpToTopOnPagerChange,u=(n={},n[s||`page`]=e,n);if(t&&(u[c||`perPage`]=t),i.updateQuery(u,a&&o?.updateLocation?o.updateLocation:void 0,s,c),i.changePage(e,t),this.getData(),l&&this.control){(0,G.findDOMNode)(this.control).scrollIntoView();var d=window.scrollY;d&&window.scroll(0,d)}},i.prototype.handleSave=function(e,t,r,i,a,o){var s=this,c=this.props,l=c.store,u=c.quickSaveApi,d=c.quickSaveItemApi,f=c.primaryField,p=c.env,m=c.messages,h=c.reload;if(Array.isArray(e)){if(!F(u)){p&&p.alert(`CRUD quickSaveApi is required`);return}var g=b(l.data,{rows:e,rowsDiff:t,indexes:r,rowsOrigin:a});e.length&&e[0].hasOwnProperty(f||`id`)&&(g.ids=e.map(function(e){return e[f||`id`]}).join(`,`)),i&&(g.unModifiedItems=i),l.saveRemote(u,g,{successMessage:m&&m.saveFailed,errorMessage:m&&m.saveSuccess}).then(function(){h&&s.reloadTarget(n(h,g),g),s.getData(void 0,void 0,!0)}).catch(function(){})}else{if(!F(d)){p&&p.alert(`CRUD quickSaveItemApi is required!`);return}var _=b(l.data,{item:e,modified:t,origin:a}),v=b(_,e);l.saveRemote(d,v).then(function(){h&&s.reloadTarget(n(h,_),_),s.getData(void 0,void 0,!0)}).catch(function(){o!=null&&o.resetOnFailed&&s.control.reset()})}},i.prototype.handleSaveOrder=function(e,t){var r=this,i=this.props,a=i.store,o=i.saveOrderApi,s=i.orderField,c=i.primaryField,l=i.env,u=i.reload;if(!o){l&&l.alert(`CRUD saveOrderApi is required!`);return}var d=b(a.data),f,p,m=[],h=c&&t[0]&&t[0].hasOwnProperty(c);if(h||(d.idMap={}),d.insertAfter={},t.forEach(function(n){if(~e.indexOf(n))if(f){var r=h?f[c]:t.indexOf(f);d.insertAfter[r]=d.insertAfter[r]||[],h||(d.idMap[r]=f),d.insertAfter[r].push(h?n[c]:n)}else m.push(n);else f=n,p||=n}),p&&m.length){var g=h?p[c]:t.indexOf(p);h||(d.idMap[g]=p),d.insertBefore={},d.insertBefore[g]=m.map(function(e){return h?e[c]:e})}else if(m.length){var _=m[0],v=h?_[c]:t.indexOf(_);h||(d.idMap[v]=_),d.insertAfter[v]=m.slice(1).map(function(e){return h?e[c]:e})}if(s){var y=(a.page-1)*a.perPage||0;t=t.map(function(e,t){var n;return j(e,(n={},n[s]=y+t+1,n))})}d.rows=t.concat(),h&&(d.ids=t.map(function(e){return e[c]}).join(`,`)),h&&s&&(d.order=t.map(function(e){return(0,q.default)(e,[c,s])})),F(o,d)&&a.saveRemote(o,d).then(function(){u&&r.reloadTarget(n(u,d),d),r.getData(void 0,void 0,!0)}).catch(function(){})},i.prototype.handleSelect=function(e,t){var n=this.props,r=n.store,i=n.keepItemSelectionOnPageChange,a=n.primaryField,o=n.multiple,c=n.pickerMode,l=n.onSelect,u=e,d=t;if(s(r.selectedItemsAsArray,u)){if(i&&r.selectedItems.length){var f=r.selectedItems.concat(),p=r.unSelectedItems.concat();e.forEach(function(e){var t=(0,J.default)(f,function(t){return t===e||t[a||`id`]&&t[a||`id`]==e[a||`id`]});~t?f[t]=e:f.push(e);var n=(0,J.default)(p,function(t){return t===e||t[a||`id`]&&t[a||`id`]==e[a||`id`]});~n&&p.splice(n,1)}),t.forEach(function(e){var t=(0,J.default)(p,function(t){return t===e||t[a||`id`]&&t[a||`id`]==e[a||`id`]}),n=(0,J.default)(f,function(t){return t===e||t[a||`id`]&&t[a||`id`]==e[a||`id`]});~t?p[t]=e:p.push(e),!~t&&~n&&f.splice(n,1)}),u=f,d=p}c&&o===!1&&u.length>1&&d.push.apply(d,u.splice(0,u.length-1)),r.setSelectedItems(u),r.setUnSelectedItems(d),l&&l(u)}},i.prototype.handleQuerySearch=function(e,n){var r;n===void 0&&(n=!1);var i=this.props,a=i.store,o=i.syncLocation,s=i.env,c=i.pageField,l=i.perPageField;return a.updateQuery(t(t({},e),(r={},r[c||`page`]=1,r)),o&&s&&s.updateLocation?s.updateLocation:void 0,c,l),this.getData(void 0,void 0,n)},i.prototype.reload=function(e,t){return t?this.receive(t):this.getData(void 0,void 0,!0)},i.prototype.receive=function(e){return this.handleQuerySearch(e,!0)},i.prototype.doAction=function(e,t,n){if(n===void 0&&(n=!1),e.actionType&&[`stopAutoRefresh`,`reload`,`search`,`startAutoRefresh`,`loadMore`].includes(e.actionType))return this[`handle${(0,Y.default)(e.actionType)}`](t)},i.prototype.handleAction=function(e,t,n,r,i){return r===void 0&&(r=!1),[`stopAutoRefresh`,`reload`,`search`,`startAutoRefresh`,`loadMore`].includes(t.actionType)?this.doAction(t,n,r):this.props.onAction(e,t,n,r,i||this.context)},i.prototype.dispatchEvent=function(e,t,n,r){if(e===`selectedChange`&&this.control===n){var i=this.props.store;t.selectedItems=i.selectedItems.concat(),t.unSelectedItems=i.unSelectedItems.concat()}return this.props.dispatchEvent(e,t,n,r)},i.prototype.unSelectItem=function(e,t){var n=this.props.store,r=n.selectedItems.concat(),i=n.unSelectedItems.concat(),a=r.indexOf(e);~a&&i.push.apply(i,r.splice(a,1)),n.setSelectedItems(r),n.setUnSelectedItems(i)},i.prototype.clearSelection=function(){var e=this.props.store,t=e.selectedItems.concat(),n=e.unSelectedItems.concat();e.setSelectedItems([]),e.setUnSelectedItems(n.concat(t))},i.prototype.toggleAllColumns=function(e){var n=this.props.store;n.updateColumns(n.columns.map(function(n){return t(t({},n),{toggled:e})}))},i.prototype.toggleToggle=function(e){var n=this.props.store,r=n.columns[e].toggled;n.updateColumns(n.columns.map(function(n,i){return t(t({},n),{toggled:e===i?!r:n.toggled!==!1})}))},i.prototype.handlePullRefresh=function(){return M(this,void 0,void 0,function(){var e,t,n,r;return x(this,function(i){switch(i.label){case 0:return e=this.props,t=e.dispatchEvent,n=e.data,[4,t(`pullRefresh`,n)];case 1:return r=i.sent(),r?.prevented||this.handleLoadMore(),[2]}})})},i.prototype.renderChild=function(e,n,r){r===void 0&&(r={});var i=this.props,a=i.render,o=i.store,s=i.primaryField,c=s===void 0?`id`:s,l,u=o.selectedItems,d=o.unSelectedItems,f=o.items;l=/^filter/.test(e)?b(b(o.filterData,o.getData(this.props.data)),{}):b(o.mergedData,{items:f.concat(),selectedItems:u.concat(),unSelectedItems:d.concat(),ids:u.map(function(e){return e.hasOwnProperty(c)?e[c]:null}).filter(function(e){return e}).join(`,`)});var p={activePage:o.page,lastPage:o.lastPage,perPage:o.perPage,total:o.total,onPageChange:this.handleChangePage,cols:o.columns,toggleAllColumns:this.toggleAllColumns,toggleToggle:this.toggleToggle,onQuery:this.handleQuerySearch};return n.type,a(e,n,t(t({data:l},r),p))},i.prototype.renderToolbar=function(e,t){var n=this;return t?(t=[].concat(t),t.map(function(t,r){return n.renderChild(`${e}/${r}`,t,{key:r+``})})):null},i.prototype.renderFilter=function(e){var n=this;if(!e||Array.isArray(e)&&e.length===0)return null;var r=Array.isArray(e)?e:_(e)&&e.type!=null?[e]:[];return r.length<1?null:r.map(function(e,r){return n.renderChild(`filter/${r}`,e,t({key:r+`filter`,data:n.props.store.filterData,onSubmit:function(e){return n.handleSearch({query:e,resetPage:!0})},onReset:function(e){var t={};Object.keys(e).forEach(function(e){return t[e]=``}),n.handleSearch({query:t,resetQuery:!0,replaceQuery:!0,resetPage:!0})}},n.props.mobileUI?{columnCount:1,mode:`normal`,collapsible:!0,title:{type:`container`,body:[{type:`icon`,icon:`column-filter`,className:`icon mr-2`},e.title||``]}}:{}))})},i.prototype.renderSelection=function(){var e=this,t=this.props,n=t.store,r=t.classnames,i=t.labelField,a=t.labelTpl,o=t.primaryField,s=t.translate,c=t.env;return n.selectedItems.length?W.createElement(`div`,{className:r(`Crud-selection`)},W.createElement(`div`,{className:r(`Crud-selectionLabel`)},s(`CRUD.selected`,{total:n.selectedItems.length})),n.selectedItems.map(function(t,n){return W.createElement(`div`,{key:n,className:r(`Crud-value`)},W.createElement(`span`,{"data-tooltip":s(`delete`),"data-position":`bottom`,className:r(`Crud-valueIcon`),onClick:e.unSelectItem.bind(e,t,n)},`×`),W.createElement(`span`,{className:r(`Crud-valueLabel`)},a?W.createElement(w,{html:V(a,t),filterHtml:c.filterHtml}):u(t,i||`label`)||u(t,o||`id`)))}),W.createElement(`a`,{onClick:this.clearSelection.bind(this),className:r(`Crud-selectionClear`)},s(`clear`))):null},i.prototype.transformTable2cards=function(){for(var e=this.props,n=e.store,r=e.columns,i=e.card,a=e.mobileMode,o=[],s=a.fieldCount||4,c=[],l=``,u=(n.columns??r)||[],d=0;d<u.length;d++){var p=u[d];if((0,Z.default)(p))if(p.type===`operation`)c.push.apply(c,S([],f(p?.buttons||[]),!1));else if(p.type===`button`&&p.name===`operation`)c.push(p);else{if(!p.label&&p.title&&(p.label=p.title),p.type===`static-image`&&!l){l=`\${${p.name}}`;continue}o.length<s&&(p.type===`static-image`&&p.title&&delete p.title,o.push(p))}}return o.length?{columnsCount:1,type:`cards`,card:t(t(t({},i),{body:o,actions:c}),l?{media:{type:`image`,url:l,position:`right`,className:``},mediaActionPosition:`outside`}:{})}:null},i.prototype.transMobileHeaderToolbar=function(e,t){var n=0,r={},i={},a=null;function o(e,t){Array.isArray(e)?e.forEach(function(e){return o(e,t)}):e&&typeof e==`object`&&(e.type===`button`?(n++,e.label===`新增`&&(r=e,i=t)):e.type===`search-box`&&(a=e),(e.items||e.body)&&o(e.items||e.body,e))}e.forEach(function(e){o(e)}),n===1&&r&&(r.label=``,r.icon=`plus`,r.className||=``,r.className+=` is-fixed-right-bottom`,i&&(i.className||=``,i.className+=` is-fixed-right-bottom-wrapper`)),a&&(n===0||n===1&&r)&&(0,ee.default)(this.props.filterSchema)&&t()},i.prototype.render=function(){var e=this.props,n=e.columns,r=e.className,i=e.style,a=e.bodyClassName,o=e.filter,s=e.render,c=e.store,l=e.mode,u=l===void 0?`table2`:l;e.syncLocation,e.children,e.bulkActions;var d=e.pickerMode,f=e.selectable,m=e.multiple;e.valueField;var h=e.primaryField;e.value,e.hideQuickSaveBtn;var _=e.itemActions,v=e.classnames,y=e.keepItemSelectionOnPageChange,b=e.maxKeepItemSelectionLength,x=e.onEvent;e.onAction;var S=e.popOverContainer,C=e.translate;e.onQuery;var w=e.autoGenerateFilter;e.onSelect;var T=e.autoFillHeight,E=e.showSelection,D=e.headerToolbar,O=e.footerToolbar;e.columnsTogglable;var k=e.headerToolbarClassName,A=e.footerToolbarClassName,j=e.id,M=e.testIdBuilder,N=e.mobileMode,P=e.mobileUI,F=e.pullRefresh,I=g(e,`columns.className.style.bodyClassName.filter.render.store.mode.syncLocation.children.bulkActions.pickerMode.selectable.multiple.valueField.primaryField.value.hideQuickSaveBtn.itemActions.classnames.keepItemSelectionOnPageChange.maxKeepItemSelectionLength.onEvent.onAction.popOverContainer.translate.onQuery.autoGenerateFilter.onSelect.autoFillHeight.showSelection.headerToolbar.footerToolbar.columnsTogglable.headerToolbarClassName.footerToolbarClassName.id.testIdBuilder.mobileMode.mobileUI.pullRefresh`.split(`.`)),L,R=!1,z=null;if(N&&P&&u.includes(`table`)){var B=this.transformTable2cards();typeof N==`string`&&N===`cards`?B&&(z=B):typeof N==`object`&&(z=t(t(t({},B),N),{card:t(t({},B?.card),N.card)})),z&&this.transMobileHeaderToolbar(D,function(){R=!0}),z&&!F?.disabled&&(L=t(t({normalText:C(`pullRefresh.crud2NormalText`),pullingText:C(`pullRefresh.crud2PullingText`),loosingText:C(`pullRefresh.crud2LoosingText`)},F),{disabled:!1}))}else L=F;var V=s(`body`,t(t(t({},I),{onEvent:(0,K.default)(x,function(e,t){return!te.includes(t)}),type:u,columns:u.startsWith(`table`)?c.columns||n:void 0,id:j}),z),{key:`body`,className:v(`Crud2-body`,a),ref:this.controlRef,autoGenerateFilter:!o&&w,autoFillHeight:T,checkAll:!1,selectable:!!(f??d),itemActions:_,multiple:m,columnsTogglable:!1,selected:d||y?c.selectedItemsAsArray:void 0,keepItemSelectionOnPageChange:y,maxKeepItemSelectionLength:b,primaryField:h,testIdBuilder:M,items:c.data.items,query:c.query,orderBy:c.query.orderBy,orderDir:c.query.orderDir,popOverContainer:S,onSave:this.handleSave.bind(this),onSaveOrder:this.handleSaveOrder,onSearch:this.handleQuerySearch,onSort:this.handleQuerySearch,onSelect:this.handleSelect,onAction:this.handleAction,dispatchEvent:this.dispatchEvent,data:c.mergedData,loading:c.loading,host:this});return W.createElement(`div`,t({className:v(`Crud2`,r,{"is-loading":c.loading,"is-mobile":P,"is-mobile-cards":N===`cards`||z?.type===`cards`}),style:i,"data-id":j,"data-role":`container`},M?.getTestId()),W.createElement(`div`,t({className:v(`Crud2-filter`)},M?.getChild(`filter`).getTestId()),this.renderFilter(o)),W.createElement(`div`,{className:v(`Crud2-toolbar`,`Crud2-header-toolbar`,k,{"is-sticky":R})},this.renderToolbar(`headerToolbar`,D)),E&&y&&m!==!1?this.renderSelection():null,P&&L&&!L.disabled?W.createElement(p,t({},L,{translate:C,onRefresh:this.handlePullRefresh,direction:L.gestureDirection??`up`,loading:c.loading,completed:!c.loading&&c.lastPage>0&&c.page>=c.lastPage,completedText:c.total>0?void 0:``}),V):W.createElement(W.default.Fragment,null,V,W.createElement(`div`,{className:v(`Crud2-toolbar`,`Crud2-footer-toolbar`,A)},this.renderToolbar(`footerToolbar`,O))))},i.propsList=`mode.syncLocation.value.multiple.valueField.pageField.perPageField.hideQuickSaveBtn.autoJumpToTopOnPagerChange.interval.silentPolling.stopAutoRefreshWhen.stopAutoRefreshWhenModalIsOpen.api.headerToolbar.footerToolbar.autoGenerateFilter.syncResponse2Query.keepItemSelectionOnPageChange.source.onChange.onInit.onSaved.onQuery.autoFillHeight.showSelection.headerToolbarClassName.footerToolbarClassName.primaryField.parsePrimitiveQuery.pullRefresh`.split(`.`),i.defaultProps={toolbarInline:!0,syncLocation:!0,hideQuickSaveBtn:!1,autoJumpToTopOnPagerChange:!0,silentPolling:!1,autoFillHeight:!1,showSelection:!0,primaryField:`id`,parsePrimitiveQuery:!0,pullRefresh:{disabled:!1,showIcon:!0,showText:!0,iconType:`auto`,color:`#777777`,dataAppendTo:`bottom`,gestureDirection:`up`,minLoadingTime:0,contentText:{normalText:`点击加载更多`,pullingText:`加载中...`,loosingText:`释放立即刷新`,loadingText:`加载中...`,successText:`加载成功`,completedText:`没有更多数据了`}}},v([r,a(`design:type`,Function),a(`design:paramtypes`,[]),a(`design:returntype`,void 0)],i.prototype,`getPaginationPerPage`,null),v([r,a(`design:type`,Function),a(`design:paramtypes`,[Object]),a(`design:returntype`,void 0)],i.prototype,`controlRef`,null),v([r,a(`design:type`,Function),a(`design:paramtypes`,[Number,Number]),a(`design:returntype`,void 0)],i.prototype,`handleChangePage`,null),v([r,a(`design:type`,Function),a(`design:paramtypes`,[Array,Array]),a(`design:returntype`,void 0)],i.prototype,`handleSaveOrder`,null),v([r,a(`design:type`,Function),a(`design:paramtypes`,[Array,Array]),a(`design:returntype`,void 0)],i.prototype,`handleSelect`,null),v([r,a(`design:type`,Function),a(`design:paramtypes`,[Object,Boolean]),a(`design:returntype`,void 0)],i.prototype,`handleQuerySearch`,null),v([r,a(`design:type`,Function),a(`design:paramtypes`,[Object,Object,Boolean]),a(`design:returntype`,void 0)],i.prototype,`doAction`,null),v([r,a(`design:type`,Function),a(`design:paramtypes`,[Object,Object,Object,Boolean,Object]),a(`design:returntype`,void 0)],i.prototype,`handleAction`,null),v([r,a(`design:type`,Function),a(`design:paramtypes`,[Object,Object,W.Component,Object]),a(`design:returntype`,void 0)],i.prototype,`dispatchEvent`,null),v([r,a(`design:type`,Function),a(`design:paramtypes`,[Boolean]),a(`design:returntype`,void 0)],i.prototype,`toggleAllColumns`,null),v([r,a(`design:type`,Function),a(`design:paramtypes`,[Number]),a(`design:returntype`,void 0)],i.prototype,`toggleToggle`,null),v([r,a(`design:type`,Function),a(`design:paramtypes`,[]),a(`design:returntype`,Promise)],i.prototype,`handlePullRefresh`,null),v([r,a(`design:type`,Function),a(`design:paramtypes`,[String,Object,Object]),a(`design:returntype`,void 0)],i.prototype,`renderChild`,null),i}(W.Component),$=function(e){y(t,e);function t(t,n){var r=e.call(this,t)||this;return n.registerComponent(r),r}return t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.context.unRegisterComponent(this)},t.prototype.reload=function(t,n,r){return M(this,void 0,void 0,function(){var i;return x(this,function(a){return i=this.context,t?[2,i.reload(n?`${t}?${I(n)}`:t,r)]:[2,e.prototype.reload.call(this,t,n)]})})},t.prototype.receive=function(t,n){return M(this,void 0,void 0,function(){var r;return x(this,function(i){return r=this.context,n?[2,r.send(n,t)]:[2,e.prototype.receive.call(this,t)]})})},t.prototype.reloadTarget=function(e,t){this.context.reload(e,t)},t.prototype.closeTarget=function(e){this.context.close(e)},t.contextType=N,t}(Q),ne=function(e){y(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t=v([z({type:`crud2`,storeType:l.name,isolateScope:!0})],t),t}($);export{ne as CRUD2Renderer,$ as CRUD2RendererBase,Q as default};