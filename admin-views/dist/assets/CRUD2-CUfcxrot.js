import{s as ae,al as J,ai as $,aR as Z,ao as ie,V as se,v as le,w as de,aS as ue,ap as ee,y as m,at as ce,au as pe,av as re,aw as fe,E as V,G,aq as he,X as H,a3 as O,ax as z,aC as ge,aD as ye,aT as W,aU as ve,f as F,H as me,K as be,aK as te,ay as Pe,aL as Fe,aE as Se,t as Ce,aV as Te,z as T,P as A,Q as g,T as Ae,D as Oe,aM as Qe,aW as Ie,aF as Re}from"./index-DD507Yxv.js";import{o as De}from"./omitBy-CbF-doNL.js";var ke=["selectedChange","columnSort","columnFilter","columnSearch","columnToggled","orderChange","rowClick","rowDbClick","rowMouseEnter","rowMouseLeave","selected"],Ne=function(Q){ae(l,Q);function l(e){var t=Q.call(this,e)||this;t.stopingAutoRefresh=!1;var a=e.location,r=e.store,i=e.syncLocation,n=e.pageField,s=e.perPageField;e.parsePrimitiveQuery;var o=t.getParseQueryOptions(e);t.mounted=!0,i&&a&&(a.query||a.search)?r.updateQuery(J(a,o),void 0,n,s):i&&!a&&window.location.search&&r.updateQuery(J(window.location,o),void 0,n,s),t.props.api&&t.props.store.updateData({items:[]});var d=e.mode,p=e.columns;return d==="table2"&&p&&r.updateColumns(p),t}return l.prototype.componentDidMount=function(){var e=this.props,t=e.store,a=e.pickerMode,r=e.loadType,i=e.loadDataOnce,n=e.maxLoadNum,s=r&&!i;if(s){var o=r==="more"?this.props.perPage||10:this.getPaginationPerPage();t.changePage(t.page,o)}else r||t.changePage(1,n||500);if(this.initQuery({}),a){var d=$(this.props);d&&t.setSelectedItems(d)}},l.prototype.componentDidUpdate=function(e){var t,a=this.props,r=e.store;a.parsePrimitiveQuery,e.columns!==a.columns&&r.updateColumns(a.columns);var i;this.props.pickerMode&&Z(i=$(this.props),$(e))&&r.setSelectedItems(i);var n=!1;if(e.syncLocation&&e.location&&e.location.search!==a.location.search&&(r.updateQuery(J(a.location,this.getParseQueryOptions(a)),void 0,a.pageField,a.perPageField),n=!!(a.api&&ie(r.query,this.lastQuery,!1))),!n){if(e.api&&a.api&&se(e.api,a.api,r.fetchCtxOf(e.data,{pageField:e.pageField,perPageField:e.perPageField}),r.fetchCtxOf(a.data,{pageField:a.pageField,perPageField:a.perPageField})))n=!0;else if(!a.api&&le(a.source)){var s=de(a.source,a.data,"| raw");(!this.lastData||this.lastData!==s)&&(r.initFromScope(a.data,a.source,{columns:(t=r.columns)!==null&&t!==void 0?t:a.columns}),this.lastData=s)}}n&&this.getData()},l.prototype.componentWillUnmount=function(){this.mounted=!1,clearTimeout(this.timer)},l.prototype.getPaginationPerPage=function(){var e=10,t=this.props,a=t.headerToolbar,r=t.footerToolbar;return ue({headerToolbar:a,footerToolbar:r},function(i,n,s){n==="type"&&i==="pagination"&&!isNaN(s==null?void 0:s.perPage)&&(e=+s.perPage)}),e},l.prototype.getParseQueryOptions=function(e){var t,a=e.parsePrimitiveQuery,r={parsePrimitive:!!(ee(a)?a!=null&&a.enable:a),primitiveTypes:(t=a==null?void 0:a.types)!==null&&t!==void 0?t:["boolean"]};return r},l.prototype.controlRef=function(e){for(;e&&e.getWrappedInstance;)e=e.getWrappedInstance();this.control=e},l.prototype.initQuery=function(e){var t=this.props,a=t.store,r=t.orderBy,i=t.orderDir,n=t.loadType,s={};r&&(s.orderBy=r,s.orderDir=i||"asc"),this.handleSearch({query:m(m(m({},s),e),a.query),replaceQuery:this.props.initFetch!==!1,loadMore:n==="more",resetPage:!1}),a.setPristineQuery()},l.prototype.handleLoadMore=function(){var e=this.props,t=e.store,a=e.perPage,r=a===void 0?10:a;t.changePage(t.page+1,r),this.getData(void 0,void 0,void 0,!0)},l.prototype.handleSearch=function(e){var t,a,r=this.props,i=r.store,n=r.syncLocation,s=r.env,o=r.pageField,d=r.perPageField,p=r.parsePrimitiveQuery,c=this.getParseQueryOptions(this.props),h=e||{},u=h.query,f=h.resetQuery,y=h.replaceQuery,b=h.loadMore,v=h.resetPage;u=m(m({},u),ce((a=(t=u==null?void 0:u.__super)===null||t===void 0?void 0:t.diff)!==null&&a!==void 0?a:{},function(C){return C===void 0})),u=n?pe(re(u,void 0,!0)):u,p&&(u=fe(u,c)),i.updateQuery(f?m(m({},u),this.props.store.pristineQuery):u,n&&s&&s.updateLocation?function(C){return s.updateLocation(C,!0)}:void 0,o,d,y),v&&i.changePage(1),this.lastQuery=i.query,this.getData(void 0,void 0,void 0,b??!1)},l.prototype.handleStopAutoRefresh=function(){this.timer&&clearTimeout(this.timer),this.stopingAutoRefresh=!0},l.prototype.handleStartAutoRefresh=function(){this.stopingAutoRefresh=!1,this.reload()},l.prototype.reloadTarget=function(e,t){},l.prototype.closeTarget=function(e){},l.prototype.updateQuery=function(e){this.props.store},l.prototype.getData=function(e,t,a,r){var i,n,s;return a===void 0&&(a=!1),V(this,void 0,void 0,function(){var o,d,p,c,h,u,f,y,b,v,C,I,P,S,R,_,B,M,j,x,E;return G(this,function(L){switch(L.label){case 0:return o=this.props,d=o.store,p=o.api,c=o.messages,h=o.pageField,u=o.perPageField,f=o.interval,y=o.stopAutoRefreshWhen,b=o.silentPolling,o.syncLocation,v=o.syncResponse2Query,C=o.keepItemSelectionOnPageChange,I=o.stopAutoRefreshWhenModalIsOpen,P=o.pickerMode,o.env,S=o.loadType,R=o.loadDataOnce,_=o.source,B=o.columns,M=o.perPage,!r&&C&&t&&!P&&(d.setSelectedItems([]),d.setUnSelectedItems([])),clearTimeout(this.timer),this.lastQuery=d.query,j=r??S==="more",x=O(d.data,d.query),j&&M&&d.changePerPage(M),H(p,x)?[4,d.fetchInitData(p,x,{successMessage:c&&c.fetchSuccess,errorMessage:c&&c.fetchFailed,autoAppend:!0,forceReload:a,loadDataOnce:R,source:_,silent:e,pageField:h,perPageField:u,loadDataMode:j,syncResponse2Query:v,columns:(i=d.columns)!==null&&i!==void 0?i:B,isTable2:!0})]:[3,2];case 1:return E=L.sent(),E!=null&&E.ok&&f&&!this.stopingAutoRefresh&&this.mounted&&(!y||!(y&&Re(y,O(d.data,d.query))))&&(!I||!d.dialogOpen&&!(!((n=d==null?void 0:d.parentStore)===null||n===void 0)&&n.dialogOpen))&&(this.timer=setTimeout(this.getData.bind(this,b,void 0,!0),Math.max(f,1e3))),[3,3];case 2:_&&d.initFromScope(x,_,{columns:(s=d.columns)!==null&&s!==void 0?s:B}),L.label=3;case 3:return[2,d.data]}})})},l.prototype.handleChangePage=function(e,t){var a,r=this.props,i=r.store,n=r.syncLocation,s=r.env,o=r.pageField,d=r.perPageField,p=r.autoJumpToTopOnPagerChange,c=(a={},a[o||"page"]=e,a);if(t&&(c[d||"perPage"]=t),i.updateQuery(c,n&&(s!=null&&s.updateLocation)?s.updateLocation:void 0,o,d),i.changePage(e,t),this.getData(),p&&this.control){he.findDOMNode(this.control).scrollIntoView();var h=window.scrollY;h&&window.scroll(0,h)}},l.prototype.handleSave=function(e,t,a,r,i,n){var s=this,o=this.props,d=o.store,p=o.quickSaveApi,c=o.quickSaveItemApi,h=o.primaryField,u=o.env,f=o.messages,y=o.reload;if(Array.isArray(e)){if(!H(p)){u&&u.alert("CRUD quickSaveApi is required");return}var b=O(d.data,{rows:e,rowsDiff:t,indexes:a,rowsOrigin:i});e.length&&e[0].hasOwnProperty(h||"id")&&(b.ids=e.map(function(I){return I[h||"id"]}).join(",")),r&&(b.unModifiedItems=r),d.saveRemote(p,b,{successMessage:f&&f.saveFailed,errorMessage:f&&f.saveSuccess}).then(function(){y&&s.reloadTarget(z(y,b),b),s.getData(void 0,void 0,!0)}).catch(function(){})}else{if(!H(c)){u&&u.alert("CRUD quickSaveItemApi is required!");return}var v=O(d.data,{item:e,modified:t,origin:i}),C=O(v,e);d.saveRemote(c,C).then(function(){y&&s.reloadTarget(z(y,v),v),s.getData(void 0,void 0,!0)}).catch(function(){n!=null&&n.resetOnFailed&&s.control.reset()})}},l.prototype.handleSaveOrder=function(e,t){var a=this,r=this.props,i=r.store,n=r.saveOrderApi,s=r.orderField,o=r.primaryField,d=r.env,p=r.reload;if(!n){d&&d.alert("CRUD saveOrderApi is required!");return}var c=O(i.data),h,u,f=[],y=o&&t[0]&&t[0].hasOwnProperty(o);if(y||(c.idMap={}),c.insertAfter={},t.forEach(function(P){if(~e.indexOf(P))if(h){var S=y?h[o]:t.indexOf(h);c.insertAfter[S]=c.insertAfter[S]||[],y||(c.idMap[S]=h),c.insertAfter[S].push(y?P[o]:P)}else f.push(P);else h=P,u=u||P}),u&&f.length){var b=y?u[o]:t.indexOf(u);y||(c.idMap[b]=u),c.insertBefore={},c.insertBefore[b]=f.map(function(P){return y?P[o]:P})}else if(f.length){var v=f[0],C=y?v[o]:t.indexOf(v);y||(c.idMap[C]=v),c.insertAfter[C]=f.slice(1).map(function(P){return y?P[o]:P})}if(s){var I=(i.page-1)*i.perPage||0;t=t.map(function(P,S){var R;return ge(P,(R={},R[s]=I+S+1,R))})}c.rows=t.concat(),y&&(c.ids=t.map(function(P){return P[o]}).join(",")),y&&s&&(c.order=t.map(function(P){return ye(P,[o,s])})),H(n,c)&&i.saveRemote(n,c).then(function(){p&&a.reloadTarget(z(p,c),c),a.getData(void 0,void 0,!0)}).catch(function(){})},l.prototype.handleSelect=function(e,t){var a=this.props,r=a.store,i=a.keepItemSelectionOnPageChange,n=a.primaryField,s=a.multiple,o=a.pickerMode,d=a.onSelect,p=e,c=t;if(Z(r.selectedItemsAsArray,p)){if(i&&r.selectedItems.length){var h=r.selectedItems.concat(),u=r.unSelectedItems.concat();e.forEach(function(f){var y=W(h,function(v){return v===f||v[n||"id"]&&v[n||"id"]==f[n||"id"]});~y?h[y]=f:h.push(f);var b=W(u,function(v){return v===f||v[n||"id"]&&v[n||"id"]==f[n||"id"]});~b&&u.splice(b,1)}),t.forEach(function(f){var y=W(u,function(v){return v===f||v[n||"id"]&&v[n||"id"]==f[n||"id"]}),b=W(h,function(v){return v===f||v[n||"id"]&&v[n||"id"]==f[n||"id"]});~y?u[y]=f:u.push(f),!~y&&~b&&h.splice(b,1)}),p=h,c=u}o&&s===!1&&p.length>1&&c.push.apply(c,p.splice(0,p.length-1)),r.setSelectedItems(p),r.setUnSelectedItems(c),d&&d(p)}},l.prototype.handleQuerySearch=function(e,t){var a;t===void 0&&(t=!1);var r=this.props,i=r.store,n=r.syncLocation,s=r.env,o=r.pageField,d=r.perPageField;return i.updateQuery(m(m({},e),(a={},a[o||"page"]=1,a)),n&&s&&s.updateLocation?s.updateLocation:void 0,o,d),this.getData(void 0,void 0,t)},l.prototype.reload=function(e,t){return t?this.receive(t):this.getData(void 0,void 0,!0)},l.prototype.receive=function(e){return this.handleQuerySearch(e,!0)},l.prototype.doAction=function(e,t,a){if(e.actionType&&["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(e.actionType))return this["handle".concat(ve(e.actionType))](t)},l.prototype.handleAction=function(e,t,a,r,i){return r===void 0&&(r=!1),["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(t.actionType)?this.doAction(t,a,r):this.props.onAction(e,t,a,r,i||this.context)},l.prototype.unSelectItem=function(e,t){var a=this.props.store,r=a.selectedItems.concat(),i=a.unSelectedItems.concat(),n=r.indexOf(e);~n&&i.push.apply(i,r.splice(n,1)),a.setSelectedItems(r),a.setUnSelectedItems(i)},l.prototype.clearSelection=function(){var e=this.props.store,t=e.selectedItems.concat(),a=e.unSelectedItems.concat();e.setSelectedItems([]),e.setUnSelectedItems(a.concat(t))},l.prototype.toggleAllColumns=function(e){var t=this.props.store;t.updateColumns(t.columns.map(function(a){return m(m({},a),{toggled:e})}))},l.prototype.toggleToggle=function(e){var t=this.props.store,a=t.columns[e],r=a.toggled;t.updateColumns(t.columns.map(function(i,n){return m(m({},i),{toggled:e===n?!r:i.toggled!==!1})}))},l.prototype.handlePullRefresh=function(){return V(this,void 0,void 0,function(){var e,t,a,r;return G(this,function(i){switch(i.label){case 0:return e=this.props,t=e.dispatchEvent,a=e.data,[4,t("pullRefresh",a)];case 1:return r=i.sent(),r!=null&&r.prevented?[2]:(this.handleLoadMore(),[2])}})})},l.prototype.renderChild=function(e,t,a){a===void 0&&(a={});var r=this.props,i=r.render,n=r.store,s=r.primaryField,o=s===void 0?"id":s,d,p=n.selectedItems,c=n.unSelectedItems,h=n.items;/^filter/.test(e)?d=O(O(n.filterData,n.getData(this.props.data)),{}):d=O(n.mergedData,{items:h.concat(),selectedItems:p.concat(),unSelectedItems:c.concat(),ids:p.map(function(f){return f.hasOwnProperty(o)?f[o]:null}).filter(function(f){return f}).join(",")});var u={activePage:n.page,lastPage:n.lastPage,perPage:n.perPage,total:n.total,onPageChange:this.handleChangePage,cols:n.columns,toggleAllColumns:this.toggleAllColumns,toggleToggle:this.toggleToggle,onQuery:this.handleQuerySearch};return t.type,i(e,t,m(m({data:d},a),u))},l.prototype.renderToolbar=function(e,t){var a=this;return t?(t=[].concat(t),t.map(function(r,i){return a.renderChild("".concat(e,"/").concat(i),r,{key:i+""})})):null},l.prototype.renderFilter=function(e){var t=this;if(!e||Array.isArray(e)&&e.length===0)return null;var a=Array.isArray(e)?e:ee(e)&&e.type!=null?[e]:[];return a.length<1?null:a.map(function(r,i){return t.renderChild("filter/".concat(i),r,m({key:i+"filter",data:t.props.store.filterData,onSubmit:function(n){return t.handleSearch({query:n,resetPage:!0})},onReset:function(n){var s={};Object.keys(n).forEach(function(o){return s[o]=""}),t.handleSearch({query:s,resetQuery:!0,replaceQuery:!0,resetPage:!0})}},t.props.mobileUI?{columnCount:1,mode:"normal",collapsible:!0,title:{type:"container",body:[{type:"icon",icon:"column-filter",className:"icon mr-2"},r.title||""]}}:{}))})},l.prototype.renderSelection=function(){var e=this,t=this.props,a=t.store,r=t.classnames,i=t.labelField,n=t.labelTpl,s=t.primaryField,o=t.translate,d=t.env;return a.selectedItems.length?F.createElement("div",{className:r("Crud-selection")},F.createElement("div",{className:r("Crud-selectionLabel")},o("CRUD.selected",{total:a.selectedItems.length})),a.selectedItems.map(function(p,c){return F.createElement("div",{key:c,className:r("Crud-value")},F.createElement("span",{"data-tooltip":o("delete"),"data-position":"bottom",className:r("Crud-valueIcon"),onClick:e.unSelectItem.bind(e,p,c)},"×"),F.createElement("span",{className:r("Crud-valueLabel")},n?F.createElement(me,{html:be(n,p),filterHtml:d.filterHtml}):te(p,i||"label")||te(p,s||"id")))}),F.createElement("a",{onClick:this.clearSelection.bind(this),className:r("Crud-selectionClear")},o("clear"))):null},l.prototype.transformTable2cards=function(){for(var e,t=this.props,a=t.store,r=t.columns,i=t.card,n=t.mobileMode,s=[],o=n.fieldCount||4,d=[],p="",c=((e=a.columns)!==null&&e!==void 0?e:r)||[],h=0;h<c.length;h++){var u=c[h];if(Pe(u))if(u.type==="operation")d.push.apply(d,Fe([],Se((u==null?void 0:u.buttons)||[]),!1));else if(u.type==="button"&&u.name==="operation")d.push(u);else{if(!u.label&&u.title&&(u.label=u.title),u.type==="static-image"&&!p){p="${".concat(u.name,"}");continue}s.length<o&&(u.type==="static-image"&&u.title&&delete u.title,s.push(u))}}return s.length?{columnsCount:1,type:"cards",card:m(m(m({},i),{body:s,actions:d}),p?{media:{type:"image",url:p,position:"right",className:""},mediaActionPosition:"outside"}:{})}:null},l.prototype.transMobileHeaderToolbar=function(e,t){var a=0,r={},i={},n=null;function s(o,d){Array.isArray(o)?o.forEach(function(p){return s(p,d)}):o&&typeof o=="object"&&(o.type==="button"?(a++,o.label==="新增"&&(r=o,i=d)):o.type==="search-box"&&(n=o),(o.items||o.body)&&s(o.items||o.body,o))}e.forEach(function(o){s(o)}),a===1&&r&&(r.label="",r.icon="plus",r.className||(r.className=""),r.className+=" is-fixed-right-bottom",i&&(i.className||(i.className=""),i.className+=" is-fixed-right-bottom-wrapper")),n&&(a===0||a===1&&r)&&Ie(this.props.filterSchema)&&t()},l.prototype.render=function(){var e=this.props,t=e.columns,a=e.className,r=e.style,i=e.bodyClassName,n=e.filter,s=e.render,o=e.store,d=e.mode,p=d===void 0?"table2":d;e.syncLocation,e.children,e.bulkActions;var c=e.pickerMode,h=e.selectable,u=e.multiple;e.valueField;var f=e.primaryField;e.value,e.hideQuickSaveBtn;var y=e.itemActions,b=e.classnames,v=e.keepItemSelectionOnPageChange,C=e.maxKeepItemSelectionLength,I=e.onEvent;e.onAction;var P=e.popOverContainer,S=e.translate;e.onQuery;var R=e.autoGenerateFilter;e.onSelect;var _=e.autoFillHeight,B=e.showSelection,M=e.headerToolbar,j=e.footerToolbar;e.columnsTogglable;var x=e.headerToolbarClassName,E=e.footerToolbarClassName,L=e.id,k=e.testIdBuilder,N=e.mobileMode,K=e.mobileUI,w=e.pullRefresh,oe=Ce(e,["columns","className","style","bodyClassName","filter","render","store","mode","syncLocation","children","bulkActions","pickerMode","selectable","multiple","valueField","primaryField","value","hideQuickSaveBtn","itemActions","classnames","keepItemSelectionOnPageChange","maxKeepItemSelectionLength","onEvent","onAction","popOverContainer","translate","onQuery","autoGenerateFilter","onSelect","autoFillHeight","showSelection","headerToolbar","footerToolbar","columnsTogglable","headerToolbarClassName","footerToolbarClassName","id","testIdBuilder","mobileMode","mobileUI","pullRefresh"]),U,X=!1,D=null;if(N&&K&&p.includes("table")){var q=this.transformTable2cards();typeof N=="string"&&N==="cards"?q&&(D=q):typeof N=="object"&&(D=m(m(m({},q),N),{card:m(m({},q==null?void 0:q.card),N.card)})),D&&this.transMobileHeaderToolbar(M,function(){X=!0}),D&&!(w!=null&&w.disabled)&&(U=m(m({normalText:S("pullRefresh.crud2NormalText"),pullingText:S("pullRefresh.crud2PullingText"),loosingText:S("pullRefresh.crud2LoosingText")},w),{disabled:!1}))}else U=w;var Y=s("body",m(m(m({},oe),{onEvent:De(I,function(_e,ne){return!ke.includes(ne)}),type:p,columns:p.startsWith("table")?o.columns||t:void 0,id:L}),D),{key:"body",className:b("Crud2-body",i),ref:this.controlRef,autoGenerateFilter:!n&&R,autoFillHeight:_,checkAll:!1,selectable:!!(h??c),itemActions:y,multiple:u,columnsTogglable:!1,selected:c||v?o.selectedItemsAsArray:void 0,keepItemSelectionOnPageChange:v,maxKeepItemSelectionLength:C,primaryField:f,testIdBuilder:k,items:o.data.items,query:o.query,orderBy:o.query.orderBy,orderDir:o.query.orderDir,popOverContainer:P,onSave:this.handleSave.bind(this),onSaveOrder:this.handleSaveOrder,onSearch:this.handleQuerySearch,onSort:this.handleQuerySearch,onSelect:this.handleSelect,onAction:this.handleAction,data:o.mergedData,loading:o.loading,host:this});return F.createElement("div",m({className:b("Crud2",a,{"is-loading":o.loading,"is-mobile":K,"is-mobile-cards":N==="cards"||(D==null?void 0:D.type)==="cards"}),style:r,"data-id":L,"data-role":"container"},k==null?void 0:k.getTestId()),F.createElement("div",m({className:b("Crud2-filter")},k==null?void 0:k.getChild("filter").getTestId()),this.renderFilter(n)),F.createElement("div",{className:b("Crud2-toolbar","Crud2-header-toolbar",x,{"is-sticky":X})},this.renderToolbar("headerToolbar",M)),B&&v&&u!==!1?this.renderSelection():null,K&&U&&!U.disabled?F.createElement(Te,m({},U,{translate:S,onRefresh:this.handlePullRefresh,direction:"up",loading:o.loading,completed:!o.loading&&o.lastPage>0&&o.page>=o.lastPage,completedText:o.total>0?void 0:""}),Y):F.createElement(F.Fragment,null,Y,F.createElement("div",{className:b("Crud2-toolbar","Crud2-footer-toolbar",E)},this.renderToolbar("footerToolbar",j))))},l.propsList=["mode","syncLocation","value","multiple","valueField","pageField","perPageField","hideQuickSaveBtn","autoJumpToTopOnPagerChange","interval","silentPolling","stopAutoRefreshWhen","stopAutoRefreshWhenModalIsOpen","api","headerToolbar","footerToolbar","autoGenerateFilter","syncResponse2Query","keepItemSelectionOnPageChange","source","onChange","onInit","onSaved","onQuery","autoFillHeight","showSelection","headerToolbarClassName","footerToolbarClassName","primaryField","parsePrimitiveQuery"],l.defaultProps={toolbarInline:!0,syncLocation:!0,hideQuickSaveBtn:!1,autoJumpToTopOnPagerChange:!0,silentPolling:!1,autoFillHeight:!1,showSelection:!0,primaryField:"id",parsePrimitiveQuery:!0},T([A,g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",void 0)],l.prototype,"getPaginationPerPage",null),T([A,g("design:type",Function),g("design:paramtypes",[Object]),g("design:returntype",void 0)],l.prototype,"controlRef",null),T([A,g("design:type",Function),g("design:paramtypes",[Number,Number]),g("design:returntype",void 0)],l.prototype,"handleChangePage",null),T([A,g("design:type",Function),g("design:paramtypes",[Array,Array]),g("design:returntype",void 0)],l.prototype,"handleSaveOrder",null),T([A,g("design:type",Function),g("design:paramtypes",[Array,Array]),g("design:returntype",void 0)],l.prototype,"handleSelect",null),T([A,g("design:type",Function),g("design:paramtypes",[Object,Boolean]),g("design:returntype",void 0)],l.prototype,"handleQuerySearch",null),T([A,g("design:type",Function),g("design:paramtypes",[Object,Object,Boolean]),g("design:returntype",void 0)],l.prototype,"doAction",null),T([A,g("design:type",Function),g("design:paramtypes",[Object,Object,Object,Boolean,Object]),g("design:returntype",void 0)],l.prototype,"handleAction",null),T([A,g("design:type",Function),g("design:paramtypes",[Boolean]),g("design:returntype",void 0)],l.prototype,"toggleAllColumns",null),T([A,g("design:type",Function),g("design:paramtypes",[Number]),g("design:returntype",void 0)],l.prototype,"toggleToggle",null),T([A,g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",Promise)],l.prototype,"handlePullRefresh",null),T([A,g("design:type",Function),g("design:paramtypes",[String,Object,Object]),g("design:returntype",void 0)],l.prototype,"renderChild",null),l}(F.Component),Ee=function(Q){ae(l,Q);function l(e,t){var a=Q.call(this,e)||this,r=t;return r.registerComponent(a),a}return l.prototype.componentWillUnmount=function(){Q.prototype.componentWillUnmount.call(this);var e=this.context;e.unRegisterComponent(this)},l.prototype.reload=function(e,t,a){return V(this,void 0,void 0,function(){var r;return G(this,function(i){return r=this.context,e?[2,r.reload(t?"".concat(e,"?").concat(re(t)):e,a)]:[2,Q.prototype.reload.call(this,e,t)]})})},l.prototype.receive=function(e,t){return V(this,void 0,void 0,function(){var a;return G(this,function(r){return a=this.context,t?[2,a.send(t,e)]:[2,Q.prototype.receive.call(this,e)]})})},l.prototype.reloadTarget=function(e,t){var a=this.context;a.reload(e,t)},l.prototype.closeTarget=function(e){var t=this.context;t.close(e)},l.contextType=Ae,l=T([Oe({type:"crud2",storeType:Qe.name,isolateScope:!0}),g("design:paramtypes",[Object,Object])],l),l}(Ne);export{Ee as CRUD2Renderer,Ne as default};
