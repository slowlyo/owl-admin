import{t as X,at as $,aq as z,aX as te,av as se,W as le,w as de,x as ue,aY as ce,aw as ae,z as m,az as pe,aA as he,aB as oe,aC as fe,G,H as V,ax as ge,Y as W,a4 as Q,aD as Y,aI as ve,aJ as ye,aZ as J,a_ as me,l as P,J as be,L as Te,am as re,aE as Pe,a$ as Fe,aK as Ce,v as Se,b0 as Ae,D as C,Q as S,T as f,U as Oe,E as Ie,aR as Re,b1 as Qe,aL as De}from"./index-CG72qQQo.js";import{o as xe}from"./omitBy-J6yLs1x7.js";var ke=["selectedChange","columnSort","columnFilter","columnSearch","columnToggled","orderChange","rowClick","rowDbClick","rowMouseEnter","rowMouseLeave","selected"],Ne=function(A){X(l,A);function l(t){var e=A.call(this,t)||this;e.stopingAutoRefresh=!1;var a=t.location,r=t.store,s=t.syncLocation,n=t.pageField,d=t.perPageField;t.parsePrimitiveQuery;var o=e.getParseQueryOptions(t);e.mounted=!0,s&&a&&(a.query||a.search)?r.updateQuery($(a,o),void 0,n,d):s&&!a&&window.location.search&&r.updateQuery($(window.location,o),void 0,n,d),e.props.api&&e.props.store.updateData({items:[]});var i=t.mode,p=t.columns;return i==="table2"&&p&&r.updateColumns(p),e}return l.prototype.componentDidMount=function(){var t=this.props,e=t.store,a=t.pickerMode,r=t.loadType,s=t.loadDataOnce,n=t.maxLoadNum,d=r&&!s;if(d){var o=r==="more"?this.props.perPage||10:this.getPaginationPerPage();e.changePage(e.page,o)}else r||e.changePage(1,n||500);if(this.initQuery({}),a){var i=z(this.props);i&&e.setSelectedItems(i)}},l.prototype.componentDidUpdate=function(t){var e,a=this.props,r=t.store;a.parsePrimitiveQuery,t.columns!==a.columns&&r.updateColumns(a.columns);var s;this.props.pickerMode&&te(s=z(this.props),z(t))&&r.setSelectedItems(s);var n=!1;if(t.syncLocation&&t.location&&t.location.search!==a.location.search&&(r.updateQuery($(a.location,this.getParseQueryOptions(a)),void 0,a.pageField,a.perPageField),n=!!(a.api&&se(r.query,this.lastQuery,!1))),!n){if(t.api&&a.api&&le(t.api,a.api,r.fetchCtxOf(t.data,{pageField:t.pageField,perPageField:t.perPageField}),r.fetchCtxOf(a.data,{pageField:a.pageField,perPageField:a.perPageField})))n=!0;else if(!a.api&&de(a.source)){var d=ue(a.source,a.data,"| raw");(!this.lastData||this.lastData!==d)&&(r.initFromScope(a.data,a.source,{columns:(e=r.columns)!==null&&e!==void 0?e:a.columns}),this.lastData=d)}}n&&this.getData()},l.prototype.componentWillUnmount=function(){this.mounted=!1,clearTimeout(this.timer)},l.prototype.getPaginationPerPage=function(){var t=10,e=this.props,a=e.headerToolbar,r=e.footerToolbar;return ce({headerToolbar:a,footerToolbar:r},function(s,n,d){n==="type"&&s==="pagination"&&!isNaN(d==null?void 0:d.perPage)&&(t=+d.perPage)}),t},l.prototype.getParseQueryOptions=function(t){var e,a=t.parsePrimitiveQuery,r={parsePrimitive:!!(ae(a)?a!=null&&a.enable:a),primitiveTypes:(e=a==null?void 0:a.types)!==null&&e!==void 0?e:["boolean"]};return r},l.prototype.controlRef=function(t){for(;t&&t.getWrappedInstance;)t=t.getWrappedInstance();this.control=t},l.prototype.initQuery=function(t){var e=this.props,a=e.store,r=e.orderBy,s=e.orderDir,n=e.loadType,d={};r&&(d.orderBy=r,d.orderDir=s||"asc"),this.handleSearch({query:m(m(m({},d),t),a.query),replaceQuery:this.props.initFetch!==!1,loadMore:n==="more",resetPage:!1}),a.setPristineQuery()},l.prototype.handleLoadMore=function(){var t=this.props,e=t.store,a=t.perPage,r=a===void 0?10:a;e.changePage(e.page+1,r),this.getData(void 0,void 0,void 0,!0)},l.prototype.handleSearch=function(t){var e,a,r=this.props,s=r.store,n=r.syncLocation,d=r.env,o=r.pageField,i=r.perPageField,p=r.parsePrimitiveQuery,c=this.getParseQueryOptions(this.props),g=t||{},u=g.query,h=g.resetQuery,y=g.replaceQuery,b=g.loadMore,v=g.resetPage;u=m(m({},u),pe((a=(e=u==null?void 0:u.__super)===null||e===void 0?void 0:e.diff)!==null&&a!==void 0?a:{},function(F){return F===void 0})),u=n?he(oe(u,void 0,!0)):u,p&&(u=fe(u,c)),s.updateQuery(h?m(m({},u),this.props.store.pristineQuery):u,n&&d&&d.updateLocation?function(F){return d.updateLocation(F,!0)}:void 0,o,i,y),v&&s.changePage(1),this.lastQuery=s.query,this.getData(void 0,void 0,void 0,b??!1)},l.prototype.handleStopAutoRefresh=function(){this.timer&&clearTimeout(this.timer),this.stopingAutoRefresh=!0},l.prototype.handleStartAutoRefresh=function(){this.stopingAutoRefresh=!1,this.reload()},l.prototype.reloadTarget=function(t,e){},l.prototype.closeTarget=function(t){},l.prototype.updateQuery=function(t){this.props.store},l.prototype.getData=function(t,e,a,r){var s,n,d;return a===void 0&&(a=!1),G(this,void 0,void 0,function(){var o,i,p,c,g,u,h,y,b,v,F,D,T,O,I,_,j,w,R,U,M,E;return V(this,function(L){switch(L.label){case 0:return o=this.props,i=o.store,p=o.api,c=o.messages,g=o.pageField,u=o.perPageField,h=o.interval,y=o.stopAutoRefreshWhen,b=o.silentPolling,o.syncLocation,v=o.syncResponse2Query,F=o.keepItemSelectionOnPageChange,D=o.stopAutoRefreshWhenModalIsOpen,T=o.pickerMode,o.env,O=o.loadType,I=o.loadDataOnce,_=o.source,j=o.columns,w=o.perPage,R=o.pullRefresh,!r&&F&&e&&!T&&(i.setSelectedItems([]),i.setUnSelectedItems([])),clearTimeout(this.timer),this.lastQuery=i.query,U=r??O==="more",M=Q(i.data,i.query),U&&w&&i.changePerPage(w),W(p,M)?[4,i.fetchInitData(p,M,{successMessage:c&&c.fetchSuccess,errorMessage:c&&c.fetchFailed,autoAppend:!0,forceReload:a,loadDataOnce:I,source:_,silent:t,pageField:g,perPageField:u,loadDataMode:U,dataAppendTo:(R==null?void 0:R.dataAppendTo)||"bottom",syncResponse2Query:v,columns:(s=i.columns)!==null&&s!==void 0?s:j,isTable2:!0,minLoadingTime:R==null?void 0:R.minLoadingTime})]:[3,2];case 1:return E=L.sent(),E!=null&&E.ok&&h&&!this.stopingAutoRefresh&&this.mounted&&(!y||!(y&&De(y,Q(i.data,i.query))))&&(!D||!i.dialogOpen&&!(!((n=i==null?void 0:i.parentStore)===null||n===void 0)&&n.dialogOpen))&&(this.timer=setTimeout(this.getData.bind(this,b,void 0,!0),Math.max(h,1e3))),[3,3];case 2:_&&i.initFromScope(M,_,{columns:(d=i.columns)!==null&&d!==void 0?d:j}),L.label=3;case 3:return[2,i.data]}})})},l.prototype.handleChangePage=function(t,e){var a,r=this.props,s=r.store,n=r.syncLocation,d=r.env,o=r.pageField,i=r.perPageField,p=r.autoJumpToTopOnPagerChange,c=(a={},a[o||"page"]=t,a);if(e&&(c[i||"perPage"]=e),s.updateQuery(c,n&&(d!=null&&d.updateLocation)?d.updateLocation:void 0,o,i),s.changePage(t,e),this.getData(),p&&this.control){ge.findDOMNode(this.control).scrollIntoView();var g=window.scrollY;g&&window.scroll(0,g)}},l.prototype.handleSave=function(t,e,a,r,s,n){var d=this,o=this.props,i=o.store,p=o.quickSaveApi,c=o.quickSaveItemApi,g=o.primaryField,u=o.env,h=o.messages,y=o.reload;if(Array.isArray(t)){if(!W(p)){u&&u.alert("CRUD quickSaveApi is required");return}var b=Q(i.data,{rows:t,rowsDiff:e,indexes:a,rowsOrigin:s});t.length&&t[0].hasOwnProperty(g||"id")&&(b.ids=t.map(function(D){return D[g||"id"]}).join(",")),r&&(b.unModifiedItems=r),i.saveRemote(p,b,{successMessage:h&&h.saveFailed,errorMessage:h&&h.saveSuccess}).then(function(){y&&d.reloadTarget(Y(y,b),b),d.getData(void 0,void 0,!0)}).catch(function(){})}else{if(!W(c)){u&&u.alert("CRUD quickSaveItemApi is required!");return}var v=Q(i.data,{item:t,modified:e,origin:s}),F=Q(v,t);i.saveRemote(c,F).then(function(){y&&d.reloadTarget(Y(y,v),v),d.getData(void 0,void 0,!0)}).catch(function(){n!=null&&n.resetOnFailed&&d.control.reset()})}},l.prototype.handleSaveOrder=function(t,e){var a=this,r=this.props,s=r.store,n=r.saveOrderApi,d=r.orderField,o=r.primaryField,i=r.env,p=r.reload;if(!n){i&&i.alert("CRUD saveOrderApi is required!");return}var c=Q(s.data),g,u,h=[],y=o&&e[0]&&e[0].hasOwnProperty(o);if(y||(c.idMap={}),c.insertAfter={},e.forEach(function(T){if(~t.indexOf(T))if(g){var O=y?g[o]:e.indexOf(g);c.insertAfter[O]=c.insertAfter[O]||[],y||(c.idMap[O]=g),c.insertAfter[O].push(y?T[o]:T)}else h.push(T);else g=T,u=u||T}),u&&h.length){var b=y?u[o]:e.indexOf(u);y||(c.idMap[b]=u),c.insertBefore={},c.insertBefore[b]=h.map(function(T){return y?T[o]:T})}else if(h.length){var v=h[0],F=y?v[o]:e.indexOf(v);y||(c.idMap[F]=v),c.insertAfter[F]=h.slice(1).map(function(T){return y?T[o]:T})}if(d){var D=(s.page-1)*s.perPage||0;e=e.map(function(T,O){var I;return ve(T,(I={},I[d]=D+O+1,I))})}c.rows=e.concat(),y&&(c.ids=e.map(function(T){return T[o]}).join(",")),y&&d&&(c.order=e.map(function(T){return ye(T,[o,d])})),W(n,c)&&s.saveRemote(n,c).then(function(){p&&a.reloadTarget(Y(p,c),c),a.getData(void 0,void 0,!0)}).catch(function(){})},l.prototype.handleSelect=function(t,e){var a=this.props,r=a.store,s=a.keepItemSelectionOnPageChange,n=a.primaryField,d=a.multiple,o=a.pickerMode,i=a.onSelect,p=t,c=e;if(te(r.selectedItemsAsArray,p)){if(s&&r.selectedItems.length){var g=r.selectedItems.concat(),u=r.unSelectedItems.concat();t.forEach(function(h){var y=J(g,function(v){return v===h||v[n||"id"]&&v[n||"id"]==h[n||"id"]});~y?g[y]=h:g.push(h);var b=J(u,function(v){return v===h||v[n||"id"]&&v[n||"id"]==h[n||"id"]});~b&&u.splice(b,1)}),e.forEach(function(h){var y=J(u,function(v){return v===h||v[n||"id"]&&v[n||"id"]==h[n||"id"]}),b=J(g,function(v){return v===h||v[n||"id"]&&v[n||"id"]==h[n||"id"]});~y?u[y]=h:u.push(h),!~y&&~b&&g.splice(b,1)}),p=g,c=u}o&&d===!1&&p.length>1&&c.push.apply(c,p.splice(0,p.length-1)),r.setSelectedItems(p),r.setUnSelectedItems(c),i&&i(p)}},l.prototype.handleQuerySearch=function(t,e){var a;e===void 0&&(e=!1);var r=this.props,s=r.store,n=r.syncLocation,d=r.env,o=r.pageField,i=r.perPageField;return s.updateQuery(m(m({},t),(a={},a[o||"page"]=1,a)),n&&d&&d.updateLocation?d.updateLocation:void 0,o,i),this.getData(void 0,void 0,e)},l.prototype.reload=function(t,e){return e?this.receive(e):this.getData(void 0,void 0,!0)},l.prototype.receive=function(t){return this.handleQuerySearch(t,!0)},l.prototype.doAction=function(t,e,a){if(t.actionType&&["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(t.actionType))return this["handle".concat(me(t.actionType))](e)},l.prototype.handleAction=function(t,e,a,r,s){return r===void 0&&(r=!1),["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(e.actionType)?this.doAction(e,a,r):this.props.onAction(t,e,a,r,s||this.context)},l.prototype.dispatchEvent=function(t,e,a,r){if(t==="selectedChange"&&this.control===a){var s=this.props.store;e.selectedItems=s.selectedItems.concat(),e.unSelectedItems=s.unSelectedItems.concat()}return this.props.dispatchEvent(t,e,a,r)},l.prototype.unSelectItem=function(t,e){var a=this.props.store,r=a.selectedItems.concat(),s=a.unSelectedItems.concat(),n=r.indexOf(t);~n&&s.push.apply(s,r.splice(n,1)),a.setSelectedItems(r),a.setUnSelectedItems(s)},l.prototype.clearSelection=function(){var t=this.props.store,e=t.selectedItems.concat(),a=t.unSelectedItems.concat();t.setSelectedItems([]),t.setUnSelectedItems(a.concat(e))},l.prototype.toggleAllColumns=function(t){var e=this.props.store;e.updateColumns(e.columns.map(function(a){return m(m({},a),{toggled:t})}))},l.prototype.toggleToggle=function(t){var e=this.props.store,a=e.columns[t],r=a.toggled;e.updateColumns(e.columns.map(function(s,n){return m(m({},s),{toggled:t===n?!r:s.toggled!==!1})}))},l.prototype.handlePullRefresh=function(){return G(this,void 0,void 0,function(){var t,e,a,r;return V(this,function(s){switch(s.label){case 0:return t=this.props,e=t.dispatchEvent,a=t.data,[4,e("pullRefresh",a)];case 1:return r=s.sent(),r!=null&&r.prevented?[2]:(this.handleLoadMore(),[2])}})})},l.prototype.renderChild=function(t,e,a){a===void 0&&(a={});var r=this.props,s=r.render,n=r.store,d=r.primaryField,o=d===void 0?"id":d,i,p=n.selectedItems,c=n.unSelectedItems,g=n.items;/^filter/.test(t)?i=Q(Q(n.filterData,n.getData(this.props.data)),{}):i=Q(n.mergedData,{items:g.concat(),selectedItems:p.concat(),unSelectedItems:c.concat(),ids:p.map(function(h){return h.hasOwnProperty(o)?h[o]:null}).filter(function(h){return h}).join(",")});var u={activePage:n.page,lastPage:n.lastPage,perPage:n.perPage,total:n.total,onPageChange:this.handleChangePage,cols:n.columns,toggleAllColumns:this.toggleAllColumns,toggleToggle:this.toggleToggle,onQuery:this.handleQuerySearch};return e.type,s(t,e,m(m({data:i},a),u))},l.prototype.renderToolbar=function(t,e){var a=this;return e?(e=[].concat(e),e.map(function(r,s){return a.renderChild("".concat(t,"/").concat(s),r,{key:s+""})})):null},l.prototype.renderFilter=function(t){var e=this;if(!t||Array.isArray(t)&&t.length===0)return null;var a=Array.isArray(t)?t:ae(t)&&t.type!=null?[t]:[];return a.length<1?null:a.map(function(r,s){return e.renderChild("filter/".concat(s),r,m({key:s+"filter",data:e.props.store.filterData,onSubmit:function(n){return e.handleSearch({query:n,resetPage:!0})},onReset:function(n){var d={};Object.keys(n).forEach(function(o){return d[o]=""}),e.handleSearch({query:d,resetQuery:!0,replaceQuery:!0,resetPage:!0})}},e.props.mobileUI?{columnCount:1,mode:"normal",collapsible:!0,title:{type:"container",body:[{type:"icon",icon:"column-filter",className:"icon mr-2"},r.title||""]}}:{}))})},l.prototype.renderSelection=function(){var t=this,e=this.props,a=e.store,r=e.classnames,s=e.labelField,n=e.labelTpl,d=e.primaryField,o=e.translate,i=e.env;return a.selectedItems.length?P.createElement("div",{className:r("Crud-selection")},P.createElement("div",{className:r("Crud-selectionLabel")},o("CRUD.selected",{total:a.selectedItems.length})),a.selectedItems.map(function(p,c){return P.createElement("div",{key:c,className:r("Crud-value")},P.createElement("span",{"data-tooltip":o("delete"),"data-position":"bottom",className:r("Crud-valueIcon"),onClick:t.unSelectItem.bind(t,p,c)},"×"),P.createElement("span",{className:r("Crud-valueLabel")},n?P.createElement(be,{html:Te(n,p),filterHtml:i.filterHtml}):re(p,s||"label")||re(p,d||"id")))}),P.createElement("a",{onClick:this.clearSelection.bind(this),className:r("Crud-selectionClear")},o("clear"))):null},l.prototype.transformTable2cards=function(){for(var t,e=this.props,a=e.store,r=e.columns,s=e.card,n=e.mobileMode,d=[],o=n.fieldCount||4,i=[],p="",c=((t=a.columns)!==null&&t!==void 0?t:r)||[],g=0;g<c.length;g++){var u=c[g];if(Pe(u))if(u.type==="operation")i.push.apply(i,Fe([],Ce((u==null?void 0:u.buttons)||[]),!1));else if(u.type==="button"&&u.name==="operation")i.push(u);else{if(!u.label&&u.title&&(u.label=u.title),u.type==="static-image"&&!p){p="${".concat(u.name,"}");continue}d.length<o&&(u.type==="static-image"&&u.title&&delete u.title,d.push(u))}}return d.length?{columnsCount:1,type:"cards",card:m(m(m({},s),{body:d,actions:i}),p?{media:{type:"image",url:p,position:"right",className:""},mediaActionPosition:"outside"}:{})}:null},l.prototype.transMobileHeaderToolbar=function(t,e){var a=0,r={},s={},n=null;function d(o,i){Array.isArray(o)?o.forEach(function(p){return d(p,i)}):o&&typeof o=="object"&&(o.type==="button"?(a++,o.label==="新增"&&(r=o,s=i)):o.type==="search-box"&&(n=o),(o.items||o.body)&&d(o.items||o.body,o))}t.forEach(function(o){d(o)}),a===1&&r&&(r.label="",r.icon="plus",r.className||(r.className=""),r.className+=" is-fixed-right-bottom",s&&(s.className||(s.className=""),s.className+=" is-fixed-right-bottom-wrapper")),n&&(a===0||a===1&&r)&&Qe(this.props.filterSchema)&&e()},l.prototype.render=function(){var t,e=this.props,a=e.columns,r=e.className,s=e.style,n=e.bodyClassName,d=e.filter,o=e.render,i=e.store,p=e.mode,c=p===void 0?"table2":p;e.syncLocation,e.children,e.bulkActions;var g=e.pickerMode,u=e.selectable,h=e.multiple;e.valueField;var y=e.primaryField;e.value,e.hideQuickSaveBtn;var b=e.itemActions,v=e.classnames,F=e.keepItemSelectionOnPageChange,D=e.maxKeepItemSelectionLength,T=e.onEvent;e.onAction;var O=e.popOverContainer,I=e.translate;e.onQuery;var _=e.autoGenerateFilter;e.onSelect;var j=e.autoFillHeight,w=e.showSelection,R=e.headerToolbar,U=e.footerToolbar;e.columnsTogglable;var M=e.headerToolbarClassName,E=e.footerToolbarClassName,L=e.id,k=e.testIdBuilder,N=e.mobileMode,K=e.mobileUI,H=e.pullRefresh,ne=Se(e,["columns","className","style","bodyClassName","filter","render","store","mode","syncLocation","children","bulkActions","pickerMode","selectable","multiple","valueField","primaryField","value","hideQuickSaveBtn","itemActions","classnames","keepItemSelectionOnPageChange","maxKeepItemSelectionLength","onEvent","onAction","popOverContainer","translate","onQuery","autoGenerateFilter","onSelect","autoFillHeight","showSelection","headerToolbar","footerToolbar","columnsTogglable","headerToolbarClassName","footerToolbarClassName","id","testIdBuilder","mobileMode","mobileUI","pullRefresh"]),B,Z=!1,x=null;if(N&&K&&c.includes("table")){var q=this.transformTable2cards();typeof N=="string"&&N==="cards"?q&&(x=q):typeof N=="object"&&(x=m(m(m({},q),N),{card:m(m({},q==null?void 0:q.card),N.card)})),x&&this.transMobileHeaderToolbar(R,function(){Z=!0}),x&&!(H!=null&&H.disabled)&&(B=m(m({normalText:I("pullRefresh.crud2NormalText"),pullingText:I("pullRefresh.crud2PullingText"),loosingText:I("pullRefresh.crud2LoosingText")},H),{disabled:!1}))}else B=H;var ee=o("body",m(m(m({},ne),{onEvent:xe(T,function(Me,ie){return!ke.includes(ie)}),type:c,columns:c.startsWith("table")?i.columns||a:void 0,id:L}),x),{key:"body",className:v("Crud2-body",n),ref:this.controlRef,autoGenerateFilter:!d&&_,autoFillHeight:j,checkAll:!1,selectable:!!(u??g),itemActions:b,multiple:h,columnsTogglable:!1,selected:g||F?i.selectedItemsAsArray:void 0,keepItemSelectionOnPageChange:F,maxKeepItemSelectionLength:D,primaryField:y,testIdBuilder:k,items:i.data.items,query:i.query,orderBy:i.query.orderBy,orderDir:i.query.orderDir,popOverContainer:O,onSave:this.handleSave.bind(this),onSaveOrder:this.handleSaveOrder,onSearch:this.handleQuerySearch,onSort:this.handleQuerySearch,onSelect:this.handleSelect,onAction:this.handleAction,dispatchEvent:this.dispatchEvent,data:i.mergedData,loading:i.loading,host:this});return P.createElement("div",m({className:v("Crud2",r,{"is-loading":i.loading,"is-mobile":K,"is-mobile-cards":N==="cards"||(x==null?void 0:x.type)==="cards"}),style:s,"data-id":L,"data-role":"container"},k==null?void 0:k.getTestId()),P.createElement("div",m({className:v("Crud2-filter")},k==null?void 0:k.getChild("filter").getTestId()),this.renderFilter(d)),P.createElement("div",{className:v("Crud2-toolbar","Crud2-header-toolbar",M,{"is-sticky":Z})},this.renderToolbar("headerToolbar",R)),w&&F&&h!==!1?this.renderSelection():null,K&&B&&!B.disabled?P.createElement(Ae,m({},B,{translate:I,onRefresh:this.handlePullRefresh,direction:(t=B.gestureDirection)!==null&&t!==void 0?t:"up",loading:i.loading,completed:!i.loading&&i.lastPage>0&&i.page>=i.lastPage,completedText:i.total>0?void 0:""}),ee):P.createElement(P.Fragment,null,ee,P.createElement("div",{className:v("Crud2-toolbar","Crud2-footer-toolbar",E)},this.renderToolbar("footerToolbar",U))))},l.propsList=["mode","syncLocation","value","multiple","valueField","pageField","perPageField","hideQuickSaveBtn","autoJumpToTopOnPagerChange","interval","silentPolling","stopAutoRefreshWhen","stopAutoRefreshWhenModalIsOpen","api","headerToolbar","footerToolbar","autoGenerateFilter","syncResponse2Query","keepItemSelectionOnPageChange","source","onChange","onInit","onSaved","onQuery","autoFillHeight","showSelection","headerToolbarClassName","footerToolbarClassName","primaryField","parsePrimitiveQuery","pullRefresh"],l.defaultProps={toolbarInline:!0,syncLocation:!0,hideQuickSaveBtn:!1,autoJumpToTopOnPagerChange:!0,silentPolling:!1,autoFillHeight:!1,showSelection:!0,primaryField:"id",parsePrimitiveQuery:!0,pullRefresh:{disabled:!1,showIcon:!0,showText:!0,iconType:"auto",color:"#777777",dataAppendTo:"bottom",gestureDirection:"up",minLoadingTime:0,contentText:{normalText:"点击加载更多",pullingText:"加载中...",loosingText:"释放立即刷新",loadingText:"加载中...",successText:"加载成功",completedText:"没有更多数据了"}}},C([S,f("design:type",Function),f("design:paramtypes",[]),f("design:returntype",void 0)],l.prototype,"getPaginationPerPage",null),C([S,f("design:type",Function),f("design:paramtypes",[Object]),f("design:returntype",void 0)],l.prototype,"controlRef",null),C([S,f("design:type",Function),f("design:paramtypes",[Number,Number]),f("design:returntype",void 0)],l.prototype,"handleChangePage",null),C([S,f("design:type",Function),f("design:paramtypes",[Array,Array]),f("design:returntype",void 0)],l.prototype,"handleSaveOrder",null),C([S,f("design:type",Function),f("design:paramtypes",[Array,Array]),f("design:returntype",void 0)],l.prototype,"handleSelect",null),C([S,f("design:type",Function),f("design:paramtypes",[Object,Boolean]),f("design:returntype",void 0)],l.prototype,"handleQuerySearch",null),C([S,f("design:type",Function),f("design:paramtypes",[Object,Object,Boolean]),f("design:returntype",void 0)],l.prototype,"doAction",null),C([S,f("design:type",Function),f("design:paramtypes",[Object,Object,Object,Boolean,Object]),f("design:returntype",void 0)],l.prototype,"handleAction",null),C([S,f("design:type",Function),f("design:paramtypes",[Object,Object,P.Component,Object]),f("design:returntype",void 0)],l.prototype,"dispatchEvent",null),C([S,f("design:type",Function),f("design:paramtypes",[Boolean]),f("design:returntype",void 0)],l.prototype,"toggleAllColumns",null),C([S,f("design:type",Function),f("design:paramtypes",[Number]),f("design:returntype",void 0)],l.prototype,"toggleToggle",null),C([S,f("design:type",Function),f("design:paramtypes",[]),f("design:returntype",Promise)],l.prototype,"handlePullRefresh",null),C([S,f("design:type",Function),f("design:paramtypes",[String,Object,Object]),f("design:returntype",void 0)],l.prototype,"renderChild",null),l}(P.Component),_e=function(A){X(l,A);function l(t,e){var a=A.call(this,t)||this,r=e;return r.registerComponent(a),a}return l.prototype.componentWillUnmount=function(){A.prototype.componentWillUnmount.call(this);var t=this.context;t.unRegisterComponent(this)},l.prototype.reload=function(t,e,a){return G(this,void 0,void 0,function(){var r;return V(this,function(s){return r=this.context,t?[2,r.reload(e?"".concat(t,"?").concat(oe(e)):t,a)]:[2,A.prototype.reload.call(this,t,e)]})})},l.prototype.receive=function(t,e){return G(this,void 0,void 0,function(){var a;return V(this,function(r){return a=this.context,e?[2,a.send(e,t)]:[2,A.prototype.receive.call(this,t)]})})},l.prototype.reloadTarget=function(t,e){var a=this.context;a.reload(t,e)},l.prototype.closeTarget=function(t){var e=this.context;e.close(t)},l.contextType=Oe,l}(Ne),Be=function(A){X(l,A);function l(){return A!==null&&A.apply(this,arguments)||this}return l=C([Ie({type:"crud2",storeType:Re.name,isolateScope:!0})],l),l}(_e);export{Be as CRUD2Renderer,_e as CRUD2RendererBase,Ne as default};
