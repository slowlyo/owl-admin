import{$o as e,Ao as t,Ci as n,Fo as r,Kn as i,Ko as a,Mo as o,Nn as s,No as c,Ya as l,_ as u,fr as d,qn as f,ui as p}from"./index-Z33w_AY6.js";var m=e(a()),h=e(p()),g=e(f()),_=function(e){c(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={isOpen:!1,inputValue:``,isFocused:!1,vendorIndex:0},t}return a.prototype.componentDidUpdate=function(e){var t=this.props;e.value!==t.value&&this.setState({inputValue:``})},a.prototype.changeVendor=function(e){this.setState({vendorIndex:e},this.formatOptions)},a.prototype.formatOptions=function(){var e=u[this.state.vendorIndex||0],t=e.prefix;return e.icons.map(function(e){return{label:t+e,value:t+e}})},a.prototype.getVendors=function(){return u.map(function(e){return e.name})},a.prototype.inputRef=function(e){this.input=e},a.prototype.focus=function(){if(this.input){this.input.focus();var e=this.input.value.length;e&&this.input.setSelectionRange(e,e)}},a.prototype.handleClick=function(){this.props.disabled||(this.focus(),this.setState({isOpen:!0}))},a.prototype.handleFocus=function(e){this.setState({isOpen:!0,isFocused:!0}),this.props.onFocus&&this.props.onFocus(e)},a.prototype.handleBlur=function(e){var t=this.props,n=t.onBlur,r=t.trimContents,i=t.value,a=t.onChange;this.setState({isFocused:!1},function(){r&&i&&typeof i==`string`&&a(i.trim())}),n&&n(e)},a.prototype.handleInputChange=function(e){var t=e.currentTarget.value;this.setState({inputValue:t})},a.prototype.handleKeyDown=function(e){if((0,g.default)(e.keyCode)===`backspace`){var t=this.props.onChange;this.state.inputValue||(t(``),this.setState({inputValue:``}))}},a.prototype.handleChange=function(e){var t=this.props,n=t.onChange;t.disabled||(n(e),this.setState({isFocused:!1,inputValue:``}))},a.prototype.handleStateChange=function(e){switch(e.type){case s.stateChangeTypes.itemMouseEnter:case s.stateChangeTypes.changeInput:this.setState({isOpen:!0});break;default:var t={};e.isOpen!==void 0&&(t.isOpen=e.isOpen),this.state.isOpen&&e.isOpen===!1&&(t.inputValue=``),this.setState(t);break}},a.prototype.handleClear=function(){var e=this,t=this.props,n=t.onChange,r=t.resetValue;n?.(r),this.setState({inputValue:r,isFocused:!0},function(){e.focus()})},a.prototype.renderFontIcons=function(){var e=this,n=this.props,r=n.className,a=n.inputOnly,o=n.placeholder,c=n.classnames,u=n.name,d=n.value,f=n.noDataTip,p=n.disabled,h=n.clearable,g=n.translate,_=this.formatOptions(),v=this.getVendors();return m.createElement(s,{isOpen:this.state.isOpen,inputValue:this.state.inputValue,onChange:this.handleChange,onOuterClick:this.handleBlur,onStateChange:this.handleStateChange,selectedItem:[d]},function(n){var s=n.getInputProps,y=n.getItemProps,b=n.isOpen,x=n.inputValue,S=x&&b?l(_,x,{keys:[`label`,`value`],threshold:l.rankings.CONTAINS}):_;return m.createElement(`div`,{className:c(`IconPickerControl-input IconPickerControl-input--withAC`,a?r:``,{"is-opened":b}),onClick:e.handleClick},m.createElement(`div`,{className:c(`IconPickerControl-valueWrap`)},o&&!d&&!e.state.inputValue?m.createElement(`div`,{className:c(`IconPickerControl-placeholder`)},o):null,!d||x&&b?null:m.createElement(`div`,{className:c(`IconPickerControl-value`)},m.createElement(`i`,{className:c(d)}),typeof d==`string`?d:``),m.createElement(`input`,t({},s({name:u,ref:e.inputRef,onFocus:e.handleFocus,onChange:e.handleInputChange,onKeyDown:e.handleKeyDown,value:e.state.inputValue}),{autoComplete:`off`,disabled:p,size:10})),h&&!p&&d?m.createElement(`a`,{onClick:e.handleClear,className:c(`IconPickerControl-clear`)},m.createElement(i,{icon:`input-clear`,className:`icon`})):null),b?m.createElement(`div`,{className:c(`IconPickerControl-sugsPanel`)},v.length>1?m.createElement(`div`,{className:c(`IconPickerControl-tabs`)},v.map(function(t,n){return m.createElement(`div`,{className:c(`IconPickerControl-tab`,{active:e.state.vendorIndex===n}),onClick:function(){return e.changeVendor(n)},key:n},t)})):null,S.length?m.createElement(`div`,{className:c(`IconPickerControl-sugs`,v.length>1?`IconPickerControl-multiVendor`:`IconPickerControl-singleVendor`)},S.map(function(e,n){return m.createElement(`div`,t({},y({item:e.value,className:c(`IconPickerControl-sugItem`,{"is-active":d===e.value})}),{key:n}),m.createElement(i,{className:c(`${e.value}`),title:`${e.value}`,icon:e.value}))})):m.createElement(`div`,{className:c(v.length>1?`IconPickerControl-multiVendor`:`IconPickerControl-singleVendor`)},g(f))):null)})},a.prototype.render=function(){var e=this.props,t=e.className;e.style;var n=e.classPrefix,r=e.inputOnly,i=e.disabled,a=this.renderFontIcons();return r?a:m.createElement(`div`,{className:(0,h.default)(t,`${n}IconPickerControl`,{"is-focused":this.state.isFocused,"is-disabled":i})},a)},a.defaultProps={resetValue:``,placeholder:``,noDataTip:`placeholder.noData`},o([n,r(`design:type`,Function),r(`design:paramtypes`,[Number]),r(`design:returntype`,void 0)],a.prototype,`changeVendor`,null),o([n,r(`design:type`,Function),r(`design:paramtypes`,[]),r(`design:returntype`,void 0)],a.prototype,`formatOptions`,null),o([n,r(`design:type`,Function),r(`design:paramtypes`,[]),r(`design:returntype`,void 0)],a.prototype,`getVendors`,null),o([n,r(`design:type`,Function),r(`design:paramtypes`,[Object]),r(`design:returntype`,void 0)],a.prototype,`inputRef`,null),o([n,r(`design:type`,Function),r(`design:paramtypes`,[]),r(`design:returntype`,void 0)],a.prototype,`focus`,null),o([n,r(`design:type`,Function),r(`design:paramtypes`,[]),r(`design:returntype`,void 0)],a.prototype,`handleClick`,null),o([n,r(`design:type`,Function),r(`design:paramtypes`,[Object]),r(`design:returntype`,void 0)],a.prototype,`handleFocus`,null),o([n,r(`design:type`,Function),r(`design:paramtypes`,[Object]),r(`design:returntype`,void 0)],a.prototype,`handleBlur`,null),o([n,r(`design:type`,Function),r(`design:paramtypes`,[Object]),r(`design:returntype`,void 0)],a.prototype,`handleInputChange`,null),o([n,r(`design:type`,Function),r(`design:paramtypes`,[Object]),r(`design:returntype`,void 0)],a.prototype,`handleKeyDown`,null),o([n,r(`design:type`,Function),r(`design:paramtypes`,[Object]),r(`design:returntype`,void 0)],a.prototype,`handleChange`,null),o([n,r(`design:type`,Function),r(`design:paramtypes`,[Object]),r(`design:returntype`,void 0)],a.prototype,`handleStateChange`,null),o([n,r(`design:type`,Function),r(`design:paramtypes`,[]),r(`design:returntype`,void 0)],a.prototype,`handleClear`,null),a}(m.PureComponent),v=function(e){c(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t=o([d({type:`icon-picker`})],t),t}(_);export{v as IconPickerControlRenderer,_ as default};