import{$i as e,$o as t,Ao as n,Io as r,Ko as i,Mo as a,No as o,Or as s,Ro as c,fr as l,xi as u}from"./index-Z33w_AY6.js";var d=t(i()),f=function(t){o(i,t);function i(e){var n=t.call(this,e)||this;return n.toDispose=[],n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.validateHook=n.validateHook.bind(n),n.state={isFocused:!1},n}return i.prototype.componentDidMount=function(){var e=this.props,t=e.addHook;e.name&&t&&this.toDispose.push(t(this.validateHook,`validate`))},i.prototype.componentDidUpdate=function(e){u([`errorCode`,`delimiter`],e?.validationConfig,this.props?.validationConfig)&&this.validateHook()},i.prototype.componentWillUnmount=function(){this.toDispose.forEach(function(e){return e()}),this.toDispose=[]},i.prototype.getValidationConfig=function(){var e=this.props.validationConfig;return{errorMode:e?.errorMode===`partial`?`partial`:`full`,delimiter:e?.delimiter&&typeof e.delimiter==`string`?e.delimiter:`; `}},i.prototype.validateHook=function(){var e=this.props,t=e.formStore,n=e.formItem,r=e.name,i=this.getValidationConfig().delimiter;if(r){var a=t?.inputGroupItems?.[r];if(Array.isArray(a)){var o=a.map(function(e,t){return e.errors.length<=0?``:`${e.label?`(${t+1})${e.label}`:`(${t+1})`}: ${e.errors.join(i)}`}).filter(Boolean);n&&n.setError(o)}}},i.prototype.handleFocus=function(){this.setState({isFocused:!0})},i.prototype.handleBlur=function(){this.setState({isFocused:!1})},i.prototype.renderControl=function(e,t,r){var i=this.props,a=i.render,o=i.onChange;if(!e)return null;var s=e;return a(`${t}`,s,n({onChange:o},r))},i.prototype.validate=function(){var e=this.props.formItem,t=[];return e?.subFormItems.forEach(function(e){e.errors.length&&t.push.apply(t,c([],r(e.errors),!1))}),t.length?t:``},i.prototype.render=function(){var t=this,n=this.props,r=n.body,i=n.controls,a=n.className;n.style;var o=n.mode,c=n.horizontal,l=n.formMode,u=n.formHorizontal,f=n.data,p=n.classnames,m=n.static,h=n.disabled,g=n.mobileUI,_=this.getValidationConfig().errorMode;l=o||l;var v=Array.isArray(i)?i:r;Array.isArray(v)||(v=[]),v=v.filter(function(e){if(e&&(e.hidden||e.visible===!1))return!1;var t=s(e||{},f);return!(t.hidden||t.visible===!1)});var y=c||(u?e(u,v.length):void 0);return d.createElement(`div`,{className:p(`InputGroup`,`InputGroup-validation--${_}`,a,{"is-focused":this.state.isFocused},{"is-mobile":g})},v.map(function(e,n){var r=~[`icon`,`plain`,`tpl`,`button`,`submit`,`reset`].indexOf(e&&e.type),i=t.renderControl(e,n,{formHorizontal:y,formMode:`normal`,inputOnly:!0,inputGroupControl:{name:t.props.name,path:t.props.$path,schema:t.props.$schema},key:n,static:m,disabled:h,onFocus:t.handleFocus,onBlur:t.handleBlur});return r?d.createElement(`span`,{key:n,className:p(e.addOnclassName,~[`button`,`submit`,`reset`].indexOf(e&&e.type)?`InputGroup-btn`:`InputGroup-addOn`)},i):i}))},i.defaultProps={validationConfig:{errorMode:`full`,delimiter:`; `}},i}(d.Component),p=function(e){o(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t=a([l({type:`input-group`,strictMode:!1})],t),t}(f);export{f as InputGroup,p as default};