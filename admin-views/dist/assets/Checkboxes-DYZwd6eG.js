import{$o as e,Ao as t,Ci as n,Do as r,Fi as i,Fo as a,Hn as o,Ia as s,In as c,J as l,Kn as u,Ko as d,Mo as f,No as p,Oa as m,Oo as h,Pi as g,Ui as _,Un as v,Wa as y,dr as b,qo as x,ur as S,vr as C,xr as w}from"./index-Z33w_AY6.js";var T=x(((e,t)=>{var n=Math.max,r=Math.min;function i(e,t,i){return e>=r(t,i)&&e<n(t,i)}t.exports=i})),E=x(((e,t)=>{var n=T(),r=y(),i=h();function a(e,t,a){return t=r(t),a===void 0?(a=t,t=0):a=r(a),e=i(e),n(e,t,a)}t.exports=a})),D=e(d()),O=e(E()),k=e(r()),A=function(e){p(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.checkboxRef=D.createRef(),t.childRefs=[],t}return r.prototype.doAction=function(e,t,n){var r=this.props,i=r.resetValue,a=r.onChange,o=r.formStore,c=r.store,l=r.name,u=e?.actionType;u===`clear`?a(``):u===`reset`&&a(s(o?.pristine??c?.pristine,l)??i??``)},r.prototype.reload=function(e,t){var n=this.props.reloadOptions;n&&n(e,t)},r.prototype.handleAddClick=function(){var e=this.props.onAdd;e&&e()},r.prototype.handleEditClick=function(e,t){var n=this.props.onEdit;e.preventDefault(),e.stopPropagation(),n&&n(t)},r.prototype.handleDeleteClick=function(e,t){var n=this.props.onDelete;e.preventDefault(),e.stopPropagation(),n&&n(t)},r.prototype.componentDidMount=function(){this.updateBorderStyle();var e=(0,k.default)(this.updateBorderStyle,100);this.checkboxRef.current&&(this.checkboxRefObserver=new ResizeObserver(e),this.checkboxRefObserver.observe(this.checkboxRef.current))},r.prototype.componentWillUnmount=function(){var e;(e=this.checkboxRefObserver)==null||e.disconnect()},r.prototype.updateBorderStyle=function(){if(this.props.optionType===`button`&&this.childRefs.length){var e=this.childRefs.map(function(e){return e?.ref}),t=e[0].labelRef.current.offsetTop,n=[],r=e.length;n[0]=`first`;for(var i=0,a=1;a<r;a++){var o=e[a].labelRef.current.offsetTop;n[a]=``,o!==t&&(n[a]=`first`,n[a-1]+=` last`,i=a,t=o)}n[r-1]+=` last`,n.forEach(function(t,n){n>=i&&(t+=` last-line`),e[n].setClassName(t)})}},r.prototype.renderGroup=function(e,t){var n=this,r=this.props,i=r.classnames,a=r.labelField;if(!e.children?.length)return null;var o=e.children.map(function(e,t){return n.renderItem(e,t)}),s=this.columnsSplit(o);return D.createElement(`div`,{key:`group-`+t,className:i(`CheckboxesControl-group`,e.className)},D.createElement(`label`,{className:i(`CheckboxesControl-groupLabel`,e.labelClassName)},e[a||`label`]),s)},r.prototype.addChildRefs=function(e){e&&this.childRefs.push(e)},r.prototype.renderItem=function(e,t){var n=this;if(e.children?.length)return this.renderGroup(e,t);var r=this.props,i=r.render,a=r.itemClassName,o=r.onToggle,s=r.selectedOptions,l=r.disabled,d=r.inline,f=r.labelClassName,p=r.labelField,h=r.removable,g=r.editable,y=r.translate,b=r.optionType,x=r.menuTpl,S=r.data,C=r.classnames,w=r.testIdBuilder,T=String(e[p||`label`]),E=e.labelClassName,O=w?.getChild(`item-`+T||t),k=l||e.disabled;return D.createElement(c,{className:a,key:t,onChange:function(){return o(e)},checked:!!~s.indexOf(e),disabled:k,inline:d,labelClassName:E||f,description:e.description,optionType:b,testIdBuilder:O,ref:this.addChildRefs},x?i(`checkboxes/${t}`,x,{data:m(S,e)}):T,e.disabledTip&&k?D.createElement(v,{placement:`right`,tooltip:e.disabledTip,trigger:`hover`},D.createElement(`a`,{className:C(`Select-option-disabledTip`)},D.createElement(u,{className:`icon`,icon:`question2`}))):null,h&&_(e,`removable`)?D.createElement(`a`,{"data-tooltip":y(`Select.clear`),"data-position":`left`},D.createElement(u,{icon:`minus`,className:`icon`,onClick:function(t){return n.handleDeleteClick(t,e)}})):null,g&&_(e,`editable`)?D.createElement(`a`,{"data-tooltip":`编辑`,"data-position":`left`},D.createElement(u,{icon:`pencil`,className:`icon`,onClick:function(t){return n.handleEditClick(t,e)}})):null)},r.prototype.columnsSplit=function(e){var t=this.props,n=t.columnsCount,r=t.classnames,i=[],a=[];return e.forEach(function(e){e&&e.key&&String(e.key).startsWith(`group`)?(a.length&&(i.push(S(a,r,n)),a=[]),i.push(e)):a.push(e)}),a.length&&i.push(S(a,r,n)),i},r.prototype.render=function(){var e=this,n=this.props,r=n.className;n.style;var a=n.disabled,s=n.placeholder,l=n.options,d=n.inline;n.columnsCount;var f=n.selectedOptions;n.onToggle;var p=n.onToggleAll,m=n.checkAll,h=n.checkAllText,_=n.classnames,v=n.itemClassName,y=n.labelClassName,b=n.creatable,x=n.addApi,S=n.createBtnLabel,T=n.translate,E=n.optionType,k=n.loading,A=n.loadingConfig,j=n.themeCss,M=n.id,N=n.env,P=n.classPrefix,F=[];l&&l.length&&(F=l.map(function(t,n){return e.renderItem(t,n)})),m&&F.length&&E===`default`&&F.unshift(D.createElement(c,{key:`checkall`,className:v,onChange:p,checked:!!f.length,partial:(0,O.default)(f.length,0,g(l).length),disabled:a,inline:d,labelClassName:y},h??T(`Checkboxes.selectAll`))),F=this.columnsSplit(F);var I=i(j,`checkboxes`);return D.createElement(`div`,{className:_(`CheckboxesControl`,r,w(t(t({},this.props),{name:[`checkboxesControlClassName`,`checkboxesControlCheckedClassName`,`checkboxesClassName`,`checkboxesCheckedClassName`,`checkboxesInnerClassName`,`checkboxesShowClassName`],id:M,themeCss:I}))),ref:this.checkboxRef},F&&F.length?F:k?null:D.createElement(`span`,{className:`Form-placeholder`},T(s)),k?D.createElement(o,{show:!0,icon:`reload`,size:`sm`,spinnerClassName:_(`Checkboxes-spinner`),loadingConfig:A}):null,(b||x)&&!a?D.createElement(`a`,{className:_(`Checkboxes-addBtn`),onClick:this.handleAddClick},D.createElement(u,{icon:`plus`,className:`icon`}),T(S)):null,D.createElement(C,t({},this.props,{config:{themeCss:I,classNames:[{key:`checkboxesControlClassName`,weights:{default:{inner:`.${P}Checkbox:not(.checked):not(.disabled)`},hover:{suf:` .${P}Checkbox:not(.disabled):not(.checked)`},disabled:{inner:`.${P}Checkbox.disabled:not(.checked)`}}},{key:`checkboxesControlCheckedClassName`,weights:{default:{inner:`.${P}Checkbox.checked:not(.disabled)`},hover:{suf:` .${P}Checkbox.checked:not(.disabled)`},disabled:{inner:`.${P}Checkbox.checked.disabled`}}},{key:`checkboxesClassName`,weights:{default:{inner:`.${P}Checkbox:not(.checked):not(.disabled) > i`},hover:{suf:` .${P}Checkbox:not(.disabled):not(.checked)`,inner:`> i`},disabled:{inner:`.${P}Checkbox.disabled:not(.checked) > i`}}},{key:`checkboxesCheckedClassName`,weights:{default:{inner:`.${P}Checkbox:not(.disabled) > i`},hover:{suf:` .${P}Checkbox:not(.disabled)`,inner:`> i`},disabled:{inner:`.${P}Checkbox.disabled > i`}}},{key:`checkboxesInnerClassName`,weights:{default:{inner:`.${P}Checkbox:not(.disabled) > i .icon`},hover:{suf:` .${P}Checkbox:not(.disabled)`,inner:`> i .icon`},disabled:{inner:`.${P}Checkbox.disabled > i .icon`}}},{key:`checkboxesShowClassName`,weights:{default:{inner:`.${P}Checkbox > i`}}}],id:M},env:N})))},r.defaultProps={columnsCount:1,multiple:!0,placeholder:`placeholder.noOption`,creatable:!1,inline:!0,createBtnLabel:`Select.createLabel`,optionType:`default`},f([n,a(`design:type`,Function),a(`design:paramtypes`,[]),a(`design:returntype`,void 0)],r.prototype,`handleAddClick`,null),f([n,a(`design:type`,Function),a(`design:paramtypes`,[Event,Object]),a(`design:returntype`,void 0)],r.prototype,`handleEditClick`,null),f([n,a(`design:type`,Function),a(`design:paramtypes`,[Event,Object]),a(`design:returntype`,void 0)],r.prototype,`handleDeleteClick`,null),f([n,a(`design:type`,Function),a(`design:paramtypes`,[]),a(`design:returntype`,void 0)],r.prototype,`updateBorderStyle`,null),f([n,a(`design:type`,Function),a(`design:paramtypes`,[Object]),a(`design:returntype`,void 0)],r.prototype,`addChildRefs`,null),f([l(),a(`design:type`,Function),a(`design:paramtypes`,[]),a(`design:returntype`,void 0)],r.prototype,`render`,null),r}(D.Component),j=function(e){p(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t=f([b({type:`checkboxes`,sizeMutable:!1,thin:!0})],t),t}(A);export{j as CheckboxesControlRenderer,A as default};