import{$o as e,Ao as t,Bt as n,Ci as r,Fo as i,Ko as a,La as o,Lo as s,Mo as c,No as l,Oa as u,ba as d,fr as f,ga as p,yn as m}from"./index-DAdqRbKX.js";var h=e(a()),g=function(e){l(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.renderEtrValue=function(e,t){return this.props.render(`inline`,Object.assign({},e,{label:!1,inputOnly:!0,changeImmediately:!0}),t)},n.prototype.renderPickerIcon=function(){var e=this.props,t=e.render,n=e.pickerIcon;return n?t(`picker-icon`,n):void 0},n.prototype.getAddBtnVisible=function(e){var t=this.props,n=t.data,r=t.addBtnVisibleOn;return typeof r==`string`&&r?p(r,u(n,e)):!0},n.prototype.getAddGroupBtnVisible=function(e){var t=this.props,n=t.data,r=t.addGroupBtnVisibleOn;return typeof r==`string`&&r?p(r,u(n,e)):!0},n.prototype.validate=function(){var e,t=this.props,n=t.value,r=t.required,i=t.translate;if(r){if(!n||!n.children)return i(`Condition.isRequired`);var a=!0,o=[`is_empty`,`is_not_empty`];return(e=n?.children)==null||e.forEach(function(e){if(e.op&&(e.right||~o.indexOf(e.op))){a=!1;return}}),a?i(`Condition.isRequired`):null}},n.prototype.render=function(){var e=this.props,n=e.className,r=e.classnames;e.style,e.pickerIcon;var i=e.env,a=e.popOverContainer,c=e.mobileUI,l=s(e,[`className`,`classnames`,`style`,`pickerIcon`,`env`,`popOverContainer`,`mobileUI`]),u=this.props.formula?t({},this.props.formula):void 0;return u&&u.variables&&d(u.variables)&&(u.variables=o(u.variables,this.props.data,`| raw`)),h.createElement(`div`,{className:r(`ConditionBuilderControl`,{"is-mobile":c},n)},h.createElement(_,t({renderEtrValue:this.renderEtrValue,pickerIcon:this.renderPickerIcon(),isAddBtnVisibleOn:this.getAddBtnVisible,isAddGroupBtnVisibleOn:this.getAddGroupBtnVisible,popOverContainer:a||i.getModalContainer},l,{placeholder:l.placeholder,formula:u})))},c([r,i(`design:type`,Function),i(`design:paramtypes`,[Object,Object]),i(`design:returntype`,void 0)],n.prototype,`renderEtrValue`,null),c([r,i(`design:type`,Function),i(`design:paramtypes`,[Object]),i(`design:returntype`,void 0)],n.prototype,`getAddBtnVisible`,null),c([r,i(`design:type`,Function),i(`design:paramtypes`,[Object]),i(`design:returntype`,void 0)],n.prototype,`getAddGroupBtnVisible`,null),n}(h.PureComponent),_=m({adaptor:function(e){return e.fields||e}})(function(e){l(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.render=function(){var e=this.props,r=e.loading,i=e.config;e.deferLoad;var a=e.disabled,o=e.renderEtrValue,c=s(e,[`loading`,`config`,`deferLoad`,`disabled`,`renderEtrValue`]);return h.createElement(n,t({},c,{fields:i||c.fields||[],disabled:a||r,renderEtrValue:o}))},r}(h.Component)),v=function(e){l(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t=c([f({type:`condition-builder`,strictMode:!1})],t),t}(g);export{v as ConditionBuilderRenderer,g as default};