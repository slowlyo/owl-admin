import{$o as e,Ao as t,Ci as n,Fo as r,Ko as i,Lo as a,Mo as o,No as s,Po as c,Va as l,jo as u,qo as d}from"./index-zRImlZB6.js";var f=d(((e,t)=>{(function(){var e=function(e){if(e===null)return`null`;if(e===void 0)return`undefined`;var t=typeof e;return t===`object`&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name===`Array`)?`array`:t===`object`&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name===`String`)?`string`:t},n=function(e){return[`undefined`,`boolean`,`number`,`string`,`function`,`xml`,`null`].indexOf(e)!==-1},r=function(e,t){return Array.prototype.slice.call(e).sort(t)},i=function(e,t){return a(function(n,r){return e.eq(t(n),t(r))})},a=function(e){return{eq:e}},o=a(function(e,t){return e===t}),s=function(e){return a(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e.eq(t[i],n[i]))return!1;return!0})},c=function(e,t){return i(s(e),function(e){return r(e,t)})},l=function(e){return a(function(t,n){var r=Object.keys(t),i=Object.keys(n);if(!c(o).eq(r,i))return!1;for(var a=r.length,s=0;s<a;s++){var l=r[s];if(!e.eq(t[l],n[l]))return!1}return!0})},u=a(function(t,r){if(t===r)return!0;var i=e(t);return i===e(r)?n(i)?t===r:i===`array`?s(u).eq(t,r):i===`object`?l(u).eq(t,r):!1:!1});let d=Object.getPrototypeOf,f=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,p=e=>{let t=typeof e;return e===null?`null`:t===`object`&&Array.isArray(e)?`array`:t===`object`&&f(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:t},m=e=>t=>p(t)===e,h=e=>t=>typeof t===e,g=e=>t=>e===t,_=(e,t)=>y(e)&&f(e,t,(e,t)=>d(e)===t),v=m(`string`),y=m(`object`),b=e=>_(e,Object),x=m(`array`),S=g(null),C=h(`boolean`),w=g(void 0),T=e=>e==null,E=e=>!T(e),D=h(`function`),O=h(`number`),ee=(e,t)=>{if(x(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},k=()=>{},te=(e,t)=>(...n)=>e(t.apply(null,n)),A=(e,t)=>n=>e(t(n)),j=e=>()=>e,ne=e=>e,re=(e,t)=>e===t;function M(e,...t){return(...n)=>{let r=t.concat(n);return e.apply(null,r)}}let N=e=>t=>!e(t),ie=e=>()=>{throw Error(e)},ae=e=>e(),oe=e=>{e()},P=j(!1),F=j(!0);class I{constructor(e,t){this.tag=e,this.value=t}static some(e){return new I(!0,e)}static none(){return I.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?I.some(e(this.value)):I.none()}bind(e){return this.tag?e(this.value):I.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:I.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return E(e)?I.some(e):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}I.singletonNone=new I(!1);let se=Array.prototype.slice,ce=Array.prototype.indexOf,le=Array.prototype.push,ue=(e,t)=>ce.call(e,t),de=(e,t)=>{let n=ue(e,t);return n===-1?I.none():I.some(n)},fe=(e,t)=>ue(e,t)>-1,pe=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];if(t(r,n))return!0}return!1},me=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},L=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},he=(e,t)=>{for(let n=e.length-1;n>=0;n--){let r=e[n];t(r,n)}},ge=(e,t)=>{let n=[],r=[];for(let i=0,a=e.length;i<a;i++){let a=e[i];(t(a,i)?n:r).push(a)}return{pass:n,fail:r}},R=(e,t)=>{let n=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];t(i,r)&&n.push(i)}return n},_e=(e,t,n)=>(he(e,(e,r)=>{n=t(n,e,r)}),n),ve=(e,t,n)=>(L(e,(e,r)=>{n=t(n,e,r)}),n),ye=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return I.some(i);if(n(i,r))break}return I.none()},be=(e,t)=>ye(e,t,P),xe=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];if(t(r,n))return I.some(n)}return I.none()},Se=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!x(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);le.apply(t,e[n])}return t},Ce=(e,t)=>Se(me(e,t)),we=(e,t)=>{for(let n=0,r=e.length;n<r;++n){let r=e[n];if(t(r,n)!==!0)return!1}return!0},Te=e=>{let t=se.call(e,0);return t.reverse(),t},Ee=(e,t)=>R(e,e=>!fe(t,e)),De=(e,t)=>{let n={};for(let r=0,i=e.length;r<i;r++){let i=e[r];n[String(i)]=t(i,r)}return n},Oe=(e,t)=>{let n=se.call(e,0);return n.sort(t),n},ke=(e,t)=>t>=0&&t<e.length?I.some(e[t]):I.none(),Ae=e=>ke(e,0),je=e=>ke(e,e.length-1),Me=D(Array.from)?Array.from:e=>se.call(e),Ne=(e,t)=>{for(let n=0;n<e.length;n++){let r=t(e[n],n);if(r.isSome())return r}return I.none()},Pe=(e,t)=>{let n=[],r=D(t)?e=>pe(n,n=>t(n,e)):e=>fe(n,e);for(let t=0,i=e.length;t<i;t++){let i=e[t];r(i)||n.push(i)}return n},Fe=Object.keys,Ie=Object.hasOwnProperty,Le=(e,t)=>{let n=Fe(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},z=(e,t)=>Re(e,(e,n)=>({k:n,v:t(e,n)})),Re=(e,t)=>{let n={};return Le(e,(e,r)=>{let i=t(e,r);n[i.k]=i.v}),n},ze=e=>(t,n)=>{e[n]=t},Be=(e,t,n,r)=>{Le(e,(e,i)=>{(t(e,i)?n:r)(e,i)})},Ve=(e,t)=>{let n={},r={};return Be(e,t,ze(n),ze(r)),{t:n,f:r}},He=(e,t)=>{let n={};return Be(e,t,ze(n),k),n},Ue=(e,t)=>{let n=[];return Le(e,(e,r)=>{n.push(t(e,r))}),n},We=e=>Ue(e,ne),Ge=(e,t)=>Ke(e,t)?I.from(e[t]):I.none(),Ke=(e,t)=>Ie.call(e,t),qe=(e,t)=>Ke(e,t)&&e[t]!==void 0&&e[t]!==null,Je=(e,t,n=u)=>l(n).eq(e,t),Ye=e=>{let t={};return L(e,e=>{t[e]={}}),Fe(t)},Xe=e=>e.length!==void 0,Ze=Array.isArray,Qe=e=>{if(Ze(e))return e;{let t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},$e=(e,t,n)=>{if(!e)return!1;if(n||=e,Xe(e)){for(let r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(let r in e)if(Ke(e,r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},et=(e,t)=>{let n=[];return $e(e,(r,i)=>{n.push(t(r,i,e))}),n},tt=(e,t)=>{let n=[];return $e(e,(r,i)=>{(!t||t(r,i,e))&&n.push(r)}),n},nt=(e,t)=>{if(e){for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},rt=(e,t,n,r)=>{let i=w(n)?e[0]:n;for(let n=0;n<e.length;n++)i=t.call(r,i,e[n],n);return i},it=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1},at=e=>e[e.length-1],B=e=>{let t=!1,n;return(...r)=>(t||(t=!0,n=e.apply(null,r)),n)},ot=(e,t,n,r)=>{let i=e.isiOS()&&/ipad/i.test(n)===!0,a=e.isiOS()&&!i,o=e.isiOS()||e.isAndroid(),s=o||r(`(pointer:coarse)`),c=i||!a&&o&&r(`(min-device-width:768px)`),l=a||o&&!c,u=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,d=!l&&!c&&!u;return{isiPad:j(i),isiPhone:j(a),isTablet:j(c),isPhone:j(l),isTouch:j(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:j(u),isDesktop:j(d)}},st=(e,t)=>{for(let n=0;n<e.length;n++){let r=e[n];if(r.test(t))return r}},ct=(e,t)=>{let n=st(e,t);if(!n)return{major:0,minor:0};let r=e=>Number(t.replace(n,`$`+e));return ut(r(1),r(2))},V=(e,t)=>{let n=String(t).toLowerCase();return e.length===0?lt():ct(e,n)},lt=()=>ut(0,0),ut=(e,t)=>({major:e,minor:t}),dt={nu:ut,detect:V,unknown:lt},ft=(e,t)=>Ne(t.brands,t=>{let n=t.brand.toLowerCase();return be(e,e=>n===e.brand?.toLowerCase()).map(e=>({current:e.name,version:dt.nu(parseInt(t.version,10),0)}))}),pt=(e,t)=>{let n=String(t).toLowerCase();return be(e,e=>e.search(n))},mt=(e,t)=>pt(e,t).map(e=>{let n=dt.detect(e.versionRegexes,t);return{current:e.name,version:n}}),ht=(e,t)=>pt(e,t).map(e=>{let n=dt.detect(e.versionRegexes,t);return{current:e.name,version:n}}),gt=(e,t)=>e.substring(t),_t=(e,t,n)=>t===``||e.length>=t.length&&e.substr(n,n+t.length)===t,vt=(e,t)=>bt(e,t)?gt(e,t.length):e,yt=(e,t,n=0,r)=>{let i=e.indexOf(t,n);return i===-1?!1:w(r)?!0:i+t.length<=r},bt=(e,t)=>_t(e,t,0),xt=(e,t)=>_t(e,t,e.length-t.length),St=e=>t=>t.replace(e,``),Ct=St(/^\s+|\s+$/g),wt=St(/^\s+/g),Tt=St(/\s+$/g),Et=e=>e.length>0,Dt=e=>!Et(e),Ot=(e,t)=>t<=0?``:Array(t+1).join(e),kt=(e,t=10)=>{let n=parseInt(e,t);return isNaN(n)?I.none():I.some(n)},At=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,jt=e=>t=>yt(t,e),Mt=[{name:`Edge`,versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>yt(e,`edge/`)&&yt(e,`chrome`)&&yt(e,`safari`)&&yt(e,`applewebkit`)},{name:`Chromium`,brand:`Chromium`,versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,At],search:e=>yt(e,`chrome`)&&!yt(e,`chromeframe`)},{name:`IE`,versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>yt(e,`msie`)||yt(e,`trident`)},{name:`Opera`,versionRegexes:[At,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:jt(`opera`)},{name:`Firefox`,versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:jt(`firefox`)},{name:`Safari`,versionRegexes:[At,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(yt(e,`safari`)||yt(e,`mobile/`))&&yt(e,`applewebkit`)}],Nt=[{name:`Windows`,search:jt(`win`),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:`iOS`,search:e=>yt(e,`iphone`)||yt(e,`ipad`),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:`Android`,search:jt(`android`),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:`macOS`,search:jt(`mac os x`),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:`Linux`,search:jt(`linux`),versionRegexes:[]},{name:`Solaris`,search:jt(`sunos`),versionRegexes:[]},{name:`FreeBSD`,search:jt(`freebsd`),versionRegexes:[]},{name:`ChromeOS`,search:jt(`cros`),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Pt={browsers:j(Mt),oses:j(Nt)},Ft=`Edge`,It=`Chromium`,Lt=`Opera`,Rt=`Firefox`,zt=`Safari`,Bt=()=>Vt({current:void 0,version:dt.unknown()}),Vt=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isEdge:r(Ft),isChromium:r(It),isIE:r(`IE`),isOpera:r(Lt),isFirefox:r(Rt),isSafari:r(zt)}},Ht={unknown:Bt,nu:Vt,edge:j(Ft),chromium:j(It),ie:j(`IE`),opera:j(Lt),firefox:j(Rt),safari:j(zt)},Ut=`Windows`,Wt=`Android`,Gt=`Linux`,Kt=`macOS`,qt=`Solaris`,Jt=`FreeBSD`,Yt=`ChromeOS`,Xt=()=>Zt({current:void 0,version:dt.unknown()}),Zt=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isWindows:r(Ut),isiOS:r(`iOS`),isAndroid:r(Wt),isMacOS:r(Kt),isLinux:r(Gt),isSolaris:r(qt),isFreeBSD:r(Jt),isChromeOS:r(Yt)}},Qt={unknown:Xt,nu:Zt,windows:j(Ut),ios:j(`iOS`),android:j(Wt),linux:j(Gt),macos:j(Kt),solaris:j(qt),freebsd:j(Jt),chromeos:j(Yt)},$t={detect:(e,t,n)=>{let r=Pt.browsers(),i=Pt.oses(),a=t.bind(e=>ft(r,e)).orThunk(()=>mt(r,e)).fold(Ht.unknown,Ht.nu),o=ht(i,e).fold(Qt.unknown,Qt.nu);return{browser:a,os:o,deviceType:ot(o,a,e,n)}}},en=e=>window.matchMedia(e).matches,tn=B(()=>$t.detect(navigator.userAgent,I.from(navigator.userAgentData),en)),nn=()=>tn(),rn=navigator.userAgent,an=nn(),on=an.browser,sn=an.os,cn=an.deviceType,ln=rn.indexOf(`Windows Phone`)!==-1,un={transparentSrc:`data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7`,documentMode:on.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!on.isIE(),windowsPhone:ln,browser:{current:on.current,version:on.version,isChromium:on.isChromium,isEdge:on.isEdge,isFirefox:on.isFirefox,isIE:on.isIE,isOpera:on.isOpera,isSafari:on.isSafari},os:{current:sn.current,version:sn.version,isAndroid:sn.isAndroid,isChromeOS:sn.isChromeOS,isFreeBSD:sn.isFreeBSD,isiOS:sn.isiOS,isLinux:sn.isLinux,isMacOS:sn.isMacOS,isSolaris:sn.isSolaris,isWindows:sn.isWindows},deviceType:{isDesktop:cn.isDesktop,isiPad:cn.isiPad,isiPhone:cn.isiPhone,isPhone:cn.isPhone,isTablet:cn.isTablet,isTouch:cn.isTouch,isWebView:cn.isWebView}},dn=/^\s*|\s*$/g,fn=e=>T(e)?``:(``+e).replace(dn,``),pn=(e,t)=>t?t===`array`&&Ze(e)?!0:typeof e===t:e!==void 0,mn=(e,t,n={})=>{let r=v(e)?e.split(t||`,`):e||[],i=r.length;for(;i--;)n[r[i]]={};return n},hn=Ke,gn=(e,...t)=>{for(let n=0;n<t.length;n++){let r=t[n];for(let t in r)if(Ke(r,t)){let n=r[t];n!==void 0&&(e[t]=n)}}return e},_n=function(e,t,n,r){r||=this,e&&(n&&(e=e[n]),$e(e,(e,i)=>t.call(r,e,i,n)===!1?!1:(_n(e,t,n,r),!0)))},H={trim:fn,isArray:Ze,is:pn,toArray:Qe,makeMap:mn,each:$e,map:et,grep:tt,inArray:nt,hasOwn:hn,extend:gn,walk:_n,resolve:(e,t=window)=>{let n=e.split(`.`);for(let e=0,r=n.length;e<r&&(t=t[n[e]],t);e++);return t},explode:(e,t)=>x(e)?e:e===``?[]:et(e.split(t||`,`),fn),_addCacheSuffix:e=>{let t=un.cacheSuffix;return t&&(e+=(e.indexOf(`?`)===-1?`?`:`&`)+t),e}},vn=(e,t,n=re)=>e.exists(e=>n(e,t)),yn=(e,t,n=re)=>xn(e,t,n).getOr(e.isNone()&&t.isNone()),bn=e=>{let t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},xn=(e,t,n)=>e.isSome()&&t.isSome()?I.some(n(e.getOrDie(),t.getOrDie())):I.none(),Sn=(e,t,n,r)=>e.isSome()&&t.isSome()&&n.isSome()?I.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):I.none(),Cn=(e,t)=>e?I.some(t):I.none(),wn=typeof window<`u`?window:Function(`return this;`)(),Tn=(e,t)=>{let n=t??wn;for(let t=0;t<e.length&&n!=null;++t)n=n[e[t]];return n},En=(e,t)=>Tn(e.split(`.`),t),Dn=(e,t)=>En(e,t),On=(e,t)=>{let n=Dn(e,t);if(n==null)throw Error(e+` not available on this browser`);return n},kn=Object.getPrototypeOf,An=e=>On(`HTMLElement`,e),jn=e=>{let t=En(`ownerDocument.defaultView`,e);return y(e)&&(An(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(kn(e).constructor.name))},Mn=e=>e.dom.nodeName.toLowerCase(),Nn=e=>e.dom.nodeType,Pn=e=>t=>Nn(t)===e,Fn=e=>Nn(e)===8||Mn(e)===`#comment`,In=e=>Ln(e)&&jn(e.dom),Ln=Pn(1),Rn=Pn(3),zn=Pn(9),Bn=Pn(11),Vn=e=>t=>Ln(t)&&Mn(t)===e,Hn=(e,t,n)=>{if(v(n)||C(n)||O(n))e.setAttribute(t,n+``);else throw console.error(`Invalid call to Attribute.set. Key `,t,`:: Value `,n,`:: Element `,e),Error(`Attribute value was not simple`)},Un=(e,t,n)=>{Hn(e.dom,t,n)},Wn=(e,t)=>{let n=e.dom;Le(t,(e,t)=>{Hn(n,t,e)})},Gn=(e,t)=>{let n=e.dom.getAttribute(t);return n===null?void 0:n},Kn=(e,t)=>I.from(Gn(e,t)),qn=(e,t)=>{let n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},Jn=(e,t)=>{e.dom.removeAttribute(t)},Yn=e=>{let t=e.dom.attributes;return t==null||t.length===0},Xn=e=>ve(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),Zn=(e,t)=>{let n=Gn(e,t);return n===void 0||n===``?[]:n.split(` `)},Qn=(e,t,n)=>(Un(e,t,Zn(e,t).concat([n]).join(` `)),!0),$n=(e,t,n)=>{let r=R(Zn(e,t),e=>e!==n);return r.length>0?Un(e,t,r.join(` `)):Jn(e,t),!1},er=e=>e.dom.classList!==void 0,tr=e=>Zn(e,`class`),nr=(e,t)=>Qn(e,`class`,t),rr=(e,t)=>$n(e,`class`,t),ir=(e,t)=>fe(tr(e),t)?rr(e,t):nr(e,t),ar=(e,t)=>{er(e)?e.dom.classList.add(t):nr(e,t)},or=e=>{(er(e)?e.dom.classList:tr(e)).length===0&&Jn(e,`class`)},sr=(e,t)=>{er(e)?e.dom.classList.remove(t):rr(e,t),or(e)},cr=(e,t)=>{let n=er(e)?e.dom.classList.toggle(t):ir(e,t);return or(e),n},lr=(e,t)=>er(e)&&e.dom.classList.contains(t),ur=(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return pr(n.childNodes[0])},dr=(e,t)=>pr((t||document).createElement(e)),fr=(e,t)=>pr((t||document).createTextNode(e)),pr=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},U={fromHtml:ur,fromTag:dr,fromText:fr,fromDom:pr,fromPoint:(e,t,n)=>I.from(e.dom.elementFromPoint(t,n)).map(pr)},mr=(e,t)=>{let n=[],r=e=>(n.push(e),t(e)),i=t(e);do i=i.bind(r);while(i.isSome());return n},hr=(e,t)=>{let n=e.dom;if(n.nodeType!==1)return!1;{let e=n;if(e.matches!==void 0)return e.matches(t);if(e.msMatchesSelector!==void 0)return e.msMatchesSelector(t);if(e.webkitMatchesSelector!==void 0)return e.webkitMatchesSelector(t);if(e.mozMatchesSelector!==void 0)return e.mozMatchesSelector(t);throw Error(`Browser lacks native selectors`)}},gr=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,_r=(e,t)=>{let n=t===void 0?document:t.dom;return gr(n)?[]:me(n.querySelectorAll(e),U.fromDom)},vr=(e,t)=>{let n=t===void 0?document:t.dom;return gr(n)?I.none():I.from(n.querySelector(e)).map(U.fromDom)},yr=(e,t)=>e.dom===t.dom,br=(e,t)=>{let n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},xr=e=>U.fromDom(e.dom.ownerDocument),Sr=e=>zn(e)?e:xr(e),Cr=e=>U.fromDom(Sr(e).dom.documentElement),wr=e=>U.fromDom(Sr(e).dom.defaultView),Tr=e=>I.from(e.dom.parentNode).map(U.fromDom),Er=e=>I.from(e.dom.parentElement).map(U.fromDom),Dr=(e,t)=>{let n=D(t)?t:P,r=e.dom,i=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){let e=r.parentNode,t=U.fromDom(e);if(i.push(t),n(t)===!0)break;r=e}return i},Or=e=>Tr(e).map(Nr).map(t=>R(t,t=>!yr(e,t))).getOr([]),kr=e=>I.from(e.dom.previousSibling).map(U.fromDom),Ar=e=>I.from(e.dom.nextSibling).map(U.fromDom),jr=e=>Te(mr(e,kr)),Mr=e=>mr(e,Ar),Nr=e=>me(e.dom.childNodes,U.fromDom),Pr=(e,t)=>{let n=e.dom.childNodes;return I.from(n[t]).map(U.fromDom)},Fr=e=>Pr(e,0),Ir=e=>Pr(e,e.dom.childNodes.length-1),Lr=e=>e.dom.childNodes.length,Rr=e=>e.dom.hasChildNodes(),zr=e=>{let t=e.dom.head;if(t==null)throw Error(`Head is not available yet`);return U.fromDom(t)},Br=e=>Bn(e)&&E(e.dom.host),Vr=D(Element.prototype.attachShadow)&&D(Node.prototype.getRootNode),Hr=j(Vr),Ur=Vr?e=>U.fromDom(e.dom.getRootNode()):Sr,Wr=e=>Br(e)?e:zr(Sr(e)),Gr=e=>Br(e)?e:U.fromDom(Sr(e).dom.body),Kr=e=>{let t=Ur(e);return Br(t)?I.some(t):I.none()},qr=e=>U.fromDom(e.dom.host),Jr=e=>{if(Hr()&&E(e.target)){let t=U.fromDom(e.target);if(Ln(t)&&Yr(t)&&e.composed&&e.composedPath){let t=e.composedPath();if(t)return Ae(t)}}return I.from(e.target)},Yr=e=>E(e.dom.shadowRoot),Xr=e=>{let t=Rn(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;let n=t.ownerDocument;return Kr(U.fromDom(t)).fold(()=>n.body.contains(t),A(Xr,qr))};var Zr=(e,t,n,r,i)=>e(n,r)?I.some(n):D(i)&&i(n)?I.none():t(n,r,i);let Qr=(e,t,n)=>{let r=e.dom,i=D(n)?n:P;for(;r.parentNode;){r=r.parentNode;let e=U.fromDom(r);if(t(e))return I.some(e);if(i(e))break}return I.none()},$r=(e,t,n)=>Zr((e,t)=>t(e),Qr,e,t,n),ei=(e,t)=>{let n=e.dom;return n.parentNode?ti(U.fromDom(n.parentNode),n=>!yr(e,n)&&t(n)):I.none()},ti=(e,t)=>be(e.dom.childNodes,e=>t(U.fromDom(e))).map(U.fromDom),ni=(e,t)=>{let n=e=>{for(let r=0;r<e.childNodes.length;r++){let i=U.fromDom(e.childNodes[r]);if(t(i))return I.some(i);let a=n(e.childNodes[r]);if(a.isSome())return a}return I.none()};return n(e.dom)},ri=(e,t,n)=>Qr(e,e=>hr(e,t),n),ii=(e,t)=>vr(t,e),ai=(e,t,n)=>Zr((e,t)=>hr(e,t),ri,e,t,n),oi=e=>ai(e,`[contenteditable]`),si=(e,t=!1)=>Xr(e)?e.dom.isContentEditable:oi(e).fold(j(t),e=>ci(e)===`true`),ci=e=>e.dom.contentEditable,li=e=>e.style!==void 0&&D(e.style.getPropertyValue),ui=(e,t,n)=>{if(!v(n))throw console.error(`Invalid call to CSS.set. Property `,t,`:: Value `,n,`:: Element `,e),Error(`CSS value must be a string: `+n);li(e)&&e.style.setProperty(t,n)},di=(e,t)=>{li(e)&&e.style.removeProperty(t)},fi=(e,t,n)=>{let r=e.dom;ui(r,t,n)},pi=(e,t)=>{let n=e.dom;Le(t,(e,t)=>{ui(n,t,e)})},mi=(e,t)=>{let n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return r===``&&!Xr(e)?hi(n,t):r},hi=(e,t)=>li(e)?e.style.getPropertyValue(t):``,gi=(e,t)=>{let n=e.dom,r=hi(n,t);return I.from(r).filter(e=>e.length>0)},_i=e=>{let t={},n=e.dom;if(li(n))for(let e=0;e<n.style.length;e++){let r=n.style.item(e);t[r]=n.style[r]}return t},vi=(e,t)=>{let n=e.dom;di(n,t),vn(Kn(e,`style`).map(Ct),``)&&Jn(e,`style`)},yi=e=>e.dom.offsetWidth,bi=(e,t)=>{Tr(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},xi=(e,t)=>{Ar(e).fold(()=>{Tr(e).each(e=>{Ci(e,t)})},e=>{bi(e,t)})},Si=(e,t)=>{Fr(e).fold(()=>{Ci(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},Ci=(e,t)=>{e.dom.appendChild(t.dom)},wi=(e,t)=>{bi(e,t),Ci(t,e)},Ti=(e,t)=>{L(t,(n,r)=>{xi(r===0?e:t[r-1],n)})},Ei=(e,t)=>{L(t,t=>{Ci(e,t)})},Di=e=>{e.dom.textContent=``,L(Nr(e),e=>{Oi(e)})},Oi=e=>{let t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},ki=e=>{let t=Nr(e);t.length>0&&Ti(e,t),Oi(e)},Ai=(e,t)=>{let n=(t||document).createElement(`div`);return n.innerHTML=e,Nr(U.fromDom(n))},ji=e=>me(e,U.fromDom),Mi=e=>e.dom.innerHTML,Ni=(e,t)=>{let n=xr(e).dom,r=U.fromDom(n.createDocumentFragment());Ei(r,Ai(t,n)),Di(e),Ci(e,r)},Pi=e=>{let t=U.fromTag(`div`);return Ci(t,U.fromDom(e.dom.cloneNode(!0))),Mi(t)},Fi=(e,t,n,r,i,a,o)=>({target:e,x:t,y:n,stop:r,prevent:i,kill:a,raw:o}),Ii=e=>{let t=U.fromDom(Jr(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),i=te(r,n);return Fi(t,e.clientX,e.clientY,n,r,i,e)},Li=(e,t)=>n=>{e(n)&&t(Ii(n))},Ri=(e,t,n,r,i)=>{let a=Li(n,r);return e.dom.addEventListener(t,a,i),{unbind:M(Bi,e,t,a,i)}},zi=(e,t,n,r)=>Ri(e,t,n,r,!1),Bi=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},Vi=(e,t)=>({left:e,top:t,translate:(n,r)=>Vi(e+n,t+r)}),Hi=Vi,Ui=e=>{let t=e.getBoundingClientRect();return Hi(t.left,t.top)},Wi=(e,t)=>e===void 0?t===void 0?0:t:e,Gi=e=>{let t=e.dom.ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom)return Hi(n.offsetLeft,n.offsetTop);let a=Wi(r?.pageYOffset,i.scrollTop),o=Wi(r?.pageXOffset,i.scrollLeft),s=Wi(i.clientTop,n.clientTop),c=Wi(i.clientLeft,n.clientLeft);return Ki(e).translate(o-c,a-s)},Ki=e=>{let t=e.dom,n=t.ownerDocument.body;return n===t?Hi(n.offsetLeft,n.offsetTop):Xr(e)?Ui(t):Hi(0,0)},qi=e=>{let t=e===void 0?document:e.dom;return Hi(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},Ji=(e,t,n)=>{let r=(n===void 0?document:n.dom).defaultView;r&&r.scrollTo(e,t)},Yi=(e,t)=>{nn().browser.isSafari()&&D(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Xi=e=>{let t=e===void 0?window:e;return nn().browser.isFirefox()?I.none():I.from(t.visualViewport)},Zi=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),Qi=e=>{let t=e===void 0?window:e,n=t.document,r=qi(U.fromDom(n));return Xi(t).fold(()=>{let e=t.document.documentElement,n=e.clientWidth,i=e.clientHeight;return Zi(r.left,r.top,n,i)},e=>Zi(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height))},$i=(e,t)=>R(Nr(e),t),ea=(e,t)=>{let n=[];return L(Nr(e),e=>{t(e)&&(n=n.concat([e])),n=n.concat(ea(e,t))}),n},ta=(e,t)=>_r(t,e),na=(e,t,n)=>ri(e,t,n).isSome();class ra{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,`firstChild`,`nextSibling`,e),this.node}prev(e){return this.node=this.findSibling(this.node,`lastChild`,`previousSibling`,e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,r){if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){let t=e[n];if(t)return t;for(let r=e.parentNode;r&&r!==this.rootNode;r=r.parentNode)if(t=r[n],t)return t}}}findPreviousNode(e,t){if(e){let n=e.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!t){for(let e=n.lastChild;e;e=e.lastChild)if(!e.lastChild)return e}return n}let r=e.parentNode;if(r&&r!==this.rootNode)return r}}}let ia=e=>t=>!!t&&t.nodeType===e,aa=e=>!!e&&!Object.getPrototypeOf(e),W=ia(1),oa=e=>W(e)&&In(U.fromDom(e)),sa=e=>W(e)&&e.namespaceURI===`http://www.w3.org/2000/svg`,ca=e=>{let t=e.toLowerCase();return e=>E(e)&&e.nodeName.toLowerCase()===t},la=e=>{let t=e.map(e=>e.toLowerCase());return e=>e&&e.nodeName?fe(t,e.nodeName.toLowerCase()):!1},ua=(e,t)=>{let n=t.toLowerCase().split(` `);return t=>{if(W(t)){let r=t.ownerDocument.defaultView;if(r)for(let i=0;i<n.length;i++){let a=r.getComputedStyle(t,null);if((a?a.getPropertyValue(e):null)===n[i])return!0}}return!1}},da=e=>t=>W(t)&&t.hasAttribute(e),fa=(e,t)=>n=>W(n)&&n.getAttribute(e)===t,pa=e=>W(e)&&e.hasAttribute(`data-mce-bogus`),ma=e=>W(e)&&e.getAttribute(`data-mce-bogus`)===`all`,ha=e=>W(e)&&e.tagName===`TABLE`,ga=e=>t=>!!(oa(t)&&(t.contentEditable===e||t.getAttribute(`data-mce-contenteditable`)===e)),_a=la([`textarea`,`input`]),G=ia(3),va=ia(4),ya=ia(7),ba=ia(8),xa=ia(9),Sa=ia(11),Ca=ca(`br`),wa=ca(`img`),Ta=ga(`true`),Ea=ga(`false`),Da=la([`td`,`th`]),K=la([`td`,`th`,`caption`]),Oa=la([`video`,`audio`,`object`,`embed`]),ka=ca(`li`),Aa=ca(`details`),ja=ca(`summary`),Ma=e=>e===`﻿`,Na=e=>e.replace(/\uFEFF/g,``),Pa=((e,t)=>{let n=n=>{if(!e(n))throw Error(`Can only get `+t+` value of a `+t+` node`);return r(n).getOr(``)},r=t=>e(t)?I.from(t.dom.nodeValue):I.none();return{get:n,getOption:r,set:(n,r)=>{if(!e(n))throw Error(`Can only set raw `+t+` value of a `+t+` node`);n.dom.nodeValue=r}}})(Rn,`text`),Fa=e=>Pa.get(e),Ia=e=>Pa.getOption(e),La=(e,t)=>Pa.set(e,t),Ra=[`td`,`th`],za=[`thead`,`tbody`,`tfoot`],Ba=[`h1`,`h2`,`h3`,`h4`,`h5`,`h6`,`p`,`div`,`address`,`pre`,`form`,`blockquote`,`center`,`dir`,`fieldset`,`header`,`footer`,`article`,`section`,`hgroup`,`aside`,`nav`,`figure`],Va=[`li`,`dd`,`dt`],Ha=[`ul`,`ol`,`dl`],Ua=[`pre`,`script`,`textarea`,`style`],Wa=e=>{let t;return n=>(t||=De(e,F),Ke(t,Mn(n)))},Ga=e=>Mn(e)===`table`,Ka=e=>Ln(e)&&Mn(e)===`br`,q=Wa(Ba),qa=Wa(Ha),Ja=Wa(Va),Ya=Wa(za),Xa=Wa(Ra),Za=Wa(Ua),Qa=e=>{let t=[],n=e.dom;for(;n;)t.push(U.fromDom(n)),n=n.lastChild;return t},$a=e=>{let t=ta(e,`br`),n=R(Qa(e).slice(-1),Ka);t.length===n.length&&L(n,Oi)},eo=()=>{let e=U.fromTag(`br`);return Un(e,`data-mce-bogus`,`1`),e},to=e=>{Di(e),Ci(e,eo())},no=(e,t)=>{Ir(e).each(n=>{kr(n).each(r=>{t.isBlock(Mn(e))&&Ka(n)&&t.isBlock(Mn(r))&&Oi(n)})})},ro=Ma,io=Na,ao=e=>e.insertContent(`﻿`,{preserve_zwsp:!0}),oo=W,so=G,co=e=>(so(e)&&(e=e.parentNode),oo(e)&&e.hasAttribute(`data-mce-caret`)),lo=e=>so(e)&&ro(e.data),uo=e=>co(e)||lo(e),fo=e=>e.firstChild!==e.lastChild||!Ca(e.firstChild),po=(e,t)=>{let n=(e.ownerDocument??document).createTextNode(`﻿`),r=e.parentNode;if(t){let t=e.previousSibling;if(so(t)){if(uo(t))return t;if(vo(t))return t.splitText(t.data.length-1)}r?.insertBefore(n,e)}else{let t=e.nextSibling;if(so(t)){if(uo(t))return t;if(_o(t))return t.splitText(1),t}e.nextSibling?r?.insertBefore(n,e.nextSibling):r?.appendChild(n)}return n},mo=e=>{let t=e.container();return G(t)?t.data.charAt(e.offset())===`﻿`||e.isAtStart()&&lo(t.previousSibling):!1},ho=e=>{let t=e.container();return G(t)?t.data.charAt(e.offset()-1)===`﻿`||e.isAtEnd()&&lo(t.nextSibling):!1},go=(e,t,n)=>{let r=(t.ownerDocument??document).createElement(e);r.setAttribute(`data-mce-caret`,n?`before`:`after`),r.setAttribute(`data-mce-bogus`,`all`),r.appendChild(eo().dom);let i=t.parentNode;return n?i?.insertBefore(r,t):t.nextSibling?i?.insertBefore(r,t.nextSibling):i?.appendChild(r),r},_o=e=>so(e)&&e.data[0]===`﻿`,vo=e=>so(e)&&e.data[e.data.length-1]===`﻿`,yo=e=>{var t;let n=e.getElementsByTagName(`br`),r=n[n.length-1];pa(r)&&((t=r.parentNode)==null||t.removeChild(r))},bo=e=>e&&e.hasAttribute(`data-mce-caret`)?(yo(e),e.removeAttribute(`data-mce-caret`),e.removeAttribute(`data-mce-bogus`),e.removeAttribute(`style`),e.removeAttribute(`data-mce-style`),e.removeAttribute(`_moz_abspos`),e):null,xo=e=>co(e.startContainer),So=Ta,Co=Ea,wo=Ca,To=G,Eo=la([`script`,`style`,`textarea`]),Do=la([`img`,`input`,`textarea`,`hr`,`iframe`,`video`,`audio`,`object`,`embed`]),Oo=la([`table`]),ko=uo,Ao=e=>ko(e)?!1:To(e)?!Eo(e.parentNode):Do(e)||wo(e)||Oo(e)||Mo(e),jo=e=>W(e)&&e.getAttribute(`unselectable`)===`true`,Mo=e=>!jo(e)&&Co(e),No=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(Mo(n))return!1;if(So(n))return!0}return!0},Po=e=>Mo(e)?!ve(Me(e.getElementsByTagName(`*`)),(e,t)=>e||So(t),!1):!1,Fo=e=>Do(e)||Po(e),Io=(e,t)=>Ao(e)&&No(e,t),Lo=/^[ \t\r\n]*$/,Ro=e=>Lo.test(e),zo=e=>{for(let t of e)if(!Ma(t))return!1;return!0},Bo=e=>` \f	\v`.indexOf(e)!==-1,Vo=e=>e===`
`||e===`\r`,Ho=(e,t)=>t<e.length&&t>=0?Vo(e[t]):!1,Uo=(e,t=4,n=!0,r=!0)=>{let i=Ot(` `,t),a=e.replace(/\t/g,i);return ve(a,(e,t)=>Bo(t)||t===`\xA0`?e.pcIsSpace||e.str===``&&n||e.str.length===a.length-1&&r||Ho(a,e.str.length+1)?{pcIsSpace:!1,str:e.str+`\xA0`}:{pcIsSpace:!0,str:e.str+` `}:{pcIsSpace:Vo(t),str:e.str+t},{pcIsSpace:!1,str:``}).str},Wo=(e,t)=>{let n=U.fromDom(t);return na(U.fromDom(e),`pre,code`,M(yr,n))},Go=(e,t)=>G(e)&&Ro(e.data)&&!Wo(e,t),Ko=e=>W(e)&&e.nodeName===`A`&&!e.hasAttribute(`href`)&&(e.hasAttribute(`name`)||e.hasAttribute(`id`)),qo=(e,t)=>Ao(e)&&!Go(e,t)||Ko(e)||Jo(e),Jo=da(`data-mce-bookmark`),Yo=da(`data-mce-bogus`),Xo=fa(`data-mce-bogus`,`all`),Zo=e=>Er(U.fromDom(e)).exists(e=>!si(e)),Qo=(e,t)=>{let n=0;if(qo(e,e))return!1;{let r=e.firstChild;if(!r)return!0;let i=new ra(r,e);do{if(t){if(Xo(r)){r=i.next(!0);continue}if(Yo(r)){r=i.next();continue}}if(Ta(r)&&Zo(r))return!1;if(Ca(r)){n++,r=i.next();continue}if(qo(r,e))return!1;r=i.next()}while(r);return n<=1}},$o=(e,t=!0)=>Qo(e.dom,t),es=e=>e.toLowerCase()===`svg`,ts=e=>es(e.nodeName),ns=e=>e?.nodeName===`svg`?`svg`:`html`,rs=[`svg`],is=()=>{let e=[],t=()=>e[e.length-1];return{track:n=>{ts(n)&&e.push(n);let r=t();return r&&!r.contains(n)&&(e.pop(),r=t()),ns(r)},current:()=>ns(t()),reset:()=>{e=[]}}},as=`data-mce-block`,os=e=>R(Fe(e),e=>!/[A-Z]/.test(e)),ss=e=>me(os(e),e=>`${e}:`+me(rs,t=>`not(${t} ${e})`).join(`:`)).join(`,`),cs=(e,t)=>E(t.querySelector(e))?(t.setAttribute(as,`true`),t.getAttribute(`data-mce-selected`)===`inline-boundary`&&t.removeAttribute(`data-mce-selected`),!0):(t.removeAttribute(as),!1),ls=(e,t)=>{let n=ss(e.getTransparentElements()),r=ss(e.getBlockElements());return R(t.querySelectorAll(n),e=>cs(r,e))},us=(e,t)=>{var n;let r=t?`lastChild`:`firstChild`;for(let t=e[r];t;t=t[r])if($o(U.fromDom(t))){(n=t.parentNode)==null||n.removeChild(t);return}},ds=(e,t)=>{let n=document.createRange(),r=e.parentNode;if(r){n.setStartBefore(e),n.setEndBefore(t);let i=n.extractContents();us(i,!0),n.setStartAfter(t),n.setEndAfter(e);let a=n.extractContents();us(a,!1),$o(U.fromDom(i))||r.insertBefore(i,e),$o(U.fromDom(t))||r.insertBefore(t,e),$o(U.fromDom(a))||r.insertBefore(a,e),r.removeChild(e)}},fs=(e,t,n)=>{let r=e.getBlockElements(),i=U.fromDom(t),a=e=>Mn(e)in r,o=e=>yr(e,i);L(ji(n),t=>{Qr(t,a,o).each(n=>{let r=$i(t,t=>a(t)&&!e.isValidChild(Mn(n),Mn(t)));if(r.length>0){let t=Er(n);L(r,e=>{Qr(e,a,o).each(t=>{ds(t.dom,e.dom)})}),t.each(t=>ls(e,t.dom))}})})},ps=(e,t,n)=>{L([...n,...bs(e,t)?[t]:[]],t=>L(ta(U.fromDom(t),t.nodeName.toLowerCase()),t=>{xs(e,t.dom)&&ki(t)}))},ms=(e,t)=>{let n=ls(e,t);fs(e,t,n),ps(e,t,n)},hs=(e,t)=>{ys(e,t)&&cs(ss(e.getBlockElements()),t)},gs=(e,t,n)=>{let r=Dr(U.fromDom(n),e=>yr(e,U.fromDom(t)));ke(r,r.length-2).filter(Ln).fold(()=>ms(e,t),t=>ms(e,t.dom))},_s=e=>e.hasAttribute(as),vs=(e,t)=>Ke(e.getTransparentElements(),t),ys=(e,t)=>W(t)&&vs(e,t.nodeName),bs=(e,t)=>ys(e,t)&&_s(t),xs=(e,t)=>ys(e,t)&&!_s(t),Ss=(e,t)=>t.type===1&&vs(e,t.name)&&v(t.attr(as)),Cs=nn().browser,ws=e=>be(e,Ln),Ts=e=>Cs.isFirefox()&&Mn(e)===`table`?ws(Nr(e)).filter(e=>Mn(e)===`caption`).bind(e=>ws(Mr(e)).map(t=>{let n=t.dom.offsetTop,r=e.dom.offsetTop,i=e.dom.offsetHeight;return n<=r?-i:0})).getOr(0):0,Es=(e,t)=>e.children&&fe(e.children,t),Ds=(e,t,n)=>{let r=0,i=0,a=e.ownerDocument;if(n||=e,t){if(n===e&&t.getBoundingClientRect&&mi(U.fromDom(e),`position`)===`static`){let n=t.getBoundingClientRect();return r=n.left+(a.documentElement.scrollLeft||e.scrollLeft)-a.documentElement.clientLeft,i=n.top+(a.documentElement.scrollTop||e.scrollTop)-a.documentElement.clientTop,{x:r,y:i}}let o=t;for(;o&&o!==n&&o.nodeType&&!Es(o,n);){let e=o;r+=e.offsetLeft||0,i+=e.offsetTop||0,o=e.offsetParent}for(o=t.parentNode;o&&o!==n&&o.nodeType&&!Es(o,n);)r-=o.scrollLeft||0,i-=o.scrollTop||0,o=o.parentNode;i+=Ts(U.fromDom(t))}return{x:r,y:i}},Os=(e,t={})=>{let n=0,r={},i=U.fromDom(e),a=Sr(i),o=e=>{t.referrerPolicy=e},s=e=>{t.contentCssCors=e},c=e=>{Ci(Wr(i),e)},l=e=>{ii(Wr(i),`#`+e).each(Oi)},u=e=>Ge(r,e).getOrThunk(()=>({id:`mce-u`+ n++,passed:[],failed:[],count:0})),d=e=>new Promise((n,i)=>{let o,s=H._addCacheSuffix(e),l=u(s);r[s]=l,l.count++;let d=(e,t)=>{L(e,oe),l.status=t,l.passed=[],l.failed=[],o&&=(o.onload=null,o.onerror=null,null)},f=()=>d(l.passed,2),p=()=>d(l.failed,3);if(n&&l.passed.push(n),i&&l.failed.push(i),l.status===1)return;if(l.status===2){f();return}if(l.status===3){p();return}l.status=1;let m=U.fromTag(`link`,a.dom);Wn(m,{rel:`stylesheet`,type:`text/css`,id:l.id}),t.contentCssCors&&Un(m,`crossOrigin`,`anonymous`),t.referrerPolicy&&Un(m,`referrerpolicy`,t.referrerPolicy),o=m.dom,o.onload=f,o.onerror=p,c(m),Un(m,`href`,s)}),f=(e,t)=>{let n=u(e);r[e]=n,n.count++;let i=U.fromTag(`style`,a.dom);Wn(i,{rel:`stylesheet`,type:`text/css`,id:n.id}),i.dom.innerHTML=t,c(i)},p=e=>Promise.allSettled(me(e,e=>d(e).then(j(e)))).then(e=>{let t=ge(e,e=>e.status===`fulfilled`);return t.fail.length>0?Promise.reject(me(t.fail,e=>e.reason)):me(t.pass,e=>e.value)}),m=e=>{let t=H._addCacheSuffix(e);Ge(r,t).each(e=>{--e.count===0&&(delete r[t],l(e.id))})};return{load:d,loadRawCss:f,loadAll:p,unload:m,unloadRawCss:e=>{Ge(r,e).each(t=>{--t.count===0&&(delete r[e],l(t.id))})},unloadAll:e=>{L(e,e=>{m(e)})},_setReferrerPolicy:o,_setContentCssCors:s}},ks=(()=>{let e=new WeakMap;return{forElement:(t,n)=>{let r=Ur(t).dom;return I.from(e.get(r)).getOrThunk(()=>{let t=Os(r,n);return e.set(r,t),t})}}})(),As=e=>e.nodeName.toLowerCase()===`span`,J=(e,t,n)=>E(e)&&(qo(e,t)||n.isInline(e.nodeName.toLowerCase())),js=(e,t,n)=>{let r=new ra(e,t).prev(!1),i=new ra(e,t).next(!1),a=w(r)||J(r,t,n),o=w(i)||J(i,t,n);return a&&o},Ms=e=>As(e)&&e.getAttribute(`data-mce-type`)===`bookmark`,Ns=(e,t,n)=>G(e)&&e.data.length>0&&js(e,t,n),Ps=e=>W(e)?e.childNodes.length>0:!1,Fs=e=>Sa(e)||xa(e),Is=(e,t,n,r)=>{var i;let a=r||t;if(W(t)&&Ms(t))return t;let o=t.childNodes;for(let t=o.length-1;t>=0;t--)Is(e,o[t],n,a);if(W(t)){let e=t.childNodes;e.length===1&&Ms(e[0])&&((i=t.parentNode)==null||i.insertBefore(e[0],t))}return!Fs(t)&&!qo(t,a)&&!Ps(t)&&!Ns(t,a,n)&&e.remove(t),t},Ls=H.makeMap,Rs=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zs=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bs=/[<>&\"\']/g,Vs=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Hs={128:`€`,130:`‚`,131:`ƒ`,132:`„`,133:`…`,134:`†`,135:`‡`,136:`ˆ`,137:`‰`,138:`Š`,139:`‹`,140:`Œ`,142:`Ž`,145:`‘`,146:`’`,147:`“`,148:`”`,149:`•`,150:`–`,151:`—`,152:`˜`,153:`™`,154:`š`,155:`›`,156:`œ`,158:`ž`,159:`Ÿ`},Us={'"':`&quot;`,"'":`&#39;`,"<":`&lt;`,">":`&gt;`,"&":`&amp;`,"`":`&#96;`},Ws={"&lt;":`<`,"&gt;":`>`,"&amp;":`&`,"&quot;":`"`,"&apos;":`'`},Gs=e=>{let t=U.fromTag(`div`).dom;return t.innerHTML=e,t.textContent||t.innerText||e},Ks=(e,t)=>{let n={};if(e){let r=e.split(`,`);t||=10;for(let e=0;e<r.length;e+=2){let i=String.fromCharCode(parseInt(r[e],t));if(!Us[i]){let t=`&`+r[e+1]+`;`;n[i]=t,n[t]=i}}return n}else return},qs=Ks(`50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro`,32),Js=(e,t)=>e.replace(t?Rs:zs,e=>Us[e]||e),Ys=e=>(``+e).replace(Bs,e=>Us[e]||e),Xs=(e,t)=>e.replace(t?Rs:zs,e=>e.length>1?`&#`+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+`;`:Us[e]||`&#`+e.charCodeAt(0)+`;`),Zs=(e,t,n)=>{let r=n||qs;return e.replace(t?Rs:zs,e=>Us[e]||r[e]||e)},Qs={encodeRaw:Js,encodeAllRaw:Ys,encodeNumeric:Xs,encodeNamed:Zs,getEncodeFunc:(e,t)=>{let n=Ks(t)||qs,r=(e,t)=>e.replace(t?Rs:zs,e=>Us[e]===void 0?n[e]===void 0?e.length>1?`&#`+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+`;`:`&#`+e.charCodeAt(0)+`;`:n[e]:Us[e]),i=(e,t)=>Zs(e,t,n),a=Ls(e.replace(/\+/g,`,`));return a.named&&a.numeric?r:a.named?t?i:Zs:a.numeric?Xs:Js},decode:e=>e.replace(Vs,(e,t)=>t?(t=t.charAt(0).toLowerCase()===`x`?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(t&1023))):Hs[t]||String.fromCharCode(t)):Ws[e]||qs[e]||Gs(e))},$s=(e,t)=>(e=H.trim(e),e?e.split(t||` `):[]),ec=e=>RegExp(`^`+e.replace(/([?+*])/g,`.$1`)+`$`),tc=e=>{let t=/^(~)?(.+)$/;return Ce($s(e,`,`),e=>{let n=t.exec(e);if(n){let e=n[1]===`~`;return[{inline:e,cloneName:e?`span`:`div`,name:n[2]}]}else return[]})},nc=e=>{let t,n,r;t=`id accesskey class dir lang style tabindex title role`,n=`address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul`,r=`a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment`,e!==`html4`&&(t+=` contenteditable contextmenu draggable dropzone hidden spellcheck translate`,n+=` article aside details dialog figure main header footer hgroup section nav a ins del canvas map`,r+=` audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg`),e!==`html5-strict`&&(t+=` xml:lang`,r=[r,`acronym applet basefont big font strike tt`].join(` `),n=[n,`center dir isindex noframes`].join(` `));let i=[n,r].join(` `);return{globalAttributes:t,blockContent:n,phrasingContent:r,flowContent:i}},rc=e=>{let{globalAttributes:t,phrasingContent:n,flowContent:r}=nc(e),i={},a=(e,t,n)=>{i[e]={attributes:De(t,j({})),attributesOrder:t,children:De(n,j({}))}},o=(e,n=``,r=``)=>{let i=$s(r),o=$s(e),s=o.length,c=$s([t,n].join(` `));for(;s--;)a(o[s],c.slice(),i)},s=(e,t)=>{let n=$s(e),r=$s(t),a=n.length;for(;a--;){let e=i[n[a]];for(let t=0,n=r.length;t<n;t++)e.attributes[r[t]]={},e.attributesOrder.push(r[t])}};return e!==`html5-strict`&&(L($s(`acronym applet basefont big font strike tt`),e=>{o(e,``,n)}),L($s(`center dir isindex noframes`),e=>{o(e,``,r)})),o(`html`,`manifest`,`head body`),o(`head`,``,`base command link meta noscript script style title`),o(`title hr noscript br`),o(`base`,`href target`),o(`link`,`href rel media hreflang type sizes hreflang`),o(`meta`,`name http-equiv content charset`),o(`style`,`media type scoped`),o(`script`,`src async defer type charset`),o(`body`,`onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload`,r),o(`dd div`,``,r),o(`address dt caption`,``,e===`html4`?n:r),o(`h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn`,``,n),o(`blockquote`,`cite`,r),o(`ol`,`reversed start type`,`li`),o(`ul`,``,`li`),o(`li`,`value`,r),o(`dl`,``,`dt dd`),o(`a`,`href target rel media hreflang type`,e===`html4`?n:r),o(`q`,`cite`,n),o(`ins del`,`cite datetime`,r),o(`img`,`src sizes srcset alt usemap ismap width height`),o(`iframe`,`src name width height`,r),o(`embed`,`src type width height`),o(`object`,`data type typemustmatch name usemap form width height`,[r,`param`].join(` `)),o(`param`,`name value`),o(`map`,`name`,[r,`area`].join(` `)),o(`area`,`alt coords shape href target rel media hreflang type`),o(`table`,`border`,`caption colgroup thead tfoot tbody tr`+(e===`html4`?` col`:``)),o(`colgroup`,`span`,`col`),o(`col`,`span`),o(`tbody thead tfoot`,``,`tr`),o(`tr`,``,`td th`),o(`td`,`colspan rowspan headers`,r),o(`th`,`colspan rowspan headers scope abbr`,r),o(`form`,`accept-charset action autocomplete enctype method name novalidate target`,r),o(`fieldset`,`disabled form name`,[r,`legend`].join(` `)),o(`label`,`form for`,n),o(`input`,`accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width`),o(`button`,`disabled form formaction formenctype formmethod formnovalidate formtarget name type value`,e===`html4`?r:n),o(`select`,`disabled form multiple name required size`,`option optgroup`),o(`optgroup`,`disabled label`,`option`),o(`option`,`disabled label selected value`),o(`textarea`,`cols dirname disabled form maxlength name readonly required rows wrap`),o(`menu`,`type label`,[r,`li`].join(` `)),o(`noscript`,``,r),e!==`html4`&&(o(`wbr`),o(`ruby`,``,[n,`rt rp`].join(` `)),o(`figcaption`,``,r),o(`mark rt rp bdi`,``,n),o(`summary`,``,[n,`h1 h2 h3 h4 h5 h6`].join(` `)),o(`canvas`,`width height`,r),o(`video`,`src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered`,[r,`track source`].join(` `)),o(`audio`,`src crossorigin preload autoplay mediagroup loop muted controls buffered volume`,[r,`track source`].join(` `)),o(`picture`,``,`img source`),o(`source`,`src srcset type media sizes`),o(`track`,`kind src srclang label default`),o(`datalist`,``,[n,`option`].join(` `)),o(`article section nav aside main header footer`,``,r),o(`hgroup`,``,`h1 h2 h3 h4 h5 h6`),o(`figure`,``,[r,`figcaption`].join(` `)),o(`time`,`datetime`,n),o(`dialog`,`open`,r),o(`command`,`type label icon disabled checked radiogroup command`),o(`output`,`for form name`,n),o(`progress`,`value max`,n),o(`meter`,`value min max low high optimum`,n),o(`details`,`open`,[r,`summary`].join(` `)),o(`keygen`,`autofocus challenge disabled form keytype name`),a(`svg`,`id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform`.split(` `),[])),e!==`html5-strict`&&(s(`script`,`language xml:space`),s(`style`,`xml:space`),s(`object`,`declare classid code codebase codetype archive standby align border hspace vspace`),s(`embed`,`align name hspace vspace`),s(`param`,`valuetype type`),s(`a`,`charset name rev shape coords`),s(`br`,`clear`),s(`applet`,`codebase archive code object alt name width height align hspace vspace`),s(`img`,`name longdesc align border hspace vspace`),s(`iframe`,`longdesc frameborder marginwidth marginheight scrolling align`),s(`font basefont`,`size color face`),s(`input`,`usemap align`),s(`select`),s(`textarea`),s(`h1 h2 h3 h4 h5 h6 div p legend caption`,`align`),s(`ul`,`type compact`),s(`li`,`type`),s(`ol dl menu dir`,`compact`),s(`pre`,`width xml:space`),s(`hr`,`align noshade size width`),s(`isindex`,`prompt`),s(`table`,`summary width frame rules cellspacing cellpadding align bgcolor`),s(`col`,`width align char charoff valign`),s(`colgroup`,`width align char charoff valign`),s(`thead`,`align char charoff valign`),s(`tr`,`align char charoff valign bgcolor`),s(`th`,`axis align char charoff valign nowrap bgcolor width height`),s(`form`,`accept`),s(`td`,`abbr axis scope align char charoff valign nowrap bgcolor width height`),s(`tfoot`,`align char charoff valign`),s(`tbody`,`align char charoff valign`),s(`area`,`nohref`),s(`body`,`background bgcolor text link vlink alink`)),e!==`html4`&&(s(`input button select textarea`,`autofocus`),s(`input textarea`,`placeholder`),s(`a`,`download`),s(`link script img`,`crossorigin`),s(`img`,`loading`),s(`iframe`,`sandbox seamless allow allowfullscreen loading`)),e!==`html4`&&L([i.video,i.audio],e=>{delete e.children.audio,delete e.children.video}),L($s(`a form meter progress dfn`),e=>{i[e]&&delete i[e].children[e]}),delete i.caption.children.table,delete i.script,i},ic=e=>e===`-`?`remove`:`add`,ac=e=>{let t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Ce($s(e,`,`),e=>{let n=t.exec(e);if(n){let e=n[1];return[{operation:e?ic(e):`replace`,name:n[2],validChildren:$s(n[3],`|`)}]}else return[]})},oc=(e,t)=>{let n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:i,attributesOrder:a}=t;return L($s(e,`|`),e=>{let o=n.exec(e);if(o){let e={},n=o[1],s=o[2].replace(/[\\:]:/g,`:`),c=o[3],l=o[4];if(n===`!`&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(s),e.required=!0),n===`-`){delete i[s],a.splice(H.inArray(a,s),1);return}if(c&&(c===`=`?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:s,value:l}),e.defaultValue=l):c===`~`?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:s,value:l}),e.forcedValue=l):c===`<`&&(e.validValues=H.makeMap(l,`?`))),r.test(s)){let n=e;t.attributePatterns=t.attributePatterns||[],n.pattern=ec(s),t.attributePatterns.push(n)}else i[s]||a.push(s),i[s]=e}})},sc=(e,t)=>{Le(e.attributes,(e,n)=>{t.attributes[n]=e}),t.attributesOrder.push(...e.attributesOrder)},cc=(e,t)=>{let n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Ce($s(t,`,`),t=>{let r=n.exec(t);if(r){let t=r[1],n=r[2],i=r[3],a=r[4],o=r[5],s={attributes:{},attributesOrder:[]};if(e.each(e=>sc(e,s)),t===`#`?s.paddEmpty=!0:t===`-`&&(s.removeEmpty=!0),a===`!`&&(s.removeEmptyAttrs=!0),o&&oc(o,s),i&&(s.outputName=n),n===`@`)if(e.isNone())e=I.some(s);else return[];return[i?{name:n,element:s,aliasName:i}:{name:n,element:s}]}else return[]})},lc={},uc=H.makeMap,dc=H.each,fc=H.extend,pc=H.explode,mc=(e,t={})=>fc(uc(e,` `,uc(e.toUpperCase(),` `)),t),hc=e=>mc(`td th li dt dd figcaption caption details summary`,e.getTextBlockElements()),gc=(e,t)=>{if(e){let n={};return v(e)&&(e={"*":e}),dc(e,(e,r)=>{n[r]=n[r.toUpperCase()]=t===`map`?uc(e,/[, ]/):pc(e,/[, ]/)}),n}else return},_c=(e={})=>{let t={},n={},r=[],i={},a={},o=(t,n,r)=>{let i=e[t];if(i)return uc(i,/[, ]/,uc(i.toUpperCase(),/[, ]/));{let e=lc[t];return e||(e=mc(n,r),lc[t]=e),e}},s=e.schema??`html5`,c=rc(s);e.verify_html===!1&&(e.valid_elements=`*[*]`);let l=gc(e.valid_styles),u=gc(e.invalid_styles,`map`),d=gc(e.valid_classes,`map`),f=o(`whitespace_elements`,`pre script noscript style textarea video audio iframe object code`),p=o(`self_closing_elements`,`colgroup dd dt li option p td tfoot th thead tr`),m=o(`void_elements`,`area base basefont br col frame hr img input isindex link meta param embed source wbr track`),h=o(`boolean_attributes`,`checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen`),g=`td th iframe video audio object script code`,_=o(`non_empty_elements`,g+` pre svg`,m),v=o(`move_caret_before_on_enter_elements`,g+` table`,m),y=`h1 h2 h3 h4 h5 h6`,b=o(`text_block_elements`,y+` p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure`),x=o(`block_elements`,`hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing`,b),S=o(`text_inline_elements`,`span strong b em i font s strike u var cite dfn code mark q sup sub samp`),C=o(`transparent_elements`,`a ins del canvas map`),w=o(`wrap_block_elements`,`pre `+y);dc(`script noscript iframe noframes noembed title style textarea xmp plaintext`.split(` `),e=>{a[e]=RegExp(`</`+e+`[^>]*>`,`gi`)});let T=e=>{let n=I.from(t[`@`]),i=/[*?+]/;L(cc(n,e??``),({name:e,element:n,aliasName:a})=>{if(a&&(t[a]=n),i.test(e)){let t=n;t.pattern=ec(e),r.push(t)}else t[e]=n})},E=e=>{r=[],L(Fe(t),e=>{delete t[e]}),T(e)},D=e=>{delete lc.text_block_elements,delete lc.block_elements,L(tc(e??``),({inline:e,name:r,cloneName:a})=>{if(n[r]=n[a],i[r]=a,_[r.toUpperCase()]={},_[r]={},e||(x[r.toUpperCase()]={},x[r]={}),!t[r]){let e=t[a];e=fc({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,t[r]=e}Le(n,(e,t)=>{e[a]&&(n[t]=e=fc({},n[t]),e[r]=e[a])})})},O=e=>{L(ac(e??``),({operation:e,name:t,validChildren:r})=>{let i=e===`replace`?{"#comment":{}}:n[t];L(r,t=>{e===`remove`?delete i[t]:i[t]={}}),n[t]=i})},ee=e=>{let n=t[e];if(n)return n;let i=r.length;for(;i--;){let t=r[i];if(t.pattern.test(e))return t}};e.valid_elements?(E(e.valid_elements),dc(c,(e,t)=>{n[t]=e.children})):(dc(c,(e,r)=>{t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[r]=e.children}),dc($s(`strong/b em/i`),e=>{let n=$s(e,`/`);t[n[1]].outputName=n[0]}),dc(S,(n,r)=>{t[r]&&(e.padd_empty_block_inline_children&&(t[r].paddInEmptyBlock=!0),t[r].removeEmpty=!0)}),dc($s(`ol ul blockquote a table tbody`),e=>{t[e]&&(t[e].removeEmpty=!0)}),dc($s(`p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary`),e=>{t[e]&&(t[e].paddEmpty=!0)}),dc($s(`span`),e=>{t[e].removeEmptyAttrs=!0})),delete t.svg,D(e.custom_elements),O(e.valid_children),T(e.extended_valid_elements),O(`+ol[ul|ol],+ul[ul|ol]`),dc({dd:`dl`,dt:`dl`,li:`ul ol`,td:`tr`,th:`tr`,tr:`tbody thead tfoot`,tbody:`table`,thead:`table`,tfoot:`table`,legend:`fieldset`,area:`map`,param:`video audio object`},(e,n)=>{t[n]&&(t[n].parentsRequired=$s(e))}),e.invalid_elements&&dc(pc(e.invalid_elements),e=>{t[e]&&delete t[e]}),ee(`span`)||T(`span[!data-mce-type|*]`);let k=j(l),te=j(u),A=j(d),ne=j(h),re=j(x),M=j(b),N=j(S),ie=j(Object.seal(m)),ae=j(p),oe=j(_),P=j(v),F=j(f),se=j(C),ce=j(w),le=j(Object.seal(a)),ue=(e,t)=>{let r=n[e.toLowerCase()];return!!(r&&r[t.toLowerCase()])},de=(e,t)=>{let n=ee(e);if(n)if(t){if(n.attributes[t])return!0;let e=n.attributePatterns;if(e){let n=e.length;for(;n--;)if(e[n].pattern.test(t))return!0}}else return!0;return!1},fe=e=>Ke(re(),e),pe=e=>!bt(e,`#`)&&de(e)&&!fe(e);return{type:s,children:n,elements:t,getValidStyles:k,getValidClasses:A,getBlockElements:re,getInvalidStyles:te,getVoidElements:ie,getTextBlockElements:M,getTextInlineElements:N,getBoolAttrs:ne,getElementRule:ee,getSelfClosingElements:ae,getNonEmptyElements:oe,getMoveCaretBeforeOnEnterElements:P,getWhitespaceElements:F,getTransparentElements:se,getSpecialElements:le,isValidChild:ue,isValid:de,isBlock:fe,isInline:pe,isWrapper:e=>Ke(ce(),e)||pe(e),getCustomElements:j(i),addValidElements:T,setValidElements:E,addCustomElements:D,addValidChildren:O}},vc=e=>({value:yc(e)}),yc=e=>vt(e,`#`).toUpperCase(),bc=e=>{let t=e.toString(16);return(t.length===1?`0`+t:t).toUpperCase()},xc=e=>vc(bc(e.red)+bc(e.green)+bc(e.blue)),Sc=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Cc=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,wc=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),Tc=(e,t,n,r)=>wc(parseInt(e,10),parseInt(t,10),parseInt(n,10),parseFloat(r)),Ec=e=>{if(e===`transparent`)return I.some(wc(0,0,0,0));let t=Sc.exec(e);if(t!==null)return I.some(Tc(t[1],t[2],t[3],`1`));let n=Cc.exec(e);return n===null?I.none():I.some(Tc(n[1],n[2],n[3],n[4]))},Dc=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Oc=e=>Ec(e).map(xc).map(e=>`#`+e.value).getOr(e),kc=(e={},t)=>{let n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,a={},o,s;t&&(o=t.getValidStyles(),s=t.getInvalidStyles());let c=`\\" \\' \\; \\: ; : ﻿`.split(` `);for(let e=0;e<c.length;e++)a[c[e]]=`﻿`+e,a[`﻿`+e]=c[e];let l={parse:t=>{let o={},s=!1,c=e.url_converter,u=e.url_converter_scope||l,d=(e,t,n)=>{let r=o[e+`-top`+t];if(!r)return;let i=o[e+`-right`+t];if(!i)return;let a=o[e+`-bottom`+t];if(!a)return;let s=o[e+`-left`+t];if(!s)return;let c=[r,i,a,s],l=c.length-1;for(;l--&&c[l]===c[l+1];);l>-1&&n||(o[e+t]=l===-1?c[0]:c.join(` `),delete o[e+`-top`+t],delete o[e+`-right`+t],delete o[e+`-bottom`+t],delete o[e+`-left`+t])},f=e=>{let t=o[e];if(!t)return;let n=t.indexOf(`,`)>-1?[t]:t.split(` `),r=n.length;for(;r--;)if(n[r]!==n[0])return!1;return o[e]=n[0],!0},p=(e,t,n,r)=>{f(t)&&f(n)&&f(r)&&(o[e]=o[t]+` `+o[n]+` `+o[r],delete o[t],delete o[n],delete o[r])},m=e=>(s=!0,a[e]),h=(e,t)=>(s&&(e=e.replace(/\uFEFF[0-9]/g,e=>a[e])),t||(e=e.replace(/\\([\'\";:])/g,`$1`)),e),g=e=>String.fromCharCode(parseInt(e.slice(1),16)),_=e=>e.replace(/\\[0-9a-f]+/gi,g),y=(t,n,r,i,a,o)=>{if(a||=o,a)return a=h(a),`'`+a.replace(/\'/g,`\\'`)+`'`;if(n=h(n||r||i||``),!e.allow_script_urls){let t=n.replace(/[\s\r\n]+/g,``);if(/(java|vb)script:/i.test(t)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return``}return c&&(n=c.call(u,n,`style`)),`url('`+n.replace(/\'/g,`\\'`)+`')`};if(t){t=t.replace(/[\u0000-\u001F]/g,``),t=t.replace(/\\[\"\';:\uFEFF]/g,m).replace(/\"[^\"]+\"|\'[^\']+\'/g,e=>e.replace(/[;:]/g,m));let a;for(;a=r.exec(t);){r.lastIndex=a.index+a[0].length;let t=a[1].replace(i,``).toLowerCase(),c=a[2].replace(i,``);if(t&&c){if(t=_(t),c=_(c),t.indexOf(`﻿`)!==-1||t.indexOf(`"`)!==-1||!e.allow_script_urls&&(t===`behavior`||/expression\s*\(|\/\*|\*\//.test(c)))continue;t===`font-weight`&&c===`700`?c=`bold`:(t===`color`||t===`background-color`)&&(c=c.toLowerCase()),v(e.force_hex_color)&&e.force_hex_color!==`off`&&Ec(c).each(t=>{(e.force_hex_color===`always`||t.alpha===1)&&(c=Oc(Dc(t)))}),c=c.replace(n,y),o[t]=s?h(c,!0):c}}d(`border`,``,!0),d(`border`,`-width`),d(`border`,`-color`),d(`border`,`-style`),d(`padding`,``),d(`margin`,``),p(`border`,`border-width`,`border-style`,`border-color`),o.border===`medium none`&&delete o.border,o[`border-image`]===`none`&&delete o[`border-image`]}return o},serialize:(e,t)=>{let n=``,r=(t,r)=>{let i=r[t];if(i)for(let t=0,r=i.length;t<r;t++){let r=i[t],a=e[r];a&&(n+=(n.length>0?` `:``)+r+`: `+a+`;`)}},i=(e,t)=>{if(!s||!t)return!0;let n=s[`*`];return n&&n[e]?!1:(n=s[t],!(n&&n[e]))};return t&&o?(r(`*`,o),r(t,o)):Le(e,(e,r)=>{e&&i(r,t)&&(n+=(n.length>0?` `:``)+r+`: `+e+`;`)}),n}};return l},Ac={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},jc=e=>e instanceof Event||D(e.initEvent),Mc=e=>e.isDefaultPrevented===F||e.isDefaultPrevented===P,Nc=e=>T(e.preventDefault)||jc(e),Pc=(e,t)=>{let n=t??{};for(let t in e)Ke(Ac,t)||(n[t]=e[t]);return E(e.composedPath)&&(n.composedPath=()=>e.composedPath()),E(e.getModifierState)&&(n.getModifierState=t=>e.getModifierState(t)),E(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},Fc=(e,t,n,r)=>{let i=Pc(t,r);return i.type=e,T(i.target)&&(i.target=i.srcElement??n),Nc(t)&&(i.preventDefault=()=>{i.defaultPrevented=!0,i.isDefaultPrevented=F,D(t.preventDefault)&&t.preventDefault()},i.stopPropagation=()=>{i.cancelBubble=!0,i.isPropagationStopped=F,D(t.stopPropagation)&&t.stopPropagation()},i.stopImmediatePropagation=()=>{i.isImmediatePropagationStopped=F,i.stopPropagation()},Mc(i)||(i.isDefaultPrevented=i.defaultPrevented===!0?F:P,i.isPropagationStopped=i.cancelBubble===!0?F:P,i.isImmediatePropagationStopped=P)),i},Ic=/^(?:mouse|contextmenu)|click/,Lc=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},Rc=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},zc=e=>E(e)&&Ic.test(e.type),Bc=(e,t)=>{let n=Fc(e.type,e,document,t);if(zc(e)&&w(e.pageX)&&!w(e.clientX)){let t=n.target.ownerDocument||document,r=t.documentElement,i=t.body,a=n;a.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),a.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)}return n},Vc=(e,t,n)=>{let r=e.document,i={type:`ready`};if(n.domLoaded){t(i);return}let a=()=>r.readyState===`complete`||r.readyState===`interactive`&&r.body,o=()=>{Rc(e,`DOMContentLoaded`,o),Rc(e,`load`,o),n.domLoaded||(n.domLoaded=!0,t(i)),e=null};a()?o():Lc(e,`DOMContentLoaded`,o),n.domLoaded||Lc(e,`load`,o)};class Hc{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=`mce-data-`+(+new Date).toString(32),this.hasFocusIn=`onfocusin`in document.documentElement,this.count=1}bind(e,t,n,r){let i=this,a,o=window,s=e=>{i.executeHandlers(Bc(e||o.event),c)};if(!e||G(e)||ba(e))return n;let c;e[i.expando]?c=e[i.expando]:(c=i.count++,e[i.expando]=c,i.events[c]={}),r||=e;let l=t.split(` `),u=l.length;for(;u--;){let t=l[u],d=s,f=!1,p=!1;if(t===`DOMContentLoaded`&&(t=`ready`),i.domLoaded&&t===`ready`&&e.readyState===`complete`){n.call(r,Bc({type:t}));continue}!i.hasFocusIn&&(t===`focusin`||t===`focusout`)&&(f=!0,p=t===`focusin`?`focus`:`blur`,d=e=>{let t=Bc(e||o.event);t.type=t.type===`focus`?`focusin`:`focusout`,i.executeHandlers(t,c)}),a=i.events[c][t],a?t===`ready`&&i.domLoaded?n(Bc({type:t})):a.push({func:n,scope:r}):(i.events[c][t]=a=[{func:n,scope:r}],a.fakeName=p,a.capture=f,a.nativeHandler=d,t===`ready`?Vc(e,d,i):Lc(e,p||t,d,f))}return e=a=null,n}unbind(e,t,n){if(!e||G(e)||ba(e))return this;let r=e[this.expando];if(r){let i=this.events[r];if(t){let r=t.split(` `),a=r.length;for(;a--;){let t=r[a],o=i[t];if(o){if(n){let e=o.length;for(;e--;)if(o[e].func===n){let n=o.nativeHandler,r=o.fakeName,a=o.capture,s=o.slice(0,e).concat(o.slice(e+1));s.nativeHandler=n,s.fakeName=r,s.capture=a,i[t]=s}}(!n||o.length===0)&&(delete i[t],Rc(e,o.fakeName||t,o.nativeHandler,o.capture))}}}else Le(i,(t,n)=>{Rc(e,t.fakeName||n,t.nativeHandler,t.capture)}),i={};for(let e in i)if(Ke(i,e))return this;delete this.events[r];try{delete e[this.expando]}catch{e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){if(!e||G(e)||ba(e))return this;let r=Bc({type:t,target:e},n);do{let t=e[this.expando];t&&this.executeHandlers(r,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!r.isPropagationStopped());return this}clean(e){if(!e||G(e)||ba(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);let t=e.getElementsByTagName(`*`),n=t.length;for(;n--;)e=t[n],e[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){let n=this.events[t],r=n&&n[e.type];if(r)for(let t=0,n=r.length;t<n;t++){let n=r[t];if(n&&n.func.call(n.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}Hc.Event=new Hc;let Uc=H.each,Wc=H.grep,Gc=`data-mce-style`,Kc=H.makeMap(`fill-opacity font-weight line-height opacity orphans widows z-index zoom`,` `),qc=(e,t,n)=>{T(n)||n===``?Jn(e,t):Un(e,t,n)},Jc=e=>e.replace(/[A-Z]/g,e=>`-`+e.toLowerCase()),Yc=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,i=e.previousSibling;i;i=i.previousSibling){let e=i.nodeType;t&&G(i)&&(e===r||!i.data.length)||(n++,r=e)}return n},Xc=(e,t)=>{let n=Gn(t,`style`);qc(t,Gc,e.serialize(e.parse(n),Mn(t)))},Zc=(e,t)=>O(e)?Ke(Kc,t)?e+``:e+`px`:e,Qc=(e,t,n)=>{let r=Jc(t);T(n)||n===``?vi(e,r):fi(e,r,Zc(n,r))},$c=(e,t,n)=>{let r=t.keep_values,i={set:(e,r,i)=>{let a=U.fromDom(e);D(t.url_converter)&&E(r)&&(r=t.url_converter.call(t.url_converter_scope||n(),String(r),i,e)),qc(a,`data-mce-`+i,r),qc(a,i,r)},get:(e,t)=>{let n=U.fromDom(e);return Gn(n,`data-mce-`+t)||Gn(n,t)}},a={style:{set:(t,n)=>{let i=U.fromDom(t);r&&qc(i,Gc,n),Jn(i,`style`),v(n)&&pi(i,e.parse(n))},get:t=>{let n=U.fromDom(t),r=Gn(n,Gc)||Gn(n,`style`);return e.serialize(e.parse(r),Mn(n))}}};return r&&(a.href=a.src=i),a},el=(e,t={})=>{let n={},r=window,i={},a=0,o=ks.forElement(U.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),s=[],c=t.schema?t.schema:_c({}),l=kc({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,force_hex_color:t.force_hex_color},t.schema),u=t.ownEvents?new Hc:Hc.Event,d=c.getBlockElements(),f=e=>v(e)?Ke(d,e):W(e)&&(Ke(d,e.nodeName)||bs(c,e)),p=t=>t&&e&&v(t)?e.getElementById(t):t,m=e=>{let t=p(e);return E(t)?U.fromDom(t):null},h=(e,t,n=``)=>{let r,i=m(e);if(E(i)&&Ln(i)){let e=Je[t];r=e&&e.get?e.get(i.dom,t):Gn(i,t)}return E(r)?r:n},g=e=>{let t=p(e);return T(t)?[]:t.attributes},_=(e,n,r)=>{F(e,e=>{if(W(e)){let i=U.fromDom(e),a=r===``?null:r,o=Gn(i,n),s=Je[n];s&&s.set?s.set(i.dom,a,n):qc(i,n,a),o!==a&&t.onSetAttrib&&t.onSetAttrib({attrElm:i.dom,attrName:n,attrValue:a})}})},y=(e,t)=>e.cloneNode(t),b=()=>t.root_element||e.body,S=e=>{let t=Qi(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},C=(t,n)=>Ds(e.body,p(t),n),w=(e,n,r)=>{F(e,e=>{let i=U.fromDom(e);Qc(i,n,r),t.update_styles&&Xc(l,i)})},O=(e,n)=>{F(e,e=>{let r=U.fromDom(e);Le(n,(e,t)=>{Qc(r,t,e)}),t.update_styles&&Xc(l,r)})},ee=(e,t,n)=>{let r=p(e);if(!(T(r)||!oa(r)&&!sa(r)))return n?mi(U.fromDom(r),Jc(t)):(t=t.replace(/-(\D)/g,(e,t)=>t.toUpperCase()),t===`float`&&(t=`cssFloat`),r.style?r.style[t]:void 0)},te=e=>{let t=p(e);if(!t)return{w:0,h:0};let n=ee(t,`width`),r=ee(t,`height`);return(!n||n.indexOf(`px`)===-1)&&(n=`0`),(!r||r.indexOf(`px`)===-1)&&(r=`0`),{w:parseInt(n,10)||t.offsetWidth||t.clientWidth,h:parseInt(r,10)||t.offsetHeight||t.clientHeight}},A=e=>{let t=p(e),n=C(t),r=te(t);return{x:n.x,y:n.y,w:r.w,h:r.h}},ne=(e,t)=>e?pe(x(e)?e:[e],e=>hr(U.fromDom(e),t)):!1,re=(e,t,n,r)=>{let i=[],a=p(e);r=r===void 0;let o=n||(b().nodeName===`BODY`?null:b().parentNode);if(v(t))if(t===`*`)t=W;else{let e=t;t=t=>ne(t,e)}for(;a&&!(a===o||T(a.nodeType)||xa(a)||Sa(a));){if(!t||t(a))if(r)i.push(a);else return[a];a=a.parentNode}return r?i:null},M=(e,t,n)=>{let r=re(e,t,n,!1);return r&&r.length>0?r[0]:null},N=(e,t,n)=>{let r=t;if(e){v(t)&&(r=e=>ne(e,t));for(let t=e[n];t;t=t[n])if(D(r)&&r(t))return t}return null},ie=(e,t)=>N(e,t,`nextSibling`),ae=(e,t)=>N(e,t,`previousSibling`),oe=e=>D(e.querySelectorAll),P=(n,r)=>{let i=p(r)??t.root_element??e;return oe(i)?Me(i.querySelectorAll(n)):[]},F=function(e,t,n){let r=n??this;if(x(e)){let n=[];return Uc(e,(e,i)=>{let a=p(e);a&&n.push(t.call(r,a,i))}),n}else{let n=p(e);return n?t.call(r,n):!1}},I=(e,t)=>{F(e,e=>{Le(t,(t,n)=>{_(e,n,t)})})},se=(e,t)=>{F(e,e=>{Ni(U.fromDom(e),t)})},ce=(t,n,r,i,a)=>F(t,t=>{let o=v(n)?e.createElement(n):n;return E(r)&&I(o,r),i&&(!v(i)&&i.nodeType?o.appendChild(i):v(i)&&se(o,i)),a?o:t.appendChild(o)}),le=(t,n,r)=>ce(e.createElement(t),t,n,r,!0),ue=Qs.decode,de=Qs.encodeAllRaw,fe=(e,t,n=``)=>{let r=`<`+e;for(let e in t)qe(t,e)&&(r+=` `+e+`="`+de(t[e])+`"`);return Dt(n)&&Ke(c.getVoidElements(),e)?r+` />`:r+`>`+n+`</`+e+`>`},me=t=>{let n=e.createElement(`div`),r=e.createDocumentFragment();r.appendChild(n),t&&(n.innerHTML=t);let i;for(;i=n.firstChild;)r.appendChild(i);return r.removeChild(n),r},he=(e,t)=>F(e,e=>{let n=U.fromDom(e);return t&&L(Nr(n),e=>{Rn(e)&&e.dom.length===0?Oi(e):bi(n,e)}),Oi(n),n.dom}),ge=e=>F(e,e=>{let t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))}),R=e=>l.parse(e),_e=(e,t)=>l.serialize(e,t),ve=t=>{if(Ge!==el.DOM&&e===document){if(n[t])return;n[t]=!0}let r=e.getElementById(`mceDefaultStyles`);if(!r){r=e.createElement(`style`),r.id=`mceDefaultStyles`,r.type=`text/css`;let t=e.head;t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(e.createTextNode(t))},ye=e=>{e||=``,L(e.split(`,`),e=>{i[e]=!0,o.load(e).catch(k)})},be=(e,t,n)=>{F(e,e=>{if(W(e)){let r=U.fromDom(e);L(t.split(` `),e=>{E(n)?(n?ar:sr)(r,e):cr(r,e)})}})},xe=(e,t)=>{be(e,t,!0)},Se=(e,t)=>{be(e,t,!1)},Ce=(e,t)=>{let n=m(e),r=t.split(` `);return E(n)&&we(r,e=>lr(n,e))},Te=e=>{F(e,e=>vi(U.fromDom(e),`display`))},Ee=e=>{F(e,e=>fi(U.fromDom(e),`display`,`none`))},De=e=>{let t=m(e);return E(t)&&vn(gi(t,`display`),`none`)},Oe=e=>(e||`mce_`)+ a++,ke=e=>{let t=m(e);return E(t)?W(t.dom)?t.dom.outerHTML:Pi(t):``},Ae=(e,t)=>{F(e,e=>{W(e)&&(e.outerHTML=t)})},je=(e,t)=>{let n=p(t);return F(e,e=>{let t=n?.parentNode,r=n?.nextSibling;return t&&(r?t.insertBefore(e,r):t.appendChild(e)),e})},Ne=(e,t,n)=>F(t,r=>{var i;let a=x(t)?e.cloneNode(!0):e;return n&&Uc(Wc(r.childNodes),e=>{a.appendChild(e)}),(i=r.parentNode)==null||i.replaceChild(a,r),r}),Pe=(e,t)=>{if(e.nodeName!==t.toUpperCase()){let n=le(t);return Uc(g(e),t=>{_(n,t.nodeName,h(e,t.nodeName))}),Ne(n,e,!0),n}else return e},Fe=(e,t)=>{let n=e;for(;n;){let e=t;for(;e&&n!==e;)e=e.parentNode;if(n===e)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},Ie=e=>{if(W(e)){let t=e.nodeName.toLowerCase()===`a`&&!h(e,`href`)&&h(e,`id`);if(h(e,`name`)||h(e,`data-mce-bookmark`)||t)return!0}return!1},z=(e,t,n)=>{let r=0;if(Ie(e))return!1;let i=e.firstChild;if(i){let a=new ra(i,e),o=c?c.getWhitespaceElements():{},s=t||(c?c.getNonEmptyElements():null),l=i;do{if(W(l)){let e=l.getAttribute(`data-mce-bogus`);if(e){l=a.next(e===`all`);continue}let t=l.nodeName.toLowerCase();if(s&&s[t]){if(t===`br`){r++,l=a.next();continue}return!1}if(Ie(l))return!1}if(ba(l)||G(l)&&!Ro(l.data)&&(!n?.includeZwsp||!zo(l.data))||G(l)&&l.parentNode&&o[l.parentNode.nodeName]&&Ro(l.data))return!1;l=a.next()}while(l)}return r<=1},Re=()=>e.createRange(),ze=(e,t,n)=>{let r=Re(),i,a;if(e&&t&&e.parentNode&&t.parentNode){let o=e.parentNode;return r.setStart(o,Yc(e)),r.setEnd(t.parentNode,Yc(t)),i=r.extractContents(),r=Re(),r.setStart(t.parentNode,Yc(t)+1),r.setEnd(o,Yc(e)+1),a=r.extractContents(),o.insertBefore(Is(Ge,i,c),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(Is(Ge,a,c),e),he(e),n||t}else return},Be=(n,i,a,o)=>{if(x(n)){let e=n.length,t=[];for(;e--;)t[e]=Be(n[e],i,a,o);return t}else return t.collect&&(n===e||n===r)&&s.push([n,i,a,o]),u.bind(n,i,a,o||Ge)},Ve=(t,n,i)=>{if(x(t)){let e=t.length,r=[];for(;e--;)r[e]=Ve(t[e],n,i);return r}else{if(s.length>0&&(t===e||t===r)){let e=s.length;for(;e--;){let[r,a,o]=s[e];t===r&&(!n||n===a)&&(!i||i===o)&&u.unbind(r,a,o)}}return u.unbind(t,n,i)}},He=(e,t,n)=>u.dispatch(e,t,n),Ue=(e,t,n)=>u.dispatch(e,t,n),We=e=>{if(e&&oa(e)){let t=e.getAttribute(`data-mce-contenteditable`);return t&&t!==`inherit`?t:e.contentEditable===`inherit`?null:e.contentEditable}else return null},Ge={doc:e,settings:t,win:r,files:i,stdMode:!0,boxModel:!0,styleSheetLoader:o,boundEvents:s,styles:l,schema:c,events:u,isBlock:f,root:null,clone:y,getRoot:b,getViewPort:S,getRect:A,getSize:te,getParent:M,getParents:re,get:p,getNext:ie,getPrev:ae,select:P,is:ne,add:ce,create:le,createHTML:fe,createFragment:me,remove:he,setStyle:w,getStyle:ee,setStyles:O,removeAllAttribs:ge,setAttrib:_,setAttribs:I,getAttrib:h,getPos:C,parseStyle:R,serializeStyle:_e,addStyle:ve,loadCSS:ye,addClass:xe,removeClass:Se,hasClass:Ce,toggleClass:be,show:Te,hide:Ee,isHidden:De,uniqueId:Oe,setHTML:se,getOuterHTML:ke,setOuterHTML:Ae,decode:ue,encode:de,insertAfter:je,replace:Ne,rename:Pe,findCommonAncestor:Fe,run:F,getAttribs:g,isEmpty:z,createRng:Re,nodeIndex:Yc,split:ze,bind:Be,unbind:Ve,fire:Ue,dispatch:He,getContentEditable:We,getContentEditableParent:e=>{let t=b(),n=null;for(let r=e;r&&r!==t&&(n=We(r),n===null);r=r.parentNode);return n},isEditable:e=>{if(E(e)){let t=W(e)?e:e.parentElement;return E(t)&&oa(t)&&si(U.fromDom(t))}else return!1},destroy:()=>{if(s.length>0){let e=s.length;for(;e--;){let[t,n,r]=s[e];u.unbind(t,n,r)}}Le(i,(e,t)=>{o.unload(t),delete i[t]})},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>`startContainer: `+e.startContainer.nodeName+`, startOffset: `+e.startOffset+`, endContainer: `+e.endContainer.nodeName+`, endOffset: `+e.endOffset},Je=$c(l,t,j(Ge));return Ge};el.DOM=el(document),el.nodeIndex=Yc;let tl=el.DOM;class nl{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise((t,n)=>{let r=tl,i,a=()=>{r.remove(c),i&&(i.onerror=i.onload=i=null)},o=()=>{a(),t()},s=()=>{a(),n(`Failed to load script: `+e)},c=r.uniqueId();i=document.createElement(`script`),i.id=c,i.type=`text/javascript`,i.src=H._addCacheSuffix(e),this.settings.referrerPolicy&&r.setAttrib(i,`referrerpolicy`,this.settings.referrerPolicy),i.onload=o,i.onerror=s,(document.getElementsByTagName(`head`)[0]||document.body).appendChild(i)})}isDone(e){return this.states[e]===2}markDone(e){this.states[e]=2}add(e){let t=this;return t.queue.push(e),t.states[e]===void 0&&(t.states[e]=0),new Promise((n,r)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:r})})}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){let e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){let t=this,n=(e,n)=>{Ge(t.scriptLoadedCallbacks,n).each(t=>{L(t,t=>t[e](n))}),delete t.scriptLoadedCallbacks[n]},r=e=>{let t=R(e,e=>e.status===`rejected`);return t.length>0?Promise.reject(Ce(t,({reason:e})=>x(e)?e:[e])):Promise.resolve()},i=e=>Promise.allSettled(me(e,e=>t.states[e]===2?(n(`resolve`,e),Promise.resolve()):t.states[e]===3?(n(`reject`,e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then(()=>{t.states[e]=2,n(`resolve`,e);let a=t.queue;return a.length>0?(t.queue=[],i(a).then(r)):Promise.resolve()},()=>(t.states[e]=3,n(`reject`,e),Promise.reject(e)))))),a=e=>(t.loading=!0,i(e).then(e=>{t.loading=!1;let n=t.queueLoadedCallbacks.shift();return I.from(n).each(oe),r(e)})),o=Ye(e);return t.loading?new Promise((e,n)=>{t.queueLoadedCallbacks.push(()=>{a(o).then(e,n)})}):a(o)}}nl.ScriptLoader=new nl;let rl=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},il=(e,t)=>{let n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},al=e=>y(e)&&Ke(e,`raw`),ol=e=>x(e)&&e.length>1,sl={},cl=rl(`en`),ll=()=>Ge(sl,cl.get()),ul={getData:()=>z(sl,e=>({...e})),setCode:e=>{e&&cl.set(e)},getCode:()=>cl.get(),add:(e,t)=>{let n=sl[e];n||(sl[e]=n={});let r=me(Fe(t),e=>e.toLowerCase());Le(t,(e,i)=>{let a=i.toLowerCase();a!==i&&il(r,a)?(Ke(t,a)||(n[a]=e),n[i]=e):n[a]=e})},translate:e=>{let t=ll().getOr({}),n=e=>D(e)?Object.prototype.toString.call(e):r(e)?``:``+e,r=e=>e===``||e==null,i=e=>{let r=n(e);return Ke(t,r)?n(t[r]):Ge(t,r.toLowerCase()).map(n).getOr(r)},a=e=>e.replace(/{context:\w+}$/,``);if(r(e))return``;if(al(e))return n(e.raw);if(ol(e)){let t=e.slice(1);return a(i(e[0]).replace(/\{([0-9]+)\}/g,(e,r)=>Ke(t,r)?n(t[r]):e))}return a(i(e))},isRtl:()=>ll().bind(e=>Ge(e,`_dir`)).exists(e=>e===`rtl`),hasCode:e=>Ke(sl,e)},dl=()=>{let e=[],t={},n={},r=[],i=(e,t)=>{L(R(r,n=>n.name===e&&n.state===t),e=>e.resolve())},a=e=>Ke(t,e),o=e=>Ke(n,e),s=e=>{if(n[e])return n[e].instance},c=(e,n)=>{let r=ul.getCode(),i=`,`+(n||``)+`,`;!r||n&&i.indexOf(`,`+r+`,`)===-1||nl.ScriptLoader.add(t[e]+`/langs/`+r+`.js`)},l=(e,t)=>{dl.languageLoad!==!1&&(a(e)?c(e,t):m(e,`loaded`).then(()=>c(e,t)))},u=(t,r)=>(e.push(r),n[t]={instance:r},i(t,`added`),r),d=e=>{delete t[e],delete n[e]},f=(e,t)=>v(t)?v(e)?{prefix:``,resource:t,suffix:``}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,p=(e,r)=>{if(t[e])return Promise.resolve();let a=v(r)?r:r.prefix+r.resource+r.suffix;a.indexOf(`/`)!==0&&a.indexOf(`://`)===-1&&(a=dl.baseURL+`/`+a),t[e]=a.substring(0,a.lastIndexOf(`/`));let o=()=>(i(e,`loaded`),Promise.resolve());return n[e]?o():nl.ScriptLoader.add(a).then(o)},m=(e,t=`added`)=>t===`added`&&o(e)||t===`loaded`&&a(e)?Promise.resolve():new Promise(n=>{r.push({name:e,state:t,resolve:n})});return{items:e,urls:t,lookup:n,get:s,requireLangPack:l,add:u,remove:d,createUrl:f,load:p,waitFor:m}};dl.languageLoad=!0,dl.baseURL=``,dl.PluginManager=dl(),dl.ThemeManager=dl(),dl.ModelManager=dl();let fl=e=>{let t=rl(I.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(I.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(I.some(e))}}},pl=e=>{let t=rl(I.none()),n=()=>t.get().each(e=>clearInterval(e));return{clear:()=>{n(),t.set(I.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:r=>{n(),t.set(I.some(setInterval(r,e)))}}},ml=()=>{let e=fl(k),t=t=>e.get().each(t);return{...e,on:t}},hl=(e,t)=>{let n=null;return{cancel:()=>{S(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{S(n)&&(n=setTimeout(()=>{n=null,e.apply(null,r)},t))}}},gl=(e,t)=>{let n=null,r=()=>{S(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...i)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,i)},t)}}},_l=j(`mce-annotation`),vl=j(`data-mce-annotation`),yl=j(`data-mce-annotation-uid`),bl=j(`data-mce-annotation-active`),xl=j(`data-mce-annotation-classes`),Sl=j(`data-mce-annotation-attrs`),Cl=e=>t=>yr(t,e),wl=(e,t)=>{let n=e.selection.getRng(),r=U.fromDom(n.startContainer),i=U.fromDom(e.getBody()),a=t.fold(()=>`.`+_l(),e=>`[${vl()}="${e}"]`);return ai(Pr(r,n.startOffset).getOr(r),a,Cl(i)).bind(t=>Kn(t,`${yl()}`).bind(n=>Kn(t,`${vl()}`).map(t=>({uid:n,name:t,elements:Dl(e,n)}))))},Tl=e=>Ln(e)&&lr(e,_l()),El=(e,t)=>qn(e,`data-mce-bogus`)||na(e,`[data-mce-bogus="all"]`,Cl(t)),Dl=(e,t)=>{let n=U.fromDom(e.getBody());return R(ta(n,`[${yl()}="${t}"]`),e=>!El(e,n))},Ol=(e,t)=>{let n=U.fromDom(e.getBody()),r=ta(n,`[${vl()}="${t}"]`),i={};return L(r,e=>{if(!El(e,n)){let t=Gn(e,yl());i[t]=Ge(i,t).getOr([]).concat([e])}}),i},kl=(e,t)=>{let n=rl({}),r=()=>({listeners:[],previous:ml()}),i=(e,t)=>{a(e,e=>(t(e),e))},a=(e,t)=>{let i=n.get();i[e]=t(Ge(i,e).getOrThunk(r)),n.set(i)},o=(e,t,n)=>{i(e,r=>{L(r.listeners,r=>r(!0,e,{uid:t,nodes:me(n,e=>e.dom)}))})},s=e=>{i(e,t=>{L(t.listeners,t=>t(!1,e))})},c=(t,n)=>{L(Dl(e,t),e=>{n?Un(e,bl(),`true`):Jn(e,bl())})},l=gl(()=>{L(Oe(t.getNames()),t=>{a(t,n=>{let r=n.previous.get();return wl(e,I.some(t)).fold(()=>{r.each(e=>{s(t),n.previous.clear(),c(e,!1)})},({uid:e,name:t,elements:i})=>{vn(r,e)||(r.each(e=>c(e,!1)),o(t,e,i),n.previous.set(e),c(e,!0))}),{previous:n.previous,listeners:n.listeners}})})},30);return e.on(`remove`,()=>{l.cancel()}),e.on(`NodeChange`,()=>{l.throttle()}),{addListener:(e,t)=>{a(e,e=>({previous:e.previous,listeners:e.listeners.concat([t])}))}}},Al=(e,t)=>{let n=vl(),r=e=>I.from(e.attr(n)).bind(t.lookup),i=e=>{e.attr(yl(),null),e.attr(vl(),null),e.attr(bl(),null);let t=I.from(e.attr(Sl())).map(e=>e.split(`,`)).getOr([]),n=I.from(e.attr(xl())).map(e=>e.split(`,`)).getOr([]);L(t,t=>e.attr(t,null));let r=Ee(e.attr(`class`)?.split(` `)??[],[_l()].concat(n));e.attr(`class`,r.length>0?r.join(` `):null),e.attr(xl(),null),e.attr(Sl(),null)};e.serializer.addTempAttr(bl()),e.serializer.addAttributeFilter(n,e=>{for(let t of e)r(t).each(e=>{e.persistent===!1&&(t.name===`span`?t.unwrap():i(t))})})},jl=()=>{let e={};return{register:(t,n)=>{e[t]={name:t,settings:n}},lookup:t=>Ge(e,t).map(e=>e.settings),getNames:()=>Fe(e)}},Ml=0,Nl=e=>{let t=new Date().getTime(),n=Math.floor(Math.random()*1e9);return Ml++,e+`_`+n+Ml+String(t)},Pl=(e,t)=>{L(t,t=>{ar(e,t)})},Fl=(e,t)=>{L(t,t=>{sr(e,t)})},Il=(e,t)=>U.fromDom(e.dom.cloneNode(t)),Ll=e=>Il(e,!1),Rl=e=>Il(e,!0),zl=(e,t)=>{let n=U.fromTag(t);return Wn(n,Xn(e)),n},Bl=(e,t)=>{let n=zl(e,t);return xi(e,n),Ei(n,Nr(e)),Oi(e),n},Vl=(e,t,n=P)=>{let r=new ra(e,t),i=e=>{let t;do t=r[e]();while(t&&!G(t)&&!n(t));return I.from(t).filter(G)};return{current:()=>I.from(r.current()).filter(G),next:()=>i(`next`),prev:()=>i(`prev`),prev2:()=>i(`prev2`)}},Hl=(e,t)=>{let n=t||(t=>e.isBlock(t)||Ca(t)||Ea(t)),r=(e,t,n,i)=>{if(G(e)){let n=i(e,t,e.data);if(n!==-1)return I.some({container:e,offset:n})}return n().bind(e=>r(e.container,e.offset,n,i))};return{backwards:(t,i,a,o)=>{let s=Vl(t,o??e.getRoot(),n);return r(t,i,()=>s.prev().map(e=>({container:e,offset:e.length})),a).getOrNull()},forwards:(t,i,a,o)=>{let s=Vl(t,o??e.getRoot(),n);return r(t,i,()=>s.next().map(e=>({container:e,offset:0})),a).getOrNull()}}},Ul=Math.round,Wl=e=>e?{left:Ul(e.left),top:Ul(e.top),bottom:Ul(e.bottom),right:Ul(e.right),width:Ul(e.width),height:Ul(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Gl=(e,t)=>(e=Wl(e),t||(e.left+=e.width),e.right=e.left,e.width=0,e),Kl=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,ql=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,Jl=(e,t)=>{let n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:ql(t.top-e.bottom,e,t)},Yl=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:ql(t.bottom-e.top,e,t),Xl=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,Zl=e=>ve(e,(e,t)=>e.fold(()=>I.some(t),e=>{let n=Math.min(t.left,e.left),r=Math.min(t.top,e.top),i=Math.max(t.right,e.right),a=Math.max(t.bottom,e.bottom);return I.some({top:r,right:i,bottom:a,left:n,width:i-n,height:a-r})}),I.none()),Ql=(e,t,n)=>{let r=Math.max(Math.min(t,e.left+e.width),e.left),i=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-i)*(n-i))},$l=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),eu=(e,t,n)=>Math.min(Math.max(e,t),n),tu=e=>{let t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},nu=(e,t)=>{if(W(e)&&e.hasChildNodes()){let n=e.childNodes;return n[eu(t,0,n.length-1)]}else return e},ru=(e,t)=>{if(!(t<0&&W(e)&&e.hasChildNodes()))return nu(e,t)},iu=RegExp(`[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]`),au=e=>v(e)&&e.charCodeAt(0)>=768&&iu.test(e),ou=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},su=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},cu=W,lu=Ao,uu=ua(`display`,`block table`),du=su(cu,lu,N(ua(`float`,`left right`))),fu=N(ua(`white-space`,`pre pre-line pre-wrap`)),pu=G,mu=Ca,hu=el.nodeIndex,gu=ru,_u=e=>e?e.createRange():el.DOM.createRng(),vu=e=>v(e)&&/[\r\n\t ]/.test(e),yu=e=>!!e.setStart&&!!e.setEnd,bu=e=>{let t=e.startContainer,n=e.startOffset;if(vu(e.toString())&&fu(t.parentNode)&&G(t)){let e=t.data;if(vu(e[n-1])||vu(e[n+1]))return!0}return!1},xu=e=>{let t=e.ownerDocument,n=_u(t),r=t.createTextNode(`\xA0`),i=e.parentNode;i.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);let a=Wl(n.getBoundingClientRect());return i.removeChild(r),a},Su=e=>{let t=e.startContainer,n=e.endContainer,r=e.startOffset,i=e.endOffset;if(t===n&&G(n)&&r===0&&i===1){let t=e.cloneRange();return t.setEndAfter(n),wu(t)}else return null},Cu=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,wu=e=>{let t,n=e.getClientRects();return t=n.length>0?Wl(n[0]):Wl(e.getBoundingClientRect()),!yu(e)&&mu(e)&&Cu(t)?xu(e):Cu(t)&&yu(e)?Su(e)??t:t},Tu=(e,t)=>{let n=Gl(e,t);return n.width=1,n.right=n.left+1,n},Eu=e=>{let t=[],n=e=>{e.height!==0&&(t.length>0&&Kl(e,t[t.length-1])||t.push(e))},r=(e,t)=>{let r=_u(e.ownerDocument);if(t<e.data.length){if(au(e.data[t]))return;if(au(e.data[t-1])&&(r.setStart(e,t),r.setEnd(e,t+1),!bu(r))){n(Tu(wu(r),!1));return}}t>0&&(r.setStart(e,t-1),r.setEnd(e,t),bu(r)||n(Tu(wu(r),!1))),t<e.data.length&&(r.setStart(e,t),r.setEnd(e,t+1),bu(r)||n(Tu(wu(r),!0)))},i=e.container(),a=e.offset();if(pu(i))return r(i,a),t;if(cu(i))if(e.isAtEnd()){let e=gu(i,a);pu(e)&&r(e,e.data.length),du(e)&&!mu(e)&&n(Tu(wu(e),!1))}else{let o=gu(i,a);if(pu(o)&&r(o,0),du(o)&&e.isAtEnd())return n(Tu(wu(o),!1)),t;let s=gu(e.container(),e.offset()-1);du(s)&&!mu(s)&&(uu(s)||uu(o)||!du(o))&&n(Tu(wu(s),!1)),du(o)&&n(Tu(wu(o),!0))}return t},Y=(e,t,n)=>{let r=()=>(pu(e),t===0),i=()=>pu(e)?t>=e.data.length:t>=e.childNodes.length,a=()=>{let n=_u(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},o=()=>(n||=Eu(Y(e,t)),n);return{container:j(e),offset:j(t),toRange:a,getClientRects:o,isVisible:()=>o().length>0,isAtStart:r,isAtEnd:i,isEqual:n=>n&&e===n.container()&&t===n.offset(),getNode:n=>gu(e,n?t-1:t)}};Y.fromRangeStart=e=>Y(e.startContainer,e.startOffset),Y.fromRangeEnd=e=>Y(e.endContainer,e.endOffset),Y.after=e=>Y(e.parentNode,hu(e)+1),Y.before=e=>Y(e.parentNode,hu(e)),Y.isAbove=(e,t)=>xn(Ae(t.getClientRects()),je(e.getClientRects()),Jl).getOr(!1),Y.isBelow=(e,t)=>xn(je(t.getClientRects()),Ae(e.getClientRects()),Yl).getOr(!1),Y.isAtStart=e=>e?e.isAtStart():!1,Y.isAtEnd=e=>e?e.isAtEnd():!1,Y.isTextPosition=e=>e?G(e.container()):!1,Y.isElementPosition=e=>!Y.isTextPosition(e);let Du=(e,t)=>{G(t)&&t.data.length===0&&e.remove(t)},Ou=(e,t,n)=>{t.insertNode(n),Du(e,n.previousSibling),Du(e,n.nextSibling)},ku=(e,t,n)=>{let r=I.from(n.firstChild),i=I.from(n.lastChild);t.insertNode(n),r.each(t=>Du(e,t.previousSibling)),i.each(t=>Du(e,t.nextSibling))},Au=(e,t,n)=>{Sa(n)?ku(e,t,n):Ou(e,t,n)},ju=G,Mu=pa,Nu=el.nodeIndex,Pu=e=>{let t=e.parentNode;return Mu(t)?Pu(t):t},Fu=e=>e?rt(e.childNodes,(e,t)=>(Mu(t)&&t.nodeName!==`BR`?e=e.concat(Fu(t)):e.push(t),e),[]):[],Iu=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&ju(n);)t+=n.data.length;return t},Lu=e=>t=>e===t,Ru=e=>{let t,n;t=Fu(Pu(e)),n=it(t,Lu(e),e),t=t.slice(0,n+1);let r=rt(t,(e,n,r)=>(ju(n)&&ju(t[r-1])&&e++,e),0);return t=tt(t,la([e.nodeName])),n=it(t,Lu(e),e),n-r},zu=e=>(ju(e)?`text()`:e.nodeName.toLowerCase())+`[`+Ru(e)+`]`,Bu=(e,t,n)=>{let r=[];for(let i=t.parentNode;i&&i!==e&&!(n&&n(i));i=i.parentNode)r.push(i);return r},Vu=(e,t)=>{let n=[],r=t.container(),i=t.offset(),a;if(ju(r))a=Iu(r,i);else{let e=r.childNodes;i>=e.length?(a=`after`,i=e.length-1):a=`before`,r=e[i]}n.push(zu(r));let o=Bu(e,r);return o=tt(o,N(pa)),n=n.concat(et(o,e=>zu(e))),n.reverse().join(`/`)+`,`+a},Hu=(e,t,n)=>{let r=Fu(e);return r=tt(r,(e,t)=>!ju(e)||!ju(r[t-1])),r=tt(r,la([t])),r[n]},Uu=(e,t)=>{let n=e,r=0;for(;ju(n);){let i=n.data.length;if(t>=r&&t<=r+i){e=n,t-=r;break}if(!ju(n.nextSibling)){e=n,t=i;break}r+=i,n=n.nextSibling}return ju(e)&&t>e.data.length&&(t=e.data.length),Y(e,t)},Wu=(e,t)=>{if(!t)return null;let n=t.split(`,`),r=n[0].split(`/`),i=n.length>1?n[1]:`before`,a=rt(r,(e,t)=>{let n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?(n[1]===`text()`&&(n[1]=`#text`),Hu(e,n[1],parseInt(n[2],10))):null},e);if(!a)return null;if(!ju(a)&&a.parentNode){let e;return e=i===`after`?Nu(a)+1:Nu(a),Y(a.parentNode,e)}return Uu(a,parseInt(i,10))},Gu=Ea,Ku=(e,t,n)=>{let r=e(t.data.slice(0,n)).length;for(let n=t.previousSibling;n&&G(n);n=n.previousSibling)r+=e(n.data).length;return r},qu=(e,t,n,r,i)=>{let a=i?r.startContainer:r.endContainer,o=i?r.startOffset:r.endOffset,s=[],c=e.getRoot();if(G(a))s.push(n?Ku(t,a,o):o);else{let t=0,r=a.childNodes;o>=r.length&&r.length&&(t=1,o=Math.max(0,r.length-1)),s.push(e.nodeIndex(r[o],n)+t)}for(let t=a;t&&t!==c;t=t.parentNode)s.push(e.nodeIndex(t,n));return s},Ju=(e,t,n,r)=>{let i=t.dom,a=qu(i,e,n,r,!0),o=t.isForward(),s=xo(r)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:a,forward:o,...s}:{start:a,end:qu(i,e,n,r,!1),forward:o,...s}},Yu=(e,t,n)=>{let r=0;return H.each(e.select(t),e=>{if(e.getAttribute(`data-mce-bogus`)!==`all`){if(e===n)return!1;r++}}),r},Xu=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(W(n)&&n.nodeName===`TR`){let i=n.childNodes;n=i[Math.min(t?r:r-1,i.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},Zu=e=>(Xu(e,!0),Xu(e,!1),e),Qu=(e,t)=>{if(W(e)&&(e=nu(e,t),Gu(e)))return e;if(uo(e)){G(e)&&co(e)&&(e=e.parentNode);let t=e.previousSibling;if(Gu(t)||(t=e.nextSibling,Gu(t)))return t}},$u=e=>Qu(e.startContainer,e.startOffset)||Qu(e.endContainer,e.endOffset),ed=(e,t,n)=>{let r=n.getNode(),i=n.getRng();if(r.nodeName===`IMG`||Gu(r)){let e=r.nodeName;return{name:e,index:Yu(n.dom,e,r)}}let a=$u(i);if(a){let e=a.tagName;return{name:e,index:Yu(n.dom,e,a)}}return Ju(e,n,t,i)},td=e=>{let t=e.getRng();return{start:Vu(e.dom.getRoot(),Y.fromRangeStart(t)),end:Vu(e.dom.getRoot(),Y.fromRangeEnd(t)),forward:e.isForward()}},nd=e=>({rng:e.getRng(),forward:e.isForward()}),rd=(e,t,n)=>{let r={"data-mce-type":`bookmark`,id:t,style:`overflow:hidden;line-height:0px`};return n?e.create(`span`,r,`&#xFEFF;`):e.create(`span`,r)},id=(e,t)=>{let n=e.dom,r=e.getRng(),i=n.uniqueId(),a=e.isCollapsed(),o=e.getNode(),s=o.nodeName,c=e.isForward();if(s===`IMG`)return{name:s,index:Yu(n,s,o)};let l=Zu(r.cloneRange());a||(l.collapse(!1),Au(n,l,rd(n,i+`_end`,t))),r=Zu(r),r.collapse(!0);let u=rd(n,i+`_start`,t);return Au(n,r,u),e.moveToBookmark({id:i,keep:!0,forward:c}),{id:i,forward:c}},ad=(e,t,n=!1)=>t===2?ed(io,n,e):t===3?td(e):t?nd(e):id(e,!1),od=M(ed,ne,!0),sd=e=>{let t=t=>t(e),n=j(e),r=()=>i,i={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:F,isError:P,map:t=>ld.value(t(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:t=>{t(e)},toOptional:()=>I.some(e)};return i},cd=e=>{let t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:P,isError:F,map:t,mapError:t=>ld.error(t(e)),bind:t,exists:P,forall:F,getOr:ne,or:ne,getOrThunk:ae,orThunk:ae,getOrDie:ie(String(e)),each:k,toOptional:I.none};return n},ld={value:sd,error:cd,fromOption:(e,t)=>e.fold(()=>cd(t),sd)},ud={generate:e=>{if(!x(e))throw Error(`cases must be an array`);if(e.length===0)throw Error(`there must be at least one case`);let t=[],n={};return L(e,(r,i)=>{let a=Fe(r);if(a.length!==1)throw Error(`one and only one name per case`);let o=a[0],s=r[o];if(n[o]!==void 0)throw Error(`duplicate key detected:`+o);if(o===`cata`)throw Error(`cannot have a case named cata (sorry)`);if(!x(s))throw Error(`case arguments must be an array`);t.push(o),n[o]=(...n)=>{let r=n.length;if(r!==s.length)throw Error(`Wrong number of arguments to case `+o+`. Expected `+s.length+` (`+s+`), got `+r);return{fold:(...t)=>{if(t.length!==e.length)throw Error(`Wrong number of arguments to fold. Expected `+e.length+`, got `+t.length);return t[i].apply(null,n)},match:e=>{let r=Fe(e);if(t.length!==r.length)throw Error(`Wrong number of arguments to match. Expected: `+t.join(`,`)+`
Actual: `+r.join(`,`));if(!we(t,e=>fe(r,e)))throw Error(`Not all branches were specified when using match. Specified: `+r.join(`, `)+`
Required: `+t.join(`, `));return e[o].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:o,params:n})}}}}),n}};ud.generate([{bothErrors:[`error1`,`error2`]},{firstError:[`error1`,`value2`]},{secondError:[`value1`,`error2`]},{bothValues:[`value1`,`value2`]}]);let dd=e=>{let t=[],n=[];return L(e,e=>{e.fold(e=>{t.push(e)},e=>{n.push(e)})}),{errors:t,values:n}},fd=e=>e.type===`inline-command`||e.type===`inline-format`,pd=e=>e.type===`block-command`||e.type===`block-format`,md=e=>{let t=t=>ld.error({message:t,pattern:e}),n=(n,r,i)=>{if(e.format!==void 0){let i;if(x(e.format)){if(!we(e.format,v))return t(n+" pattern has non-string items in the `format` array");i=e.format}else if(v(e.format))i=[e.format];else return t(n+" pattern has non-string `format` parameter");return ld.value(r(i))}else if(e.cmd!==void 0)return v(e.cmd)?ld.value(i(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter");else return t(n+" pattern is missing both `format` and `cmd` parameters")};if(!y(e))return t(`Raw pattern is not an object`);if(!v(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!v(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,i=e.end;return i.length===0&&(i=r,r=``),n(`Inline`,e=>({type:`inline-format`,start:r,end:i,format:e}),(e,t)=>({type:`inline-command`,start:r,end:i,cmd:e,value:t}))}else if(e.replacement!==void 0)return v(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):ld.value({type:`inline-command`,start:``,end:e.start,cmd:`mceInsertContent`,value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter");else return e.start.length===0?t("Block pattern has empty `start` parameter"):n(`Block`,t=>({type:`block-format`,start:e.start,format:t[0]}),(t,n)=>({type:`block-command`,start:e.start,cmd:t,value:n}))},hd=e=>R(e,pd),gd=e=>R(e,fd),_d=(e,t)=>({inlinePatterns:gd(e),blockPatterns:hd(e),dynamicPatternsLookup:t}),vd=e=>{let t=dd(me(e,md));return L(t.errors,e=>console.error(e.message,e.pattern)),t.values},yd=e=>t=>vd(e(t)),bd=nn().deviceType,xd=bd.isTouch(),Sd=el.DOM,Cd=e=>ve(e.indexOf(`=`)>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(`,`),(e,t)=>{let n=t.split(`=`),r=n[0],i=n.length>1?n[1]:r;return e[Ct(r)]=Ct(i),e},{}),wd=e=>_(e,RegExp),X=e=>t=>t.options.get(e),Td=e=>v(e)||y(e),Ed=(e,t=``)=>n=>{let r=v(n);return r?n.indexOf(`=`)===-1?{value:n,valid:r}:{value:Ge(Cd(n),e.id).getOr(t),valid:r}:{valid:!1,message:`Must be a string.`}},Z=e=>{let t=e.options.register;t(`id`,{processor:`string`,default:e.id}),t(`selector`,{processor:`string`}),t(`target`,{processor:`object`}),t(`suffix`,{processor:`string`}),t(`cache_suffix`,{processor:`string`}),t(`base_url`,{processor:`string`}),t(`referrer_policy`,{processor:`string`,default:``}),t(`language_load`,{processor:`boolean`,default:!0}),t(`inline`,{processor:`boolean`,default:!1}),t(`iframe_attrs`,{processor:`object`,default:{}}),t(`doctype`,{processor:`string`,default:`<!DOCTYPE html>`}),t(`document_base_url`,{processor:`string`,default:e.documentBaseUrl}),t(`body_id`,{processor:Ed(e,`tinymce`),default:`tinymce`}),t(`body_class`,{processor:Ed(e),default:``}),t(`content_security_policy`,{processor:`string`,default:``}),t(`br_in_pre`,{processor:`boolean`,default:!0}),t(`forced_root_block`,{processor:e=>{let t=v(e)&&Et(e);return t?{value:e,valid:t}:{valid:!1,message:`Must be a non-empty string.`}},default:`p`}),t(`forced_root_block_attrs`,{processor:`object`,default:{}}),t(`newline_behavior`,{processor:e=>{let t=fe([`block`,`linebreak`,`invert`,`default`],e);return t?{value:e,valid:t}:{valid:!1,message:`Must be one of: block, linebreak, invert or default.`}},default:`default`}),t(`br_newline_selector`,{processor:`string`,default:`.mce-toc h2,figcaption,caption`}),t(`no_newline_selector`,{processor:`string`,default:``}),t(`keep_styles`,{processor:`boolean`,default:!0}),t(`end_container_on_empty_block`,{processor:e=>C(e)||v(e)?{valid:!0,value:e}:{valid:!1,message:`Must be boolean or a string`},default:`blockquote`}),t(`font_size_style_values`,{processor:`string`,default:`xx-small,x-small,small,medium,large,x-large,xx-large`}),t(`font_size_legacy_values`,{processor:`string`,default:`xx-small,small,medium,large,x-large,xx-large,300%`}),t(`font_size_classes`,{processor:`string`,default:``}),t(`automatic_uploads`,{processor:`boolean`,default:!0}),t(`images_reuse_filename`,{processor:`boolean`,default:!1}),t(`images_replace_blob_uris`,{processor:`boolean`,default:!0}),t(`icons`,{processor:`string`,default:``}),t(`icons_url`,{processor:`string`,default:``}),t(`images_upload_url`,{processor:`string`,default:``}),t(`images_upload_base_path`,{processor:`string`,default:``}),t(`images_upload_credentials`,{processor:`boolean`,default:!1}),t(`images_upload_handler`,{processor:`function`}),t(`language`,{processor:`string`,default:`en`}),t(`language_url`,{processor:`string`,default:``}),t(`entity_encoding`,{processor:`string`,default:`named`}),t(`indent`,{processor:`boolean`,default:!0}),t(`indent_before`,{processor:`string`,default:`p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist`}),t(`indent_after`,{processor:`string`,default:`p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist`}),t(`indent_use_margin`,{processor:`boolean`,default:!1}),t(`indentation`,{processor:`string`,default:`40px`}),t(`content_css`,{processor:e=>{let t=e===!1||v(e)||ee(e,v);return t?v(e)?{value:me(e.split(`,`),Ct),valid:t}:x(e)?{value:e,valid:t}:e===!1?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:`Must be false, a string or an array of strings.`}},default:Cf(e)?[]:[`default`]}),t(`content_style`,{processor:`string`}),t(`content_css_cors`,{processor:`boolean`,default:!1}),t(`font_css`,{processor:e=>{let t=v(e)||ee(e,v);return t?{value:x(e)?e:me(e.split(`,`),Ct),valid:t}:{valid:!1,message:`Must be a string or an array of strings.`}},default:[]}),t(`inline_boundaries`,{processor:`boolean`,default:!0}),t(`inline_boundaries_selector`,{processor:`string`,default:`a[href],code,span.mce-annotation`}),t(`object_resizing`,{processor:e=>{let t=C(e)||v(e);return t?e===!1||bd.isiPhone()||bd.isiPad()?{value:``,valid:t}:{value:e===!0?`table,img,figure.image,div,video,iframe`:e,valid:t}:{valid:!1,message:`Must be boolean or a string`}},default:!xd}),t(`resize_img_proportional`,{processor:`boolean`,default:!0}),t(`event_root`,{processor:`object`}),t(`service_message`,{processor:`string`}),t(`theme`,{processor:e=>e===!1||v(e)||D(e),default:`silver`}),t(`theme_url`,{processor:`string`}),t(`formats`,{processor:`object`}),t(`format_empty_lines`,{processor:`boolean`,default:!1}),t(`format_noneditable_selector`,{processor:`string`,default:``}),t(`preview_styles`,{processor:e=>{let t=e===!1||v(e);return t?{value:e===!1?``:e,valid:t}:{valid:!1,message:`Must be false or a string`}},default:`font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow`}),t(`custom_ui_selector`,{processor:`string`,default:``}),t(`hidden_input`,{processor:`boolean`,default:!0}),t(`submit_patch`,{processor:`boolean`,default:!0}),t(`encoding`,{processor:`string`}),t(`add_form_submit_trigger`,{processor:`boolean`,default:!0}),t(`add_unload_trigger`,{processor:`boolean`,default:!0}),t(`custom_undo_redo_levels`,{processor:`number`,default:0}),t(`disable_nodechange`,{processor:`boolean`,default:!1}),t(`readonly`,{processor:`boolean`,default:!1}),t(`editable_root`,{processor:`boolean`,default:!0}),t(`plugins`,{processor:`string[]`,default:[]}),t(`external_plugins`,{processor:`object`}),t(`forced_plugins`,{processor:`string[]`}),t(`model`,{processor:`string`,default:e.hasPlugin(`rtc`)?`plugin`:`dom`}),t(`model_url`,{processor:`string`}),t(`block_unsupported_drop`,{processor:`boolean`,default:!0}),t(`visual`,{processor:`boolean`,default:!0}),t(`visual_table_class`,{processor:`string`,default:`mce-item-table`}),t(`visual_anchor_class`,{processor:`string`,default:`mce-item-anchor`}),t(`iframe_aria_text`,{processor:`string`,default:`Rich Text Area. Press ALT-0 for help.`}),t(`setup`,{processor:`function`}),t(`init_instance_callback`,{processor:`function`}),t(`url_converter`,{processor:`function`,default:e.convertURL}),t(`url_converter_scope`,{processor:`object`,default:e}),t(`urlconverter_callback`,{processor:`function`}),t(`allow_conditional_comments`,{processor:`boolean`,default:!1}),t(`allow_html_data_urls`,{processor:`boolean`,default:!1}),t(`allow_svg_data_urls`,{processor:`boolean`}),t(`allow_html_in_named_anchor`,{processor:`boolean`,default:!1}),t(`allow_script_urls`,{processor:`boolean`,default:!1}),t(`allow_unsafe_link_target`,{processor:`boolean`,default:!1}),t(`convert_fonts_to_spans`,{processor:`boolean`,default:!0,deprecated:!0}),t(`fix_list_elements`,{processor:`boolean`,default:!1}),t(`preserve_cdata`,{processor:`boolean`,default:!1}),t(`remove_trailing_brs`,{processor:`boolean`,default:!0}),t(`pad_empty_with_br`,{processor:`boolean`,default:!1}),t(`inline_styles`,{processor:`boolean`,default:!0,deprecated:!0}),t(`element_format`,{processor:`string`,default:`html`}),t(`entities`,{processor:`string`}),t(`schema`,{processor:`string`,default:`html5`}),t(`convert_urls`,{processor:`boolean`,default:!0}),t(`relative_urls`,{processor:`boolean`,default:!0}),t(`remove_script_host`,{processor:`boolean`,default:!0}),t(`custom_elements`,{processor:`string`}),t(`extended_valid_elements`,{processor:`string`}),t(`invalid_elements`,{processor:`string`}),t(`invalid_styles`,{processor:Td}),t(`valid_children`,{processor:`string`}),t(`valid_classes`,{processor:Td}),t(`valid_elements`,{processor:`string`}),t(`valid_styles`,{processor:Td}),t(`verify_html`,{processor:`boolean`,default:!0}),t(`auto_focus`,{processor:e=>v(e)||e===!0}),t(`browser_spellcheck`,{processor:`boolean`,default:!1}),t(`protect`,{processor:`array`}),t(`images_file_types`,{processor:`string`,default:`jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp`}),t(`deprecation_warnings`,{processor:`boolean`,default:!0}),t(`a11y_advanced_options`,{processor:`boolean`,default:!1}),t(`api_key`,{processor:`string`}),t(`paste_block_drop`,{processor:`boolean`,default:!1}),t(`paste_data_images`,{processor:`boolean`,default:!0}),t(`paste_preprocess`,{processor:`function`}),t(`paste_postprocess`,{processor:`function`}),t(`paste_webkit_styles`,{processor:`string`,default:`none`}),t(`paste_remove_styles_if_webkit`,{processor:`boolean`,default:!0}),t(`paste_merge_formats`,{processor:`boolean`,default:!0}),t(`smart_paste`,{processor:`boolean`,default:!0}),t(`paste_as_text`,{processor:`boolean`,default:!1}),t(`paste_tab_spaces`,{processor:`number`,default:4}),t(`text_patterns`,{processor:e=>ee(e,y)||e===!1?{value:vd(e===!1?[]:e),valid:!0}:{valid:!1,message:`Must be an array of objects or false.`},default:[{start:`*`,end:`*`,format:`italic`},{start:`**`,end:`**`,format:`bold`},{start:`#`,format:`h1`},{start:`##`,format:`h2`},{start:`###`,format:`h3`},{start:`####`,format:`h4`},{start:`#####`,format:`h5`},{start:`######`,format:`h6`},{start:`1. `,cmd:`InsertOrderedList`},{start:`* `,cmd:`InsertUnorderedList`},{start:`- `,cmd:`InsertUnorderedList`}]}),t(`text_patterns_lookup`,{processor:e=>D(e)?{value:yd(e),valid:!0}:{valid:!1,message:`Must be a single function`},default:e=>[]}),t(`noneditable_class`,{processor:`string`,default:`mceNonEditable`}),t(`editable_class`,{processor:`string`,default:`mceEditable`}),t(`noneditable_regexp`,{processor:e=>ee(e,wd)?{value:e,valid:!0}:wd(e)?{value:[e],valid:!0}:{valid:!1,message:`Must be a RegExp or an array of RegExp.`},default:[]}),t(`table_tab_navigation`,{processor:`boolean`,default:!0}),t(`highlight_on_focus`,{processor:`boolean`,default:!1}),t(`xss_sanitization`,{processor:`boolean`,default:!0}),t(`details_initial_state`,{processor:e=>{let t=fe([`inherited`,`collapsed`,`expanded`],e);return t?{value:e,valid:t}:{valid:!1,message:`Must be one of: inherited, collapsed, or expanded.`}},default:`inherited`}),t(`details_serialized_state`,{processor:e=>{let t=fe([`inherited`,`collapsed`,`expanded`],e);return t?{value:e,valid:t}:{valid:!1,message:`Must be one of: inherited, collapsed, or expanded.`}},default:`inherited`}),t(`init_content_sync`,{processor:`boolean`,default:!1}),t(`newdocument_content`,{processor:`string`,default:``}),t(`force_hex_color`,{processor:e=>{let t=[`always`,`rgb_only`,`off`],n=fe(t,e);return n?{value:e,valid:n}:{valid:!1,message:`Must be one of: ${t.join(`, `)}.`}},default:`off`}),t(`sandbox_iframes`,{processor:`boolean`,default:!1}),t(`convert_unsafe_embeds`,{processor:`boolean`,default:!1}),e.on(`ScriptsLoaded`,()=>{t(`directionality`,{processor:`string`,default:ul.isRtl()?`rtl`:void 0}),t(`placeholder`,{processor:`string`,default:Sd.getAttrib(e.getElement(),`placeholder`)})})},Dd=X(`iframe_attrs`),Od=X(`doctype`),kd=X(`document_base_url`),Ad=X(`body_id`),jd=X(`body_class`),Md=X(`content_security_policy`),Nd=X(`br_in_pre`),Pd=X(`forced_root_block`),Fd=X(`forced_root_block_attrs`),Id=X(`newline_behavior`),Ld=X(`br_newline_selector`),Rd=X(`no_newline_selector`),zd=X(`keep_styles`),Bd=X(`end_container_on_empty_block`),Vd=X(`automatic_uploads`),Hd=X(`images_reuse_filename`),Ud=X(`images_replace_blob_uris`),Wd=X(`icons`),Gd=X(`icons_url`),Kd=X(`images_upload_url`),qd=X(`images_upload_base_path`),Jd=X(`images_upload_credentials`),Yd=X(`images_upload_handler`),Xd=X(`content_css_cors`),Zd=X(`referrer_policy`),Qd=X(`language`),$d=X(`language_url`),ef=X(`indent_use_margin`),tf=X(`indentation`),nf=X(`content_css`),rf=X(`content_style`),af=X(`font_css`),of=X(`directionality`),sf=X(`inline_boundaries_selector`),cf=X(`object_resizing`),lf=X(`resize_img_proportional`),uf=X(`placeholder`),df=X(`event_root`),ff=X(`service_message`),pf=X(`theme`),mf=X(`theme_url`),hf=X(`model`),gf=X(`model_url`),_f=X(`inline_boundaries`),vf=X(`formats`),yf=X(`preview_styles`),bf=X(`format_empty_lines`),xf=X(`format_noneditable_selector`),Sf=X(`custom_ui_selector`),Cf=X(`inline`),wf=X(`hidden_input`),Tf=X(`submit_patch`),Ef=X(`add_form_submit_trigger`),Df=X(`add_unload_trigger`),Of=X(`custom_undo_redo_levels`),kf=X(`disable_nodechange`),Af=X(`readonly`),jf=X(`editable_root`),Mf=X(`content_css_cors`),Nf=X(`plugins`),Pf=X(`external_plugins`),Ff=X(`block_unsupported_drop`),If=X(`visual`),Lf=X(`visual_table_class`),Rf=X(`visual_anchor_class`),zf=X(`iframe_aria_text`),Bf=X(`setup`),Vf=X(`init_instance_callback`),Hf=X(`urlconverter_callback`),Uf=X(`auto_focus`),Wf=X(`browser_spellcheck`),Gf=X(`protect`),Kf=X(`paste_block_drop`),qf=X(`paste_data_images`),Jf=X(`paste_preprocess`),Yf=X(`paste_postprocess`),Xf=X(`newdocument_content`),Zf=X(`paste_webkit_styles`),Qf=X(`paste_remove_styles_if_webkit`),$f=X(`paste_merge_formats`),ep=X(`smart_paste`),tp=X(`paste_as_text`),np=X(`paste_tab_spaces`),rp=X(`allow_html_data_urls`),ip=X(`text_patterns`),ap=X(`text_patterns_lookup`),op=X(`noneditable_class`),sp=X(`editable_class`),cp=X(`noneditable_regexp`),lp=X(`preserve_cdata`),up=X(`highlight_on_focus`),dp=X(`xss_sanitization`),fp=X(`init_content_sync`),pp=e=>e.options.isSet(`text_patterns_lookup`),mp=e=>H.explode(e.options.get(`font_size_style_values`)),hp=e=>H.explode(e.options.get(`font_size_classes`)),gp=e=>e.options.get(`encoding`)===`xml`,_p=e=>H.explode(e.options.get(`images_file_types`)),vp=X(`table_tab_navigation`),yp=X(`details_initial_state`),bp=X(`details_serialized_state`),xp=X(`force_hex_color`),Sp=X(`sandbox_iframes`),Cp=W,wp=G,Tp=e=>{let t=e.parentNode;t&&t.removeChild(e)},Ep=e=>{let t=io(e);return{count:e.length-t.length,text:t}},Dp=e=>{let t;for(;(t=e.data.lastIndexOf(`﻿`))!==-1;)e.deleteData(t,1)},Op=(e,t)=>(Pp(e),t),kp=(e,t)=>{let n=Ep(e.data.substr(0,t.offset())),r=Ep(e.data.substr(t.offset()));return(n.text+r.text).length>0?(Dp(e),Y(e,t.offset()-n.count)):t},Ap=(e,t)=>{let n=t.container(),r=de(Me(n.childNodes),e).map(e=>e<t.offset()?Y(n,t.offset()-1):t).getOr(t);return Pp(e),r},jp=(e,t)=>wp(e)&&t.container()===e?kp(e,t):Op(e,t),Mp=(e,t)=>t.container()===e.parentNode?Ap(e,t):Op(e,t),Np=(e,t)=>Y.isTextPosition(t)?jp(e,t):Mp(e,t),Pp=e=>{Cp(e)&&uo(e)&&(fo(e)?e.removeAttribute(`data-mce-caret`):Tp(e)),wp(e)&&(Dp(e),e.data.length===0&&Tp(e))},Fp=Ea,Ip=Oa,Lp=Da,Rp=(e,t,n)=>{let r=Gl(t.getBoundingClientRect(),n),i,a;if(e.tagName===`BODY`){let t=e.ownerDocument.documentElement;i=e.scrollLeft||t.scrollLeft,a=e.scrollTop||t.scrollTop}else{let t=e.getBoundingClientRect();i=e.scrollLeft-t.left,a=e.scrollTop-t.top}r.left+=i,r.right+=i,r.top+=a,r.bottom+=a,r.width=1;let o=t.offsetWidth-t.clientWidth;return o>0&&(n&&(o*=-1),r.left+=o,r.right+=o),r},zp=e=>{var t,n;let r=ta(U.fromDom(e),`*[contentEditable=false],video,audio,embed,object`);for(let e=0;e<r.length;e++){let i=r[e].dom,a=i.previousSibling;if(vo(a)){let e=a.data;e.length===1?(t=a.parentNode)==null||t.removeChild(a):a.deleteData(e.length-1,1)}a=i.nextSibling,_o(a)&&(a.data.length===1?(n=a.parentNode)==null||n.removeChild(a):a.deleteData(0,1))}},Bp=(e,t,n,r)=>{let i=ml(),a,o,s=Pd(e),c=e.dom,l=(e,r)=>{let a;if(u(),Lp(r))return null;if(n(r)){let n=go(s,r,e),l=Rp(t,r,e);c.setStyle(n,`top`,l.top),o=n;let u=c.create(`div`,{class:`mce-visual-caret`,"data-mce-bogus":`all`});c.setStyles(u,{...l}),c.add(t,u),i.set({caret:u,element:r,before:e}),e&&c.addClass(u,`mce-visual-caret-before`),d(),a=r.ownerDocument.createRange(),a.setStart(n,0),a.setEnd(n,0)}else return o=po(r,e),a=r.ownerDocument.createRange(),Hp(o.nextSibling)?(a.setStart(o,0),a.setEnd(o,0)):(a.setStart(o,1),a.setEnd(o,1)),a;return a},u=()=>{zp(t),o&&=(Pp(o),null),i.on(e=>{c.remove(e.caret),i.clear()}),a&&=(clearInterval(a),void 0)},d=()=>{a=setInterval(()=>{i.on(e=>{r()?c.toggleClass(e.caret,`mce-visual-caret-hidden`):c.addClass(e.caret,`mce-visual-caret-hidden`)})},500)};return{show:l,hide:u,getCss:()=>`.mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}`,reposition:()=>{i.on(e=>{let n=Rp(t,e.element,e.before);c.setStyles(e.caret,{...n})})},destroy:()=>clearInterval(a)}},Vp=()=>un.browser.isFirefox(),Hp=e=>Fp(e)||Ip(e),Up=e=>(Hp(e)||ha(e)&&Vp())&&Er(U.fromDom(e)).exists(si),Wp=Ta,Gp=Ea,Kp=Oa,qp=ua(`display`,`block table table-cell table-caption list-item`),Jp=uo,Yp=co,Xp=W,Zp=G,Qp=Ao,$p=e=>e>0,em=e=>e<0,tm=(e,t)=>{let n;for(;n=e(t);)if(!Yp(n))return n;return null},nm=(e,t,n,r,i)=>{let a=new ra(e,r),o=Gp(e)||Yp(e),s;if(em(t)){if(o&&(s=tm(a.prev.bind(a),!0),n(s)))return s;for(;s=tm(a.prev.bind(a),i);)if(n(s))return s}if($p(t)){if(o&&(s=tm(a.next.bind(a),!0),n(s)))return s;for(;s=tm(a.next.bind(a),i);)if(n(s))return s}return null},rm=(e,t)=>Qr(U.fromDom(e),e=>Wp(e.dom),e=>e.dom===t).map(e=>e.dom).getOr(t),im=(e,t)=>{for(;e&&e!==t;){if(qp(e))return e;e=e.parentNode}return null},am=(e,t,n)=>im(e.container(),n)===im(t.container(),n),om=(e,t)=>{if(!t)return I.none();let n=t.container(),r=t.offset();return Xp(n)?I.from(n.childNodes[r+e]):I.none()},sm=(e,t)=>{let n=(t.ownerDocument??document).createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},cm=(e,t,n)=>im(t,e)===im(n,e),lm=(e,t,n)=>{let r=e?`previousSibling`:`nextSibling`,i=n;for(;i&&i!==t;){let e=i[r];if(e&&Jp(e)&&(e=e[r]),Gp(e)||Kp(e)){if(cm(t,e,i))return e;break}if(Qp(e))break;i=i.parentNode}return null},um=M(sm,!0),dm=M(sm,!1),fm=(e,t,n)=>{let r,i=M(lm,!0,t),a=M(lm,!1,t),o=n.startContainer,s=n.startOffset;if(co(o)){let e=Zp(o)?o.parentNode:o,t=e.getAttribute(`data-mce-caret`);if(t===`before`&&(r=e.nextSibling,Up(r)))return um(r);if(t===`after`&&(r=e.previousSibling,Up(r)))return dm(r)}if(!n.collapsed)return n;if(G(o)){if(Jp(o)){if(e===1){if(r=a(o),r)return um(r);if(r=i(o),r)return dm(r)}if(e===-1){if(r=i(o),r)return dm(r);if(r=a(o),r)return um(r)}return n}if(vo(o)&&s>=o.data.length-1)return e===1&&(r=a(o),r)?um(r):n;if(_o(o)&&s<=1)return e===-1&&(r=i(o),r)?dm(r):n;if(s===o.data.length)return r=a(o),r?um(r):n;if(s===0)return r=i(o),r?dm(r):n}return n},pm=(e,t)=>om(e?0:-1,t).filter(Gp),mm=(e,t,n)=>{let r=fm(e,t,n);return e===-1?Y.fromRangeStart(r):Y.fromRangeEnd(r)},hm=e=>I.from(e.getNode()).map(U.fromDom),gm=e=>I.from(e.getNode(!0)).map(U.fromDom),_m=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},vm=(e,t)=>{let n=am(e,t);return!n&&Ca(e.getNode())?!0:n};var ym;(function(e){e[e.Backwards=-1]=`Backwards`,e[e.Forwards=1]=`Forwards`})(ym||={});let bm=Ea,xm=G,Sm=W,Cm=Ca,wm=Ao,Tm=Fo,Em=Io,Dm=(e,t)=>{let n=[],r=e;for(;r&&r!==t;)n.push(r),r=r.parentNode;return n},Om=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,km=(e,t)=>{if($p(e)){if(wm(t.previousSibling)&&!xm(t.previousSibling))return Y.before(t);if(xm(t))return Y(t,0)}if(em(e)){if(wm(t.nextSibling)&&!xm(t.nextSibling))return Y.after(t);if(xm(t))return Y(t,t.data.length)}return em(e)?Cm(t)?Y.before(t):Y.after(t):Y.before(t)},Am=(e,t)=>{let n=t.nextSibling;return n&&wm(n)?xm(n)?Y(n,0):Y.before(n):jm(ym.Forwards,Y.after(t),e)},jm=(e,t,n)=>{let r,i,a,o;if(!Sm(n)||!t)return null;if(t.isEqual(Y.after(n))&&n.lastChild){if(o=Y.after(n.lastChild),em(e)&&wm(n.lastChild)&&Sm(n.lastChild))return Cm(n.lastChild)?Y.before(n.lastChild):o}else o=t;let s=o.container(),c=o.offset();if(xm(s)){if(em(e)&&c>0)return Y(s,--c);if($p(e)&&c<s.length)return Y(s,++c);r=s}else{if(em(e)&&c>0&&(i=Om(s,c-1),wm(i)))return!Tm(i)&&(a=nm(i,e,Em,i),a)?xm(a)?Y(a,a.data.length):Y.after(a):xm(i)?Y(i,i.data.length):Y.before(i);if($p(e)&&c<s.childNodes.length&&(i=Om(s,c),wm(i)))return Cm(i)?Am(n,i):!Tm(i)&&(a=nm(i,e,Em,i),a)?xm(a)?Y(a,0):Y.before(a):xm(i)?Y(i,0):Y.after(i);r=i||o.getNode()}if(r&&($p(e)&&o.isAtEnd()||em(e)&&o.isAtStart())&&(r=nm(r,e,F,n,!0),Em(r,n)))return km(e,r);i=r&&nm(r,e,Em,n);let l=at(R(Dm(s,n),bm));return l&&(!i||!l.contains(i))?(o=$p(e)?Y.after(l):Y.before(l),o):i?km(e,i):null},Mm=e=>({next:t=>jm(ym.Forwards,t,e),prev:t=>jm(ym.Backwards,t,e)}),Nm=(e,t,n)=>Bm(e,t,e?Y.before(n):Y.after(n)),Pm=e=>Ca(e)?Y.before(e):Y.after(e),Fm=e=>Y.isTextPosition(e)?e.offset()===0:Ao(e.getNode()),Im=e=>{if(Y.isTextPosition(e)){let t=e.container();return e.offset()===t.data.length}else return Ao(e.getNode(!0))},Lm=(e,t)=>!Y.isTextPosition(e)&&!Y.isTextPosition(t)&&e.getNode()===t.getNode(!0),Rm=e=>!Y.isTextPosition(e)&&Ca(e.getNode()),zm=(e,t,n)=>e?!Lm(t,n)&&!Rm(t)&&Im(t)&&Fm(n):!Lm(n,t)&&Fm(t)&&Im(n),Bm=(e,t,n)=>{let r=Mm(t);return I.from(e?r.next(n):r.prev(n))},Vm=(e,t,n)=>Bm(e,t,n).bind(r=>am(n,r,t)&&zm(e,n,r)?Bm(e,t,r):I.some(r)),Hm=(e,t,n,r)=>Vm(e,t,n).bind(n=>r(n)?Hm(e,t,n,r):I.some(n)),Um=(e,t)=>{let n=e?t.firstChild:t.lastChild;return G(n)?I.some(Y(n,e?0:n.data.length)):n?Ao(n)?I.some(e?Y.before(n):Pm(n)):Nm(e,t,n):I.none()},Wm=M(Bm,!0),Gm=M(Bm,!1),Km=M(Um,!0),qm=M(Um,!1),Jm=`_mce_caret`,Ym=e=>W(e)&&e.id===Jm,Xm=(e,t)=>{let n=t;for(;n&&n!==e;){if(Ym(n))return n;n=n.parentNode}return null},Zm=e=>v(e.start),Qm=e=>Ke(e,`rng`),$m=e=>Ke(e,`id`),eh=e=>Ke(e,`name`),th=e=>H.isArray(e.start),nh=e=>!eh(e)&&C(e.forward)?e.forward:!0,rh=(e,t)=>(W(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML=`<br data-mce-bogus="1" />`),t),ih=(e,t)=>xn(I.from(Wu(e.getRoot(),t.start)),I.from(Wu(e.getRoot(),t.end)),(n,r)=>{let i=e.createRng();return i.setStart(n.container(),n.offset()),i.setEnd(r.container(),r.offset()),{range:i,forward:nh(t)}}),ah=(e,t)=>{let n=(e.ownerDocument??document).createTextNode(`﻿`);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},oh=e=>!e.hasChildNodes(),sh=(e,t)=>qm(e).fold(P,e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0)),ch=(e,t,n)=>oh(t)&&Xm(e,t)?(ah(t,n),!0):!1,lh=(e,t,n,r)=>{let i=n[t?`start`:`end`],a=e.getRoot();if(i){let e=a,n=i[0];for(let t=i.length-1;e&&t>=1;t--){let n=e.childNodes;if(ch(a,e,r))return!0;if(i[t]>n.length-1)return ch(a,e,r)?!0:sh(e,r);e=n[i[t]]}G(e)&&(n=Math.min(i[0],e.data.length)),W(e)&&(n=Math.min(i[0],e.childNodes.length)),t?r.setStart(e,n):r.setEnd(e,n)}return!0},uh=e=>G(e)&&e.data.length>0,dh=(e,t,n)=>{let r=e.get(n.id+`_`+t),i=r?.parentNode,a=n.keep;if(r&&i){let o,s;if(t===`start`?a?r.hasChildNodes()?(o=r.firstChild,s=1):uh(r.nextSibling)?(o=r.nextSibling,s=0):uh(r.previousSibling)?(o=r.previousSibling,s=r.previousSibling.data.length):(o=i,s=e.nodeIndex(r)+1):(o=i,s=e.nodeIndex(r)):a?r.hasChildNodes()?(o=r.firstChild,s=1):uh(r.previousSibling)?(o=r.previousSibling,s=r.previousSibling.data.length):(o=i,s=e.nodeIndex(r)):(o=i,s=e.nodeIndex(r)),!a){let i=r.previousSibling,a=r.nextSibling;H.each(H.grep(r.childNodes),e=>{G(e)&&(e.data=e.data.replace(/\uFEFF/g,``))});let c;for(;c=e.get(n.id+`_`+t);)e.remove(c,!0);if(G(a)&&G(i)&&!un.browser.isOpera()){let t=i.data.length;i.appendData(a.data),e.remove(a),o=i,s=t}}return I.some(Y(o,s))}else return I.none()},fh=(e,t)=>{let n=e.createRng();return lh(e,!0,t,n)&&lh(e,!1,t,n)?I.some({range:n,forward:nh(t)}):I.none()},ph=(e,t)=>{let n=dh(e,`start`,t);return xn(n,dh(e,`end`,t).or(n),(n,r)=>{let i=e.createRng();return i.setStart(rh(e,n.container()),n.offset()),i.setEnd(rh(e,r.container()),r.offset()),{range:i,forward:nh(t)}})},mh=(e,t)=>I.from(e.select(t.name)[t.index]).map(t=>{let n=e.createRng();return n.selectNode(t),{range:n,forward:!0}}),hh=(e,t)=>{let n=e.dom;if(t){if(th(t))return fh(n,t);if(Zm(t))return ih(n,t);if($m(t))return ph(n,t);if(eh(t))return mh(n,t);if(Qm(t))return I.some({range:t.rng,forward:nh(t)})}return I.none()},Q=(e,t,n)=>ad(e,t,n),gh=(e,t)=>{hh(e,t).each(({range:t,forward:n})=>{e.setRng(t,n)})},_h=e=>W(e)&&e.tagName===`SPAN`&&e.getAttribute(`data-mce-type`)===`bookmark`,vh=(e=>t=>e===t)(`\xA0`),yh=e=>e!==``&&` \f
\r	\v`.indexOf(e)!==-1,bh=e=>!yh(e)&&!vh(e)&&!Ma(e),xh=e=>{let t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Sh=e=>Ce(e,e=>{let t=tu(e);return t?[U.fromDom(t)]:[]}),Ch=e=>xh(e).length>1,wh=e=>R(Sh(e),Xa),Th=e=>ta(e,`td[data-mce-selected],th[data-mce-selected]`),Eh=(e,t)=>{let n=Th(t);return n.length>0?n:wh(e)},Dh=e=>Eh(xh(e.selection.getSel()),U.fromDom(e.getBody())),Oh=(e,t)=>ri(e,`table`,t),kh=e=>{let t=e.startContainer,n=e.startOffset;return G(t)?n===0?I.some(U.fromDom(t)):I.none():I.from(t.childNodes[n]).map(U.fromDom)},Ah=e=>{let t=e.endContainer,n=e.endOffset;return G(t)?n===t.data.length?I.some(U.fromDom(t)):I.none():I.from(t.childNodes[n-1]).map(U.fromDom)},jh=e=>Fr(e).fold(j([e]),t=>[e].concat(jh(t))),Mh=e=>Ir(e).fold(j([e]),t=>Mn(t)===`br`?kr(t).map(t=>[e].concat(Mh(t))).getOr([]):[e].concat(Mh(t))),Nh=(e,t)=>xn(kh(t),Ah(t),(t,n)=>{let r=be(jh(e),M(yr,t)),i=be(Mh(e),M(yr,n));return r.isSome()&&i.isSome()}).getOr(!1),Ph=(e,t,n,r)=>{let i=n,a=new ra(n,i),o=He(e.schema.getMoveCaretBeforeOnEnterElements(),(e,t)=>!fe([`td`,`th`,`table`],t.toLowerCase())),s=n;do{if(G(s)&&H.trim(s.data).length!==0){r?t.setStart(s,0):t.setEnd(s,s.data.length);return}if(o[s.nodeName]){r?t.setStartBefore(s):s.nodeName===`BR`?t.setEndBefore(s):t.setEndAfter(s);return}}while(s=r?a.next():a.prev());i.nodeName===`BODY`&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},Fh=e=>{let t=e.selection.getSel();return E(t)&&t.rangeCount>0},Ih=(e,t)=>{let n=Dh(e);n.length>0?L(n,n=>{let r=n.dom,i=e.dom.createRng();i.setStartBefore(r),i.setEndAfter(r),t(i,!0)}):t(e.selection.getRng(),!1)},Lh=(e,t,n)=>{let r=id(e,t);n(r),e.moveToBookmark(r)},Rh=e=>O(e?.nodeType),zh=e=>W(e)&&!_h(e)&&!Ym(e)&&!pa(e),Bh=(e,t)=>{if(zh(t)&&!/^(TD|TH)$/.test(t.nodeName)){let n=e.getAttrib(t,`data-mce-selected`),r=parseInt(n,10);return!isNaN(r)&&r>0}else return!1},Vh=(e,t,n)=>{let{selection:r,dom:i}=e,a=r.getNode(),o=Ea(a);Lh(r,!0,()=>{t()}),o&&Ea(a)&&i.isChildOf(a,e.getBody())?e.selection.select(a):n(r.getStart())&&Hh(i,r)},Hh=(e,t)=>{let n=t.getRng(),{startContainer:r,startOffset:i}=n;if(!Bh(e,t.getNode())&&W(r)){let a=r.childNodes,o=e.getRoot(),s;if(i<a.length){let t=a[i];s=new ra(t,e.getParent(t,e.isBlock)??o)}else{let t=a[a.length-1];s=new ra(t,e.getParent(t,e.isBlock)??o),s.next(!0)}for(let r=s.current();r;r=s.next())if(e.getContentEditable(r)===`false`)return;else if(G(r)&&!Kh(r)){n.setStart(r,0),t.setRng(n);return}}},Uh=(e,t,n)=>{if(e){let r=t?`nextSibling`:`previousSibling`;for(e=n?e:e[r];e;e=e[r])if(W(e)||!Kh(e))return e}},Wh=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||bs(e,t),Gh=(e,t,n)=>e.schema.isValidChild(t,n),Kh=(e,t=!1)=>E(e)&&G(e)?Ro(t?e.data.replace(/ /g,`\xA0`):e.data):!1,qh=e=>E(e)&&G(e)&&e.length===0,Jh=(e,t)=>{let n=`[data-mce-cef-wrappable]`,r=xf(e),i=Dt(r)?n:`${n},${r}`;return hr(U.fromDom(t),i)},Yh=(e,t)=>{let n=e.dom;return zh(t)&&n.getContentEditable(t)===`false`&&Jh(e,t)&&n.select(`[contenteditable="true"]`,t).length===0},Xh=(e,t)=>D(e)?e(t):(E(t)&&(e=e.replace(/%(\w+)/g,(e,n)=>t[n]||e)),e),Zh=(e,t)=>(e||=``,t||=``,e=``+(e.nodeName||e),t=``+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),Qh=(e,t)=>{if(T(e))return null;{let n=String(e);return(t===`color`||t===`backgroundColor`)&&(n=Oc(n)),t===`fontWeight`&&e===700&&(n=`bold`),t===`fontFamily`&&(n=n.replace(/[\'\"]/g,``).replace(/,\s+/g,`,`)),n}},$h=(e,t,n)=>Qh(e.getStyle(t,n),n),eg=(e,t)=>{let n;return e.getParent(t,t=>W(t)?(n=e.getStyle(t,`text-decoration`),!!n&&n!==`none`):!1),n},tg=(e,t,n)=>e.getParents(t,n,e.getRoot()),ng=(e,t,n)=>{let r=e.formatter.get(t);return E(r)&&pe(r,n)},rg=(e,t)=>ng(e,t,e=>{let t=e=>D(e)||e.length>1&&e.charAt(0)===`%`;return pe([`styles`,`attributes`],n=>Ge(e,n).exists(e=>pe(x(e)?e:We(e),t)))}),ig=(e,t,n)=>{let r=[`inline`,`block`,`selector`,`attributes`,`styles`,`classes`],i=e=>He(e,(e,t)=>pe(r,e=>e===t));return ng(e,t,t=>{let r=i(t);return ng(e,n,e=>Je(r,i(e)))})},ag=e=>qe(e,`block`),og=e=>ag(e)&&e.wrapper===!0,sg=e=>ag(e)&&e.wrapper!==!0,cg=e=>qe(e,`selector`),lg=e=>qe(e,`inline`),ug=e=>cg(e)&&lg(e)&&vn(Ge(e,`mixed`),!0),dg=e=>cg(e)&&e.expand!==!1&&!lg(e),fg=e=>{let t=[],n=e;for(;n;){if(G(n)&&n.data!==`﻿`||n.childNodes.length>1)return[];W(n)&&t.push(n),n=n.firstChild}return t},pg=e=>fg(e).length>0,mg=e=>Ym(e.dom)&&pg(e.dom),hg=_h,gg=tg,_g=Kh,vg=Wh,yg=e=>Ca(e)&&e.getAttribute(`data-mce-bogus`)&&!e.nextSibling,bg=(e,t)=>{let n=t;for(;n;){if(W(n)&&e.getContentEditable(n))return e.getContentEditable(n)===`false`?n:t;n=n.parentNode}return t},xg=(e,t,n,r)=>{let i=t.data;if(e){for(let e=n;e>0;e--)if(r(i.charAt(e-1)))return e}else for(let e=n;e<i.length;e++)if(r(i.charAt(e)))return e;return-1},Sg=(e,t,n)=>xg(e,t,n,e=>vh(e)||yh(e)),Cg=(e,t,n)=>xg(e,t,n,bh),wg=(e,t,n,r,i,a)=>{let o,s=e.getParent(n,e.isBlock)||t,c=(t,n,r)=>{let a=Hl(e),c=i?a.backwards:a.forwards;return I.from(c(t,n,(e,t)=>hg(e.parentNode)?-1:(o=e,r(i,e,t)),s))};return c(n,r,Sg).bind(e=>a?c(e.container,e.offset+(i?-1:0),Cg):I.some(e)).orThunk(()=>o?I.some({container:o,offset:i?0:o.length}):I.none())},Tg=(e,t,n,r,i)=>{let a=r[i];G(r)&&Dt(r.data)&&a&&(r=a);let o=gg(e,r);for(let r=0;r<o.length;r++)for(let i=0;i<t.length;i++){let a=t[i];if(!(E(a.collapsed)&&a.collapsed!==n.collapsed)&&cg(a)&&e.is(o[r],a.selector))return o[r]}return r},Eg=(e,t,n,r)=>{let i=n,a=e.getRoot(),o=t[0];if(ag(o)&&(i=o.wrapper?null:e.getParent(n,o.block,a)),!i){let t=e.getParent(n,`LI,TD,TH,SUMMARY`)??a;i=e.getParent(G(n)?n.parentNode:n,t=>t!==a&&vg(e.schema,t),t)}if(i&&ag(o)&&o.wrapper&&(i=gg(e,i,`ul,ol`).reverse()[0]||i),!i)for(i=n;i&&i[r]&&!e.isBlock(i[r])&&(i=i[r],!Zh(i,`br`)););return i||n},Dg=(e,t,n,r)=>{let i=n.parentNode;return E(n[r])?!1:i===t||T(i)||e.isBlock(i)?!0:Dg(e,t,i,r)},Og=(e,t,n,r,i)=>{let a=n,o=i?`previousSibling`:`nextSibling`,s=e.getRoot();if(G(n)&&!_g(n)&&(i?r>0:r<n.data.length))return n;for(;a;){if(!t[0].block_expand&&e.isBlock(a))return a;for(let t=a[o];t;t=t[o]){let n=G(t)&&!Dg(e,s,t,o);if(!hg(t)&&!yg(t)&&!_g(t,n))return a}if(a===s||a.parentNode===s){n=a;break}a=a.parentNode}return n},kg=e=>hg(e.parentNode)||hg(e),Ag=(e,t,n,r=!1)=>{let{startContainer:i,startOffset:a,endContainer:o,endOffset:s}=t,c=n[0];return W(i)&&i.hasChildNodes()&&(i=nu(i,a),G(i)&&(a=0)),W(o)&&o.hasChildNodes()&&(o=nu(o,t.collapsed?s:s-1),G(o)&&(s=o.data.length)),i=bg(e,i),o=bg(e,o),kg(i)&&(i=hg(i)?i:i.parentNode,i=t.collapsed?i.previousSibling||i:i.nextSibling||i,G(i)&&(a=t.collapsed?i.length:0)),kg(o)&&(o=hg(o)?o:o.parentNode,o=t.collapsed?o.nextSibling||o:o.previousSibling||o,G(o)&&(s=t.collapsed?0:o.length)),t.collapsed&&(wg(e,e.getRoot(),i,a,!0,r).each(({container:e,offset:t})=>{i=e,a=t}),wg(e,e.getRoot(),o,s,!1,r).each(({container:e,offset:t})=>{o=e,s=t})),(lg(c)||c.block_expand)&&((!lg(c)||!G(i)||a===0)&&(i=Og(e,n,i,a,!0)),(!lg(c)||!G(o)||s===o.data.length)&&(o=Og(e,n,o,s,!1))),dg(c)&&(i=Tg(e,n,t,i,`previousSibling`),o=Tg(e,n,t,o,`nextSibling`)),(ag(c)||cg(c))&&(i=Eg(e,n,i,`previousSibling`),o=Eg(e,n,o,`nextSibling`),ag(c)&&(e.isBlock(i)||(i=Og(e,n,i,a,!0)),e.isBlock(o)||(o=Og(e,n,o,s,!1)))),W(i)&&i.parentNode&&(a=e.nodeIndex(i),i=i.parentNode),W(o)&&o.parentNode&&(s=e.nodeIndex(o)+1,o=o.parentNode),{startContainer:i,startOffset:a,endContainer:o,endOffset:s}},jg=(e,t,n)=>{let r=t.startOffset,i=nu(t.startContainer,r),a=t.endOffset,o=nu(t.endContainer,a-1),s=e=>{let t=e[0];G(t)&&t===i&&r>=t.data.length&&e.splice(0,1);let n=e[e.length-1];return a===0&&e.length>0&&n===o&&G(n)&&e.splice(e.length-1,1),e},c=(e,t,n)=>{let r=[];for(;e&&e!==n;e=e[t])r.push(e);return r},l=(t,n)=>e.getParent(t,e=>e.parentNode===n,n),u=(e,t,r)=>{let i=r?`nextSibling`:`previousSibling`;for(let a=e,o=a.parentNode;a&&a!==t;a=o){o=a.parentNode;let t=c(a===e?a:a[i],i);t.length&&(r||t.reverse(),n(s(t)))}};if(i===o)return n(s([i]));let d=e.findCommonAncestor(i,o)??e.getRoot();if(e.isChildOf(i,o))return u(i,d,!0);if(e.isChildOf(o,i))return u(o,d);let f=l(i,d)||i,p=l(o,d)||o;u(i,f,!0);let m=c(f===i?f:f.nextSibling,`nextSibling`,p===o?p.nextSibling:p);m.length&&n(s(m)),u(o,p)},Mg=[`pre[class*=language-][contenteditable="false"]`,`figure.image`,`div[data-ephox-embed-iri]`,`div.tiny-pageembed`,`div.mce-toc`,`div[data-mce-toc]`],Ng=e=>Rn(e)&&Fa(e)===`﻿`,Pg=(e,t,n,r)=>Tr(t).fold(()=>`skipping`,i=>r===`br`||Ng(t)?`valid`:Tl(t)?`existing`:Ym(t.dom)?`caret`:pe(Mg,e=>hr(t,e))?`valid-block`:!Gh(e,n,r)||!Gh(e,Mn(i),n)?`invalid-child`:`valid`),Fg=(e,t)=>{let n=Ag(e.dom,t,[{inline:`span`}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Ig=(e,t,n,r,i,a)=>{let{uid:o=t,...s}=n;ar(e,_l()),Un(e,`${yl()}`,o),Un(e,`${vl()}`,r);let{attributes:c={},classes:l=[]}=i(o,s);if(Wn(e,c),Pl(e,l),a){l.length>0&&Un(e,`${xl()}`,l.join(`,`));let t=Fe(c);t.length>0&&Un(e,`${Sl()}`,t.join(`,`))}},Lg=e=>{sr(e,_l()),Jn(e,`${yl()}`),Jn(e,`${vl()}`),Jn(e,`${bl()}`);let t=Kn(e,`${Sl()}`).map(e=>e.split(`,`)).getOr([]),n=Kn(e,`${xl()}`).map(e=>e.split(`,`)).getOr([]);L(t,t=>Jn(e,t)),Fl(e,n),Jn(e,`${xl()}`),Jn(e,`${Sl()}`)},Rg=(e,t,n,r,i)=>{let a=U.fromTag(`span`,e);return Ig(a,t,n,r,i,!1),a},zg=(e,t,n,r,i,a)=>{let o=[],s=Rg(e.getDoc(),n,a,r,i),c=ml(),l=()=>{c.clear()},u=()=>c.get().getOrThunk(()=>{let e=Ll(s);return o.push(e),c.set(e),e}),d=e=>{L(e,f)},f=t=>{switch(Pg(e,t,`span`,Mn(t))){case`invalid-child`:l(),d(Nr(t)),l();break;case`valid-block`:l(),Ig(t,n,a,r,i,!0);break;case`valid`:wi(t,u());break}},p=e=>{d(me(e,U.fromDom))};return jg(e.dom,t,e=>{l(),p(e)}),o},Bg=(e,t,n,r)=>{e.undoManager.transact(()=>{let i=e.selection,a=i.getRng(),o=Dh(e).length>0,s=Nl(`mce-annotation`);if(a.collapsed&&!o&&Fg(e,a),i.getRng().collapsed&&!o){let a=Rg(e.getDoc(),s,r,t,n.decorate);Ni(a,`\xA0`),i.getRng().insertNode(a.dom),i.select(a.dom)}else Lh(i,!1,()=>{Ih(e,i=>{zg(e,i,s,t,n.decorate,r)})})})},Vg=e=>{let t=jl();Al(e,t);let n=kl(e,t),r=Vn(`span`),i=e=>{L(e,e=>{r(e)?ki(e):Lg(e)})};return{register:(e,n)=>{t.register(e,n)},annotate:(n,r)=>{t.lookup(n).each(t=>{Bg(e,n,t,r)})},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{wl(e,I.some(t)).each(({elements:t})=>{let n=e.selection.getBookmark();i(t),e.selection.moveToBookmark(n)})},removeAll:t=>{let n=e.selection.getBookmark();Le(Ol(e,t),(e,t)=>{i(e)}),e.selection.moveToBookmark(n)},getAll:t=>z(Ol(e,t),e=>me(e,e=>e.dom))}},Hg=e=>({getBookmark:M(Q,e),moveToBookmark:M(gh,e)});Hg.isBookmarkNode=_h;let Ug=(e,t,n)=>n.collapsed?!1:pe(n.getClientRects(),n=>Xl(n,e,t)),Wg=(e,t)=>e.dispatch(`PreProcess`,t),Gg=(e,t)=>e.dispatch(`PostProcess`,t),Kg=e=>{e.dispatch(`remove`)},qg=e=>{e.dispatch(`detach`)},Jg=(e,t)=>{e.dispatch(`SwitchMode`,{mode:t})},Yg=(e,t,n,r,i)=>{e.dispatch(`ObjectResizeStart`,{target:t,width:n,height:r,origin:i})},Xg=(e,t,n,r,i)=>{e.dispatch(`ObjectResized`,{target:t,width:n,height:r,origin:i})},Zg=e=>{e.dispatch(`PreInit`)},Qg=e=>{e.dispatch(`PostRender`)},$g=e=>{e.dispatch(`Init`)},e_=(e,t)=>{e.dispatch(`PlaceholderToggle`,{state:t})},t_=(e,t,n)=>{e.dispatch(t,n)},n_=(e,t,n,r)=>{e.dispatch(`FormatApply`,{format:t,node:n,vars:r})},r_=(e,t,n,r)=>{e.dispatch(`FormatRemove`,{format:t,node:n,vars:r})},i_=(e,t)=>e.dispatch(`BeforeSetContent`,t),a_=(e,t)=>e.dispatch(`SetContent`,t),o_=(e,t)=>e.dispatch(`BeforeGetContent`,t),s_=(e,t)=>e.dispatch(`GetContent`,t),c_=(e,t)=>{e.dispatch(`AutocompleterStart`,t)},l_=(e,t)=>{e.dispatch(`AutocompleterUpdate`,t)},u_=e=>{e.dispatch(`AutocompleterEnd`)},d_=(e,t,n)=>e.dispatch(`PastePreProcess`,{content:t,internal:n}),f_=(e,t,n)=>e.dispatch(`PastePostProcess`,{node:t,internal:n}),p_=(e,t)=>e.dispatch(`PastePlainTextToggle`,{state:t}),m_=(e,t)=>e.dispatch(`EditableRootStateChange`,{state:t}),$={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||$.metaKeyPressed(e),metaKeyPressed:e=>un.os.isMacOS()||un.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},h_=`data-mce-selected`,g_=Math.abs,__=Math.round,v_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},y_=e=>e.type===`longpress`||e.type.indexOf(`touch`)===0,b_=(e,t)=>{let n=t.dom,r=t.getDoc(),i=document,a=t.getBody(),o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x=e=>E(e)&&(wa(e)||n.is(e,`figure.image`)),S=e=>Oa(e)||n.hasClass(e,`mce-preview-object`),C=(e,t)=>{if(y_(e)){let n=e.touches[0];return x(e.target)&&!Ug(n.clientX,n.clientY,t)}else return x(e.target)&&!Ug(e.clientX,e.clientY,t)},w=e=>{let n=e.target;C(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},T=e=>n.hasClass(e,`mce-preview-object`)&&E(e.firstElementChild)?[e,e.firstElementChild]:n.is(e,`figure.image`)?[e.querySelector(`img`)]:[e],D=e=>{let r=cf(t);return!r||e.getAttribute(`data-mce-resize`)===`false`||e===t.getBody()?!1:n.hasClass(e,`mce-preview-object`)&&E(e.firstElementChild)?hr(U.fromDom(e.firstElementChild),r):hr(U.fromDom(e),r)},O=e=>S(e)?n.create(`img`,{src:un.transparentSrc}):e.cloneNode(!0),ee=(e,r,i)=>{E(i)&&L(T(e),e=>{e.style[r]||!t.schema.isValid(e.nodeName.toLowerCase(),r)?n.setStyle(e,r,i):n.setAttrib(e,r,``+i)})},k=(e,t,n)=>{ee(e,`width`,t),ee(e,`height`,n)},te=e=>{let r,i,u,C,w;r=e.screenX-d,i=e.screenY-f,_=r*l[2]+p,v=i*l[3]+m,_=_<5?5:_,v=v<5?5:v,u=(x(o)||S(o))&&lf(t)!==!1?!$.modifierPressed(e):$.modifierPressed(e),u&&(g_(r)>g_(i)?(v=__(_*h),_=__(v/h)):(_=__(v/h),v=__(_*h))),k(s,_,v),C=l.startPos.x+r,w=l.startPos.y+i,C=C>0?C:0,w=w>0?w:0,n.setStyles(c,{left:C,top:w,display:`block`}),c.innerHTML=_+` &times; `+v,l[2]<0&&s.clientWidth<=_&&n.setStyle(s,`left`,void 0+(p-_)),l[3]<0&&s.clientHeight<=v&&n.setStyle(s,`top`,void 0+(m-v)),r=a.scrollWidth-y,i=a.scrollHeight-b,r+i!==0&&n.setStyles(c,{left:C-r,top:w-i}),g||=(Yg(t,o,p,m,`corner-`+l.name),!0)},A=()=>{let e=g;g=!1,e&&(ee(o,`width`,_),ee(o,`height`,v)),n.unbind(r,`mousemove`,te),n.unbind(r,`mouseup`,A),i!==r&&(n.unbind(i,`mousemove`,te),n.unbind(i,`mouseup`,A)),n.remove(s),n.remove(c),n.remove(u),j(o),e&&(Xg(t,o,_,v,`corner-`+l.name),n.setAttrib(o,`style`,n.getAttrib(o,`style`))),t.nodeChanged()},j=e=>{ie();let g=n.getPos(e,a),x=g.x,S=g.y,C=e.getBoundingClientRect(),w=C.width||C.right-C.left,E=C.height||C.bottom-C.top;o!==e&&(re(),o=e,_=v=0);let ee=t.dispatch(`ObjectSelected`,{target:e});D(e)&&!ee.isDefaultPrevented()?Le(v_,(e,t)=>{let g=g=>{let _=T(o)[0];d=g.screenX,f=g.screenY,p=_.clientWidth,m=_.clientHeight,h=m/p,l=e,l.name=t,l.startPos={x:w*e[0]+x,y:E*e[1]+S},y=a.scrollWidth,b=a.scrollHeight,u=n.add(a,`div`,{class:`mce-resize-backdrop`,"data-mce-bogus":`all`}),n.setStyles(u,{position:`fixed`,left:`0`,top:`0`,width:`100%`,height:`100%`}),s=O(o),n.addClass(s,`mce-clonedresizable`),n.setAttrib(s,`data-mce-bogus`,`all`),s.contentEditable=`false`,n.setStyles(s,{left:x,top:S,margin:0}),k(s,w,E),s.removeAttribute(h_),a.appendChild(s),n.bind(r,`mousemove`,te),n.bind(r,`mouseup`,A),i!==r&&(n.bind(i,`mousemove`,te),n.bind(i,`mouseup`,A)),c=n.add(a,`div`,{class:`mce-resize-helper`,"data-mce-bogus":`all`},p+` &times; `+m)},_=n.get(`mceResizeHandle`+t);_&&n.remove(_),_=n.add(a,`div`,{id:`mceResizeHandle`+t,"data-mce-bogus":`all`,class:`mce-resizehandle`,unselectable:!0,style:`cursor:`+t+`-resize; margin:0; padding:0`}),n.bind(_,`mousedown`,e=>{e.stopImmediatePropagation(),e.preventDefault(),g(e)}),e.elm=_,n.setStyles(_,{left:w*e[0]+x-_.offsetWidth/2,top:E*e[1]+S-_.offsetHeight/2})}):re(!1)},ne=hl(j,0),re=(e=!0)=>{ne.cancel(),ie(),o&&e&&o.removeAttribute(h_),Le(v_,(e,t)=>{let r=n.get(`mceResizeHandle`+t);r&&(n.unbind(r),n.remove(r))})},M=(e,t)=>n.isChildOf(e,t),N=r=>{if(g||t.removed||t.composing)return;let i=r.type===`mousedown`?r.target:e.getNode(),o=ai(U.fromDom(i),`table,img,figure.image,hr,video,span.mce-preview-object,details`).map(e=>e.dom).filter(e=>n.isEditable(e.parentElement)||e.nodeName===`IMG`&&n.isEditable(e)).getOrUndefined(),s=E(o)?n.getAttrib(o,h_,`1`):`1`;if(L(n.select(`img[${h_}],hr[${h_}]`),e=>{e.removeAttribute(h_)}),E(o)&&M(o,a)&&t.hasFocus()&&(ae(),M(e.getStart(!0),o)&&M(e.getEnd(!0),o))){n.setAttrib(o,h_,s),ne.throttle(o);return}re()},ie=()=>{Le(v_,e=>{e.elm&&(n.unbind(e.elm),delete e.elm)})},ae=()=>{try{t.getDoc().execCommand(`enableObjectResizing`,!1,`false`)}catch{}};return t.on(`init`,()=>{ae(),t.on(`NodeChange ResizeEditor ResizeWindow ResizeContent drop`,N),t.on(`keyup compositionend`,e=>{o&&o.nodeName===`TABLE`&&N(e)}),t.on(`hide blur`,re),t.on(`contextmenu longpress`,w,!0)}),t.on(`remove`,ie),{isResizable:D,showResizeRect:j,hideResizeRect:re,updateResizeRect:N,destroy:()=>{ne.cancel(),o=s=u=null}}},x_=(e,t)=>{t.fold(t=>{e.setStartBefore(t.dom)},(t,n)=>{e.setStart(t.dom,n)},t=>{e.setStartAfter(t.dom)})},S_=(e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,n)=>{e.setEnd(t.dom,n)},t=>{e.setEndAfter(t.dom)})},C_=(e,t,n)=>{let r=e.document.createRange();return x_(r,t),S_(r,n),r},w_=(e,t,n,r,i)=>{let a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(r.dom,i),a},T_=ud.generate([{ltr:[`start`,`soffset`,`finish`,`foffset`]},{rtl:[`start`,`soffset`,`finish`,`foffset`]}]),E_=(e,t,n)=>t(U.fromDom(n.startContainer),n.startOffset,U.fromDom(n.endContainer),n.endOffset),D_=(e,t)=>t.match({domRange:e=>({ltr:j(e),rtl:I.none}),relative:(t,n)=>({ltr:B(()=>C_(e,t,n)),rtl:B(()=>I.some(C_(e,n,t)))}),exact:(t,n,r,i)=>({ltr:B(()=>w_(e,t,n,r,i)),rtl:B(()=>I.some(w_(e,r,i,t,n)))})}),O_=(e,t)=>{let n=t.ltr();return n.collapsed?t.rtl().filter(e=>e.collapsed===!1).map(e=>T_.rtl(U.fromDom(e.endContainer),e.endOffset,U.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>E_(e,T_.ltr,n)):E_(e,T_.ltr,n)},k_=(e,t)=>O_(e,D_(e,t));T_.ltr,T_.rtl;let A_={create:(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r})},j_=(e,t,n)=>{var r;return I.from((r=e.dom).caretPositionFromPoint?.call(r,t,n)).bind(t=>{if(t.offsetNode===null)return I.none();let n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),I.some(n)})},M_=(e,t,n)=>{var r;return I.from((r=e.dom).caretRangeFromPoint?.call(r,t,n))},N_=(()=>document.caretPositionFromPoint?j_:document.caretRangeFromPoint?M_:I.none)(),P_=(e,t,n)=>N_(U.fromDom(e.document),t,n).map(e=>A_.create(U.fromDom(e.startContainer),e.startOffset,U.fromDom(e.endContainer),e.endOffset)),F_=ud.generate([{before:[`element`]},{on:[`element`,`offset`]},{after:[`element`]}]),I_={before:F_.before,on:F_.on,after:F_.after,cata:(e,t,n,r)=>e.fold(t,n,r),getStart:e=>e.fold(ne,ne,ne)},L_=ud.generate([{domRange:[`rng`]},{relative:[`startSitu`,`finishSitu`]},{exact:[`start`,`soffset`,`finish`,`foffset`]}]),R_=e=>L_.exact(e.start,e.soffset,e.finish,e.foffset),z_=e=>e.match({domRange:e=>U.fromDom(e.startContainer),relative:(e,t)=>I_.getStart(e),exact:(e,t,n,r)=>e}),B_={domRange:L_.domRange,relative:L_.relative,exact:L_.exact,exactFromRange:R_,getWin:e=>wr(z_(e)),range:A_.create},V_=(e,t)=>{let n=Mn(e);return n===`input`?I_.after(e):fe([`br`,`img`],n)?t===0?I_.before(e):I_.after(e):I_.on(e,t)},H_=(e,t)=>{let n=e.fold(I_.before,V_,I_.after),r=t.fold(I_.before,V_,I_.after);return B_.relative(n,r)},U_=(e,t,n,r)=>{let i=V_(e,t),a=V_(n,r);return B_.relative(i,a)},W_=e=>e.match({domRange:e=>{let t=U.fromDom(e.startContainer),n=U.fromDom(e.endContainer);return U_(t,e.startOffset,n,e.endOffset)},relative:H_,exact:U_}),G_=(e,t)=>{let n=(t||document).createDocumentFragment();return L(e,e=>{n.appendChild(e.dom)}),U.fromDom(n)},K_=e=>{let t=B_.getWin(e).dom,n=(e,n,r,i)=>w_(t,e,n,r,i);return k_(t,W_(e)).match({ltr:n,rtl:n})},q_=(e,t,n)=>P_(e,t,n),J_=(e,t,n)=>q_(wr(U.fromDom(n)).dom,e,t).map(e=>{let t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t}).getOrUndefined(),Y_=(e,t)=>E(e)&&E(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,X_=(e,t,n)=>{let r=e;for(;r&&r!==t;){if(n(r))return r;r=r.parentNode}return null},Z_=(e,t,n)=>X_(e,t,n)!==null,Q_=(e,t,n)=>Z_(e,t,e=>e.nodeName===n),$_=(e,t)=>uo(e)&&!Z_(e,t,Ym),ev=(e,t,n)=>{let r=t.parentNode;if(r){let i=new ra(t,e.getParent(r,e.isBlock)||e.getRoot()),a;for(;a=i[n?`prev`:`next`]();)if(Ca(a))return!0}return!1},tv=(e,t)=>e.previousSibling?.nodeName===t,nv=(e,t)=>{let n=t;for(;n&&n!==e;){if(Ea(n))return!0;n=n.parentNode}return!1},rv=(e,t,n,r,i)=>{let a=e.getRoot(),o=e.schema.getNonEmptyElements(),s=i.parentNode,c,l;if(!s)return I.none();let u=e.getParent(s,e.isBlock)||a;if(r&&Ca(i)&&t&&e.isEmpty(u))return I.some(Y(s,e.nodeIndex(i)));let d=new ra(i,u);for(;l=d[r?`prev`:`next`]();){if(e.getContentEditableParent(l)===`false`||$_(l,a))return I.none();if(G(l)&&l.data.length>0)return Q_(l,a,`A`)?I.none():I.some(Y(l,r?l.data.length:0));if(e.isBlock(l)||o[l.nodeName.toLowerCase()])return I.none();c=l}return ba(c)?I.none():n&&c?I.some(Y(c,0)):I.none()},iv=(e,t,n,r)=>{let i=e.getRoot(),a,o=!1,s=n?r.startContainer:r.endContainer,c=n?r.startOffset:r.endOffset,l=W(s)&&c===s.childNodes.length,u=e.schema.getNonEmptyElements(),d=n;if(uo(s))return I.none();if(W(s)&&c>s.childNodes.length-1&&(d=!1),xa(s)&&(s=i,c=0),s===i){if(d&&(a=s.childNodes[c>0?c-1:0],a&&(uo(a)||u[a.nodeName]||ha(a))))return I.none();if(s.hasChildNodes()){if(c=Math.min(!d&&c>0?c-1:c,s.childNodes.length-1),s=s.childNodes[c],c=G(s)&&l?s.data.length:0,!t&&s===i.lastChild&&ha(s)||nv(i,s)||uo(s)||Aa(s))return I.none();if(s.hasChildNodes()&&!ha(s)){a=s;let t=new ra(s,i);do{if(Ea(a)||uo(a)){o=!1;break}if(G(a)&&a.data.length>0){c=d?0:a.data.length,s=a,o=!0;break}if(u[a.nodeName.toLowerCase()]&&!K(a)){c=e.nodeIndex(a),s=a.parentNode,d||c++,o=!0;break}}while(a=d?t.next():t.prev())}}}return t&&(G(s)&&c===0&&rv(e,l,t,!0,s).each(e=>{s=e.container(),c=e.offset(),o=!0}),W(s)&&(a=s.childNodes[c],a||=s.childNodes[c-1],a&&Ca(a)&&!tv(a,`A`)&&!ev(e,a,!1)&&!ev(e,a,!0)&&rv(e,l,t,!0,a).each(e=>{s=e.container(),c=e.offset(),o=!0}))),d&&!t&&G(s)&&c===s.data.length&&rv(e,l,t,!1,s).each(e=>{s=e.container(),c=e.offset(),o=!0}),o&&s?I.some(Y(s,c)):I.none()},av=(e,t)=>{let n=t.collapsed,r=t.cloneRange(),i=Y.fromRangeStart(t);return iv(e,n,!0,r).each(e=>{(!n||!Y.isAbove(i,e))&&r.setStart(e.container(),e.offset())}),n||iv(e,n,!1,r).each(e=>{r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),Y_(t,r)?I.none():I.some(r)},ov=(e,t)=>e.splitText(t),sv=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;if(t===r&&G(t)){if(n>0&&n<t.data.length)if(r=ov(t,n),t=r.previousSibling,i>n){i-=n;let e=ov(r,i).previousSibling;t=r=e,i=e.data.length,n=0}else i=0}else if(G(t)&&n>0&&n<t.data.length&&(t=ov(t,n),n=0),G(r)&&i>0&&i<r.data.length){let e=ov(r,i).previousSibling;r=e,i=e.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:i}},cv=e=>({walk:(t,n)=>jg(e,t,n),split:sv,expand:(t,n={type:`word`})=>{if(n.type===`word`){let n=Ag(e,t,[{inline:`span`}]),r=e.createRng();return r.setStart(n.startContainer,n.startOffset),r.setEnd(n.endContainer,n.endOffset),r}return t},normalize:t=>av(e,t).fold(P,e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0))});cv.compareRanges=Y_,cv.getCaretRangeFromPoint=J_,cv.getSelectedNode=tu,cv.getNode=nu;let lv=((e,t)=>{let n=(t,n)=>{if(!O(n)&&!n.match(/^[0-9]+$/))throw Error(e+`.set accepts only positive integer values. Value was `+n);let r=t.dom;li(r)&&(r.style[e]=n+`px`)},r=n=>{let r=t(n);if(r<=0||r===null){let t=mi(n,e);return parseFloat(t)||0}return r},i=r,a=(e,t)=>ve(t,(t,n)=>{let r=mi(e,n),i=r===void 0?0:parseInt(r,10);return isNaN(i)?t:t+i},0);return{set:n,get:r,getOuter:i,aggregate:a,max:(e,t,n)=>{let r=a(e,n);return t>r?t-r:0}}})(`height`,e=>{let t=e.dom;return Xr(e)?t.getBoundingClientRect().height:t.offsetHeight}),uv=e=>lv.get(e),dv=()=>U.fromDom(document),fv=(e,t)=>e.view(t).fold(j([]),t=>{let n=fv(e,e.owner(t));return[t].concat(n)}),pv=(e,t)=>fv(t,t.owner(e));var mv=Object.freeze({__proto__:null,view:e=>(e.dom===document?I.none():I.from(e.dom.defaultView?.frameElement)).map(U.fromDom),owner:e=>Sr(e)});let hv=e=>{let t=qi(dv()),n=pv(e,mv),r=Ki(e),i=_e(n,(e,t)=>{let n=Ki(t);return{left:e.left+n.left,top:e.top+n.top}},{left:0,top:0});return Hi(i.left+r.left+t.left,i.top+r.top+t.top)},gv=e=>Mn(e)===`textarea`,_v=(e,t)=>e.dispatch(`ScrollIntoView`,t).isDefaultPrevented(),vv=(e,t)=>{e.dispatch(`AfterScrollIntoView`,t)},yv=(e,t)=>{let n=Nr(e);if(n.length===0||gv(e))return{element:e,offset:t};if(t<n.length&&!gv(n[t]))return{element:n[t],offset:0};{let r=n[n.length-1];return gv(r)?{element:e,offset:t}:Mn(r)===`img`?{element:r,offset:1}:Rn(r)?{element:r,offset:Fa(r).length}:{element:r,offset:Nr(r).length}}},bv=(e,t)=>{let n=Gi(e),r=uv(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},xv=(e,t)=>{let n=yv(e,t),r=U.fromHtml(`<span data-mce-bogus="all" style="display: inline-block;">﻿</span>`);return bi(n.element,r),bv(r,()=>Oi(r))},Sv=e=>bv(U.fromDom(e),k),Cv=(e,t,n,r)=>{Dv(e,(i,a)=>Tv(e,t,n,r),n)},wv=(e,t,n,r,i)=>{let a={elm:r.element.dom,alignToTop:i};if(_v(e,a))return;let o=qi(t).top;n(e,t,o,r,i),vv(e,a)},Tv=(e,t,n,r)=>{let i=U.fromDom(e.getBody()),a=U.fromDom(e.getDoc());yi(i);let o=xv(U.fromDom(n.startContainer),n.startOffset);wv(e,a,t,o,r),o.cleanup()},Ev=(e,t,n,r)=>{wv(e,U.fromDom(e.getDoc()),n,Sv(t),r)},Dv=(e,t,n)=>{let r=n.startContainer,i=n.startOffset,a=n.endContainer,o=n.endOffset;t(U.fromDom(r),U.fromDom(a));let s=e.dom.createRng();s.setStart(r,i),s.setEnd(a,o),e.selection.setRng(n)},Ov=(e,t,n,r,i)=>{let a=t.pos;if(r)Ji(a.left,a.top,i);else{let r=a.top-n+t.height;Ji(-e.getBody().getBoundingClientRect().left,r,i)}},kv=(e,t,n,r,i,a)=>{let o=r+n,s=i.pos.top,c=i.bottom,l=c-s>=r;s<n?Ov(e,i,r,a!==!1,t):s>o?Ov(e,i,r,l?a!==!1:a===!0,t):c>o&&!l&&Ov(e,i,r,a===!0,t)},Av=(e,t,n,r,i)=>{let a=wr(t).dom.innerHeight;kv(e,t,n,a,r,i)},jv=(e,t,n,r,i)=>{let a=wr(t).dom.innerHeight;kv(e,t,n,a,r,i);let o=hv(r.element),s=Qi(window);o.top<s.y?Yi(r.element,i!==!1):o.top>s.bottom&&Yi(r.element,i===!0)},Mv=(e,t,n)=>Cv(e,Av,t,n),Nv=(e,t,n)=>Ev(e,t,Av,n),Pv=(e,t,n)=>Cv(e,jv,t,n),Fv=(e,t,n)=>Ev(e,t,jv,n),Iv=(e,t,n)=>{(e.inline?Nv:Fv)(e,t,n)},Lv=(e,t,n)=>{(e.inline?Mv:Pv)(e,t,n)},Rv=(e,t=!1)=>e.dom.focus({preventScroll:t}),zv=e=>{let t=Ur(e).dom;return e.dom===t.activeElement},Bv=(e=dv())=>I.from(e.dom.activeElement).map(U.fromDom),Vv=e=>Bv(Ur(e)).filter(t=>e.dom.contains(t.dom)),Hv=(e,t)=>{let n=Rn(t)?Fa(t).length:Nr(t).length+1;return e>n?n:e<0?0:e},Uv=e=>B_.range(e.start,Hv(e.soffset,e.start),e.finish,Hv(e.foffset,e.finish)),Wv=(e,t)=>!aa(t.dom)&&(br(e,t)||yr(e,t)),Gv=e=>t=>Wv(e,t.start)&&Wv(e,t.finish),Kv=e=>e.inline||un.browser.isFirefox(),qv=e=>B_.range(U.fromDom(e.startContainer),e.startOffset,U.fromDom(e.endContainer),e.endOffset),Jv=e=>{let t=e.getSelection();return(!t||t.rangeCount===0?I.none():I.from(t.getRangeAt(0))).map(qv)},Yv=e=>Jv(wr(e).dom).filter(Gv(e)),Xv=(e,t)=>I.from(t).filter(Gv(e)).map(Uv),Zv=e=>{let t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),I.some(t)}catch{return I.none()}},Qv=e=>{let t=Kv(e)?Yv(U.fromDom(e.getBody())):I.none();e.bookmark=t.isSome()?t:e.bookmark},$v=e=>(e.bookmark?e.bookmark:I.none()).bind(t=>Xv(U.fromDom(e.getBody()),t)).bind(Zv),ey=e=>{$v(e).each(t=>e.selection.setRng(t))},ty={isEditorUIElement:e=>{let t=e.className.toString();return t.indexOf(`tox-`)!==-1||t.indexOf(`mce-`)!==-1}},ny=(e,t)=>(O(t)||(t=0),setTimeout(e,t)),ry=(e,t)=>(O(t)||(t=0),setInterval(e,t)),iy={setEditorTimeout:(e,t,n)=>ny(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{let r=ry(()=>{e.removed?clearInterval(r):t()},n);return r}},ay=e=>e.type===`nodechange`&&e.selectionChange,oy=(e,t)=>{let n=()=>{t.throttle()};el.DOM.bind(document,`mouseup`,n),e.on(`remove`,()=>{el.DOM.unbind(document,`mouseup`,n)})},sy=(e,t)=>{e.on(`mouseup touchend`,e=>{t.throttle()})},cy=(e,t)=>{sy(e,t),e.on(`keyup NodeChange AfterSetSelectionRange`,t=>{ay(t)||Qv(e)})},ly=e=>{let t=hl(()=>{Qv(e)},0);e.on(`init`,()=>{e.inline&&oy(e,t),cy(e,t)}),e.on(`remove`,()=>{t.cancel()})},uy,dy=el.DOM,fy=e=>W(e)&&ty.isEditorUIElement(e),py=e=>{let t=e.classList;return t===void 0?!1:t.contains(`tox-edit-area`)||t.contains(`tox-edit-area__iframe`)||t.contains(`mce-content-body`)},my=(e,t)=>{let n=Sf(e);return dy.getParent(t,t=>fy(t)||(n?e.dom.is(t,n):!1))!==null},hy=e=>{try{return Bv(Ur(U.fromDom(e.getElement()))).fold(()=>document.body,e=>e.dom)}catch{return document.body}},gy=(e,t)=>{let n=t.editor;ly(n);let r=(e,t)=>{up(e)&&e.inline!==!0&&t(U.fromDom(e.getContainer()),`tox-edit-focus`)};n.on(`focusin`,()=>{let t=e.focusedEditor;py(hy(n))&&r(n,ar),t!==n&&(t&&t.dispatch(`blur`,{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch(`focus`,{blurredEditor:t}),n.focus(!0))}),n.on(`focusout`,()=>{iy.setEditorTimeout(n,()=>{let t=e.focusedEditor;(!py(hy(n))||t!==n)&&r(n,sr),!my(n,hy(n))&&t===n&&(n.dispatch(`blur`,{focusedEditor:null}),e.focusedEditor=null)})}),uy||(uy=t=>{let n=e.activeEditor;n&&Jr(t).each(t=>{let r=t;r.ownerDocument===document&&r!==document.body&&!my(n,r)&&e.focusedEditor===n&&(n.dispatch(`blur`,{focusedEditor:null}),e.focusedEditor=null)})},dy.bind(document,`focusin`,uy))},_y=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&uy&&(dy.unbind(document,`focusin`,uy),uy=null)},vy=e=>{e.on(`AddEditor`,M(gy,e)),e.on(`RemoveEditor`,M(_y,e))},yy=(e,t)=>e.dom.getParent(t,t=>e.dom.getContentEditable(t)===`true`),by=e=>e.collapsed?I.from(nu(e.startContainer,e.startOffset)).map(U.fromDom):I.none(),xy=(e,t)=>by(t).bind(t=>Ya(t)?I.some(t):br(e,t)?I.none():I.some(e)),Sy=(e,t)=>{xy(U.fromDom(e.getBody()),t).bind(e=>Km(e.dom)).fold(()=>{e.selection.normalize()},t=>e.selection.setRng(t.toRange()))},Cy=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},wy=e=>zv(e)||Vv(e).isSome(),Ty=e=>E(e.iframeElement)&&zv(U.fromDom(e.iframeElement)),Ey=e=>{let t=e.getBody();return t&&wy(U.fromDom(t))},Dy=e=>Bv(Ur(U.fromDom(e.getElement()))).filter(t=>!py(t.dom)&&my(e,t.dom)).isSome(),Oy=e=>e.inline?Ey(e):Ty(e),ky=e=>Oy(e)||Dy(e),Ay=e=>{let t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),E(e.bookmark)&&!Oy(e)&&$v(e).each(t=>{e.selection.setRng(t),r=t});let i=yy(e,t.getNode());if(i&&e.dom.isChildOf(i,n)){Cy(i),Sy(e,r),jy(e);return}e.inline||(un.browser.isOpera()||Cy(n),e.getWin().focus()),(un.browser.isFirefox()||e.inline)&&(Cy(n),Sy(e,r)),jy(e)},jy=e=>e.editorManager.setActive(e),My=(e,t)=>{e.removed||(t?jy(e):Ay(e))},Ny=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),Py=(e,t,n,r,i)=>{let a=n?t.startContainer:t.endContainer,o=n?t.startOffset:t.endOffset;return I.from(a).map(U.fromDom).map(e=>!r||!t.collapsed?Pr(e,i(e,o)).getOr(e):e).bind(e=>Ln(e)?I.some(e):Tr(e).filter(Ln)).map(e=>e.dom).getOr(e)},Fy=(e,t,n=!1)=>Py(e,t,!0,n,(e,t)=>Math.min(Lr(e),t)),Iy=(e,t,n=!1)=>Py(e,t,!1,n,(e,t)=>t>0?t-1:t),Ly=(e,t)=>{let n=e;for(;e&&G(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},Ry=(e,t)=>{if(!t)return e;let n=t.startContainer,r=t.endContainer,i=t.startOffset,a=t.endOffset,o=t.commonAncestorContainer;t.collapsed||(n===r&&a-i<2&&n.hasChildNodes()&&(o=n.childNodes[i]),G(n)&&G(r)&&(n=n.length===i?Ly(n.nextSibling,!0):n.parentNode,r=a===0?Ly(r.previousSibling,!1):r.parentNode,n&&n===r&&(o=n)));let s=G(o)?o.parentNode:o;return oa(s)?s:e},zy=(e,t,n,r)=>{let i=[],a=e.getRoot(),o=e.getParent(n||Fy(a,t,t.collapsed),e.isBlock),s=e.getParent(r||Iy(a,t,t.collapsed),e.isBlock);if(o&&o!==a&&i.push(o),o&&s&&o!==s){let t,n=new ra(o,a);for(;(t=n.next())&&t!==s;)e.isBlock(t)&&i.push(t)}return s&&o!==s&&s!==a&&i.push(s),i},By=(e,t,n)=>I.from(t).bind(t=>I.from(t.parentNode).map(r=>{let i=e.nodeIndex(t),a=e.createRng();return a.setStart(r,i),a.setEnd(r,i+1),n&&(Ph(e,a,t,!0),Ph(e,a,t,!1)),a})),Vy=(e,t)=>me(t,t=>{let n=e.dispatch(`GetSelectionRange`,{range:t});return n.range===t?t:n.range}),Hy=e=>Mn(e)===`img`?1:Ia(e).fold(()=>Nr(e).length,e=>e.length),Uy=e=>Ia(e).filter(e=>e.trim().length!==0||e.indexOf(`\xA0`)>-1).isSome(),Wy=e=>In(e)&&Gn(e,`contenteditable`)===`false`,Gy=[`img`,`br`],Ky=e=>Uy(e)||fe(Gy,Mn(e))||Wy(e),qy=e=>ni(e,Ky),Jy=e=>Yy(e,Ky),Yy=(e,t)=>{let n=e=>{let r=Nr(e);for(let e=r.length-1;e>=0;e--){let i=r[e];if(t(i))return I.some(i);let a=n(i);if(a.isSome())return a}return I.none()};return n(e)},Xy=`[data-mce-autocompleter]`,Zy=(e,t)=>{if($y(U.fromDom(e.getBody())).isNone()){let n=U.fromHtml(`<span data-mce-autocompleter="1" data-mce-bogus="1"></span>`,e.getDoc());Ci(n,U.fromDom(t.extractContents())),t.insertNode(n.dom),Tr(n).each(e=>e.dom.normalize()),Jy(n).map(t=>{e.selection.setCursorLocation(t.dom,Hy(t))})}},Qy=e=>ai(e,Xy),$y=e=>ii(e,Xy),eb=(e,t)=>$y(t).each(t=>{let n=e.selection.getBookmark();ki(t),e.selection.moveToBookmark(n)}),tb={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},nb=(e,t,n)=>{let r=n?`lastChild`:`firstChild`,i=n?`prev`:`next`;if(e[r])return e[r];if(e!==t){let n=e[i];if(n)return n;for(let r=e.parent;r&&r!==t;r=r.parent)if(n=r[i],n)return n}},rb=e=>{let t=e.value??``;if(!Ro(t))return!1;let n=e.parent;return!(n&&(n.name!==`span`||n.attr(`style`))&&/^[ ]+$/.test(t))},ib=e=>{let t=e.name===`a`&&!e.attr(`href`)&&e.attr(`id`);return e.attr(`name`)||e.attr(`id`)&&!e.firstChild||e.attr(`data-mce-bookmark`)||t};class ab{static create(e,t){let n=new ab(e,tb[e]||1);return t&&Le(t,(e,t)=>{n.attr(t,e)}),n}constructor(e,t){this.name=e,this.type=t,t===1&&(this.attributes=[],this.attributes.map={})}replace(e){let t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){let n=this;if(!v(e))return E(e)&&Le(e,(e,t)=>{n.attr(t,e)}),n;let r=n.attributes;if(r){if(t!==void 0){if(t===null){if(e in r.map){delete r.map[e];let t=r.length;for(;t--;)if(r[t].name===e)return r.splice(t,1),n}return n}if(e in r.map){let n=r.length;for(;n--;)if(r[n].name===e){r[n].value=t;break}}else r.push({name:e,value:t});return r.map[e]=t,n}return r.map[e]}}clone(){let e=this,t=new ab(e.name,e.type),n=e.attributes;if(n){let e=[];e.map={};for(let t=0,r=n.length;t<r;t++){let r=n[t];r.name!==`id`&&(e[e.length]={name:r.name,value:r.value},e.map[r.name]=r.value)}t.attributes=e}return t.value=e.value,t}wrap(e){let t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){let e=this;for(let t=e.firstChild;t;){let n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){let e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r&&(r.next=n),t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n&&(n.prev=r),e.parent=e.next=e.prev=null),e}append(e){let t=this;e.parent&&e.remove();let n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();let r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=r,e}getAll(e){let t=this,n=[];for(let r=t.firstChild;r;r=nb(r,t))r.name===e&&n.push(r);return n}children(){let e=this,t=[];for(let n=e.firstChild;n;n=n.next)t.push(n);return t}empty(){let e=this;if(e.firstChild){let t=[];for(let n=e.firstChild;n;n=nb(n,e))t.push(n);let n=t.length;for(;n--;){let e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){let r=this,i=r.firstChild;if(ib(r))return!1;if(i)do{if(i.type===1){if(i.attr(`data-mce-bogus`))continue;if(e[i.name]||ib(i))return!1}if(i.type===8||i.type===3&&!rb(i)||i.type===3&&i.parent&&t[i.parent.name]&&Ro(i.value??``)||n&&n(i))return!1}while(i=nb(i,r));return!0}walk(e){return nb(this,null,e)}}let ob=H.makeMap(`NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT`,` `),sb=e=>v(e.nodeValue)&&e.nodeValue.includes(`﻿`),cb=e=>`${e.length===0?``:`${me(e,e=>`[${e}]`).join(`,`)},`}[data-mce-bogus="all"]`,lb=(e,t)=>t.querySelectorAll(cb(e)),ub=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,e=>sb(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),db=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,e=>{if(sb(e)){let t=e.parentNode;return t&&Ke(ob,t.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),fb=e=>ub(e).nextNode()!==null,pb=e=>db(e).nextNode()!==null,mb=(e,t)=>t.querySelector(cb(e))!==null,hb=(e,t)=>{L(lb(e,t),t=>{let n=U.fromDom(t);Gn(n,`data-mce-bogus`)===`all`?Oi(n):L(e,e=>{qn(n,e)&&Jn(n,e)})})},gb=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},_b=te(gb,ub),vb=te(gb,db),yb=(e,t)=>{let n=[{condition:M(mb,t),action:M(hb,t)},{condition:fb,action:_b},{condition:pb,action:vb}],r=e,i=!1;return L(n,({condition:t,action:n})=>{t(r)&&(i||=(r=e.cloneNode(!0),!0),n(r))}),r},bb=e=>{L(ta(e,`[data-mce-bogus]`),e=>{Gn(e,`data-mce-bogus`)===`all`?Oi(e):Ka(e)?(bi(e,U.fromText(`﻿`)),Oi(e)):ki(e)})},xb=e=>{L(ta(e,`input`),e=>{Jn(e,`name`)})},Sb=(e,t)=>{let n=Pd(e),r=RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s|\u00a0|<br \\/>|)<\\/${n}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(r,``)},Cb=(e,t)=>{let n=e.getDoc(),r=Ur(U.fromDom(e.getBody())),i=U.fromTag(`div`,n);Un(i,`data-mce-bogus`,`all`),pi(i,{position:`fixed`,left:`-9999999px`,top:`0`}),Ni(i,t.innerHTML),bb(i),xb(i),Ci(Gr(r),i);let a=io(i.dom.innerText);return Oi(i),a},wb=(e,t,n)=>{let r;return r=t.format===`raw`?H.trim(io(yb(n,e.serializer.getTempAttrs()).innerHTML)):t.format===`text`?Cb(e,n):t.format===`tree`?e.serializer.serialize(n,t):Sb(e,e.serializer.serialize(n,t)),t.format!==`text`&&!Za(U.fromDom(n))&&v(r)?H.trim(r):r},Tb=(e,t)=>I.from(e.getBody()).fold(j(t.format===`tree`?new ab(`body`,11):``),n=>wb(e,t,n)),Eb=H.makeMap,Db=e=>{let t=[];e||={};let n=e.indent,r=Eb(e.indent_before||``),i=Eb(e.indent_after||``),a=Qs.getEncodeFunc(e.entity_encoding||`raw`,e.entities),o=e.element_format!==`xhtml`;return{start:(e,s,c)=>{if(n&&r[e]&&t.length>0){let e=t[t.length-1];e.length>0&&e!==`
`&&t.push(`
`)}if(t.push(`<`,e),s)for(let e=0,n=s.length;e<n;e++){let n=s[e];t.push(` `,n.name,`="`,a(n.value,!0),`"`)}if(!c||o?t[t.length]=`>`:t[t.length]=` />`,c&&n&&i[e]&&t.length>0){let e=t[t.length-1];e.length>0&&e!==`
`&&t.push(`
`)}},end:e=>{let r;t.push(`</`,e,`>`),n&&i[e]&&t.length>0&&(r=t[t.length-1],r.length>0&&r!==`
`&&t.push(`
`))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:a(e))},cdata:e=>{t.push(`<![CDATA[`,e,`]]>`)},comment:e=>{t.push(`<!--`,e,`-->`)},pi:(e,r)=>{r?t.push(`<?`,e,` `,a(r),`?>`):t.push(`<?`,e,`?>`),n&&t.push(`
`)},doctype:e=>{t.push(`<!DOCTYPE`,e,`>`,n?`
`:``)},reset:()=>{t.length=0},getContent:()=>t.join(``).replace(/\n$/,``)}},Ob=(e={},t=_c())=>{let n=Db(e);return e.validate=`validate`in e?e.validate:!0,{serialize:r=>{let i=e.validate,a={3:e=>{n.text(e.value??``,e.raw)},8:e=>{n.comment(e.value??``)},7:e=>{n.pi(e.name,e.value)},10:e=>{n.doctype(e.value??``)},4:e=>{n.cdata(e.value??``)},11:e=>{let t=e;if(t=t.firstChild)do o(t);while(t=t.next)}};n.reset();let o=e=>{let r=a[e.type];if(r)r(e);else{let r=e.name,a=r in t.getVoidElements(),s=e.attributes;if(i&&s&&s.length>1){let n=[];n.map={};let r=t.getElementRule(e.name);if(r){for(let e=0,t=r.attributesOrder.length;e<t;e++){let t=r.attributesOrder[e];if(t in s.map){let e=s.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=s.length;e<t;e++){let t=s[e].name;if(!(t in n.map)){let e=s.map[t];n.map[t]=e,n.push({name:t,value:e})}}s=n}}if(n.start(r,s,a),es(r))v(e.value)&&n.text(e.value,!0),n.end(r);else if(!a){let t=e.firstChild;if(t){(r===`pre`||r===`textarea`)&&t.type===3&&t.value?.[0]===`
`&&n.text(`
`,!0);do o(t);while(t=t.next)}n.end(r)}}};return r.type===1&&!e.inner?o(r):r.type===3?a[3](r):a[11](r),n.getContent()}}},kb=new Set;L(`margin.margin-left.margin-right.margin-top.margin-bottom.padding.padding-left.padding-right.padding-top.padding-bottom.border.border-width.border-style.border-color.background.background-attachment.background-clip.background-color.background-image.background-origin.background-position.background-repeat.background-size.float.position.left.right.top.bottom.z-index.display.transform.width.max-width.min-width.height.max-height.min-height.overflow.overflow-x.overflow-y.text-overflow.vertical-align.transition.transition-delay.transition-duration.transition-property.transition-timing-function`.split(`.`),e=>{kb.add(e)});let Ab=[`font`,`text-decoration`,`text-emphasis`],jb=(e,t)=>Fe(e.parseStyle(e.getAttrib(t,`style`))),Mb=e=>kb.has(e),Nb=(e,t)=>we(jb(e,t),e=>!Mb(e)),Pb=e=>R(e,e=>pe(Ab,t=>bt(e,t))),Fb=(e,t,n)=>{let r=jb(e,t),i=jb(e,n),a=r=>{let i=e.getStyle(t,r)??``,a=e.getStyle(n,r)??``;return Et(i)&&Et(a)&&i!==a};return pe(r,e=>{let t=t=>pe(t,t=>t===e);return!t(i)&&t(Ab)?pe(Pb(i),a):a(e)})},Ib=(e,t,n)=>I.from(n.container()).filter(G).exists(r=>{let i=e?0:-1;return t(r.data.charAt(n.offset()+i))}),Lb=M(Ib,!0,yh),Rb=M(Ib,!1,yh),zb=e=>{let t=e.container();return G(t)&&(t.data.length===0||ro(t.data)&&Hg.isBookmarkNode(t.parentNode))},Bb=(e,t)=>n=>om(e?0:-1,n).filter(t).isSome(),Vb=e=>wa(e)&&mi(U.fromDom(e),`display`)===`block`,Hb=e=>Ea(e)&&!ma(e),Ub=Bb(!0,Vb),Wb=Bb(!1,Vb),Gb=Bb(!0,Oa),Kb=Bb(!1,Oa),qb=Bb(!0,ha),Jb=Bb(!1,ha),Yb=Bb(!0,Hb),Xb=Bb(!1,Hb),Zb=e=>e.slice(0,-1),Qb=(e,t,n)=>br(t,e)?Zb(Dr(e,e=>n(e)||yr(e,t))):[],$b=(e,t)=>Qb(e,t,P),ex=(e,t)=>[e].concat($b(e,t)),tx=(e,t,n)=>Hm(e,t,n,zb),nx=e=>t=>e.isBlock(Mn(t)),rx=(e,t,n)=>be(ex(U.fromDom(t.container()),e),nx(n)),ix=(e,t,n,r)=>tx(e,t.dom,n).forall(e=>rx(t,n,r).fold(()=>!am(e,n,t.dom),r=>!am(e,n,t.dom)&&br(r,U.fromDom(e.container())))),ax=(e,t,n,r)=>rx(t,n,r).fold(()=>tx(e,t.dom,n).forall(e=>!am(e,n,t.dom)),t=>tx(e,t.dom,n).isNone()),ox=M(ax,!1),sx=M(ax,!0),cx=M(ix,!1),lx=M(ix,!0),ux=e=>hm(e).exists(Ka),dx=(e,t,n,r)=>Bm(e,Ae(R(ex(U.fromDom(n.container()),t),e=>r.isBlock(Mn(e)))).getOr(t).dom,n).filter(ux),fx=(e,t,n)=>hm(t).exists(Ka)||dx(!0,e,t,n).isSome(),px=(e,t,n)=>gm(t).exists(Ka)||dx(!1,e,t,n).isSome(),mx=M(dx,!1),hx=M(dx,!0),gx=e=>Y.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),_x=(e,t,n)=>Ae(R(ex(U.fromDom(t.container()),e),e=>n.isBlock(Mn(e)))).getOr(e),vx=(e,t,n)=>gx(t)?Rb(t):Rb(t)||Gm(_x(e,t,n).dom,t).exists(Rb),yx=(e,t,n)=>gx(t)?Lb(t):Lb(t)||Wm(_x(e,t,n).dom,t).exists(Lb),bx=e=>fe([`pre`,`pre-wrap`],e),xx=e=>hm(e).bind(e=>$r(e,Ln)).exists(e=>bx(mi(e,`white-space`))),Sx=(e,t)=>Gm(e.dom,t).isNone(),Cx=(e,t)=>Wm(e.dom,t).isNone(),wx=(e,t,n)=>Sx(e,t)||Cx(e,t)||ox(e,t,n)||sx(e,t,n)||px(e,t,n)||fx(e,t,n),Tx=e=>E(e)&&Ea(e)&&qp(e),Ex=(e,t)=>n=>Tx(new ra(n,e)[t]()),Dx=(e,t)=>{let n=Wm(e.dom,t).getOr(t),r=Ex(e.dom,`next`);return t.isAtEnd()&&(r(t.container())||r(n.container()))},Ox=(e,t)=>{let n=Gm(e.dom,t).getOr(t),r=Ex(e.dom,`prev`);return t.isAtStart()&&(r(t.container())||r(n.container()))},kx=(e,t,n)=>xx(t)?!1:wx(e,t,n)||vx(e,t,n)||yx(e,t,n),Ax=(e,t,n)=>xx(t)?!1:ox(e,t,n)||cx(e,t,n)||px(e,t,n)||vx(e,t,n)||Ox(e,t),jx=e=>{let t=e.container(),n=e.offset();return G(t)&&n<t.data.length?Y(t,n+1):e},Mx=(e,t,n)=>xx(t)?!1:sx(e,t,n)||lx(e,t,n)||fx(e,t,n)||yx(e,t,n)||Dx(e,t),Nx=(e,t,n)=>Ax(e,t,n)||Mx(e,jx(t),n),Px=(e,t)=>vh(e.charAt(t)),Fx=(e,t)=>yh(e.charAt(t)),Ix=e=>{let t=e.container();return G(t)&&yt(t.data,`\xA0`)},Lx=e=>{let t=e.split(``);return me(t,(e,n)=>vh(e)&&n>0&&n<t.length-1&&bh(t[n-1])&&bh(t[n+1])?` `:e).join(``)},Rx=(e,t,n,r)=>{let i=t.data,a=Y(t,0);return!n&&Px(i,0)&&!Nx(e,a,r)?(t.data=` `+i.slice(1),!0):n&&Fx(i,0)&&Ax(e,a,r)?(t.data=`\xA0`+i.slice(1),!0):!1},zx=e=>{let t=e.data,n=Lx(t);return n===t?!1:(e.data=n,!0)},Bx=(e,t,n,r)=>{let i=t.data,a=Y(t,i.length-1);return!n&&Px(i,i.length-1)&&!Nx(e,a,r)?(t.data=i.slice(0,-1)+` `,!0):n&&Fx(i,i.length-1)&&Mx(e,a,r)?(t.data=i.slice(0,-1)+`\xA0`,!0):!1},Vx=(e,t,n)=>{let r=t.container();return G(r)?Ix(t)?Cn(Rx(e,r,!1,n)||zx(r)||Bx(e,r,!1,n),t):Nx(e,t,n)?Cn(Rx(e,r,!0,n)||Bx(e,r,!0,n),t):I.none():I.none()},Hx=e=>{let t=U.fromDom(e.getBody());e.selection.isCollapsed()&&Vx(t,Y.fromRangeStart(e.selection.getRng()),e.schema).each(t=>{e.selection.setRng(t.toRange())})},Ux=(e,t,n,r)=>{if(n===0)return;let i=U.fromDom(e),a=Qr(i,e=>r.isBlock(Mn(e))).getOr(i),o=e.data.slice(t,t+n),s=t+n>=e.data.length&&Mx(a,Y(e,e.data.length),r),c=t===0&&Ax(a,Y(e,0),r);e.replaceData(t,n,Uo(o,4,c,s))},Wx=(e,t,n)=>{let r=e.data.slice(t);Ux(e,t,r.length-wt(r).length,n)},Gx=(e,t,n)=>{let r=e.data.slice(0,t),i=r.length-Tt(r).length;Ux(e,t-i,i,n)},Kx=(e,t,n,r,i=!0)=>{let a=Tt(e.data).length,o=i?e:t,s=i?t:e;return i?o.appendData(s.data):o.insertData(0,s.data),Oi(U.fromDom(s)),r&&Wx(o,a,n),o},qx=(e,t)=>{let n=e.container(),r=e.offset();return!Y.isTextPosition(e)&&n===t.parentNode&&r>Y.before(t).offset()},Jx=(e,t)=>qx(t,e)?Y(t.container(),t.offset()-1):t,Yx=e=>G(e)?Y(e,0):Y.before(e),Xx=e=>G(e)?Y(e,e.data.length):Y.after(e),Zx=e=>Ao(e.previousSibling)?I.some(Xx(e.previousSibling)):e.previousSibling?qm(e.previousSibling):I.none(),Qx=e=>Ao(e.nextSibling)?I.some(Yx(e.nextSibling)):e.nextSibling?Km(e.nextSibling):I.none(),$x=(e,t)=>I.from(t.previousSibling?t.previousSibling:t.parentNode).bind(t=>Gm(e,Y.before(t))).orThunk(()=>Wm(e,Y.after(t))),eS=(e,t)=>Wm(e,Y.after(t)).orThunk(()=>Gm(e,Y.before(t))),tS=(e,t)=>Zx(t).orThunk(()=>Qx(t)).orThunk(()=>$x(e,t)),nS=(e,t)=>Qx(t).orThunk(()=>Zx(t)).orThunk(()=>eS(e,t)),rS=(e,t,n)=>e?nS(t,n):tS(t,n),iS=(e,t,n)=>rS(e,t,n).map(M(Jx,n)),aS=(e,t,n)=>{n.fold(()=>{e.focus()},n=>{e.selection.setRng(n.toRange(),t)})},oS=e=>t=>t.dom===e,sS=(e,t)=>t&&Ke(e.schema.getBlockElements(),Mn(t)),cS=(e,t)=>{if($o(e)){let n=U.fromHtml(`<br data-mce-bogus="1">`);return t?L(Nr(e),e=>{mg(e)||Oi(e)}):Di(e),Ci(e,n),I.some(Y.before(n.dom))}else return I.none()},lS=(e,t,n,r)=>{let i=kr(e).filter(Rn),a=Ar(e).filter(Rn);return Oi(e),Sn(i,a,t,(e,t,i)=>{let a=e.dom,o=t.dom,s=a.data.length;return Kx(a,o,n,r),i.container()===o?Y(a,s):i}).orThunk(()=>(r&&(i.each(e=>Gx(e.dom,e.dom.length,n)),a.each(e=>Wx(e.dom,0,n))),t))},uS=(e,t)=>Ke(e.schema.getTextInlineElements(),Mn(t)),dS=(e,t,n,r=!0,i=!1)=>{let a=iS(t,e.getBody(),n.dom),o=Qr(n,M(sS,e),oS(e.getBody())),s=lS(n,a,e.schema,uS(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(``),e.selection.setCursorLocation()):o.bind(e=>cS(e,i)).fold(()=>{r&&aS(e,t,s)},n=>{r&&aS(e,t,I.some(n))})},fS=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,pS=e=>fS.test(e),mS=(e,t)=>hr(U.fromDom(t),sf(e))&&!bs(e.schema,t)&&e.dom.isEditable(t),hS=e=>el.DOM.getStyle(e,`direction`,!0)===`rtl`||pS(e.textContent??``),gS=(e,t,n)=>R(el.DOM.getParents(n.container(),`*`,t),e),_S=(e,t,n)=>{let r=gS(e,t,n);return I.from(r[r.length-1])},vS=(e,t,n)=>{let r=im(t,e),i=im(n,e);return E(r)&&r===i},yS=e=>mo(e)||ho(e),bS=(e,t)=>{let n=t.container(),r=t.offset();return e?lo(n)?G(n.nextSibling)?Y(n.nextSibling,0):Y.after(n):mo(t)?Y(n,r+1):t:lo(n)?G(n.previousSibling)?Y(n.previousSibling,n.previousSibling.data.length):Y.before(n):ho(t)?Y(n,r-1):t},xS=M(bS,!0),SS=M(bS,!1),CS=(e,t)=>{let n=e=>e.stopImmediatePropagation();e.on(`beforeinput input`,n,!0),e.getDoc().execCommand(t),e.off(`beforeinput input`,n)},wS=e=>{e.execCommand(`delete`)},TS=e=>CS(e,`Delete`),ES=e=>CS(e,`ForwardDelete`),DS=e=>t=>vn(Tr(t),e,yr),OS=e=>q(e)||Ja(e),kS=(e,t)=>br(e,t)?$r(t,OS,DS(e)):I.none(),AS=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent(``,{no_selection:!t})},jS=(e,t,n)=>xn(Km(n),qm(n),(r,i)=>{let a=bS(!0,r),o=bS(!1,i),s=bS(!1,t);return e?Wm(n,s).exists(e=>e.isEqual(o)&&t.isEqual(a)):Gm(n,s).exists(e=>e.isEqual(a)&&t.isEqual(o))}).getOr(!0),MS=e=>(Fn(e)?kr(e):Ir(e)).bind(MS).orThunk(()=>I.some(e)),NS=(e,t,n,r=!0)=>{t.deleteContents();let i=MS(n).getOr(n),a=U.fromDom(e.dom.getParent(i.dom,e.dom.isBlock)??n.dom);a.dom===e.getBody()?AS(e,r):$o(a)&&(to(a),r&&e.selection.setCursorLocation(a.dom,0)),yr(n,a)||L((vn(Tr(a),n)?[]:Or(a)).concat(Nr(n)),e=>{!yr(e,a)&&!br(e,a)&&$o(e)&&Oi(e)})},PS=(e,t,n)=>Qr(e,t,n).isSome(),FS=(e,t)=>ei(e,t).isSome(),IS=(e,t)=>ni(e,t).isSome(),LS=e=>t=>yr(e,t),RS=e=>ta(e,`td,th`),zS=(e,t)=>Oh(U.fromDom(e),t),BS=e=>xn(e.startTable,e.endTable,(t,n)=>{let r=IS(t,e=>yr(e,n)),i=IS(n,e=>yr(e,t));return!r&&!i?e:{...e,startTable:r?I.none():e.startTable,endTable:i?I.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),VS=e=>BS(e),HS=(e,t)=>{let n=zS(e.startContainer,t),r=zS(e.endContainer,t),i=n.isSome(),a=r.isSome(),o=xn(n,r,yr).getOr(!1);return VS({startTable:n,endTable:r,isStartInTable:i,isEndInTable:a,isSameTable:o,isMultiTable:!o&&i&&a})},US=(e,t)=>({start:e,end:t}),WS=(e,t,n)=>({rng:e,table:t,cells:n}),GS=ud.generate([{singleCellTable:[`rng`,`cell`]},{fullTable:[`table`]},{partialTable:[`cells`,`outsideDetails`]},{multiTable:[`startTableCells`,`endTableCells`,`betweenRng`]}]),KS=(e,t)=>ai(U.fromDom(e),`td,th`,t),qS=e=>!yr(e.start,e.end),JS=(e,t)=>Oh(e.start,t).bind(n=>Oh(e.end,t).bind(e=>Cn(yr(n,e),n))),YS=(e,t)=>!qS(e)&&JS(e,t).exists(e=>{let t=e.dom.rows;return t.length===1&&t[0].cells.length===1}),XS=(e,t)=>xn(KS(e.startContainer,t),KS(e.endContainer,t),US),ZS=e=>t=>Oh(t,e).bind(e=>je(RS(e)).map(e=>US(t,e))),QS=e=>t=>Oh(t,e).bind(e=>Ae(RS(e)).map(e=>US(e,t))),$S=e=>t=>JS(t,e).map(e=>WS(t,e,RS(e))),eC=(e,t,n,r)=>{if(n.collapsed||!e.forall(qS))return I.none();if(t.isSameTable){let t=e.bind($S(r));return I.some({start:t,end:t})}else{let e=KS(n.startContainer,r),t=KS(n.endContainer,r),i=e.bind(ZS(r)).bind($S(r)),a=t.bind(QS(r)).bind($S(r));return I.some({start:i,end:a})}},tC=(e,t)=>xe(e,e=>yr(e,t)),nC=e=>xn(tC(e.cells,e.rng.start),tC(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),rC=(e,t,n)=>e.exists(e=>YS(e,n)&&Nh(e.start,t)),iC=(e,t)=>{let{startTable:n,endTable:r}=t,i=e.cloneRange();return n.each(e=>i.setStartAfter(e.dom)),r.each(e=>i.setEndBefore(e.dom)),i},aC=(e,t,n,r)=>eC(e,t,n,r).bind(({start:e,end:t})=>e.or(t)).bind(e=>{let{isSameTable:r}=t,i=nC(e).getOr([]);if(r&&e.cells.length===i.length)return I.some(GS.fullTable(e.table));if(i.length>0){if(r)return I.some(GS.partialTable(i,I.none()));{let e=iC(n,t);return I.some(GS.partialTable(i,I.some({...t,rng:e})))}}else return I.none()}),oC=(e,t,n,r)=>eC(e,t,n,r).bind(({start:e,end:r})=>{let i=e.bind(nC).getOr([]),a=r.bind(nC).getOr([]);if(i.length>0&&a.length>0){let e=iC(n,t);return I.some(GS.multiTable(i,a,e))}else return I.none()}),sC=(e,t)=>{let n=LS(e),r=XS(t,n),i=HS(t,n);return rC(r,t,n)?r.map(e=>GS.singleCellTable(t,e.start)):i.isMultiTable?oC(r,i,t,n):aC(r,i,t,n)},cC=e=>L(e,e=>{Jn(e,`contenteditable`),to(e)}),lC=(e,t)=>I.from(e.dom.getParent(t,e.dom.isBlock)).map(U.fromDom),uC=(e,t,n)=>{n.each(n=>{t?Oi(n):(to(n),e.selection.setCursorLocation(n.dom,0))})},dC=(e,t,n,r)=>{let i=n.cloneRange();r?(i.setStart(n.startContainer,n.startOffset),i.setEndAfter(t.dom.lastChild)):(i.setStartBefore(t.dom.firstChild),i.setEnd(n.endContainer,n.endOffset)),hC(e,i,t,!1).each(e=>e())},fC=e=>{let t=Dh(e),n=U.fromDom(e.selection.getNode());Da(n.dom)&&$o(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&pe(t,e=>yr(e,n))&&Un(n,`data-mce-selected`,`1`)},pC=(e,t,n)=>I.some(()=>{let r=e.selection.getRng();cC(n.bind(({rng:n,isStartInTable:i})=>{let a=lC(e,i?n.endContainer:n.startContainer);n.deleteContents(),uC(e,i,a.filter($o));let o=i?t[0]:t[t.length-1];return dC(e,o,r,i),$o(o)?I.none():I.some(i?t.slice(1):t.slice(0,-1))}).getOr(t)),fC(e)}),mC=(e,t,n,r)=>I.some(()=>{let i=e.selection.getRng(),a=t[0],o=n[n.length-1];dC(e,a,i,!0),dC(e,o,i,!1);let s=$o(a)?t:t.slice(1),c=$o(o)?n:n.slice(0,-1);cC(s.concat(c)),r.deleteContents(),fC(e)}),hC=(e,t,n,r=!0)=>I.some(()=>{NS(e,t,n,r)}),gC=(e,t)=>I.some(()=>dS(e,!1,t)),_C=(e,t,n)=>sC(t,n).bind(t=>t.fold(M(hC,e),M(gC,e),M(pC,e),M(mC,e))),vC=(e,t)=>wC(e,t),yC=(e,t,n,r)=>SC(t,r).fold(()=>_C(e,t,n),t=>vC(e,t)),bC=(e,t,n)=>{let r=U.fromDom(e.getBody()),i=e.selection.getRng();return n.length===0?yC(e,r,i,t):pC(e,n,I.none())},xC=(e,t)=>be(ex(t,e),Xa),SC=(e,t)=>be(ex(t,e),Vn(`caption`)),CC=(e,t,n,r,i)=>Vm(n,e.getBody(),i).bind(e=>xC(t,U.fromDom(e.getNode())).bind(e=>yr(e,r)?I.none():I.some(k))),wC=(e,t)=>I.some(()=>{to(t),e.selection.setCursorLocation(t.dom,0)}),TC=(e,t,n,r)=>Km(e.dom).bind(i=>qm(e.dom).map(e=>t?n.isEqual(i)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(i))).getOr(!0),EC=(e,t)=>wC(e,t),DC=(e,t,n)=>SC(e,U.fromDom(n.getNode())).fold(()=>I.some(k),e=>Cn(!yr(e,t),k)),OC=(e,t,n,r,i)=>Vm(n,e.getBody(),i).fold(()=>I.some(k),a=>TC(r,n,i,a)?EC(e,r):DC(t,r,a)),kC=(e,t,n,r)=>{let i=Y.fromRangeStart(e.selection.getRng());return xC(n,r).bind(r=>$o(r)?wC(e,r):CC(e,n,t,r,i))},AC=(e,t,n,r)=>{let i=Y.fromRangeStart(e.selection.getRng());return $o(r)?wC(e,r):OC(e,n,t,r,i)},jC=(e,t)=>e?qb(t):Jb(t),MC=(e,t)=>{let n=Y.fromRangeStart(e.selection.getRng());return jC(t,n)||Bm(t,e.getBody(),n).exists(e=>jC(t,e))},NC=(e,t,n)=>{let r=U.fromDom(e.getBody());return SC(r,n).fold(()=>kC(e,t,r,n).orThunk(()=>Cn(MC(e,t),k)),n=>AC(e,t,r,n))},PC=(e,t)=>{let n=U.fromDom(e.selection.getStart(!0)),r=Dh(e);return e.selection.isCollapsed()&&r.length===0?NC(e,t,n):bC(e,n,r)},FC=(e,t)=>{let n=t;for(;n&&n!==e;){if(Ta(n)||Ea(n))return n;n=n.parentNode}return null},IC=[`data-ephox-`,`data-mce-`,`data-alloy-`,`data-snooker-`,`_`],LC=H.each,RC=e=>{let t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=(e,n)=>{if(e.nodeName!==n.nodeName||e.nodeType!==n.nodeType)return!1;let r=e=>{let n={};return LC(t.getAttribs(e),r=>{let a=r.nodeName.toLowerCase();a!==`style`&&!i(a)&&(n[a]=t.getAttrib(e,a))}),n},a=(e,t)=>{for(let n in e)if(Ke(e,n)){let r=t[n];if(w(r)||e[n]!==r)return!1;delete t[n]}for(let e in t)if(Ke(t,e))return!1;return!0};return W(e)&&W(n)&&(!a(r(e),r(n))||!a(t.parseStyle(t.getAttrib(e,`style`)),t.parseStyle(t.getAttrib(n,`style`))))?!1:!_h(e)&&!_h(n)},i=e=>pe(IC,t=>bt(e,t))||n.has(e);return{compare:r,isAttributeInternal:i}},zC=e=>[`h1`,`h2`,`h3`,`h4`,`h5`,`h6`].includes(e.name),BC=e=>e.name===`summary`,VC=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},HC=(e,t,n,r)=>{let i=n.name;for(let t=0,a=e.length;t<a;t++){let a=e[t];if(a.name===i){let e=r.nodes[i];e?e.nodes.push(n):r.nodes[i]={filter:a,nodes:[n]}}}if(n.attributes)for(let e=0,i=t.length;e<i;e++){let i=t[e],a=i.name;if(a in n.attributes.map){let e=r.attributes[a];e?e.nodes.push(n):r.attributes[a]={filter:i,nodes:[n]}}}},UC=(e,t,n)=>{let r={nodes:{},attributes:{}};return n.firstChild&&VC(n,n=>{HC(e,t,n,r)}),r},WC=(e,t)=>{let n=(e,n)=>{Le(e,e=>{let r=Me(e.nodes);L(e.filter.callbacks,i=>{for(let t=r.length-1;t>=0;t--){let i=r[t];(!(n?i.attr(e.filter.name)!==void 0:i.name===e.filter.name)||T(i.parent))&&r.splice(t,1)}r.length>0&&i(r,e.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},GC=(e,t,n,r={})=>{WC(UC(e,t,n),r)},KC=(e,t,n,r)=>{if((e.pad_empty_with_br||t.insert)&&n(r)){let e=new ab(`br`,1);t.insert&&e.attr(`data-mce-bogus`,`1`),r.empty().append(e)}else r.empty().append(new ab(`#text`,3)).value=`\xA0`},qC=e=>JC(e,`#text`)&&e?.firstChild?.value===`\xA0`,JC=(e,t)=>{let n=e?.firstChild;return E(n)&&n===e.lastChild&&n.name===t},YC=(e,t)=>e.getElementRule(t.name)?.paddEmpty===!0,XC=(e,t,n,r)=>r.isEmpty(t,n,t=>YC(e,t)),ZC=(e,t)=>E(e)&&(t(e)||e.name===`br`),QC=e=>{let t;for(let n=e;n;n=n.parent){let e=n.attr(`contenteditable`);if(e===`false`)break;e===`true`&&(t=n)}return I.from(t)},$C=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{let r=e.children();for(let e of r)n&&!t.isValidChild(n.name,e.name)&&$C(e,t,n);e.unwrap()}},ew=(e,t,n,r=k)=>{let i=t.getTextBlockElements(),a=t.getNonEmptyElements(),o=t.getWhitespaceElements(),s=H.makeMap(`tr,td,th,tbody,thead,tfoot,table,summary`),c=new Set,l=e=>e!==n&&!s[e.name];for(let n=0;n<e.length;n++){let s=e[n],u,d,f;if(!s.parent||c.has(s))continue;if(i[s.name]&&s.parent.name===`li`){let e=s.next;for(;e&&i[e.name];)e.name=`li`,c.add(e),s.parent.insert(e,s.parent),e=e.next;s.unwrap();continue}let p=[s];for(u=s.parent;u&&!t.isValidChild(u.name,s.name)&&l(u);u=u.parent)p.push(u);if(u&&p.length>1)if(nw(t,s,u))$C(s,t);else{p.reverse(),d=p[0].clone(),r(d);let e=d;for(let n=0;n<p.length-1;n++){t.isValidChild(e.name,p[n].name)&&n>0?(f=p[n].clone(),r(f),e.append(f)):f=e;for(let e=p[n].firstChild;e&&e!==p[n+1];){let t=e.next;f.append(e),e=t}e=f}XC(t,a,o,d)?u.insert(s,p[0],!0):(u.insert(d,p[0],!0),u.insert(s,d)),u=p[0],(XC(t,a,o,u)||JC(u,`br`))&&u.empty().remove()}else if(s.parent){if(s.name===`li`){let e=s.prev;if(e&&(e.name===`ul`||e.name===`ol`)){e.append(s);continue}if(e=s.next,e&&(e.name===`ul`||e.name===`ol`)&&e.firstChild){e.insert(s,e.firstChild,!0);continue}let t=new ab(`ul`,1);r(t),s.wrap(t);continue}if(t.isValidChild(s.parent.name,`div`)&&t.isValidChild(`div`,s.name)){let e=new ab(`div`,1);r(e),s.wrap(e)}else $C(s,t)}}},tw=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},nw=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name===`a`&&tw(n,`a`)?!0:BC(n)&&zC(t)?!(n?.firstChild===t&&n?.lastChild===t):!1:!1,rw=(e,t,n,r)=>{let i=document.createRange();return i.setStart(e,t),i.setEnd(n,r),i},iw=e=>{let t=Y.fromRangeStart(e),n=Y.fromRangeEnd(e),r=e.commonAncestorContainer;return Bm(!1,r,n).map(i=>!am(t,n,r)&&am(t,i,r)?rw(t.container(),t.offset(),i.container(),i.offset()):e).getOr(e)},aw=e=>e.collapsed?e:iw(e),ow=e=>E(e.firstChild)&&e.firstChild===e.lastChild,sw=e=>e.name===`br`||e.value===`\xA0`,cw=(e,t)=>e.getBlockElements()[t.name]&&ow(t)&&sw(t.firstChild),lw=(e,t)=>{let n=e.getNonEmptyElements();return E(t)&&(t.isEmpty(n)||cw(e,t))},uw=(e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&n.name===`meta`&&(n=n.next),r&&r.attr(`id`)===`mce_marker`&&(r=r.prev),lw(e,r)&&(r=r?.prev),!n||n!==r?!1:n.name===`ul`||n.name===`ol`},dw=e=>{var t,n;let r=e.firstChild,i=e.lastChild;return r&&r.nodeName===`META`&&((t=r.parentNode)==null||t.removeChild(r)),i&&i.id===`mce_marker`&&((n=i.parentNode)==null||n.removeChild(i)),e},fw=(e,t,n)=>{let r=t.serialize(n);return dw(e.createFragment(r))},pw=e=>R(e?.childNodes??[],e=>e.nodeName===`LI`),mw=e=>e.data===`\xA0`||Ca(e),hw=e=>E(e?.firstChild)&&e.firstChild===e.lastChild&&mw(e.firstChild),gw=e=>!e.firstChild||hw(e),_w=e=>e.length>0&&gw(e[e.length-1])?e.slice(0,-1):e,vw=(e,t)=>{let n=e.getParent(t,e.isBlock);return n&&n.nodeName===`LI`?n:null},yw=(e,t)=>!!vw(e,t),bw=(e,t)=>{let n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},xw=(e,t)=>{let n=Y.before(e),r=Mm(t).next(n);return r?r.toRange():null},Sw=(e,t)=>{let n=Y.after(e),r=Mm(t).prev(n);return r?r.toRange():null},Cw=(e,t,n,r)=>{let i=bw(e,r),a=e.parentNode;return a&&(a.insertBefore(i[0],e),H.each(t,t=>{a.insertBefore(t,e)}),a.insertBefore(i[1],e),a.removeChild(e)),Sw(t[t.length-1],n)},ww=(e,t,n)=>{let r=e.parentNode;return r&&H.each(t,t=>{r.insertBefore(t,e)}),xw(e,n)},Tw=(e,t,n,r)=>(r.insertAfter(t.reverse(),e),Sw(t[0],n)),Ew=(e,t,n,r)=>{let i=fw(t,e,r),a=vw(t,n.startContainer),o=_w(pw(i.firstChild)),s=t.getRoot(),c=e=>{let r=Y.fromRangeStart(n),i=Mm(t.getRoot()),o=(e===1?i.prev(r):i.next(r))?.getNode();return o?vw(t,o)!==a:!0};return a?c(1)?ww(a,o,s):c(2)?Tw(a,o,s,t):Cw(a,o,s,n):null},Dw=[`pre`],Ow=(e,t,n,r)=>{let i=t.firstChild,a=t.lastChild,o=i===(a.attr(`data-mce-type`)===`bookmark`?a.prev:a),s=fe(Dw,i.name);if(o&&s){let t=i.attr(`contenteditable`)!==`false`,a=e.getParent(n,e.isBlock)?.nodeName.toLowerCase()===i.name,o=I.from(FC(r,n)).forall(Ta);return t&&a&&o}else return!1},kw=Da,Aw=(e,t,n)=>E(n)?n===e.getParent(t.endContainer,kw)&&Nh(U.fromDom(n),t):!1,jw=(e,t,n)=>{var r;if(n.getAttribute(`data-mce-bogus`)===`all`)(r=n.parentNode)==null||r.insertBefore(e.dom.createFragment(t),n);else{let r=n.firstChild,i=n.lastChild;!r||r===i&&r.nodeName===`BR`?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},Mw=(e,t,n)=>{I.from(e.getParent(t,`td,th`)).map(U.fromDom).each(e=>no(e,n))},Nw=(e,t)=>{let n=e.schema.getTextInlineElements(),r=e.dom;if(t){let t=e.getBody(),i=RC(e);H.each(r.select(`*[data-mce-fragment]`),e=>{if(E(n[e.nodeName.toLowerCase()])&&Nb(r,e)){for(let n=e.parentElement;E(n)&&n!==t&&!Fb(r,e,n);n=n.parentElement)if(i.compare(n,e)){r.remove(e,!0);break}}})}},Pw=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr(`data-mce-fragment`,`1`)},Fw=e=>{H.each(e.getElementsByTagName(`*`),e=>{e.removeAttribute(`data-mce-fragment`)})},Iw=e=>!!e.getAttribute(`data-mce-fragment`),Lw=(e,t)=>E(t)&&!e.schema.getVoidElements()[t.nodeName],Rw=(e,t)=>{var n;let r,i=e.dom,a=e.selection;if(!t)return;a.scrollIntoView(t);let o=FC(e.getBody(),t);if(o&&i.getContentEditable(o)===`false`){i.remove(t),a.select(o);return}let s=i.createRng(),c=t.previousSibling;if(G(c)){s.setStart(c,c.nodeValue?.length??0);let e=t.nextSibling;G(e)&&(c.appendData(e.data),(n=e.parentNode)==null||n.removeChild(e))}else s.setStartBefore(t),s.setEndBefore(t);let l=t=>{let n=Y.fromRangeStart(t);return n=Mm(e.getBody()).next(n),n?.toRange()},u=i.getParent(t,i.isBlock);if(i.remove(t),u&&i.isEmpty(u)){let e=kw(u);Di(U.fromDom(u)),s.setStart(u,0),s.setEnd(u,0),!e&&!Iw(u)&&(r=l(s))?(s=r,i.remove(u)):i.add(u,i.create(`br`,e?{}:{"data-mce-bogus":`1`}))}a.setRng(s)},zw=e=>{let t=e.dom,n=aw(e.selection.getRng());e.selection.setRng(n);let r=t.getParent(n.startContainer,kw);Aw(t,n,r)?hC(e,n,U.fromDom(r)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&G(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand(`Delete`,!1)},Bw=e=>{for(let t=e;t;t=t.walk())if(t.attr(`id`)===`mce_marker`)return I.some(t);return I.none()},Vw=(e,t,n)=>pe(n.children(),zC)&&e.getParent(t,e.isBlock)?.nodeName===`SUMMARY`,Hw=(e,t,n)=>{var r;let i=e.selection,a=e.dom,o=e.parser,s=n.merge,c=Ob({validate:!0},e.schema),l=`<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>`;n.preserve_zwsp||(t=io(t)),t.indexOf(`{$caret}`)===-1&&(t+=`{$caret}`),t=t.replace(/\{\$caret\}/,l);let u=i.getRng(),d=u.startContainer,f=e.getBody();d===f&&i.isCollapsed()&&a.isBlock(f.firstChild)&&Lw(e,f.firstChild)&&a.isEmpty(f.firstChild)&&(u=a.createRng(),u.setStart(f.firstChild,0),u.setEnd(f.firstChild,0),i.setRng(u)),i.isCollapsed()||zw(e);let p=i.getNode(),m={context:p.nodeName.toLowerCase(),data:n.data,insert:!0},h=o.parse(t,m);if(n.paste===!0&&uw(e.schema,h)&&yw(a,p))return u=Ew(c,a,i.getRng(),h),u&&i.setRng(u),t;n.paste===!0&&Ow(a,h,p,e.getBody())&&((r=h.firstChild)==null||r.unwrap()),Pw(h);let g=h.lastChild;if(g&&g.attr(`id`)===`mce_marker`){let t=g;for(g=g.prev;g;g=g.walk(!0))if(g.type===3||!a.isBlock(g.name)){g.parent&&e.schema.isValidChild(g.parent.name,`span`)&&g.parent.insert(t,g,g.name===`br`);break}}if(e._selectionOverrides.showBlockCaretContainer(p),!m.invalid&&!Vw(a,p,h))t=c.serialize(h),jw(e,t,p);else{e.selection.setContent(l);let n=i.getNode(),r,s=e.getBody();for(xa(n)?n=r=s:r=n;r&&r!==s;)n=r,r=r.parentNode;t=n===s?s.innerHTML:a.getOuterHTML(n);let u=o.parse(t),d=Bw(u),f=d.bind(QC).getOr(u);d.each(e=>e.replace(h));let p=h.children(),m=h.parent??u;h.unwrap(),ew(R(p,t=>nw(e.schema,t,m)),e.schema,f),GC(o.getNodeFilters(),o.getAttributeFilters(),u),t=c.serialize(u),n===s?a.setHTML(s,t):a.setOuterHTML(n,t)}return Nw(e,s),Rw(e,a.get(`mce_marker`)),Fw(e.getBody()),Mw(a,i.getStart(),e.schema),gs(e.schema,e.getBody(),i.getStart()),t},Uw=e=>e instanceof ab,Ww=e=>{Oy(e)&&Km(e.getBody()).each(t=>{let n=t.getNode(),r=ha(n)?Km(n).getOr(t):t;e.selection.setRng(r.toRange())})},Gw=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&Ww(e)},Kw=(e,t,n,r)=>{if(n=io(n),n.length===0||/^\s+$/.test(n)){let i=`<br data-mce-bogus="1">`;t.nodeName===`TABLE`?n=`<tr><td>`+i+`</td></tr>`:/^(UL|OL)$/.test(t.nodeName)&&(n=`<li>`+i+`</li>`);let a=Pd(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),a.toLowerCase())?(n=i,n=e.dom.createHTML(a,Fd(e),n)):n||=i,Gw(e,n,r.no_selection),{content:n,html:n}}else{r.format!==`raw`&&(n=Ob({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));let i=Za(U.fromDom(t))?n:H.trim(n);return Gw(e,i,r.no_selection),{content:i,html:i}}},qw=(e,t,n,r)=>{GC(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);let i=Ob({validate:!1},e.schema).serialize(n),a=io(Za(U.fromDom(t))?i:H.trim(i));return Gw(e,a,r.no_selection),{content:n,html:a}},Jw=(e,t,n)=>I.from(e.getBody()).map(r=>Uw(t)?qw(e,r,t,n):Kw(e,r,t,n)).getOr({content:t,html:Uw(n.content)?``:n.content}),Yw=e=>D(e)?e:P,Xw=(e,t,n)=>{let r=e.dom,i=Yw(n);for(;r.parentNode;){r=r.parentNode;let e=U.fromDom(r),n=t(e);if(n.isSome())return n;if(i(e))break}return I.none()},Zw=(e,t,n)=>{let r=t(e),i=Yw(n);return r.orThunk(()=>i(e)?I.none():Xw(e,t,i))},Qw=Zh,$w=(e,t,n)=>{let r=e.formatter.get(n);if(r)for(let n=0;n<r.length;n++){let i=r[n];if(cg(i)&&i.inherit===!1&&e.dom.is(t,i.selector))return!0}return!1},eT=(e,t,n,r,i)=>{let a=e.dom.getRoot();return t===a?!1:!!rT(e,e.dom.getParent(t,t=>$w(e,t,n)?!0:t.parentNode===a||!!rT(e,t,n,r,!0)),n,r,i)},tT=(e,t,n)=>lg(n)&&Qw(t,n.inline)||ag(n)&&Qw(t,n.block)?!0:cg(n)?W(t)&&e.is(t,n.selector):!1,nT=(e,t,n,r,i,a)=>{let o=n[r],s=r===`attributes`;if(D(n.onmatch))return n.onmatch(t,n,r);if(o){if(Xe(o)){for(let n=0;n<o.length;n++)if(s?e.getAttrib(t,o[n]):$h(e,t,o[n]))return!0}else for(let r in o)if(Ke(o,r)){let c=s?e.getAttrib(t,r):$h(e,t,r),l=Xh(o[r],a),u=T(c)||Dt(c);if(u&&T(l))continue;if(i&&u&&!n.exact||(!i||n.exact)&&!Qw(c,Qh(l,r)))return!1}}return!0},rT=(e,t,n,r,i)=>{let a=e.formatter.get(n),o=e.dom;if(a&&W(t))for(let n=0;n<a.length;n++){let s=a[n];if(tT(e.dom,t,s)&&nT(o,t,s,`attributes`,i,r)&&nT(o,t,s,`styles`,i,r)){let n=s.classes;if(n){for(let i=0;i<n.length;i++)if(!e.dom.hasClass(t,Xh(n[i],r)))return}return s}}},iT=(e,t,n,r,i)=>{if(r)return eT(e,r,t,n,i);if(r=e.selection.getNode(),eT(e,r,t,n,i))return!0;let a=e.selection.getStart();return!!(a!==r&&eT(e,a,t,n,i))},aT=(e,t,n)=>{let r=[],i={},a=e.selection.getStart();return e.dom.getParent(a,a=>{for(let o=0;o<t.length;o++){let s=t[o];!i[s]&&rT(e,a,s,n)&&(i[s]=!0,r.push(s))}},e.dom.getRoot()),r},oT=(e,t)=>{let n=t=>yr(t,U.fromDom(e.getBody())),r=(t,n)=>rT(e,t.dom,n)?I.some(n):I.none();return I.from(e.selection.getStart(!0)).bind(e=>Zw(U.fromDom(e),e=>Ne(t,t=>r(e,t)),n)).getOrNull()},sT=(e,t)=>{let n=e.formatter.get(t),r=e.dom;if(n&&e.selection.isEditable()){let t=tg(r,e.selection.getStart());for(let e=n.length-1;e>=0;e--){let i=n[e];if(!cg(i))return!0;for(let e=t.length-1;e>=0;e--)if(r.is(t[e],i.selector))return!0}}return!1},cT=(e,t,n)=>ve(n,(n,r)=>{let i=rg(e,r);return e.formatter.matchNode(t,r,{},i)?n.concat([r]):n},[]),lT=(e,t)=>e.importNode(t,!0),uT=e=>{if(e){let t=new ra(e,e);for(let e=t.current();e;e=t.next())if(G(e))return e}return null},dT=e=>{let t=U.fromTag(`span`);return Wn(t,{id:Jm,"data-mce-bogus":`1`,"data-mce-type":`format-caret`}),e&&Ci(t,U.fromText(`﻿`)),t},fT=e=>{let t=uT(e);return t&&t.data.charAt(0)===`﻿`&&t.deleteData(0,1),t},pT=(e,t,n)=>{let r=e.dom,i=e.selection;if(pg(t))dS(e,!1,U.fromDom(t),n,!0);else{let e=i.getRng(),n=r.getParent(t,r.isBlock),a=e.startContainer,o=e.startOffset,s=e.endContainer,c=e.endOffset,l=fT(t);r.remove(t,!0),a===l&&o>0&&e.setStart(l,o-1),s===l&&c>0&&e.setEnd(l,c-1),n&&r.isEmpty(n)&&to(U.fromDom(n)),i.setRng(e)}},mT=(e,t,n)=>{let r=e.dom,i=e.selection;if(t)pT(e,t,n);else if(t=Xm(e.getBody(),i.getStart()),!t)for(;t=r.get(Jm);)pT(e,t,n)},hT=(e,t,n)=>{var r,i;let a=e.dom,o=a.getParent(n,M(Wh,e.schema));o&&a.isEmpty(o)?(r=n.parentNode)==null||r.replaceChild(t,n):($a(U.fromDom(n)),a.isEmpty(n)?(i=n.parentNode)==null||i.replaceChild(t,n):a.insertAfter(t,n))},gT=(e,t)=>(e.appendChild(t),t),_T=(e,t)=>{let n=_e(e,(e,t)=>gT(e,t.cloneNode(!1)),t);return gT(n,(n.ownerDocument??document).createTextNode(`﻿`))},vT=(e,t,n,r,i,a)=>{let o=e.formatter,s=e.dom;if(R(cT(e,n,R(Fe(o.get()),e=>e!==r&&!yt(e,`removeformat`))),t=>!ig(e,t,r)).length>0){let e=n.cloneNode(!1);return s.add(t,e),o.remove(r,i,e,a),s.remove(e),I.some(e)}else return I.none()},yT=(e,t,n)=>{let r,i=e.selection,a=e.formatter.get(t);if(!a)return;let o=i.getRng(),s=o.startOffset,c=o.startContainer.nodeValue;r=Xm(e.getBody(),i.getStart());let l=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&s>0&&s<c.length&&l.test(c.charAt(s))&&l.test(c.charAt(s-1))){let r=i.getBookmark();o.collapse(!0);let s=Ag(e.dom,o,a);s=sv(s),e.formatter.apply(t,n,s),i.moveToBookmark(r)}else{let a=r?uT(r):null;!r||a?.data!==`﻿`?(r=lT(e.getDoc(),dT(!0).dom),a=r.firstChild,o.insertNode(r),s=1,e.formatter.apply(t,n,r)):e.formatter.apply(t,n,r),i.setCursorLocation(a,s)}},bT=(e,t,n,r)=>{let i=e.dom,a=e.selection,o=!1,s=e.formatter.get(t);if(!s)return;let c=a.getRng(),l=c.startContainer,u=c.startOffset,d=l;G(l)&&(u!==l.data.length&&(o=!0),d=d.parentNode);let f=[],p;for(;d;){if(rT(e,d,t,n,r)){p=d;break}d.nextSibling&&(o=!0),f.push(d),d=d.parentNode}if(p)if(o){let o=a.getBookmark();c.collapse(!0);let l=Ag(i,c,s,!0);l=sv(l),e.formatter.remove(t,n,l,r),a.moveToBookmark(o)}else{let o=Xm(e.getBody(),p),s=E(o)?i.getParents(p.parentNode,F,o):[],c=dT(!1).dom;hT(e,c,o??p);let l=vT(e,c,p,t,n,r),u=_T([...f,...l.toArray(),...s],c);o&&pT(e,o,E(o)),a.setCursorLocation(u,1),i.isEmpty(p)&&i.remove(p)}},xT=(e,t,n)=>{let r=e.selection,i=e.getBody();mT(e,null,n),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===`﻿`&&mT(e,Xm(i,r.getStart()),!0),(t===37||t===39)&&mT(e,Xm(i,r.getStart()),!0)},ST=e=>G(e)&&xt(e.data,`\xA0`),CT=e=>{e.on(`mouseup keydown`,t=>{xT(e,t.keyCode,ST(e.selection.getRng().endContainer))})},wT=e=>{let t=dT(!1);return{caretContainer:t,caretPosition:Y(_T(e,t.dom),0)}},TT=(e,t)=>{let{caretContainer:n,caretPosition:r}=wT(t);return bi(U.fromDom(e),n),Oi(U.fromDom(e)),r},ET=(e,t)=>{let{caretContainer:n,caretPosition:r}=wT(t);return e.insertNode(n.dom),r},DT=(e,t)=>Ym(t.dom)?!1:Ke(e.schema.getTextInlineElements(),Mn(t))&&!Ym(t.dom)&&!pa(t.dom),OT={},kT=la([`pre`]),AT=(e,t)=>{OT[e]||(OT[e]=[]),OT[e].push(t)},jT=(e,t)=>{Ke(OT,e)&&L(OT[e],e=>{e(t)})};AT(`pre`,e=>{let t=e.selection.getRng(),n=e=>t=>{let n=t.previousSibling;return kT(n)&&fe(e,n)},r=(e,t)=>{let n=U.fromDom(t),r=Sr(n).dom;Oi(n),Ei(U.fromDom(e),[U.fromTag(`br`,r),U.fromTag(`br`,r),...Nr(n)])};if(!t.collapsed){let t=e.selection.getSelectedBlocks();L(R(R(t,kT),n(t)),e=>{r(e.previousSibling,e)})}});let MT=[`fontWeight`,`fontStyle`,`color`,`fontSize`,`fontFamily`],NT=e=>y(e.styles)&&pe(Fe(e.styles),e=>fe(MT,e)),PT=e=>be(e,e=>lg(e)&&e.inline===`span`&&NT(e)),FT=(e,t)=>{let n=e.get(t);return x(n)?PT(n):I.none()},IT=(e,t)=>Gm(t,Y.fromRangeStart(e)).isNone(),LT=(e,t)=>Wm(t,Y.fromRangeEnd(e)).exists(e=>!Ca(e.getNode())||Wm(t,e).isSome())===!1,RT=e=>t=>ka(t)&&e.isEditable(t),zT=e=>{let t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return IT(n,t[0])&&LT(n,t[0])?t:[];{let e=Ae(t).filter(e=>IT(n,e)).toArray(),r=je(t).filter(e=>LT(n,e)).toArray(),i=t.slice(1,-1);return e.concat(i).concat(r)}},BT=e=>R(zT(e),RT(e.dom)),VT=e=>R(e.getSelectedBlocks(),RT(e.dom)),HT=H.each,UT=e=>W(e)&&!_h(e)&&!Ym(e)&&!pa(e),WT=(e,t)=>{for(let n=e;n;n=n[t]){if(G(n)&&Et(n.data))return e;if(W(n)&&!_h(n))return n}return e},GT=(e,t,n)=>{let r=RC(e),i=oa(t)&&e.dom.isEditable(t),a=oa(n)&&e.dom.isEditable(n);if(i&&a){let i=WT(t,`previousSibling`),a=WT(n,`nextSibling`);if(r.compare(i,a)){for(let e=i.nextSibling;e&&e!==a;){let t=e;e=e.nextSibling,i.appendChild(t)}return e.dom.remove(a),H.each(H.grep(a.childNodes),e=>{i.appendChild(e)}),i}}return n},KT=(e,t,n,r)=>{if(r&&t.merge_siblings!==!1){let t=GT(e,Uh(r),r)??r;GT(e,t,Uh(t,!0))}},qT=(e,t,n)=>{if(t.clear_child_styles){let r=t.links?`*:not(a)`:`*`;HT(e.select(r,n),n=>{UT(n)&&e.isEditable(n)&&HT(t.styles,(t,r)=>{e.setStyle(n,r,``)})})}},JT=(e,t,n)=>{HT(e.childNodes,e=>{UT(e)&&(t(e)&&n(e),e.hasChildNodes()&&JT(e,t,n))})},YT=(e,t)=>{t.nodeName===`SPAN`&&e.getAttribs(t).length===0&&e.remove(t,!0)},XT=(e,t)=>n=>!!(n&&$h(e,n,t)),ZT=(e,t,n)=>r=>{e.setStyle(r,t,n),r.getAttribute(`style`)===``&&r.removeAttribute(`style`),YT(e,r)},QT=ud.generate([{keep:[]},{rename:[`name`]},{removed:[]}]),$T=/^(src|href|style)$/,eE=H.each,tE=Zh,nE=e=>/^(TR|TH|TD)$/.test(e.nodeName),rE=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),iE=(e,t,n)=>{let r=t[n?`startContainer`:`endContainer`],i=t[n?`startOffset`:`endOffset`];if(W(r)){let e=r.childNodes.length-1;!n&&i&&i--,r=r.childNodes[i>e?e:i]}return G(r)&&n&&i>=r.data.length&&(r=new ra(r,e.getBody()).next()||r),G(r)&&!n&&i===0&&(r=new ra(r,e.getBody()).prev()||r),r},aE=(e,t)=>{let n=t?`firstChild`:`lastChild`,r=e[n];return nE(e)&&r?e.nodeName===`TR`&&r[n]||r:e},oE=(e,t,n,r)=>{var i;let a=e.create(n,r);return(i=t.parentNode)==null||i.insertBefore(a,t),a.appendChild(t),a},sE=(e,t,n,r,i)=>{let a=U.fromDom(t),o=U.fromDom(e.create(r,i));return Ei(o,n?Mr(a):jr(a)),n?(bi(a,o),Si(o,a)):(xi(a,o),Ci(o,a)),o.dom},cE=(e,t)=>t.links&&e.nodeName===`A`,lE=(e,t,n)=>{let r=t.parentNode,i,a=e.dom,o=Pd(e);ag(n)&&r===a.getRoot()&&(!n.list_block||!tE(t,n.list_block))&&L(Me(t.childNodes),t=>{Gh(e,o,t.nodeName.toLowerCase())?i?i.appendChild(t):(i=oE(a,t,o),a.setAttribs(i,Fd(e))):i=null}),!(ug(n)&&!tE(n.inline,t))&&a.remove(t,!0)},uE=(e,t,n)=>O(e)?{name:t,value:null}:{name:e,value:Xh(t,n)},dE=(e,t)=>{e.getAttrib(t,`style`)===``&&(t.removeAttribute(`style`),t.removeAttribute(`data-mce-style`))},fE=(e,t,n,r,i)=>{let a=!1;eE(n.styles,(o,s)=>{let{name:c,value:l}=uE(s,o,r),u=Qh(l,c);(n.remove_similar||S(l)||!W(i)||tE($h(e,i,c),u))&&e.setStyle(t,c,``),a=!0}),a&&dE(e,t)},pE=(e,t,n)=>{t===`removeformat`?L(VT(e.selection),t=>{L(MT,n=>e.dom.setStyle(t,n,``)),dE(e.dom,t)}):FT(e.formatter,t).each(t=>{L(VT(e.selection),r=>fE(e.dom,r,t,n,null))})},mE=(e,t,n,r,i)=>{let a=e.dom,o=RC(e),s=e.schema;if(lg(t)&&vs(s,t.inline)&&bs(s,r)&&r.parentElement===e.getBody())return lE(e,r,t),QT.removed();if(!t.ceFalseOverride&&r&&a.getContentEditableParent(r)===`false`||r&&!tT(a,r,t)&&!cE(r,t))return QT.keep();let c=r,l=t.preserve_attributes;if(lg(t)&&t.remove===`all`&&x(l)){let e=R(a.getAttribs(c),e=>fe(l,e.name.toLowerCase()));if(a.removeAllAttribs(c),L(e,e=>a.setAttrib(c,e.name,e.value)),e.length>0)return QT.rename(`span`)}if(t.remove!==`all`){fE(a,c,t,n,i),eE(t.attributes,(e,r)=>{let{name:o,value:s}=uE(r,e,n);if(t.remove_similar||S(s)||!W(i)||tE(a.getAttrib(i,o),s)){if(o===`class`){let e=a.getAttrib(c,o);if(e){let t=``;if(L(e.split(/\s+/),e=>{/mce\-\w+/.test(e)&&(t+=(t?` `:``)+e)}),t){a.setAttrib(c,o,t);return}}}if($T.test(o)&&c.removeAttribute(`data-mce-`+o),o===`style`&&la([`li`])(c)&&a.getStyle(c,`list-style-type`)===`none`){c.removeAttribute(o),a.setStyle(c,`list-style-type`,`none`);return}o===`class`&&c.removeAttribute(`className`),c.removeAttribute(o)}}),eE(t.classes,e=>{e=Xh(e,n),(!W(i)||a.hasClass(i,e))&&a.removeClass(c,e)});let e=a.getAttribs(c);for(let t=0;t<e.length;t++){let n=e[t].nodeName;if(!o.isAttributeInternal(n))return QT.keep()}}return t.remove===`none`?QT.keep():(lE(e,c,t),QT.removed())},hE=(e,t,n,r,i)=>{let a;return t.parentNode&&L(tg(e.dom,t.parentNode).reverse(),t=>{if(!a&&W(t)&&t.id!==`_start`&&t.id!==`_end`){let o=rT(e,t,n,r,i);o&&o.split!==!1&&(a=t)}}),a},gE=(e,t,n,r)=>mE(e,t,n,r,r).fold(j(r),t=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,t)),j(null)),_E=(e,t,n,r,i,a,o,s)=>{var c;let l,u,d=e.dom;if(n){let f=n.parentNode;for(let n=r.parentNode;n&&n!==f;n=n.parentNode){let r=d.clone(n,!1);for(let n=0;n<t.length&&(r=gE(e,t[n],s,r),r!==null);n++);r&&(l&&r.appendChild(l),u||=r,l=r)}a&&(!o.mixed||!d.isBlock(n))&&(r=d.split(n,r)??r),l&&u&&((c=i.parentNode)==null||c.insertBefore(l,i),u.appendChild(i),lg(o)&&KT(e,o,s,l))}return r},vE=(e,t,n,r,i)=>{let a=e.formatter.get(t),o=a[0],s=e.dom,c=e.selection,l=r=>_E(e,a,hE(e,r,t,n,i),r,r,!0,o,n),u=e=>_h(e)&&W(e)&&(e.id===`_start`||e.id===`_end`),d=t=>pe(a,r=>bE(e,r,n,t,t)),f=t=>{let n=Me(t.childNodes),r=d(t)||pe(a,e=>tT(s,t,e)),i=t.parentNode;if(!r&&E(i)&&dg(o)&&d(i),o.deep&&n.length)for(let e=0;e<n.length;e++)f(n[e]);L([`underline`,`line-through`,`overline`],n=>{W(t)&&e.dom.getStyle(t,`text-decoration`)===n&&t.parentNode&&eg(s,t.parentNode)===n&&bE(e,{deep:!1,exact:!0,inline:`span`,styles:{textDecoration:n}},void 0,t)})},p=e=>{let t=s.get(e?`_start`:`_end`);if(t){let n=t[e?`firstChild`:`lastChild`];return u(n)&&(n=n[e?`firstChild`:`lastChild`]),G(n)&&n.data.length===0&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),s.remove(t,!0),n}else return null},m=t=>{let n,r,i=Ag(s,t,a,t.collapsed);if(o.split){if(i=sv(i),n=iE(e,i,!0),r=iE(e,i),n!==r){if(n=aE(n,!0),r=aE(r,!1),rE(s,n,r)){l(sE(s,I.from(n.firstChild).getOr(n),!0,`span`,{id:`_start`,"data-mce-type":`bookmark`})),p(!0);return}if(rE(s,r,n)){l(sE(s,I.from(r.lastChild).getOr(r),!1,`span`,{id:`_end`,"data-mce-type":`bookmark`})),p(!1);return}n=oE(s,n,`span`,{id:`_start`,"data-mce-type":`bookmark`}),r=oE(s,r,`span`,{id:`_end`,"data-mce-type":`bookmark`});let e=s.createRng();e.setStartAfter(n),e.setEndBefore(r),jg(s,e,e=>{L(e,e=>{!_h(e)&&!_h(e.parentNode)&&l(e)})}),l(n),l(r),n=p(!0),r=p()}else n=r=l(n);i.startContainer=n.parentNode?n.parentNode:n,i.startOffset=s.nodeIndex(n),i.endContainer=r.parentNode?r.parentNode:r,i.endOffset=s.nodeIndex(r)+1}jg(s,i,e=>{L(e,f)})};if(r){if(Rh(r)){let e=s.createRng();e.setStartBefore(r),e.setEndAfter(r),m(e)}else m(r);r_(e,t,r,n);return}!c.isCollapsed()||!lg(o)||Dh(e).length?(Vh(e,()=>Ih(e,m),r=>lg(o)&&iT(e,t,n,r)),e.nodeChanged()):bT(e,t,n,i),pE(e,t,n),r_(e,t,r,n)},yE=(e,t,n,r,i)=>{(r||e.selection.isEditable())&&vE(e,t,n,r,i)},bE=(e,t,n,r,i)=>mE(e,t,n,r,i).fold(P,t=>(e.dom.rename(r,t),!0),F),xE=H.each,SE=(e,t,n,r)=>{let i=t=>{if(oa(t)&&W(t.parentNode)&&e.isEditable(t)){let n=eg(e,t.parentNode);e.getStyle(t,`color`)&&n?e.setStyle(t,`text-decoration`,n):e.getStyle(t,`text-decoration`)===n&&e.setStyle(t,`text-decoration`,null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(H.walk(r,i,`childNodes`),i(r))},CE=(e,t,n,r)=>{if(t.styles&&t.styles.backgroundColor){let i=XT(e,`fontSize`);JT(r,t=>i(t)&&e.isEditable(t),ZT(e,`backgroundColor`,Xh(t.styles.backgroundColor,n)))}},wE=(e,t,n,r)=>{if(lg(t)&&(t.inline===`sub`||t.inline===`sup`)){let n=XT(e,`fontSize`);JT(r,t=>n(t)&&e.isEditable(t),ZT(e,`fontSize`,``));let i=R(e.select(t.inline===`sup`?`sub`:`sup`,r),e.isEditable);e.remove(i,!0)}},TE=(e,t,n,r)=>{xE(t,t=>{lg(t)&&xE(e.dom.select(t.inline,r),r=>{UT(r)&&bE(e,t,n,r,t.exact?r:null)}),qT(e.dom,t,r)})},EE=(e,t,n,r,i)=>{let a=i.parentNode;rT(e,a,n,r)&&bE(e,t,r,i)||t.merge_with_parents&&a&&e.dom.getParent(a,a=>rT(e,a,n,r)?(bE(e,t,r,i),!0):!1)},DE=H.each,OE=(e,t,n,r)=>{if(bf(e)&&lg(t)&&n.parentNode){let t=hc(e.schema),i=FS(U.fromDom(n),e=>Ym(e.dom));return qe(t,r)&&$o(U.fromDom(n.parentNode),!1)&&!i}else return!1},kE=(e,t,n,r)=>{if(DE(n.styles,(n,i)=>{e.setStyle(t,i,Xh(n,r))}),n.styles){let n=e.getAttrib(t,`style`);n&&e.setAttrib(t,`data-mce-style`,n)}},AE=(e,t,n,r)=>{let i=e.formatter.get(t),a=i[0],o=!r&&e.selection.isCollapsed(),s=e.dom,c=e.selection,l=(e,t=a)=>{D(t.onformat)&&t.onformat(e,t,n,r),kE(s,e,t,n),DE(t.attributes,(t,r)=>{s.setAttrib(e,r,Xh(t,n))}),DE(t.classes,t=>{let r=Xh(t,n);s.hasClass(e,r)||s.addClass(e,r)})},u=(e,t)=>{let n=!1;return DE(e,e=>cg(e)?s.getContentEditable(t)===`false`&&!e.ceFalseOverride||E(e.collapsed)&&e.collapsed!==o?!0:s.is(t,e.selector)&&!Ym(t)?(l(t,e),n=!0,!1):!0:!1),n},d=e=>{if(v(e)){let t=s.create(e);return l(t),t}else return null},f=(r,o,s)=>{let c=[],f=!0,p=a.inline||a.block,m=d(p),h=r=>og(a)&&rT(e,r,t,n),g=(t,n,r)=>{let i=sg(a)&&Wh(e.schema,t)&&Gh(e,n,p);return r&&i},_=(t,n,i,o)=>{let c=Gh(e,p,t.nodeName.toLowerCase())&&Gh(e,n,p),l=!s&&G(t)&&ro(t.data),u=Ym(t),d=!lg(a)||!r.isBlock(t);return(i||o)&&c&&!l&&!u&&d};jg(r,o,t=>{let n,o=t=>{let s=!1,d=f,v=!1,y=t.parentNode,b=y.nodeName.toLowerCase(),x=r.getContentEditable(t);E(x)&&(d=f,f=x===`true`,s=!0,v=Yh(e,t));let S=f&&!s;if(Ca(t)&&!OE(e,a,t,b)){n=null,ag(a)&&r.remove(t);return}if(h(t)){n=null;return}if(g(t,b,S)){let e=r.rename(t,p);l(e),c.push(e),n=null;return}if(cg(a)){let e=u(i,t);if(!e&&E(y)&&dg(a)&&(e=u(i,y)),!lg(a)||e){n=null;return}}E(m)&&_(t,b,S,v)?(n||(n=r.clone(m,!1),y.insertBefore(n,t),c.push(n)),v&&s&&(f=d),n.appendChild(t)):(n=null,L(Me(t.childNodes),o),s&&(f=d),n=null)};L(t,o)}),a.links===!0&&L(c,e=>{let t=e=>{e.nodeName===`A`&&l(e,a),L(Me(e.childNodes),t)};t(e)}),L(c,o=>{let s=e=>{let t=0;return L(e.childNodes,e=>{!qh(e)&&!_h(e)&&t++}),t},u=e=>be(e.childNodes,zh).filter(e=>r.getContentEditable(e)!==`false`&&tT(r,e,a)).map(t=>{let n=r.clone(t,!1);return l(n),r.replace(n,e,!0),r.remove(t,!0),n}).getOr(e),d=s(o);if((c.length>1||!r.isBlock(o))&&d===0){r.remove(o,!0);return}(lg(a)||ag(a)&&a.wrapper)&&(!a.exact&&d===1&&(o=u(o)),TE(e,i,n,o),EE(e,a,t,n,o),CE(r,a,n,o),SE(r,a,n,o),wE(r,a,n,o),KT(e,a,n,o))})},p=Rh(r)?r:c.getNode();if(s.getContentEditable(p)===`false`&&!Yh(e,p)){r=p,u(i,r),n_(e,t,r,n);return}if(a){if(r)if(Rh(r)){if(!u(i,r)){let e=s.createRng();e.setStartBefore(r),e.setEndAfter(r),f(s,Ag(s,e,i),!0)}}else f(s,r,!0);else !o||!lg(a)||Dh(e).length?(c.setRng(aw(c.getRng())),Vh(e,()=>{Ih(e,(e,t)=>{f(s,t?e:Ag(s,e,i),!1)})},F),e.nodeChanged()):yT(e,t,n),FT(e.formatter,t).each(t=>{L(BT(e.selection),e=>kE(s,e,t,n))});jT(t,e)}n_(e,t,r,n)},jE=(e,t,n,r)=>{(r||e.selection.isEditable())&&AE(e,t,n,r)},ME=e=>Ke(e,`vars`),NE=(e,t)=>{e.set({}),t.on(`NodeChange`,n=>{LE(t,n.element,e.get())}),t.on(`FormatApply FormatRemove`,n=>{LE(t,I.from(n.node).map(e=>Rh(e)?e:e.startContainer).bind(e=>W(e)?I.some(e):I.from(e.parentElement)).getOrThunk(()=>PE(t)),e.get())})},PE=e=>e.selection.getStart(),FE=(e,t,n,r,i)=>ye(t,t=>!w(e.formatter.matchNode(t,n,i??{},r)),t=>$w(e,t,n)?!0:r?!1:E(e.formatter.matchNode(t,n,i,!0))),IE=(e,t)=>{let n=t??PE(e);return R(tg(e.dom,n),e=>W(e)&&!pa(e))},LE=(e,t,n)=>{let r=IE(e,t);Le(n,(n,i)=>{let a=n=>{let a=FE(e,r,i,n.similar,ME(n)?n.vars:void 0),o=a.isSome();if(n.state.get()!==o){n.state.set(o);let e=a.getOr(t);ME(n)?n.callback(o,{node:e,format:i,parents:r}):L(n.callbacks,t=>t(o,{node:e,format:i,parents:r}))}};L([n.withSimilar,n.withoutSimilar],a),L(n.withVars,a)})},RE=(e,t,n,r,i,a)=>{let o=t.get();L(n.split(`,`),t=>{let n=Ge(o,t).getOrThunk(()=>{let e={withSimilar:{state:rl(!1),similar:!0,callbacks:[]},withoutSimilar:{state:rl(!1),similar:!1,callbacks:[]},withVars:[]};return o[t]=e,e}),s=()=>FE(e,IE(e),t,i,a).isSome();if(w(a)){let e=i?n.withSimilar:n.withoutSimilar;e.callbacks.push(r),e.callbacks.length===1&&e.state.set(s())}else n.withVars.push({state:rl(s()),similar:i,vars:a,callback:r})}),t.set(o)},zE=(e,t,n)=>{let r=e.get();L(t.split(`,`),e=>Ge(r,e).each(t=>{r[e]={withSimilar:{...t.withSimilar,callbacks:R(t.withSimilar.callbacks,e=>e!==n)},withoutSimilar:{...t.withoutSimilar,callbacks:R(t.withoutSimilar.callbacks,e=>e!==n)},withVars:R(t.withVars,e=>e.callback!==n)}})),e.set(r)},BE=(e,t,n,r,i,a)=>(RE(e,t,n,r,i,a),{unbind:()=>zE(t,n,r)}),VE=(e,t,n,r)=>{let i=e.formatter.get(t);i&&(iT(e,t,n,r)&&(!(`toggle`in i[0])||i[0].toggle)?yE(e,t,n,r):jE(e,t,n,r))},HE=H.explode,UE=()=>{let e={};return{addFilter:(t,n)=>{L(HE(t),t=>{Ke(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)})},getFilters:()=>We(e),removeFilter:(t,n)=>{L(HE(t),t=>{if(Ke(e,t))if(E(n)){let r=e[t],i=R(r.callbacks,e=>e!==n);i.length>0?r.callbacks=i:delete e[t]}else delete e[t]})}}},WE=(e,t)=>{L(t,t=>{e.attr(t,null)})},GE=(e,t,n)=>{e.addNodeFilter(`font`,e=>{L(e,e=>{let r=t.parse(e.attr(`style`)),i=e.attr(`color`),a=e.attr(`face`),o=e.attr(`size`);i&&(r.color=i),a&&(r[`font-family`]=a),o&&kt(o).each(e=>{r[`font-size`]=n[e-1]}),e.name=`span`,e.attr(`style`,t.serialize(r)),WE(e,[`color`,`face`,`size`])})})},KE=(e,t,n)=>{e.addNodeFilter(`strike`,e=>{let r=t.type!==`html4`;L(e,e=>{if(r)e.name=`s`;else{let t=n.parse(e.attr(`style`));t[`text-decoration`]=`line-through`,e.name=`span`,e.attr(`style`,n.serialize(t))}})})},qE=(e,t,n)=>{let r=kc();t.convert_fonts_to_spans&&GE(e,r,H.explode(t.font_size_legacy_values??``)),KE(e,n,r)},JE=(e,t,n)=>{t.inline_styles&&qE(e,t,n)},YE=(e,t,n)=>{t.addNodeFilter(`br`,(t,r,i)=>{let a=H.extend({},n.getBlockElements()),o=n.getNonEmptyElements(),s=n.getWhitespaceElements();a.body=1;let c=e=>e.name in a||Ss(n,e);for(let r=0,l=t.length;r<l;r++){let l=t[r],u=l.parent;if(u&&c(u)&&l===u.lastChild){let t=l.prev;for(;t;){let e=t.name;if(e!==`span`||t.attr(`data-mce-type`)!==`bookmark`){e===`br`&&(l=null);break}t=t.prev}if(l&&(l.remove(),XC(n,o,s,u))){let t=n.getElementRule(u.name);t&&(t.removeEmpty?u.remove():t.paddEmpty&&KC(e,i,c,u))}}else{let e=l;for(;u&&u.firstChild===e&&u.lastChild===e&&(e=u,!a[u.name]);)u=u.parent;if(e===u){let e=new ab(`#text`,3);e.value=`\xA0`,l.replace(e)}}}})},XE=e=>fetch(e).then(e=>e.ok?e.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:`blob`})),ZE=e=>{let t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:``},QE=e=>{let[t,...n]=e.split(`,`),r=n.join(`,`),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(i){let e=i[2]===`;base64`,t=e?ZE(r):decodeURIComponent(r);return I.some({type:i[1],data:t,base64Encoded:e})}else return I.none()},$E=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch{return I.none()}let i=new Uint8Array(r.length);for(let e=0;e<i.length;e++)i[e]=r.charCodeAt(e);return I.some(new Blob([i],{type:e}))},eD=e=>new Promise((t,n)=>{QE(e).bind(({type:e,data:t,base64Encoded:n})=>$E(e,t,n)).fold(()=>n(`Invalid data URI`),t)}),tD=e=>bt(e,`blob:`)?XE(e):bt(e,`data:`)?eD(e):Promise.reject(`Unknown URI format`),nD=e=>new Promise((t,n)=>{let r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{n(r.error?.message)},r.readAsDataURL(e)}),rD=0,iD=e=>(e||`blobid`)+ rD++,aD=(e,t,n)=>QE(e).bind(({data:e,type:r,base64Encoded:i})=>t&&!i?I.none():n(i?e:btoa(e),r)),oD=(e,t,n)=>{let r=e.create(iD(),t,n);return e.add(r),r},sD=(e,t,n=!1)=>aD(t,n,(t,n)=>I.from(e.getByData(t,n)).orThunk(()=>$E(n,t).map(n=>oD(e,n,t)))),cD=(e,t)=>{let n=()=>Promise.reject(`Invalid data URI`);if(bt(t,`blob:`)){let r=e.getByUri(t);return E(r)?Promise.resolve(r):tD(t).then(t=>nD(t).then(r=>aD(r,!1,n=>I.some(oD(e,t,n))).getOrThunk(n)))}else if(bt(t,`data:`))return sD(e,t).fold(n,e=>Promise.resolve(e));else return Promise.reject(`Unknown image data format`)},lD=e=>E(e.attr(`data-mce-bogus`)),uD=e=>e.attr(`src`)===un.transparentSrc||E(e.attr(`data-mce-placeholder`)),dD=(e,t)=>{let{blob_cache:n}=t;if(n){let t=e=>{let t=e.attr(`src`);uD(e)||lD(e)||T(t)||sD(n,t,!0).each(t=>{e.attr(`src`,t.blobUri())})};e.addAttributeFilter(`src`,e=>L(e,t))}},fD=(e,t)=>bt(e,`${t}/`),pD=(e,t,n,r,i)=>{let a;a=w(e)?`iframe`:fD(e,`image`)?`img`:fD(e,`video`)?`video`:fD(e,`audio`)?`audio`:`iframe`;let o=new ab(a,1);return o.attr(a===`audio`?{src:t}:{src:t,width:n,height:r}),(a===`audio`||a===`video`)&&o.attr(`controls`,``),a===`iframe`&&i&&o.attr(`sandbox`,``),o},mD=(e,t)=>{let n=e.schema;t.remove_trailing_brs&&YE(t,e,n),e.addAttributeFilter(`href`,e=>{let n=e.length,r=e=>e.split(` `).filter(e=>e.length>0).concat([`noopener`]).sort().join(` `),i=e=>{let t=e?H.trim(e):``;return/\b(noopener)\b/g.test(t)?t:r(t)};if(!t.allow_unsafe_link_target)for(;n--;){let t=e[n];t.name===`a`&&t.attr(`target`)===`_blank`&&t.attr(`rel`,i(t.attr(`rel`)))}}),t.allow_html_in_named_anchor||e.addAttributeFilter(`id,name`,e=>{let t=e.length,n,r,i,a;for(;t--;)if(a=e[t],a.name===`a`&&a.firstChild&&!a.attr(`href`))for(i=a.parent,n=a.lastChild;n&&i;)r=n.prev,i.insert(n,a),n=r}),t.fix_list_elements&&e.addNodeFilter(`ul,ol`,e=>{let t=e.length,n,r;for(;t--;)if(n=e[t],r=n.parent,r&&(r.name===`ul`||r.name===`ol`))if(n.prev&&n.prev.name===`li`)n.prev.append(n);else{let e=new ab(`li`,1);e.attr(`style`,`list-style-type: none`),n.wrap(e)}});let r=n.getValidClasses();t.validate&&r&&e.addAttributeFilter(`class`,e=>{let t=e.length;for(;t--;){let n=e[t],i=n.attr(`class`)??``,a=H.explode(i,` `),o=``;for(let e=0;e<a.length;e++){let t=a[e],i=!1,s=r[`*`];s&&s[t]&&(i=!0),s=r[n.name],!i&&s&&s[t]&&(i=!0),i&&(o&&(o+=` `),o+=t)}o.length||(o=null),n.attr(`class`,o)}}),dD(e,t),t.convert_unsafe_embeds&&e.addNodeFilter(`object,embed`,e=>L(e,e=>{e.replace(pD(e.attr(`type`),e.name===`object`?e.attr(`data`):e.attr(`src`),e.attr(`width`),e.attr(`height`),t.sandbox_iframes))})),t.sandbox_iframes&&e.addNodeFilter(`iframe`,e=>L(e,e=>e.attr(`sandbox`,``)))},{entries:hD,setPrototypeOf:gD,isFrozen:_D,getPrototypeOf:vD,getOwnPropertyDescriptor:yD}=Object,{freeze:bD,seal:xD,create:SD}=Object,{apply:CD,construct:wD}=typeof Reflect<`u`&&Reflect;bD||=function(e){return e},xD||=function(e){return e},CD||=function(e,t,n){return e.apply(t,n)},wD||=function(e,t){return new e(...t)};let TD=LD(Array.prototype.forEach),ED=LD(Array.prototype.pop),DD=LD(Array.prototype.push),OD=LD(String.prototype.toLowerCase),kD=LD(String.prototype.toString),AD=LD(String.prototype.match),jD=LD(String.prototype.replace),MD=LD(String.prototype.indexOf),ND=LD(String.prototype.trim),PD=LD(Object.prototype.hasOwnProperty),FD=LD(RegExp.prototype.test),ID=RD(TypeError);function LD(e){return function(t){var n=[...arguments].slice(1);return CD(e,t,n)}}function RD(e){return function(){return wD(e,[...arguments])}}function zD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OD;gD&&gD(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i==`string`){let e=n(i);e!==i&&(_D(t)||(t[r]=e),i=e)}e[i]=!0}return e}function BD(e){for(let t=0;t<e.length;t++)PD(e,t)||(e[t]=null);return e}function VD(e){let t=SD(null);for(let[n,r]of hD(e))PD(e,n)&&(Array.isArray(r)?t[n]=BD(r):r&&typeof r==`object`&&r.constructor===Object?t[n]=VD(r):t[n]=r);return t}function HD(e,t){for(;e!==null;){let n=yD(e,t);if(n){if(n.get)return LD(n.get);if(typeof n.value==`function`)return LD(n.value)}e=vD(e)}function n(){return null}return n}let UD=bD(`a.abbr.acronym.address.area.article.aside.audio.b.bdi.bdo.big.blink.blockquote.body.br.button.canvas.caption.center.cite.code.col.colgroup.content.data.datalist.dd.decorator.del.details.dfn.dialog.dir.div.dl.dt.element.em.fieldset.figcaption.figure.font.footer.form.h1.h2.h3.h4.h5.h6.head.header.hgroup.hr.html.i.img.input.ins.kbd.label.legend.li.main.map.mark.marquee.menu.menuitem.meter.nav.nobr.ol.optgroup.option.output.p.picture.pre.progress.q.rp.rt.ruby.s.samp.section.select.shadow.small.source.spacer.span.strike.strong.style.sub.summary.sup.table.tbody.td.template.textarea.tfoot.th.thead.time.tr.track.tt.u.ul.var.video.wbr`.split(`.`)),WD=bD(`svg.a.altglyph.altglyphdef.altglyphitem.animatecolor.animatemotion.animatetransform.circle.clippath.defs.desc.ellipse.filter.font.g.glyph.glyphref.hkern.image.line.lineargradient.marker.mask.metadata.mpath.path.pattern.polygon.polyline.radialgradient.rect.stop.style.switch.symbol.text.textpath.title.tref.tspan.view.vkern`.split(`.`)),GD=bD([`feBlend`,`feColorMatrix`,`feComponentTransfer`,`feComposite`,`feConvolveMatrix`,`feDiffuseLighting`,`feDisplacementMap`,`feDistantLight`,`feDropShadow`,`feFlood`,`feFuncA`,`feFuncB`,`feFuncG`,`feFuncR`,`feGaussianBlur`,`feImage`,`feMerge`,`feMergeNode`,`feMorphology`,`feOffset`,`fePointLight`,`feSpecularLighting`,`feSpotLight`,`feTile`,`feTurbulence`]),KD=bD([`animate`,`color-profile`,`cursor`,`discard`,`font-face`,`font-face-format`,`font-face-name`,`font-face-src`,`font-face-uri`,`foreignobject`,`hatch`,`hatchpath`,`mesh`,`meshgradient`,`meshpatch`,`meshrow`,`missing-glyph`,`script`,`set`,`solidcolor`,`unknown`,`use`]),qD=bD(`math.menclose.merror.mfenced.mfrac.mglyph.mi.mlabeledtr.mmultiscripts.mn.mo.mover.mpadded.mphantom.mroot.mrow.ms.mspace.msqrt.mstyle.msub.msup.msubsup.mtable.mtd.mtext.mtr.munder.munderover.mprescripts`.split(`.`)),JD=bD([`maction`,`maligngroup`,`malignmark`,`mlongdiv`,`mscarries`,`mscarry`,`msgroup`,`mstack`,`msline`,`msrow`,`semantics`,`annotation`,`annotation-xml`,`mprescripts`,`none`]),YD=bD([`#text`]),XD=bD(`accept.action.align.alt.autocapitalize.autocomplete.autopictureinpicture.autoplay.background.bgcolor.border.capture.cellpadding.cellspacing.checked.cite.class.clear.color.cols.colspan.controls.controlslist.coords.crossorigin.datetime.decoding.default.dir.disabled.disablepictureinpicture.disableremoteplayback.download.draggable.enctype.enterkeyhint.face.for.headers.height.hidden.high.href.hreflang.id.inputmode.integrity.ismap.kind.label.lang.list.loading.loop.low.max.maxlength.media.method.min.minlength.multiple.muted.name.nonce.noshade.novalidate.nowrap.open.optimum.pattern.placeholder.playsinline.popover.popovertarget.popovertargetaction.poster.preload.pubdate.radiogroup.readonly.rel.required.rev.reversed.role.rows.rowspan.spellcheck.scope.selected.shape.size.sizes.span.srclang.start.src.srcset.step.style.summary.tabindex.title.translate.type.usemap.valign.value.width.wrap.xmlns.slot`.split(`.`)),ZD=bD(`accent-height.accumulate.additive.alignment-baseline.amplitude.ascent.attributename.attributetype.azimuth.basefrequency.baseline-shift.begin.bias.by.class.clip.clippathunits.clip-path.clip-rule.color.color-interpolation.color-interpolation-filters.color-profile.color-rendering.cx.cy.d.dx.dy.diffuseconstant.direction.display.divisor.dur.edgemode.elevation.end.exponent.fill.fill-opacity.fill-rule.filter.filterunits.flood-color.flood-opacity.font-family.font-size.font-size-adjust.font-stretch.font-style.font-variant.font-weight.fx.fy.g1.g2.glyph-name.glyphref.gradientunits.gradienttransform.height.href.id.image-rendering.in.in2.intercept.k.k1.k2.k3.k4.kerning.keypoints.keysplines.keytimes.lang.lengthadjust.letter-spacing.kernelmatrix.kernelunitlength.lighting-color.local.marker-end.marker-mid.marker-start.markerheight.markerunits.markerwidth.maskcontentunits.maskunits.max.mask.media.method.mode.min.name.numoctaves.offset.operator.opacity.order.orient.orientation.origin.overflow.paint-order.path.pathlength.patterncontentunits.patterntransform.patternunits.points.preservealpha.preserveaspectratio.primitiveunits.r.rx.ry.radius.refx.refy.repeatcount.repeatdur.restart.result.rotate.scale.seed.shape-rendering.slope.specularconstant.specularexponent.spreadmethod.startoffset.stddeviation.stitchtiles.stop-color.stop-opacity.stroke-dasharray.stroke-dashoffset.stroke-linecap.stroke-linejoin.stroke-miterlimit.stroke-opacity.stroke.stroke-width.style.surfacescale.systemlanguage.tabindex.tablevalues.targetx.targety.transform.transform-origin.text-anchor.text-decoration.text-rendering.textlength.type.u1.u2.unicode.values.viewbox.visibility.version.vert-adv-y.vert-origin-x.vert-origin-y.width.word-spacing.wrap.writing-mode.xchannelselector.ychannelselector.x.x1.x2.xmlns.y.y1.y2.z.zoomandpan`.split(`.`)),QD=bD(`accent.accentunder.align.bevelled.close.columnsalign.columnlines.columnspan.denomalign.depth.dir.display.displaystyle.encoding.fence.frame.height.href.id.largeop.length.linethickness.lspace.lquote.mathbackground.mathcolor.mathsize.mathvariant.maxsize.minsize.movablelimits.notation.numalign.open.rowalign.rowlines.rowspacing.rowspan.rspace.rquote.scriptlevel.scriptminsize.scriptsizemultiplier.selection.separator.separators.stretchy.subscriptshift.supscriptshift.symmetric.voffset.width.xmlns`.split(`.`)),$D=bD([`xlink:href`,`xml:id`,`xlink:title`,`xml:space`,`xmlns:xlink`]),eO=xD(/\{\{[\w\W]*|[\w\W]*\}\}/gm),tO=xD(/<%[\w\W]*|[\w\W]*%>/gm),nO=xD(/\${[\w\W]*}/gm),rO=xD(/^data-[\-\w.\u00B7-\uFFFF]/),iO=xD(/^aria-[\-\w]+$/),aO=xD(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),oO=xD(/^(?:\w+script|data):/i),sO=xD(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cO=xD(/^html$/i),lO=xD(/^[a-z][.\w]*(-[.\w]+)+$/i);var uO=Object.freeze({__proto__:null,MUSTACHE_EXPR:eO,ERB_EXPR:tO,TMPLIT_EXPR:nO,DATA_ATTR:rO,ARIA_ATTR:iO,IS_ALLOWED_URI:aO,IS_SCRIPT_OR_DATA:oO,ATTR_WHITESPACE:sO,DOCTYPE_NAME:cO,CUSTOM_ELEMENT:lO});let dO={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},fO=function(){return typeof window>`u`?null:window},pO=function(e,t){if(typeof e!=`object`||typeof e.createPolicy!=`function`)return null;let n=null,r=`data-tt-policy-suffix`;t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let i=`dompurify`+(n?`#`+n:``);try{return e.createPolicy(i,{createHTML(e){return e},createScriptURL(e){return e}})}catch{return console.warn(`TrustedTypes policy `+i+` could not be created.`),null}};function mO(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fO(),t=e=>mO(e);if(t.version=`3.1.7`,t.removed=[],!e||!e.document||e.document.nodeType!==dO.document)return t.isSupported=!1,t;let{document:n}=e,r=n,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:c,NodeFilter:l,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:p}=e,m=c.prototype,h=HD(m,`cloneNode`),g=HD(m,`remove`),_=HD(m,`nextSibling`),v=HD(m,`childNodes`),y=HD(m,`parentNode`);if(typeof o==`function`){let e=n.createElement(`template`);e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let b,x=``,{implementation:S,createNodeIterator:C,createDocumentFragment:w,getElementsByTagName:T}=n,{importNode:E}=r,D={};t.isSupported=typeof hD==`function`&&typeof y==`function`&&S&&S.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:O,ERB_EXPR:ee,TMPLIT_EXPR:k,DATA_ATTR:te,ARIA_ATTR:A,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:ne,CUSTOM_ELEMENT:re}=uO,{IS_ALLOWED_URI:M}=uO,N=null,ie=zD({},[...UD,...WD,...GD,...qD,...YD]),ae=null,oe=zD({},[...XD,...ZD,...QD,...$D]),P=Object.seal(SD(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),F=null,I=null,se=!0,ce=!0,le=!1,ue=!0,de=!1,fe=!0,pe=!1,me=!1,L=!1,he=!1,ge=!1,R=!1,_e=!0,ve=!1,ye=!0,be=!1,xe={},Se=null,Ce=zD({},[`annotation-xml`,`audio`,`colgroup`,`desc`,`foreignobject`,`head`,`iframe`,`math`,`mi`,`mn`,`mo`,`ms`,`mtext`,`noembed`,`noframes`,`noscript`,`plaintext`,`script`,`style`,`svg`,`template`,`thead`,`title`,`video`,`xmp`]),we=null,Te=zD({},[`audio`,`video`,`img`,`source`,`image`,`track`]),Ee=null,De=zD({},[`alt`,`class`,`for`,`id`,`label`,`name`,`pattern`,`placeholder`,`role`,`summary`,`title`,`value`,`style`,`xmlns`]),Oe=`http://www.w3.org/1998/Math/MathML`,ke=`http://www.w3.org/2000/svg`,Ae=`http://www.w3.org/1999/xhtml`,je=Ae,Me=!1,Ne=null,Pe=zD({},[Oe,ke,Ae],kD),Fe=null,Ie=[`application/xhtml+xml`,`text/html`],Le=null,z=null,Re=n.createElement(`form`),ze=function(e){return e instanceof RegExp||e instanceof Function},Be=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(z&&z===e)){if((!e||typeof e!=`object`)&&(e={}),e=VD(e),Fe=Ie.indexOf(e.PARSER_MEDIA_TYPE)===-1?`text/html`:e.PARSER_MEDIA_TYPE,Le=Fe===`application/xhtml+xml`?kD:OD,N=PD(e,`ALLOWED_TAGS`)?zD({},e.ALLOWED_TAGS,Le):ie,ae=PD(e,`ALLOWED_ATTR`)?zD({},e.ALLOWED_ATTR,Le):oe,Ne=PD(e,`ALLOWED_NAMESPACES`)?zD({},e.ALLOWED_NAMESPACES,kD):Pe,Ee=PD(e,`ADD_URI_SAFE_ATTR`)?zD(VD(De),e.ADD_URI_SAFE_ATTR,Le):De,we=PD(e,`ADD_DATA_URI_TAGS`)?zD(VD(Te),e.ADD_DATA_URI_TAGS,Le):Te,Se=PD(e,`FORBID_CONTENTS`)?zD({},e.FORBID_CONTENTS,Le):Ce,F=PD(e,`FORBID_TAGS`)?zD({},e.FORBID_TAGS,Le):{},I=PD(e,`FORBID_ATTR`)?zD({},e.FORBID_ATTR,Le):{},xe=PD(e,`USE_PROFILES`)?e.USE_PROFILES:!1,se=e.ALLOW_ARIA_ATTR!==!1,ce=e.ALLOW_DATA_ATTR!==!1,le=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ue=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,de=e.SAFE_FOR_TEMPLATES||!1,fe=e.SAFE_FOR_XML!==!1,pe=e.WHOLE_DOCUMENT||!1,he=e.RETURN_DOM||!1,ge=e.RETURN_DOM_FRAGMENT||!1,R=e.RETURN_TRUSTED_TYPE||!1,L=e.FORCE_BODY||!1,_e=e.SANITIZE_DOM!==!1,ve=e.SANITIZE_NAMED_PROPS||!1,ye=e.KEEP_CONTENT!==!1,be=e.IN_PLACE||!1,M=e.ALLOWED_URI_REGEXP||aO,je=e.NAMESPACE||Ae,P=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ze(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(P.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ze(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(P.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==`boolean`&&(P.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),de&&(ce=!1),ge&&(he=!0),xe&&(N=zD({},YD),ae=[],xe.html===!0&&(zD(N,UD),zD(ae,XD)),xe.svg===!0&&(zD(N,WD),zD(ae,ZD),zD(ae,$D)),xe.svgFilters===!0&&(zD(N,GD),zD(ae,ZD),zD(ae,$D)),xe.mathMl===!0&&(zD(N,qD),zD(ae,QD),zD(ae,$D))),e.ADD_TAGS&&(N===ie&&(N=VD(N)),zD(N,e.ADD_TAGS,Le)),e.ADD_ATTR&&(ae===oe&&(ae=VD(ae)),zD(ae,e.ADD_ATTR,Le)),e.ADD_URI_SAFE_ATTR&&zD(Ee,e.ADD_URI_SAFE_ATTR,Le),e.FORBID_CONTENTS&&(Se===Ce&&(Se=VD(Se)),zD(Se,e.FORBID_CONTENTS,Le)),ye&&(N[`#text`]=!0),pe&&zD(N,[`html`,`head`,`body`]),N.table&&(zD(N,[`tbody`]),delete F.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!=`function`)throw ID(`TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.`);if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!=`function`)throw ID(`TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.`);b=e.TRUSTED_TYPES_POLICY,x=b.createHTML(``)}else b===void 0&&(b=pO(p,i)),b!==null&&typeof x==`string`&&(x=b.createHTML(``));bD&&bD(e),z=e}},Ve=zD({},[`mi`,`mo`,`mn`,`ms`,`mtext`]),He=zD({},[`annotation-xml`]),Ue=zD({},[`title`,`style`,`font`,`a`,`script`]),We=zD({},[...WD,...GD,...KD]),Ge=zD({},[...qD,...JD]),Ke=function(e){let t=y(e);(!t||!t.tagName)&&(t={namespaceURI:je,tagName:`template`});let n=OD(e.tagName),r=OD(t.tagName);return Ne[e.namespaceURI]?e.namespaceURI===ke?t.namespaceURI===Ae?n===`svg`:t.namespaceURI===Oe?n===`svg`&&(r===`annotation-xml`||Ve[r]):!!We[n]:e.namespaceURI===Oe?t.namespaceURI===Ae?n===`math`:t.namespaceURI===ke?n===`math`&&He[r]:!!Ge[n]:e.namespaceURI===Ae?t.namespaceURI===ke&&!He[r]||t.namespaceURI===Oe&&!Ve[r]?!1:!Ge[n]&&(Ue[n]||!We[n]):!!(Fe===`application/xhtml+xml`&&Ne[e.namespaceURI]):!1},qe=function(e){DD(t.removed,{element:e});try{y(e).removeChild(e)}catch{g(e)}},Je=function(e,n){try{DD(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch{DD(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),e===`is`&&!ae[e])if(he||ge)try{qe(n)}catch{}else try{n.setAttribute(e,``)}catch{}},Ye=function(e){let t=null,r=null;if(L)e=`<remove></remove>`+e;else{let t=AD(e,/^[\r\n\t ]+/);r=t&&t[0]}Fe===`application/xhtml+xml`&&je===Ae&&(e=`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>`+e+`</body></html>`);let i=b?b.createHTML(e):e;if(je===Ae)try{t=new f().parseFromString(i,Fe)}catch{}if(!t||!t.documentElement){t=S.createDocument(je,`template`,null);try{t.documentElement.innerHTML=Me?x:i}catch{}}let a=t.body||t.documentElement;return e&&r&&a.insertBefore(n.createTextNode(r),a.childNodes[0]||null),je===Ae?T.call(t,pe?`html`:`body`)[0]:pe?t.documentElement:a},Xe=function(e){return C.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},Ze=function(e){return e instanceof d&&(typeof e.nodeName!=`string`||typeof e.textContent!=`string`||typeof e.removeChild!=`function`||!(e.attributes instanceof u)||typeof e.removeAttribute!=`function`||typeof e.setAttribute!=`function`||typeof e.namespaceURI!=`string`||typeof e.insertBefore!=`function`||typeof e.hasChildNodes!=`function`)},Qe=function(e){return typeof s==`function`&&e instanceof s},$e=function(e,n,r){D[e]&&TD(D[e],e=>{e.call(t,n,r,z)})},et=function(e){let n=null;if($e(`beforeSanitizeElements`,e,null),Ze(e))return qe(e),!0;let r=Le(e.nodeName);if($e(`uponSanitizeElement`,e,{tagName:r,allowedTags:N}),e.hasChildNodes()&&!Qe(e.firstElementChild)&&FD(/<[/\w]/g,e.innerHTML)&&FD(/<[/\w]/g,e.textContent)||e.nodeType===dO.progressingInstruction||fe&&e.nodeType===dO.comment&&FD(/<[/\w]/g,e.data))return qe(e),!0;if(!N[r]||F[r]){if(!F[r]&&nt(r)&&(P.tagNameCheck instanceof RegExp&&FD(P.tagNameCheck,r)||P.tagNameCheck instanceof Function&&P.tagNameCheck(r)))return!1;if(ye&&!Se[r]){let t=y(e)||e.parentNode,n=v(e)||e.childNodes;if(n&&t){let r=n.length;for(let i=r-1;i>=0;--i){let r=h(n[i],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,_(e))}}}return qe(e),!0}return e instanceof c&&!Ke(e)||(r===`noscript`||r===`noembed`||r===`noframes`)&&FD(/<\/no(script|embed|frames)/i,e.innerHTML)?(qe(e),!0):(de&&e.nodeType===dO.text&&(n=e.textContent,TD([O,ee,k],e=>{n=jD(n,e,` `)}),e.textContent!==n&&(DD(t.removed,{element:e.cloneNode()}),e.textContent=n)),$e(`afterSanitizeElements`,e,null),!1)},tt=function(e,t,r){if(_e&&(t===`id`||t===`name`)&&(r in n||r in Re))return!1;if(!(ce&&!I[t]&&FD(te,t))&&!(se&&FD(A,t))){if(!ae[t]||I[t]){if(!(nt(e)&&(P.tagNameCheck instanceof RegExp&&FD(P.tagNameCheck,e)||P.tagNameCheck instanceof Function&&P.tagNameCheck(e))&&(P.attributeNameCheck instanceof RegExp&&FD(P.attributeNameCheck,t)||P.attributeNameCheck instanceof Function&&P.attributeNameCheck(t))||t===`is`&&P.allowCustomizedBuiltInElements&&(P.tagNameCheck instanceof RegExp&&FD(P.tagNameCheck,r)||P.tagNameCheck instanceof Function&&P.tagNameCheck(r))))return!1}else if(!Ee[t]&&!FD(M,jD(r,ne,``))&&!((t===`src`||t===`xlink:href`||t===`href`)&&e!==`script`&&MD(r,`data:`)===0&&we[e])&&!(le&&!FD(j,jD(r,ne,``)))&&r)return!1}return!0},nt=function(e){return e!==`annotation-xml`&&AD(e,re)},rt=function(e){$e(`beforeSanitizeAttributes`,e,null);let{attributes:n}=e;if(!n)return;let r={attrName:``,attrValue:``,keepAttr:!0,allowedAttributes:ae},i=n.length;for(;i--;){let{name:a,namespaceURI:o,value:s}=n[i],c=Le(a),l=a===`value`?s:ND(s),u=l;if(r.attrName=c,r.attrValue=l,r.keepAttr=!0,r.forceKeepAttr=void 0,$e(`uponSanitizeAttribute`,e,r),l=r.attrValue,r.forceKeepAttr)continue;if(!r.keepAttr){Je(a,e);continue}if(!ue&&FD(/\/>/i,l)){Je(a,e);continue}de&&TD([O,ee,k],e=>{l=jD(l,e,` `)});let d=Le(e.nodeName);if(!tt(d,c,l)){Je(a,e);continue}if(ve&&(c===`id`||c===`name`)&&(Je(a,e),l=`user-content-`+l),fe&&FD(/((--!?|])>)|<\/(style|title)/i,l)){Je(a,e);continue}if(b&&typeof p==`object`&&typeof p.getAttributeType==`function`&&!o)switch(p.getAttributeType(d,c)){case`TrustedHTML`:l=b.createHTML(l);break;case`TrustedScriptURL`:l=b.createScriptURL(l);break}if(l!==u)try{o?e.setAttributeNS(o,a,l):e.setAttribute(a,l),Ze(e)?qe(e):ED(t.removed)}catch{}}$e(`afterSanitizeAttributes`,e,null)},it=function e(t){let n=null,r=Xe(t);for($e(`beforeSanitizeShadowDOM`,t,null);n=r.nextNode();)$e(`uponSanitizeShadowNode`,n,null),!et(n)&&(n.content instanceof a&&e(n.content),rt(n));$e(`afterSanitizeShadowDOM`,t,null)};return t.sanitize=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=null,o=null,c=null,l=null;if(Me=!e,Me&&(e=`<!-->`),typeof e!=`string`&&!Qe(e))if(typeof e.toString==`function`){if(e=e.toString(),typeof e!=`string`)throw ID(`dirty is not a string, aborting`)}else throw ID(`toString is not a function`);if(!t.isSupported)return e;if(me||Be(n),t.removed=[],typeof e==`string`&&(be=!1),be){if(e.nodeName){let t=Le(e.nodeName);if(!N[t]||F[t])throw ID(`root node is forbidden and cannot be sanitized in-place`)}}else if(e instanceof s)i=Ye(`<!---->`),o=i.ownerDocument.importNode(e,!0),o.nodeType===dO.element&&o.nodeName===`BODY`||o.nodeName===`HTML`?i=o:i.appendChild(o);else{if(!he&&!de&&!pe&&e.indexOf(`<`)===-1)return b&&R?b.createHTML(e):e;if(i=Ye(e),!i)return he?null:R?x:``}i&&L&&qe(i.firstChild);let u=Xe(be?e:i);for(;c=u.nextNode();)et(c)||(c.content instanceof a&&it(c.content),rt(c));if(be)return e;if(he){if(ge)for(l=w.call(i.ownerDocument);i.firstChild;)l.appendChild(i.firstChild);else l=i;return(ae.shadowroot||ae.shadowrootmode)&&(l=E.call(r,l,!0)),l}let d=pe?i.outerHTML:i.innerHTML;return pe&&N[`!doctype`]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&FD(cO,i.ownerDocument.doctype.name)&&(d=`<!DOCTYPE `+i.ownerDocument.doctype.name+`>
`+d),de&&TD([O,ee,k],e=>{d=jD(d,e,` `)}),b&&R?b.createHTML(d):d},t.setConfig=function(){Be(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),me=!0},t.clearConfig=function(){z=null,me=!1},t.isValidAttribute=function(e,t,n){return z||Be({}),tt(Le(e),Le(t),n)},t.addHook=function(e,t){typeof t==`function`&&(D[e]=D[e]||[],DD(D[e],t))},t.removeHook=function(e){if(D[e])return ED(D[e])},t.removeHooks=function(e){D[e]&&(D[e]=[])},t.removeAllHooks=function(){D={}},t}var hO=mO();let gO=H.each,_O=H.trim,vO=[`source`,`protocol`,`authority`,`userInfo`,`user`,`password`,`host`,`port`,`relative`,`path`,`directory`,`file`,`query`,`anchor`],yO={ftp:21,http:80,https:443,mailto:25},bO=[`img`,`video`],xO=(e,t)=>E(e)?!e:E(t)?!fe(bO,t):!0,SO=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},CO=(e,t,n)=>{let r=SO(t).replace(/\s/g,``);return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?xO(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class wO{static parseDataUri(e){let t,n=decodeURIComponent(e).split(`,`),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){return n.allow_script_urls?!0:!CO(n,Qs.decode(e).replace(/[\s\u0000-\u001F]+/g,``),t)}static getDocumentBaseUrl(e){let t;return t=e.protocol.indexOf(`http`)!==0&&e.protocol!==`file:`?e.href??``:e.protocol+`//`+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,``).replace(/[\/\\][^\/]+$/,``),/[\/\\]$/.test(t)||(t+=`/`)),t}constructor(e,t={}){this.path=``,this.directory=``,e=_O(e),this.settings=t;let n=t.base_uri,r=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){r.source=e;return}let i=e.indexOf(`//`)===0;if(e.indexOf(`/`)===0&&!i&&(e=(n&&n.protocol||`http`)+`://mce_host`+e),!/^[\w\-]*:?\/\//.test(e)){let t=n?n.path:new wO(document.location.href).directory;if(n?.protocol===``)e=`//mce_host`+r.toAbsPath(t,e);else{let i=/([^#?]*)([#?]?.*)/.exec(e);i&&(e=(n&&n.protocol||`http`)+`://mce_host`+r.toAbsPath(t,i[1])+i[2])}}e=e.replace(/@@/g,`(mce_at)`);let a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);a&&gO(vO,(e,t)=>{let n=a[t];n&&=n.replace(/\(mce_at\)/g,`@@`),r[e]=n}),n&&(r.protocol||=n.protocol,r.userInfo||=n.userInfo,!r.port&&r.host===`mce_host`&&(r.port=n.port),(!r.host||r.host===`mce_host`)&&(r.host=n.host),r.source=``),i&&(r.protocol=``)}setPath(e){let t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source=``,this.getURI()}toRelative(e){if(e===`./`)return e;let t=new wO(e,{base_uri:this});if(t.host!==`mce_host`&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&t.protocol!==``)return t.getURI();let n=this.getURI(),r=t.getURI();if(n===r||n.charAt(n.length-1)===`/`&&n.substr(0,n.length-1)===r)return n;let i=this.toRelPath(this.path,t.path);return t.query&&(i+=`?`+t.query),t.anchor&&(i+=`#`+t.anchor),i}toAbsolute(e,t){let n=new wO(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;let t=this.protocol?yO[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n=0,r=``,i,a,o=e.substring(0,e.lastIndexOf(`/`)).split(`/`),s=t.split(`/`);if(o.length>=s.length){for(i=0,a=o.length;i<a;i++)if(i>=s.length||o[i]!==s[i]){n=i+1;break}}if(o.length<s.length){for(i=0,a=s.length;i<a;i++)if(i>=o.length||o[i]!==s[i]){n=i+1;break}}if(n===1)return t;for(i=0,a=o.length-(n-1);i<a;i++)r+=`../`;for(i=n-1,a=s.length;i<a;i++)i===n-1?r+=s[i]:r+=`/`+s[i];return r}toAbsPath(e,t){let n=0,r=/\/$/.test(t)?`/`:``,i=e.split(`/`),a=t.split(`/`),o=[];gO(i,e=>{e&&o.push(e)});let s=[];for(let e=a.length-1;e>=0;e--)if(!(a[e].length===0||a[e]===`.`)){if(a[e]===`..`){n++;continue}if(n>0){n--;continue}s.push(a[e])}let c=o.length-n,l;return l=c<=0?Te(s).join(`/`):o.slice(0,c).join(`/`)+`/`+Te(s).join(`/`),l.indexOf(`/`)!==0&&(l=`/`+l),r&&l.lastIndexOf(`/`)!==l.length-1&&(l+=r),l}getURI(e=!1){let t;return(!this.source||e)&&(t=``,e||(this.protocol?t+=this.protocol+`://`:t+=`//`,this.userInfo&&(t+=this.userInfo+`@`),this.host&&(t+=this.host),this.port&&(t+=`:`+this.port)),this.path&&(t+=this.path),this.query&&(t+=`?`+this.query),this.anchor&&(t+=`#`+this.anchor),this.source=t),this.source}}let TO=H.makeMap(`src,href,data,background,action,formaction,poster,xlink:href`),EO=`data-mce-type`,DO=0,OO=(e,t,n,r,i)=>{let a=t.validate,o=n.getSpecialElements();e.nodeType===8&&!t.allow_conditional_comments&&/^\[if/i.test(e.nodeValue??``)&&(e.nodeValue=` `+e.nodeValue);let s=i?.tagName??e.nodeName.toLowerCase();if(r!==`html`&&n.isValid(r)){E(i)&&(i.allowedTags[s]=!0);return}if(e.nodeType!==1||s===`body`)return;let c=U.fromDom(e),l=qn(c,EO),u=Gn(c,`data-mce-bogus`);if(!l&&v(u)){u===`all`?Oi(c):ki(c);return}let d=n.getElementRule(s);if(a&&!d){Ke(o,s)?Oi(c):ki(c);return}else E(i)&&(i.allowedTags[s]=!0);if(a&&d&&!l){if(L(d.attributesForced??[],e=>{Un(c,e.name,e.value===`{$uid}`?`mce_${DO++}`:e.value)}),L(d.attributesDefault??[],e=>{qn(c,e.name)||Un(c,e.name,e.value===`{$uid}`?`mce_${DO++}`:e.value)}),d.attributesRequired&&!pe(d.attributesRequired,e=>qn(c,e))){ki(c);return}if(d.removeEmptyAttrs&&Yn(c)){ki(c);return}d.outputName&&d.outputName!==s&&Bl(c,d.outputName)}},kO=(e,t,n,r,i)=>{let a=e.tagName.toLowerCase(),{attrName:o,attrValue:s}=i;i.keepAttr=AO(t,n,r,a,o,s),i.keepAttr?(i.allowedAttributes[o]=!0,MO(o,n)&&(i.attrValue=o),t.allow_svg_data_urls&&bt(s,`data:image/svg+xml`)&&(i.forceKeepAttr=!0)):jO(e,o)&&(i.forceKeepAttr=!0)},AO=(e,t,n,r,i,a)=>n!==`html`&&!es(r)?!0:!(i in TO&&CO(e,a,r))&&(!e.validate||t.isValid(r,i)||bt(i,`data-`)||bt(i,`aria-`)),jO=(e,t)=>e.hasAttribute(EO)&&(t===`id`||t===`class`||t===`style`),MO=(e,t)=>e in t.getBoolAttrs(),NO=(e,t,n,r)=>{let{attributes:i}=e;for(let a=i.length-1;a>=0;a--){let o=i[a],s=o.name,c=o.value;!AO(t,n,r,e.tagName.toLowerCase(),s,c)&&!jO(e,s)?e.removeAttribute(s):MO(s,n)&&e.setAttribute(s,s)}},PO=(e,t,n)=>{let r=hO();return r.addHook(`uponSanitizeElement`,(r,i)=>{OO(r,e,t,n.track(r),i)}),r.addHook(`uponSanitizeAttribute`,(r,i)=>{kO(r,e,t,n.current(),i)}),r},FO=(e,t)=>{let n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:[`#comment`,`#cdata-section`,`body`],ALLOWED_ATTR:[],SAFE_FOR_XML:!1};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n},IO=e=>{let t={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:[`type`,`href`,`role`,`arcrole`,`title`,`show`,`actuate`,`label`,`from`,`to`].map(e=>`xlink:${e}`)};return hO().sanitize(e,t),e.innerHTML},LO=(e,t)=>{let n=is();if(e.sanitize){let r=PO(e,t,n);return{sanitizeHtmlElement:(t,i)=>{r.sanitize(t,FO(e,i)),r.removed=[],n.reset()},sanitizeNamespaceElement:IO}}else return{sanitizeHtmlElement:(r,i)=>{let a=document.createNodeIterator(r,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT),o;for(;o=a.nextNode();){let r=n.track(o);OO(o,e,t,r),W(o)&&NO(o,e,t,r)}n.reset()},sanitizeNamespaceElement:k}},RO=H.makeMap,zO=H.extend,BO=(e,t,n,r)=>{let i=e.name,a=i in n&&i!==`title`&&i!==`textarea`&&i!==`noscript`,o=t.childNodes;for(let t=0,i=o.length;t<i;t++){let i=o[t],s=new ab(i.nodeName.toLowerCase(),i.nodeType);if(W(i)){let e=i.attributes;for(let t=0,n=e.length;t<n;t++){let n=e[t];s.attr(n.name,n.value)}es(s.name)&&(r(i),s.value=i.innerHTML)}else G(i)?(s.value=i.data,a&&(s.raw=!0)):(ba(i)||va(i)||ya(i))&&(s.value=i.data);es(s.name)||BO(s,i,n,r),e.append(s)}},VO=(e,t,n)=>{let r=[];for(let n=e,i=n;n;i=n,n=n.walk()){let a=n;L(t,e=>e(a)),T(a.parent)&&a!==e?n=i:r.push(a)}for(let e=r.length-1;e>=0;e--){let t=r[e];L(n,e=>e(t))}},HO=(e,t,n,r)=>{let i=n.validate,a=t.getNonEmptyElements(),o=t.getWhitespaceElements(),s=zO(RO(`script,style,head,html,body,title,meta,param`),t.getBlockElements()),c=hc(t),l=/[ \t\r\n]+/g,u=/^[ \t\r\n]+/,d=/[ \t\r\n]+$/,f=e=>{let t=e.parent;for(;E(t);)if(t.name in o)return!0;else t=t.parent;return!1},p=e=>{let n=e;for(;E(n);)if(n.name in c)return XC(t,a,o,n);else n=n.parent;return!1},m=n=>n.name in s||Ss(t,n)||es(n.name)&&n.parent===e,h=(t,n)=>E(n?t.prev:t.next)||T(t.parent)?!1:m(t.parent)&&(t.parent!==e||r.isRootContent===!0);return[e=>{if(e.type===3&&!f(e)){let t=e.value??``;t=t.replace(l,` `),(ZC(e.prev,m)||h(e,!0))&&(t=t.replace(u,``)),t.length===0?e.remove():e.value=t}},e=>{if(e.type===1){let s=t.getElementRule(e.name);if(i&&s){let i=XC(t,a,o,e);s.paddInEmptyBlock&&i&&p(e)?KC(n,r,m,e):s.removeEmpty&&i?m(e)?e.remove():e.unwrap():s.paddEmpty&&(i||qC(e))&&KC(n,r,m,e)}}else if(e.type===3&&!f(e)){let t=e.value??``;(e.next&&m(e.next)||h(e,!1))&&(t=t.replace(d,``)),t.length===0?e.remove():e.value=t}}]},UO=(e,t)=>{let n=t.forced_root_block??e.forced_root_block;return n===!1?``:n===!0?`p`:n},WO=(e={},t=_c())=>{let n=UE(),r=UE(),i={validate:!0,root_name:`body`,sanitize:!0,...e},a=new DOMParser,o=LO(i,t),s=(e,n,r=`html`)=>{let i=r===`xhtml`?`application/xhtml+xml`:`text/html`,s=Ke(t.getSpecialElements(),n.toLowerCase()),c=s?`<${n}>${e}</${n}>`:e,l=r===`xhtml`?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${c}</body></html>`:`<body>${c}</body>`,u=a.parseFromString(l,i).body;return o.sanitizeHtmlElement(u,i),s?u.firstChild:u},c=n.addFilter,l=n.getFilters,u=n.removeFilter,d=r.addFilter,f=r.getFilters,p=r.removeFilter,m=(e,n)=>{nw(t,e)&&n.push(e)},h=(e,n)=>{let r=v(n.attr(EO)),i=n.type===1&&!Ke(e,n.name)&&!Ss(t,n)&&!es(n.name);return n.type===3||i&&!r},g=(e,n)=>{let r=zO(RO(`script,style,head,html,body,title,meta,param`),t.getBlockElements()),a=/^[ \t\r\n]+/,o=/[ \t\r\n]+$/,s=e.firstChild,c=null,l=e=>{e&&(s=e.firstChild,s&&s.type===3&&(s.value=s.value?.replace(a,``)),s=e.lastChild,s&&s.type===3&&(s.value=s.value?.replace(o,``)))};if(t.isValidChild(e.name,n.toLowerCase())){for(;s;){let t=s.next;h(r,s)?c?c.append(s):(c=new ab(n,1),c.attr(i.forced_root_block_attrs),e.insert(c,s),c.append(s)):(l(c),c=null),s=t}l(c)}},_={schema:t,addAttributeFilter:d,getAttributeFilters:f,removeAttributeFilter:p,addNodeFilter:c,getNodeFilters:l,removeNodeFilter:u,parse:(e,n={})=>{let r=i.validate,a=n.context??i.root_name,c=s(e,a,n.format);ms(t,c);let u=new ab(a,11);BO(u,c,t.getSpecialElements(),o.sanitizeNamespaceElement),c.innerHTML=``;let[d,p]=HO(u,t,i,n),h=[],_=r?e=>m(e,h):k,v={nodes:{},attributes:{}},y=e=>HC(l(),f(),e,v);if(VO(u,[d,y],[p,_]),h.reverse(),r&&h.length>0)if(n.context){let{pass:e,fail:r}=ge(h,e=>e.parent===u);ew(r,t,u,y),n.invalid=e.length>0}else ew(h,t,u,y);let b=UO(i,n);return b&&(u.name===`body`||n.isRootContent)&&g(u,b),n.invalid||WC(v,n),u}};return mD(_,i),JE(_,i,t),_},GO=e=>Uw(e)?Ob({validate:!1}).serialize(e):e,KO=(e,t,n)=>{let r=GO(e),i=t(r);if(i.isDefaultPrevented())return i;if(Uw(e))if(i.content!==r){let t=WO({validate:!1,forced_root_block:!1,...n}).parse(i.content,{context:e.name});return{...i,content:t}}else return{...i,content:e};else return i},qO=(e,t)=>{if(t.no_events)return ld.value(t);{let n=o_(e,t);return n.isDefaultPrevented()?ld.error(s_(e,{content:``,...n}).content):ld.value(n)}},JO=(e,t,n)=>n.no_events?t:KO(t,t=>s_(e,{...n,content:t}),{sanitize:dp(e),sandbox_iframes:Sp(e)}).content,YO=(e,t)=>{if(t.no_events)return ld.value(t);{let n=KO(t.content,n=>i_(e,{...t,content:n}),{sanitize:dp(e),sandbox_iframes:Sp(e)});return n.isDefaultPrevented()?(a_(e,n),ld.error(void 0)):ld.value(n)}},XO=(e,t,n)=>{n.no_events||a_(e,{...n,content:t})},ZO=(e,t,n)=>({element:e,width:t,rows:n}),QO=(e,t)=>({element:e,cells:t}),$O=(e,t)=>({x:e,y:t}),ek=(e,t)=>Kn(e,t).bind(kt).getOr(1),tk=(e,t,n,r,i)=>{let a=ek(i,`rowspan`),o=ek(i,`colspan`),s=e.rows;for(let e=n;e<n+a;e++){s[e]||(s[e]=QO(Rl(r),[]));for(let r=t;r<t+o;r++){let a=s[e].cells;a[r]=e===n&&r===t?i:Ll(i)}}},nk=(e,t,n)=>{let r=e.rows;return!!(r[n]?r[n].cells:[])[t]},rk=(e,t,n)=>{for(;nk(e,t,n);)t++;return t},ik=e=>ve(e,(e,t)=>t.cells.length>e?t.cells.length:e,0),ak=(e,t)=>{let n=e.rows;for(let e=0;e<n.length;e++){let r=n[e].cells;for(let n=0;n<r.length;n++)if(yr(r[n],t))return I.some($O(n,e))}return I.none()},ok=(e,t,n,r,i)=>{let a=[],o=e.rows;for(let e=n;e<=i;e++){let n=o[e].cells,i=t<r?n.slice(t,r+1):n.slice(r,t+1);a.push(QO(o[e].element,i))}return a},sk=(e,t,n)=>{let r=t.x,i=t.y,a=n.x,o=n.y,s=i<o?ok(e,r,i,a,o):ok(e,r,o,a,i);return ZO(e.element,ik(s),s)},ck=(e,t)=>{let n=Ll(e.element),r=U.fromTag(`tbody`);return Ei(r,t),Ci(n,r),n},lk=e=>me(e.rows,e=>{let t=me(e.cells,e=>{let t=Rl(e);return Jn(t,`colspan`),Jn(t,`rowspan`),t}),n=Ll(e.element);return Ei(n,t),n}),uk=e=>{let t=ZO(Ll(e),0,[]);return L(ta(e,`tr`),(e,n)=>{L(ta(e,`td,th`),(r,i)=>{tk(t,rk(t,i,n),n,e,r)})}),ZO(t.element,ik(t.rows),t.rows)},dk=e=>ck(e,lk(e)),fk=(e,t,n)=>ak(e,t).bind(t=>ak(e,n).map(n=>sk(e,t,n))),pk=e=>be(e,e=>Mn(e)===`ul`||Mn(e)===`ol`),mk=(e,t)=>be(e,e=>Mn(e)===`li`&&Nh(e,t)).fold(j([]),t=>pk(e).map(e=>{let t=U.fromTag(Mn(e));return pi(t,He(_i(e),(e,t)=>bt(t,`list-style`))),[U.fromTag(`li`),t]}).getOr([])),hk=(e,t)=>{let n=ve(t,(e,t)=>(Ci(t,e),t),e);return t.length>0?G_([n]):n},gk=e=>Ja(e)?Tr(e).filter(qa).fold(j([]),t=>[e,t]):qa(e)?[e]:[],_k=(e,t,n)=>{let r=U.fromDom(t.commonAncestorContainer),i=ex(r,e),a=R(i,e=>n.isWrapper(Mn(e))),o=mk(i,t);return me(a.concat(o.length?o:gk(r)),Ll)},vk=()=>G_([]),yk=(e,t,n)=>hk(U.fromDom(t.cloneContents()),_k(e,t,n)),bk=(e,t)=>ri(t,`table`,M(yr,e)),xk=(e,t)=>bk(e,t[0]).bind(e=>{let n=t[0],r=t[t.length-1];return fk(uk(e),n,r).map(e=>G_([dk(e)]))}).getOrThunk(vk),Sk=(e,t,n)=>t.length>0&&t[0].collapsed?vk():yk(e,t[0],n),Ck=(e,t,n)=>{let r=Eh(t,e);return r.length>0?xk(e,r):Sk(e,t,n)},wk=(e,t)=>t>=0&&t<e.length&&yh(e.charAt(t)),Tk=e=>io(e.innerText),Ek=e=>e.map(e=>e.nodeName).getOr(`div`).toLowerCase(),Dk=e=>I.from(e.selection.getRng()).map(t=>{let n=I.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),i=Ek(n),a=U.fromDom(t.cloneContents());bb(a),xb(a);let o=e.dom.add(r,i,{"data-mce-bogus":`all`,style:`overflow: hidden; opacity: 0;`},a.dom),s=Tk(o),c=io(o.textContent??``);if(e.dom.remove(o),wk(c,0)||wk(c,c.length-1)){let e=Tk(n.getOr(r)),t=e.indexOf(s);if(t===-1)return s;{let n=wk(e,t-1),r=wk(e,t+s.length);return(n?` `:``)+s+(r?` `:``)}}else return s}).getOr(``),Ok=(e,t)=>{let n=e.selection.getRng(),r=e.dom.create(`body`),i=Vy(e,xh(e.selection.getSel())),a=t.contextual?Ck(U.fromDom(e.getBody()),i,e.schema).dom:n.cloneContents();return a&&r.appendChild(a),e.selection.serializer.serialize(r,t)},kk=(e,t)=>{if(t.format===`text`)return Dk(e);{let n=Ok(e,t);return t.format===`tree`?n:e.selection.isCollapsed()?``:n}},Ak=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),jk=(e,t,n={})=>qO(e,Ak(n,t)).fold(ne,t=>JO(e,kk(e,t),t)),Mk=(e,t)=>{let n=e.length+t.length+2,r=Array(n),i=Array(n),a=(e,t,n)=>({start:e,end:t,diag:n}),o=(n,r,i,a,s)=>{let l=c(n,r,i,a);if(l===null||l.start===r&&l.diag===r-a||l.end===n&&l.diag===n-i){let o=n,c=i;for(;o<r||c<a;)o<r&&c<a&&e[o]===t[c]?(s.push([0,e[o]]),++o,++c):r-n>a-i?(s.push([2,e[o]]),++o):(s.push([1,t[c]]),++c)}else{o(n,l.start,i,l.start-l.diag,s);for(let t=l.start;t<l.end;++t)s.push([0,e[t]]);o(l.end,r,l.end-l.diag,a,s)}},s=(n,r,i,o)=>{let s=n;for(;s-r<o&&s<i&&e[s]===t[s-r];)++s;return a(n,s,r)},c=(n,a,o,c)=>{let l=a-n,u=c-o;if(l===0||u===0)return null;let d=l-u,f=u+l,p=(f%2==0?f:f+1)/2;r[1+p]=n,i[1+p]=a+1;let m,h,g,_,v;for(m=0;m<=p;++m){for(h=-m;h<=m;h+=2){for(g=h+p,h===-m||h!==m&&r[g-1]<r[g+1]?r[g]=r[g+1]:r[g]=r[g-1]+1,_=r[g],v=_-n+o-h;_<a&&v<c&&e[_]===t[v];)r[g]=++_,++v;if(d%2!=0&&d-m<=h&&h<=d+m&&i[g-d]<=r[g])return s(i[g-d],h+n-o,a,c)}for(h=d-m;h<=d+m;h+=2){for(g=h+p-d,h===d-m||h!==d+m&&i[g+1]<=i[g-1]?i[g]=i[g+1]-1:i[g]=i[g-1],_=i[g]-1,v=_-n+o-h;_>=n&&v>=o&&e[_]===t[v];)i[g]=_--,v--;if(d%2==0&&-m<=h&&h<=m&&i[g]<=r[g+d])return s(i[g],h+n-o,a,c)}}return null},l=[];return o(0,e.length,0,t.length,l),l},Nk=e=>W(e)?e.outerHTML:G(e)?Qs.encodeRaw(e.data,!1):ba(e)?`<!--`+e.data+`-->`:``,Pk=e=>{let t,n=document.createElement(`div`),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},Fk=(e,t,n)=>{let r=Pk(t);if(e.hasChildNodes()&&n<e.childNodes.length){let t=e.childNodes[n];e.insertBefore(r,t)}else e.appendChild(r)},Ik=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){let n=e.childNodes[t];e.removeChild(n)}},Lk=(e,t)=>{let n=0;L(e,e=>{e[0]===0?n++:e[0]===1?(Fk(t,e[1],n),n++):e[0]===2&&Ik(t,n)})},Rk=(e,t)=>R(me(Me(e.childNodes),t?te(io,Nk):Nk),e=>e.length>0),zk=(e,t)=>(Lk(Mk(me(Me(t.childNodes),Nk),e),t),t),Bk=B(()=>document.implementation.createHTMLDocument(`undo`)),Vk=e=>e.querySelector(`iframe`)!==null,Hk=e=>({type:`fragmented`,fragments:e,content:``,bookmark:null,beforeBookmark:null}),Uk=e=>({type:`complete`,fragments:null,content:e,bookmark:null,beforeBookmark:null}),Wk=e=>{let t=e.serializer.getTempAttrs(),n=yb(e.getBody(),t);return Vk(n)?Hk(Rk(n,!0)):Uk(io(n.innerHTML))},Gk=(e,t,n)=>{let r=n?t.beforeBookmark:t.bookmark;t.type===`fragmented`?zk(t.fragments,e.getBody()):e.setContent(t.content,{format:`raw`,no_selection:E(r)&&th(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Kk=e=>e.type===`fragmented`?e.fragments.join(``):e.content,qk=e=>{let t=U.fromTag(`body`,Bk());return Ni(t,Kk(e)),L(ta(t,`*[data-mce-bogus]`),ki),Mi(t)},Jk=(e,t)=>Kk(e)===Kk(t),Yk=(e,t)=>qk(e)===qk(t),Xk=(e,t)=>!e||!t?!1:Jk(e,t)?!0:Yk(e,t),Zk=e=>e.get()===0,Qk=(e,t,n)=>{Zk(n)&&(e.typing=t)},$k=(e,t)=>{e.typing&&(Qk(e,!1,t),e.add())},eA=e=>{e.typing&&(e.typing=!1,e.add())},tA=(e,t,n)=>{Zk(t)&&n.set(od(e.selection))},nA=(e,t,n,r,i,a,o)=>{let s=Wk(e),c=H.extend(a||{},s);if(!Zk(r)||e.removed)return null;let l=t.data[n.get()];if(e.dispatch(`BeforeAddUndo`,{level:c,lastLevel:l,originalEvent:o}).isDefaultPrevented()||l&&Xk(l,c))return null;t.data[n.get()]&&i.get().each(e=>{t.data[n.get()].beforeBookmark=e});let u=Of(e);if(u&&t.data.length>u){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}c.bookmark=od(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(c),n.set(t.data.length-1);let d={level:c,lastLevel:l,originalEvent:o};return n.get()>0?(e.setDirty(!0),e.dispatch(`AddUndo`,d),e.dispatch(`change`,d)):e.dispatch(`AddUndo`,d),c},rA=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch(`ClearUndos`)},iA=(e,t,n,r,i)=>{if(t.transact(r)){let r=t.data[n.get()].bookmark,a=t.data[n.get()-1];Gk(e,a,!0),t.transact(i)&&(t.data[n.get()-1].beforeBookmark=r)}},aA=(e,t,n)=>{let r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],Gk(e,r,!1),e.setDirty(!0),e.dispatch(`Redo`,{level:r})),r},oA=(e,t,n,r)=>{let i;return t.typing&&(t.add(),t.typing=!1,Qk(t,!1,n)),r.get()>0&&(r.set(r.get()-1),i=t.data[r.get()],Gk(e,i,!0),e.setDirty(!0),e.dispatch(`Undo`,{level:i})),i},sA=e=>{e.clear(),e.add()},cA=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Xk(Wk(e),t.data[0]),lA=(e,t)=>t.get()<e.data.length-1&&!e.typing,uA=(e,t,n)=>($k(e,t),e.beforeChange(),e.ignore(n),e.add()),dA=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},fA=(e,t)=>{let n=e.dom,r=E(t)?t:e.getBody();L(n.select(`table,a`,r),t=>{switch(t.nodeName){case`TABLE`:let r=Lf(e),i=n.getAttrib(t,`border`);(!i||i===`0`)&&e.hasVisual?n.addClass(t,r):n.removeClass(t,r);break;case`A`:if(!n.getAttrib(t,`href`)){let r=n.getAttrib(t,`name`)||t.id,i=Rf(e);r&&e.hasVisual?n.addClass(t,i):n.removeClass(t,i)}break}}),e.dispatch(`VisualAid`,{element:t,hasVisual:e.hasVisual})},pA=e=>({init:{bindEvents:k},undoManager:{beforeChange:(t,n)=>tA(e,t,n),add:(t,n,r,i,a,o)=>nA(e,t,n,r,i,a,o),undo:(t,n,r)=>oA(e,t,n,r),redo:(t,n)=>aA(e,t,n),clear:(t,n)=>rA(e,t,n),reset:e=>sA(e),hasUndo:(t,n)=>cA(e,t,n),hasRedo:(e,t)=>lA(e,t),transact:(e,t,n)=>uA(e,t,n),ignore:(e,t)=>dA(e,t),extra:(t,n,r,i)=>iA(e,t,n,r,i)},formatter:{match:(t,n,r,i)=>iT(e,t,n,r,i),matchAll:(t,n)=>aT(e,t,n),matchNode:(t,n,r,i)=>rT(e,t,n,r,i),canApply:t=>sT(e,t),closest:t=>oT(e,t),apply:(t,n,r)=>jE(e,t,n,r),remove:(t,n,r,i)=>yE(e,t,n,r,i),toggle:(t,n,r)=>VE(e,t,n,r),formatChanged:(t,n,r,i,a)=>BE(e,t,n,r,i,a)},editor:{getContent:t=>Tb(e,t),setContent:(t,n)=>Jw(e,t,n),insertContent:(t,n)=>Hw(e,t,n),addVisual:t=>fA(e,t)},selection:{getContent:(t,n)=>jk(e,t,n)},autocompleter:{addDecoration:t=>Zy(e,t),removeDecoration:()=>eb(e,U.fromDom(e.getBody()))},raw:{getModel:()=>I.none()}}),mA=e=>{let t=e=>y(e)?e:{},{init:n,undoManager:r,formatter:i,editor:a,selection:o,autocompleter:s,raw:c}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(e,t,n)=>r.transact(n),ignore:(e,t)=>r.ignore(t),extra:(e,t,n,i)=>r.extra(n,i)},formatter:{match:(e,n,r,a)=>i.match(e,t(n),a),matchAll:i.matchAll,matchNode:i.matchNode,canApply:e=>i.canApply(e),closest:e=>i.closest(e),apply:(e,n,r)=>i.apply(e,t(n)),remove:(e,n,r,a)=>i.remove(e,t(n)),toggle:(e,n,r)=>i.toggle(e,t(n)),formatChanged:(e,t,n,r,a)=>i.formatChanged(t,n,r,a)},editor:{getContent:e=>a.getContent(e),setContent:(e,t)=>({content:a.setContent(e,t),html:``}),insertContent:(e,t)=>(a.insertContent(e),``),addVisual:a.addVisual},selection:{getContent:(e,t)=>o.getContent(t)},autocompleter:{addDecoration:s.addDecoration,removeDecoration:s.removeDecoration},raw:{getModel:()=>I.some(c.getRawModel())}}},hA=()=>{let e=j(null),t=j(``);return{init:{bindEvents:k},undoManager:{beforeChange:k,add:e,undo:e,redo:e,clear:k,reset:k,hasUndo:P,hasRedo:P,transact:e,ignore:k,extra:k},formatter:{match:P,matchAll:j([]),matchNode:j(void 0),canApply:P,closest:t,apply:k,remove:k,toggle:k,formatChanged:j({unbind:k})},editor:{getContent:t,setContent:j({content:``,html:``}),insertContent:j(``),addVisual:k},selection:{getContent:t},autocompleter:{addDecoration:k,removeDecoration:k},raw:{getModel:j(I.none())}}},gA=e=>Ke(e.plugins,`rtc`),_A=e=>Ge(e.plugins,`rtc`).bind(e=>I.from(e.setup)),vA=e=>{let t=e;return _A(e).fold(()=>(t.rtcInstance=pA(e),I.none()),e=>(t.rtcInstance=hA(),I.some(()=>e().then(e=>(t.rtcInstance=mA(e),e.rtc.isRemote)))))},yA=e=>e.rtcInstance?e.rtcInstance:pA(e),bA=e=>{let t=e.rtcInstance;if(t)return t;throw Error(`Failed to get RTC instance not yet initialized.`)},xA=(e,t,n)=>{bA(e).undoManager.beforeChange(t,n)},SA=(e,t,n,r,i,a,o)=>bA(e).undoManager.add(t,n,r,i,a,o),CA=(e,t,n,r)=>bA(e).undoManager.undo(t,n,r),wA=(e,t,n)=>bA(e).undoManager.redo(t,n),TA=(e,t,n)=>{bA(e).undoManager.clear(t,n)},EA=(e,t)=>{bA(e).undoManager.reset(t)},DA=(e,t,n)=>bA(e).undoManager.hasUndo(t,n),OA=(e,t,n)=>bA(e).undoManager.hasRedo(t,n),kA=(e,t,n,r)=>bA(e).undoManager.transact(t,n,r),AA=(e,t,n)=>{bA(e).undoManager.ignore(t,n)},jA=(e,t,n,r,i)=>{bA(e).undoManager.extra(t,n,r,i)},MA=(e,t,n,r,i)=>bA(e).formatter.match(t,n,r,i),NA=(e,t,n)=>bA(e).formatter.matchAll(t,n),PA=(e,t,n,r,i)=>bA(e).formatter.matchNode(t,n,r,i),FA=(e,t)=>bA(e).formatter.canApply(t),IA=(e,t)=>bA(e).formatter.closest(t),LA=(e,t,n,r)=>{bA(e).formatter.apply(t,n,r)},RA=(e,t,n,r,i)=>{bA(e).formatter.remove(t,n,r,i)},zA=(e,t,n,r)=>{bA(e).formatter.toggle(t,n,r)},BA=(e,t,n,r,i,a)=>bA(e).formatter.formatChanged(t,n,r,i,a),VA=(e,t)=>yA(e).editor.getContent(t),HA=(e,t,n)=>yA(e).editor.setContent(t,n),UA=(e,t,n)=>yA(e).editor.insertContent(t,n),WA=(e,t,n)=>bA(e).selection.getContent(t,n),GA=(e,t)=>bA(e).editor.addVisual(t),KA=e=>bA(e).init.bindEvents(),qA=(e,t)=>bA(e).autocompleter.addDecoration(t),JA=e=>bA(e).autocompleter.removeDecoration(),YA=(e,t={})=>WA(e,t.format?t.format:`html`,t),XA=e=>e.dom.length===0?(Oi(e),I.none()):I.some(e),ZA=(e,t)=>e.filter(e=>Hg.isBookmarkNode(e.dom)).bind(t?Ar:kr),QA=(e,t,n,r,i)=>{let a=e.dom,o=t.dom,s=r?a.length:o.length;r?(Kx(a,o,i,!1,!r),n.setStart(o,s)):(Kx(o,a,i,!1,!r),n.setEnd(o,s))},$A=(e,t,n)=>{Tr(e).each(r=>{let i=e.dom;t&&Ax(r,Y(i,0),n)?Wx(i,0,n):!t&&Mx(r,Y(i,i.length),n)&&Gx(i,i.length,n)})},ej=(e,t,n,r,i)=>{e.bind(e=>((r?Gx:Wx)(e.dom,r?e.dom.length:0,i),t.filter(Rn).map(t=>QA(e,t,n,r,i)))).orThunk(()=>ZA(t,r).or(t).filter(Rn).map(e=>$A(e,r,i)))},tj=(e,t,n)=>{let r=I.from(t.firstChild).map(U.fromDom),i=I.from(t.lastChild).map(U.fromDom);e.deleteContents(),e.insertNode(t);let a=r.bind(kr).filter(Rn).bind(XA),o=i.bind(Ar).filter(Rn).bind(XA);ej(a,r,e,!0,n),ej(o,i,e,!1,n),e.collapse(!1)},nj=(e,t)=>({format:`html`,...e,set:!0,selection:!0,content:t}),rj=(e,t)=>{if(t.format!==`raw`){let n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),i=r?{context:r.nodeName.toLowerCase()}:{},a=e.parser.parse(t.content,{forced_root_block:!1,...i,...t});return Ob({validate:!1},e.schema).serialize(a)}else return t.content},ij=(e,t,n={})=>{YO(e,nj(n,t)).each(t=>{let n=rj(e,t),r=e.selection.getRng();tj(r,r.createContextualFragment(n),e.schema),e.selection.setRng(r),Lv(e,r),XO(e,n,t)})},aj=(e,t,n)=>{if(Ke(e,t)){let r=R(e[t],e=>e!==n);r.length===0?delete e[t]:e[t]=r}};var oj=(e,t)=>{let n,r,i=(t,n)=>be(n,n=>e.is(n,t)),a=t=>e.getParents(t,void 0,e.getRoot()),o=()=>{n={},r={},t.on(`NodeChange`,e=>{let t=e.element,o=a(t),s={};Le(n,(e,t)=>{i(t,o).each(n=>{r[t]||(L(e,e=>{e(!0,{node:n,selector:t,parents:o})}),r[t]=e),s[t]=e})}),Le(r,(e,n)=>{s[n]||(delete r[n],L(e,e=>{e(!1,{node:t,selector:n,parents:o})}))})})};return{selectorChangedWithUnbind:(e,s)=>(n||o(),n[e]||(n[e]=[]),n[e].push(s),i(e,a(t.selection.getStart())).each(()=>{r[e]=n[e]}),{unbind:()=>{aj(n,e,s),aj(r,e,s)}})}};let sj=e=>!!(e&&e.ownerDocument)&&br(U.fromDom(e.ownerDocument),U.fromDom(e)),cj=e=>e?sj(e.startContainer)&&sj(e.endContainer):!1,lj=(e,t,n,r)=>{let i,a,{selectorChangedWithUnbind:o}=oj(e,r),s=(t,n)=>{let i=e.createRng();E(t)&&E(n)?(i.setStart(t,n),i.setEnd(t,n),b(i),_(!1)):(Ph(e,i,r.getBody(),!0),b(i))},c=e=>YA(r,e),l=(e,t)=>ij(r,e,t),u=e=>Fy(r.getBody(),y(),e),d=e=>Iy(r.getBody(),y(),e),f=(e,t)=>D.getBookmark(e,t),p=e=>D.moveToBookmark(e),m=(t,n)=>(By(e,t,n).each(b),t),h=()=>{let e=y(),t=v();return!e||e.item?!1:e.compareEndPoints?e.compareEndPoints(`StartToEnd`,e)===0:!t||e.collapsed},g=()=>{let t=y(),n=r.getBody().querySelectorAll(`[data-mce-selected="1"]`);return n.length>0?we(n,t=>e.isEditable(t.parentElement)):Ny(e,t)},_=e=>{let t=y();t.collapse(!!e),b(t)},v=()=>t.getSelection?t.getSelection():t.document.selection,y=()=>{let n,o=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch{return-1}},s=t.document;if(E(r.bookmark)&&!Oy(r)){let e=$v(r);if(e.isSome())return e.map(e=>Vy(r,[e])[0]).getOr(s.createRange())}try{let e=v();e&&!aa(e.anchorNode)&&(n=e.rangeCount>0?e.getRangeAt(0):s.createRange(),n=Vy(r,[n])[0])}catch{}if(n||=s.createRange(),xa(n.startContainer)&&n.collapsed){let t=e.getRoot();n.setStart(t,0),n.setEnd(t,0)}return i&&a&&(o(n.START_TO_START,n,i)===0&&o(n.END_TO_END,n,i)===0?n=a:(i=null,a=null)),n},b=(e,t)=>{if(!cj(e))return;let n=v();if(e=r.dispatch(`SetSelectionRange`,{range:e,forward:t}).range,n){a=e;try{n.removeAllRanges(),n.addRange(e)}catch{}t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i=n.rangeCount>0?n.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&n?.setBaseAndExtent&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){let t=e.startContainer.childNodes[e.startOffset];t&&t.nodeName===`IMG`&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),(n.anchorNode!==e.startContainer||n.focusNode!==e.endContainer)&&n.setBaseAndExtent(t,0,t,1))}r.dispatch(`AfterSetSelectionRange`,{range:e,forward:t})},x=t=>(l(e.getOuterHTML(t)),t),S=()=>Ry(r.getBody(),y()),C=(t,n)=>zy(e,y(),t,n),w=()=>{let t=v(),n=t?.anchorNode,r=t?.focusNode;if(!t||!n||!r||aa(n)||aa(r))return!0;let i=e.createRng(),a=e.createRng();try{i.setStart(n,t.anchorOffset),i.collapse(!0),a.setStart(r,t.focusOffset),a.collapse(!0)}catch{return!0}return i.compareBoundaryPoints(i.START_TO_START,a)<=0},T={dom:e,win:t,serializer:n,editor:r,expand:(t={type:`word`})=>b(cv(e).expand(y(),t)),collapse:_,setCursorLocation:s,getContent:c,setContent:l,getBookmark:f,moveToBookmark:p,select:m,isCollapsed:h,isEditable:g,isForward:w,setNode:x,getNode:S,getSel:v,setRng:b,getRng:y,getStart:u,getEnd:d,getSelectedBlocks:C,normalize:()=>{let t=y();if(!Ch(v())&&Fh(r)){let n=av(e,t);return n.each(e=>{b(e,w())}),n.getOr(t)}return t},selectorChanged:(e,t)=>(o(e,t),T),selectorChangedWithUnbind:o,getScrollContainer:()=>{let t,n=e.getRoot();for(;n&&n.nodeName!==`BODY`;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:(e,t)=>{E(e)?Iv(r,e,t):Lv(r,y(),t)},placeCaretAt:(e,t)=>b(J_(e,t,r.getDoc())),getBoundingClientRect:()=>{let e=y();return e.collapsed?Y.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=i=a=null,O.destroy()}},D=Hg(T),O=b_(T,r);return T.bookmarkManager=D,T.controlSelection=O,T},uj=(e,t,n)=>{e.addAttributeFilter(`data-mce-tabindex`,(e,t)=>{let n=e.length;for(;n--;){let r=e[n];r.attr(`tabindex`,r.attr(`data-mce-tabindex`)),r.attr(t,null)}}),e.addAttributeFilter(`src,href,style`,(e,r)=>{let i=`data-mce-`+r,a=t.url_converter,o=t.url_converter_scope,s=e.length;for(;s--;){let t=e[s],c=t.attr(i);c===void 0?(c=t.attr(r),r===`style`?c=n.serializeStyle(n.parseStyle(c),t.name):a&&(c=a.call(o,c,r,t.name)),t.attr(r,c.length>0?c:null)):(t.attr(r,c.length>0?c:null),t.attr(i,null))}}),e.addAttributeFilter(`class`,e=>{let t=e.length;for(;t--;){let n=e[t],r=n.attr(`class`);r&&(r=r.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,``),n.attr(`class`,r.length>0?r:null))}}),e.addAttributeFilter(`data-mce-type`,(e,t,n)=>{let r=e.length;for(;r--;){let t=e[r];t.attr(`data-mce-type`)===`bookmark`&&!n.cleanup&&(I.from(t.firstChild).exists(e=>!ro(e.value??``))?t.unwrap():t.remove())}}),e.addNodeFilter(`script,style`,(e,n)=>{let r=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,``).replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,``).replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,``),i=e.length;for(;i--;){let a=e[i],o=a.firstChild,s=o?.value??``;if(n===`script`){let e=a.attr(`type`);e&&a.attr(`type`,e===`mce-no/type`?null:e.replace(/^mce\-/,``)),t.element_format===`xhtml`&&o&&s.length>0&&(o.value=`// <![CDATA[
`+r(s)+`
// ]]>`)}else t.element_format===`xhtml`&&o&&s.length>0&&(o.value=`<!--
`+r(s)+`
-->`)}}),e.addNodeFilter(`#comment`,e=>{let r=e.length;for(;r--;){let i=e[r],a=i.value;t.preserve_cdata&&a?.indexOf(`[CDATA[`)===0?(i.name=`#cdata`,i.type=4,i.value=n.decode(a.replace(/^\[CDATA\[|\]\]$/g,``))):a?.indexOf(`mce:protected `)===0&&(i.name=`#text`,i.type=3,i.raw=!0,i.value=unescape(a).substr(14))}}),e.addNodeFilter(`xml:namespace,input`,(e,t)=>{let n=e.length;for(;n--;){let r=e[n];r.type===7?r.remove():r.type===1&&t===`input`&&!r.attr(`type`)&&r.attr(`type`,`text`)}}),e.addAttributeFilter(`data-mce-type`,t=>{L(t,t=>{t.attr(`data-mce-type`)===`format-caret`&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter(`data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder`,(e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)}),t.remove_trailing_brs&&YE(t,e,e.schema)},dj=e=>{let t=e=>e?.name===`br`,n=e.lastChild;if(t(n)){let e=n.prev;t(e)&&(n.remove(),e.remove())}},fj=(e,t,n)=>{let r,i=e.dom,a=t.cloneNode(!0),o=document.implementation;if(o.createHTMLDocument){let e=o.createHTMLDocument(``);H.each(a.nodeName===`BODY`?a.childNodes:[a],t=>{e.body.appendChild(e.importNode(t,!0))}),a=a.nodeName===`BODY`?e.body:e.body.firstChild,r=i.doc,i.doc=e}return Wg(e,{...n,node:a}),r&&(i.doc=r),a},pj=(e,t)=>E(e)&&e.hasEventListeners(`PreProcess`)&&!t.no_events,mj=(e,t,n)=>pj(e,n)?fj(e,t,n):t,hj=(e,t,n)=>{H.inArray(t,n)===-1&&(e.addAttributeFilter(n,(e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)}),t.push(n))},gj=(e,t,n)=>!t.no_events&&e?Gg(e,{...t,content:n}).content:n,_j=(e,t,n)=>{let r=io(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Za(U.fromDom(t))?r:H.trim(r)},vj=(e,t,n)=>{let r=n.selection?{forced_root_block:!1,...n}:n,i=e.parse(t,r);return dj(i),i},yj=(e,t,n)=>Ob(e,t).serialize(n),bj=(e,t,n,r,i)=>gj(e,i,yj(t,n,r)),xj=(e,t)=>{let n=[`data-mce-selected`],r={entity_encoding:`named`,remove_trailing_brs:!0,pad_empty_with_br:!1,...e},i=t&&t.dom?t.dom:el.DOM,a=t&&t.schema?t.schema:_c(r),o=WO(r,a);return uj(o,r,i),{schema:a,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:(e,n={})=>{let s={format:`html`,...n},c=vj(o,_j(i,mj(t,e,s),s),s);return s.format===`tree`?c:bj(t,r,a,c,s)},addRules:a.addValidElements,setRules:a.setValidElements,addTempAttr:M(hj,o,n),getTempAttrs:j(n),getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},Sj=(e,t)=>{let n=xj(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},Cj=(e,t)=>({...e,format:t,get:!0,getInner:!0}),wj=(e,t={})=>qO(e,Cj(t,t.format?t.format:`html`)).fold(ne,t=>JO(e,VA(e,t),t)),Tj=(e,t)=>({format:`html`,...e,set:!0,content:t}),Ej=(e,t,n={})=>YO(e,Tj(n,t)).map(t=>{let n=HA(e,t.content,t);return XO(e,n.html,t),n.content}).getOr(t),Dj=`autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists`.split(`,`),Oj=`template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format`.split(`,`),kj=`bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor`.split(`,`),Aj=[{name:`template`,replacedWith:`Advanced Template`},{name:`rtc`}],jj=(e,t)=>Oe(R(t,t=>Ke(e,t))),Mj=e=>{let t=jj(e,Dj),n=e.forced_root_block;return(n===!1||n===``)&&t.push(`forced_root_block (false only)`),Oe(t)},Nj=e=>jj(e,Oj),Pj=(e,t)=>{let n=H.makeMap(e.plugins,` `);return Oe(R(t,e=>Ke(n,e)))},Fj=e=>Pj(e,kj),Ij=e=>Pj(e,Aj.map(e=>e.name)),Lj=(e,t)=>{let n=Mj(e),r=Fj(t),i=r.length>0,a=n.length>0,o=t.theme===`mobile`;if(i||a||o){let e=o?`

Themes:
- mobile`:``,t=i?`\n\nPlugins:
- ${r.join(`
- `)}`:``,s=a?`\n\nOptions:
- ${n.join(`
- `)}`:``;console.warn(`The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information.`+e+t+s)}},Rj=e=>be(Aj,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),zj=(e,t)=>{let n=Nj(e),r=Ij(t),i=r.length>0,a=n.length>0;if(i||a){let e=i?`\n\nPlugins:
- ${r.map(Rj).join(`
- `)}`:``,t=a?`\n\nOptions:
- ${n.join(`
- `)}`:``;console.warn(`The following deprecated features are currently enabled but will be removed soon.`+e+t)}},Bj=(e,t)=>{Lj(e,t),zj(e,t)},Vj=el.DOM,Hj=e=>{Vj.setStyle(e.id,`display`,e.orgDisplay)},Uj=e=>I.from(e).each(e=>e.destroy()),Wj=e=>{let t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;let n=e.selection;if(n){let e=n.dom;t.selection=n.win=n.dom=e.doc=null}},Gj=e=>{let t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Vj.unbind(t,`submit reset`,e.formEventDelegate))},Kj=e=>{if(!e.removed){let{_selectionOverrides:t,editorUpload:n}=e,r=e.getBody(),i=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&E(i?.nextSibling)&&Vj.remove(i.nextSibling),Kg(e),e.editorManager.remove(e),!e.inline&&r&&Hj(e),qg(e),Vj.remove(e.getContainer()),Uj(t),Uj(n),e.destroy()}},qj=(e,t)=>{let{selection:n,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off(`beforeunload`,e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Uj(n),Uj(r)),Gj(e),Wj(e),e.destroyed=!0}},Jj=(()=>{let e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>Ke(e,t)}})(),Yj=dl.ModelManager,Xj=(e,t)=>t.dom[e],Zj=(e,t)=>parseInt(mi(t,e),10),Qj=M(Xj,`clientWidth`),$j=M(Xj,`clientHeight`),eM=M(Zj,`margin-top`),tM=M(Zj,`margin-left`),nM=e=>e.dom.getBoundingClientRect(),rM=(e,t,n)=>{let r=Qj(e),i=$j(e);return t>=0&&n>=0&&t<=r&&n<=i},iM=(e,t,n,r)=>{let i=nM(t),a=e?i.left+t.dom.clientLeft+tM(t):0,o=e?i.top+t.dom.clientTop+eM(t):0;return{x:n-a,y:r-o}},aM=(e,t,n)=>{let r=U.fromDom(e.getBody()),i=e.inline?r:Cr(r),a=iM(e.inline,i,t,n);return rM(i,a.x,a.y)},oM=e=>I.from(e).map(U.fromDom),sM=e=>oM(e.inline?e.getBody():e.getContentAreaContainer()).map(Xr).getOr(!1);var cM=()=>{let e=()=>{throw Error(`Theme did not provide a NotificationManager implementation.`)};return{open:e,close:e,getArgs:e}};let lM=e=>{let t=[],n=()=>{let t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():cM()},r=()=>I.from(t[0]),i=(e,t)=>e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout,a=()=>{L(t,e=>{e.reposition()})},o=e=>{t.push(e)},s=e=>{xe(t,t=>t===e).each(e=>{t.splice(e,1)})},c=(c,l=!0)=>e.removed||!sM(e)?{}:(l&&e.dispatch(`BeforeOpenNotification`,{notification:c}),be(t,e=>i(n().getArgs(e),c)).getOrThunk(()=>{e.editorManager.setActive(e);let t=n().open(c,()=>{s(t),a(),ky(e)&&r().fold(()=>e.focus(),e=>Rv(U.fromDom(e.getEl())))});return o(t),a(),e.dispatch(`OpenNotification`,{notification:{...t}}),t})),l=()=>{r().each(e=>{n().close(e),s(e),a()})},u=j(t);return(e=>{e.on(`SkinLoaded`,()=>{let t=ff(e);t&&c({text:t,type:`warning`,timeout:0},!1),a()}),e.on(`show ResizeEditor ResizeWindow NodeChange`,()=>{requestAnimationFrame(a)}),e.on(`remove`,()=>{L(t.slice(),e=>{n().close(e)})})})(e),{open:c,close:l,getNotifications:u}},uM=dl.PluginManager,dM=dl.ThemeManager;var fM=()=>{let e=()=>{throw Error(`Theme did not provide a WindowManager implementation.`)};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};let pM=e=>{let t=[],n=()=>{let t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():fM()},r=(e,t)=>(...n)=>t?t.apply(e,n):void 0,i=t=>{e.dispatch(`OpenWindow`,{dialog:t})},a=t=>{e.dispatch(`CloseWindow`,{dialog:t})},o=e=>{t.push(e),i(e)},s=n=>{a(n),t=R(t,e=>e!==n),t.length===0&&e.focus()},c=()=>I.from(t[t.length-1]),l=t=>{e.editorManager.setActive(e),Qv(e),e.ui.show();let n=t();return o(n),n};return e.on(`remove`,()=>{L(t,e=>{n().close(e)})}),{open:(e,t)=>l(()=>n().open(e,t,s)),openUrl:e=>l(()=>n().openUrl(e,s)),alert:(e,t,i)=>{let a=n();a.alert(e,r(i||a,t))},confirm:(e,t,i)=>{let a=n();a.confirm(e,r(i||a,t))},close:()=>{c().each(e=>{n().close(e),s(e)})}}},mM=(e,t)=>{e.notificationManager.open({type:`error`,text:t})},hM=(e,t)=>{e._skinLoaded?mM(e,t):e.on(`SkinLoaded`,()=>{mM(e,t)})},gM=(e,t)=>{hM(e,ul.translate([`Failed to upload image: {0}`,t]))},_M=(e,t,n)=>{t_(e,t,{message:n}),console.error(n)},vM=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,yM=(e,t,n)=>{_M(e,`PluginLoadError`,vM(`plugin`,t,n))},bM=(e,t,n)=>{_M(e,`IconsLoadError`,vM(`icons`,t,n))},xM=(e,t,n)=>{_M(e,`LanguageLoadError`,vM(`language`,t,n))},SM=(e,t,n)=>{_M(e,`ThemeLoadError`,vM(`theme`,t,n))},CM=(e,t,n)=>{_M(e,`ModelLoadError`,vM(`model`,t,n))},wM=(e,t,n)=>{let r=ul.translate([`Failed to initialize plugin: {0}`,t]);t_(e,`PluginLoadError`,{message:r}),TM(r,n),hM(e,r)},TM=(e,...t)=>{let n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},EM=e=>/^[a-z0-9\-]+$/i.test(e),DM=e=>`content/`+e+`/content.css`,OM=e=>tinymce.Resource.has(DM(e)),kM=e=>jM(e,nf(e)),AM=e=>jM(e,af(e)),jM=(e,t)=>{let n=e.editorManager.baseURL+`/skins/content`,r=`content${e.editorManager.suffix}.css`;return me(t,t=>OM(t)?t:EM(t)&&!e.inline?`${n}/${t}/${r}`:e.documentBaseURI.toAbsolute(t))},MM=e=>{e.contentCSS=e.contentCSS.concat(kM(e),AM(e))},NM=e=>e?Me(e.getElementsByTagName(`img`)):[],PM=(e,t)=>{let n={};return{findAll:(r,i=F)=>{let a=me(R(NM(r),t=>{let n=t.src;return t.hasAttribute(`data-mce-bogus`)||t.hasAttribute(`data-mce-placeholder`)||!n||n===un.transparentSrc?!1:bt(n,`blob:`)?!e.isUploaded(n)&&i(t):bt(n,`data:`)?i(t):!1}),e=>{let r=e.src;if(Ke(n,r))return n[r].then(t=>v(t)?t:{image:e,blobInfo:t.blobInfo});{let i=cD(t,r).then(t=>(delete n[r],{image:e,blobInfo:t})).catch(e=>(delete n[r],e));return n[r]=i,i}});return Promise.all(a)}}},FM=()=>{let e={},t=(e,t)=>({status:e,resultUri:t}),n=t=>t in e;return{hasBlobUri:n,getResultUri:t=>{let n=e[t];return n?n.resultUri:null},isPending:t=>n(t)?e[t].status===1:!1,isUploaded:t=>n(t)?e[t].status===2:!1,markPending:n=>{e[n]=t(1,null)},markUploaded:(n,r)=>{e[n]=t(2,r)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}},IM=0,LM=()=>{let e=()=>Math.round(Math.random()*4294967295).toString(36);return`s`+new Date().getTime().toString(36)+e()+e()+e()},RM=e=>e+ IM+++LM(),zM=()=>{let e=[],t=e=>({"image/jpeg":`jpg`,"image/jpg":`jpg`,"image/gif":`gif`,"image/png":`png`,"image/apng":`apng`,"image/avif":`avif`,"image/svg+xml":`svg`,"image/webp":`webp`,"image/bmp":`bmp`,"image/tiff":`tiff`})[e.toLowerCase()]||`dat`,n=(e,t,n,i,a)=>{if(v(e))return r({id:e,name:i,filename:a,blob:t,base64:n});if(y(e))return r(e);throw Error(`Unknown input type`)},r=e=>{if(!e.blob||!e.base64)throw Error(`blob and base64 representations of the image are required for BlobInfo to be created`);let n=e.id||RM(`blobid`),r=e.name||n,i=e.blob;return{id:j(n),name:j(r),filename:j(e.filename||r+`.`+t(i.type)),blob:j(i),base64:j(e.base64),blobUri:j(e.blobUri||URL.createObjectURL(i)),uri:j(e.uri)}},i=t=>{o(t.id())||e.push(t)},a=t=>be(e,t).getOrUndefined(),o=e=>a(t=>t.id()===e);return{create:n,add:i,get:o,getByUri:e=>a(t=>t.blobUri()===e),getByData:(e,t)=>a(n=>n.base64()===e&&n.blob().type===t),findFirst:a,removeByUri:t=>{e=R(e,e=>e.blobUri()===t?(URL.revokeObjectURL(e.blobUri()),!1):!0)},destroy:()=>{L(e,e=>{URL.revokeObjectURL(e.blobUri())}),e=[]}}},BM=(e,t)=>{let n={},r=(e,t)=>e?e.replace(/\/$/,``)+`/`+t.replace(/^\//,``):t,i=(e,n)=>new Promise((i,a)=>{let o=new XMLHttpRequest;o.open(`POST`,t.url),o.withCredentials=t.credentials,o.upload.onprogress=e=>{n(e.loaded/e.total*100)},o.onerror=()=>{a(`Image upload failed due to a XHR Transport error. Code: `+o.status)},o.onload=()=>{if(o.status<200||o.status>=300){a(`HTTP Error: `+o.status);return}let e=JSON.parse(o.responseText);if(!e||!v(e.location)){a(`Invalid JSON: `+o.responseText);return}i(r(t.basePath,e.location))};let s=new FormData;s.append(`file`,e.blob(),e.filename()),o.send(s)}),a=D(t.handler)?t.handler:i,o=()=>new Promise(e=>{e([])}),s=(e,t)=>({url:t,blobInfo:e,status:!0}),c=(e,t)=>({url:``,blobInfo:e,status:!1,error:t}),l=(e,t)=>{H.each(n[e],e=>{e(t)}),delete n[e]},u=(t,n,r)=>(e.markPending(t.blobUri()),new Promise(i=>{let a,o;try{let u=()=>{a&&(a.close(),o=k)},d=n=>{u(),e.markUploaded(t.blobUri(),n),l(t.blobUri(),s(t,n)),i(s(t,n))},f=n=>{u(),e.removeFailed(t.blobUri()),l(t.blobUri(),c(t,n)),i(c(t,n))};o=e=>{e<0||e>100||I.from(a).orThunk(()=>I.from(r).map(ae)).each(t=>{a=t,t.progressBar.value(e)})},n(t,o).then(d,e=>{f(v(e)?{message:e}:e)})}catch(e){i(c(t,e))}})),d=e=>e===i,f=e=>{let t=e.blobUri();return new Promise(e=>{n[t]=n[t]||[],n[t].push(e)})},p=(t,n)=>(t=H.grep(t,t=>!e.isUploaded(t.blobUri())),Promise.all(H.map(t,t=>e.isPending(t.blobUri())?f(t):u(t,a,n))));return{upload:(e,n)=>!t.url&&d(a)?o():p(e,n)}},VM=e=>()=>e.notificationManager.open({text:e.translate(`Image uploading...`),type:`info`,timeout:-1,progressBar:!0}),HM=(e,t)=>BM(t,{url:Kd(e),basePath:qd(e),credentials:Jd(e),handler:Yd(e)}),UM=e=>{let t=HM(e,FM());return{upload:(n,r=!0)=>t.upload(n,r?VM(e):void 0)}},WM=(e,t)=>e.dom.isEmpty(t.dom)&&E(e.schema.getTextBlockElements()[Mn(t)]),GM=e=>t=>{WM(e,t)&&Ci(t,U.fromHtml(`<br data-mce-bogus="1" />`))},KM=e=>{let t=zM(),n,r,i=FM(),a=[],o=t=>n=>e.selection?t(n):[],s=e=>e+(e.indexOf(`?`)===-1?`?`:`&`)+new Date().getTime(),c=(e,t,n)=>{let r=0;do r=e.indexOf(t,r),r!==-1&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1);while(r!==-1);return e},l=(e,t,n)=>{let r=`src="${n}"${n===un.transparentSrc?` data-mce-placeholder="1"`:``}`;return e=c(e,`src="${t}"`,r),e=c(e,`data-mce-src="`+t+`"`,`data-mce-src="`+n+`"`),e},u=(t,n)=>{L(e.undoManager.data,e=>{e.type===`fragmented`?e.fragments=me(e.fragments,e=>l(e,t,n)):e.content=l(e.content,t,n)})},d=(t,n)=>{let r=e.convertURL(n,`src`);u(t.src,n),Wn(U.fromDom(t),{src:Hd(e)?s(n):n,"data-mce-src":r})},f=()=>(n||=HM(e,i),g().then(o(r=>{let i=me(r,e=>e.blobInfo);return n.upload(i,VM(e)).then(o(n=>{let i=[],a=!1,o=me(n,(n,o)=>{let{blobInfo:s,image:c}=r[o],l=!1;return n.status&&Ud(e)?(n.url&&!yt(c.src,n.url)&&(a=!0),t.removeByUri(c.src),gA(e)||d(c,n.url)):n.error&&(n.error.remove&&(u(c.src,un.transparentSrc),i.push(c),l=!0),gM(e,n.error.message)),{element:c,status:n.status,uploadUri:n.url,blobInfo:s,removed:l}});return i.length>0&&!gA(e)?e.undoManager.transact(()=>{L(ji(i),n=>{let r=Tr(n);Oi(n),r.each(GM(e)),t.removeByUri(n.dom.src)})}):a&&e.undoManager.dispatchChange(),o}))}))),p=()=>Vd(e)?f():Promise.resolve([]),m=e=>we(a,t=>t(e)),h=e=>{a.push(e)},g=()=>(r||=PM(i,t),r.findAll(e.getBody(),m).then(o(t=>{let n=R(t,t=>v(t)?(hM(e,t),!1):t.uriType!==`blob`);return gA(e)||L(n,e=>{u(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute(`data-mce-src`)}),n}))),_=()=>{t.destroy(),i.destroy(),r=n=null},y=n=>n.replace(/src="(blob:[^"]+)"/g,(n,r)=>{let a=i.getResultUri(r);if(a)return`src="`+a+`"`;let o=t.getByUri(r);return o||=ve(e.editorManager.get(),(e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(r),void 0),o?`src="data:`+o.blob().type+`;base64,`+o.base64()+`"`:n});return e.on(`SetContent`,()=>{Vd(e)?p():g()}),e.on(`RawSaveContent`,e=>{e.content=y(e.content)}),e.on(`GetContent`,e=>{e.source_view||e.format===`raw`||e.format===`tree`||(e.content=y(e.content))}),e.on(`PostRender`,()=>{e.parser.addNodeFilter(`img`,e=>{L(e,e=>{let n=e.attr(`src`);if(!n||t.getByUri(n))return;let r=i.getResultUri(n);r&&e.attr(`src`,r)})})}),{blobCache:t,addFilter:h,uploadImages:f,uploadImagesAuto:p,scanForImages:g,destroy:_}},qM=e=>{let t=e.dom,n=e.schema.type,r={valigntop:[{selector:`td,th`,styles:{verticalAlign:`top`}}],valignmiddle:[{selector:`td,th`,styles:{verticalAlign:`middle`}}],valignbottom:[{selector:`td,th`,styles:{verticalAlign:`bottom`}}],alignleft:[{selector:`figure.image`,collapsed:!1,classes:`align-left`,ceFalseOverride:!0,preview:`font-family font-size`},{selector:`figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre`,styles:{textAlign:`left`},inherit:!1,preview:!1},{selector:`img,audio,video`,collapsed:!1,styles:{float:`left`},preview:`font-family font-size`},{selector:`table`,collapsed:!1,styles:{marginLeft:`0px`,marginRight:`auto`},onformat:e=>{t.setStyle(e,`float`,null)},preview:`font-family font-size`},{selector:`.mce-preview-object,[data-ephox-embed-iri]`,ceFalseOverride:!0,styles:{float:`left`}}],aligncenter:[{selector:`figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre`,styles:{textAlign:`center`},inherit:!1,preview:`font-family font-size`},{selector:`figure.image`,collapsed:!1,classes:`align-center`,ceFalseOverride:!0,preview:`font-family font-size`},{selector:`img,audio,video`,collapsed:!1,styles:{display:`block`,marginLeft:`auto`,marginRight:`auto`},preview:!1},{selector:`table`,collapsed:!1,styles:{marginLeft:`auto`,marginRight:`auto`},preview:`font-family font-size`},{selector:`.mce-preview-object`,ceFalseOverride:!0,styles:{display:`table`,marginLeft:`auto`,marginRight:`auto`},preview:!1},{selector:`[data-ephox-embed-iri]`,ceFalseOverride:!0,styles:{marginLeft:`auto`,marginRight:`auto`},preview:!1}],alignright:[{selector:`figure.image`,collapsed:!1,classes:`align-right`,ceFalseOverride:!0,preview:`font-family font-size`},{selector:`figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre`,styles:{textAlign:`right`},inherit:!1,preview:`font-family font-size`},{selector:`img,audio,video`,collapsed:!1,styles:{float:`right`},preview:`font-family font-size`},{selector:`table`,collapsed:!1,styles:{marginRight:`0px`,marginLeft:`auto`},onformat:e=>{t.setStyle(e,`float`,null)},preview:`font-family font-size`},{selector:`.mce-preview-object,[data-ephox-embed-iri]`,ceFalseOverride:!0,styles:{float:`right`},preview:!1}],alignjustify:[{selector:`figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre`,styles:{textAlign:`justify`},inherit:!1,preview:`font-family font-size`}],bold:[{inline:`strong`,remove:`all`,preserve_attributes:[`class`,`style`]},{inline:`span`,styles:{fontWeight:`bold`}},{inline:`b`,remove:`all`,preserve_attributes:[`class`,`style`]}],italic:[{inline:`em`,remove:`all`,preserve_attributes:[`class`,`style`]},{inline:`span`,styles:{fontStyle:`italic`}},{inline:`i`,remove:`all`,preserve_attributes:[`class`,`style`]}],underline:[{inline:`span`,styles:{textDecoration:`underline`},exact:!0},{inline:`u`,remove:`all`,preserve_attributes:[`class`,`style`]}],strikethrough:(()=>{let e={inline:`span`,styles:{textDecoration:`line-through`},exact:!0},t={inline:`strike`,remove:`all`,preserve_attributes:[`class`,`style`]},r={inline:`s`,remove:`all`,preserve_attributes:[`class`,`style`]};return n===`html4`?[e,r,t]:[r,e,t]})(),forecolor:{inline:`span`,styles:{color:`%value`},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:`span`,styles:{backgroundColor:`%value`},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:`span`,toggle:!1,styles:{fontFamily:`%value`},clear_child_styles:!0},fontsize:{inline:`span`,toggle:!1,styles:{fontSize:`%value`},clear_child_styles:!0},lineheight:{selector:`h1,h2,h3,h4,h5,h6,p,li,td,th,div`,styles:{lineHeight:`%value`}},fontsize_class:{inline:`span`,attributes:{class:`%value`}},blockquote:{block:`blockquote`,wrapper:!0,remove:`all`},subscript:{inline:`sub`},superscript:{inline:`sup`},code:{inline:`code`},link:{inline:`a`,selector:`a`,remove:`all`,split:!0,deep:!0,onmatch:(e,t,n)=>W(e)&&e.hasAttribute(`href`),onformat:(e,n,r)=>{H.each(r,(n,r)=>{t.setAttrib(e,r,n)})}},lang:{inline:`span`,clear_child_styles:!0,remove_similar:!0,attributes:{lang:`%value`,"data-mce-lang":e=>e?.customValue??null}},removeformat:[{selector:`b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small`,remove:`all`,split:!0,expand:!1,block_expand:!0,deep:!0},{selector:`span`,attributes:[`style`,`class`],remove:`empty`,split:!0,expand:!1,deep:!0},{selector:`*`,attributes:[`style`,`class`],split:!1,expand:!1,deep:!0}]};return H.each(`p h1 h2 h3 h4 h5 h6 div address pre dt dd samp`.split(/\s/),e=>{r[e]={block:e,remove:`all`}}),r},JM={remove_similar:!0,inherit:!1},YM={selector:`td,th`,...JM},XM=j({tablecellbackgroundcolor:{styles:{backgroundColor:`%value`},...YM},tablecellverticalalign:{styles:{"vertical-align":`%value`},...YM},tablecellbordercolor:{styles:{borderColor:`%value`},...YM},tablecellclass:{classes:[`%value`],...YM},tableclass:{selector:`table`,classes:[`%value`],...JM},tablecellborderstyle:{styles:{borderStyle:`%value`},...YM},tablecellborderwidth:{styles:{borderWidth:`%value`},...YM}}),ZM=e=>{let t={},n=e=>E(e)?t[e]:t,r=e=>Ke(t,e),i=(e,n)=>{e&&(v(e)?(x(n)||(n=[n]),L(n,e=>{w(e.deep)&&(e.deep=!cg(e)),w(e.split)&&(e.split=!cg(e)||lg(e)),w(e.remove)&&cg(e)&&!lg(e)&&(e.remove=`none`),cg(e)&&lg(e)&&(e.mixed=!0,e.block_expand=!0),v(e.classes)&&(e.classes=e.classes.split(/\s+/))}),t[e]=n):Le(e,(e,t)=>{i(t,e)}))};return i(qM(e)),i(XM()),i(vf(e)),{get:n,has:r,register:i,unregister:e=>(e&&t[e]&&delete t[e],t)}},QM=H.each,$M=el.DOM,eN=e=>E(e)&&y(e),tN=(e,t)=>{let n=t&&t.schema||_c({}),r=(e,t)=>{t.classes.length>0&&$M.addClass(e,t.classes.join(` `)),$M.setAttribs(e,t.attrs)},i=e=>{let t=v(e)?{name:e,classes:[],attrs:{}}:e,n=$M.create(t.name);return r(n,t),n},a=(e,t)=>{let r=n.getElementRule(e.nodeName.toLowerCase())?.parentsRequired;return r&&r.length?t&&fe(r,t)?t:r[0]:!1},o=(e,t,n)=>{let r,s=t[0],c=eN(s)?s.name:void 0,l=a(e,c);if(l)c===l?(r=s,t=t.slice(1)):r=l;else if(s)r=s,t=t.slice(1);else if(!n)return e;let u=r?i(r):$M.create(`div`);u.appendChild(e),n&&H.each(n,t=>{let n=i(t);u.insertBefore(n,e)});let d=eN(r)?r.siblings:void 0;return o(u,t,d)},s=$M.create(`div`);if(e.length>0){let t=e[0],n=i(t),r=eN(t)?t.siblings:void 0;s.appendChild(o(n,e.slice(1),r))}return s},nN=e=>{e=H.trim(e);let t=`div`,n={name:t,classes:[],attrs:{},selector:e};return e!==`*`&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(e,t,r,i,a)=>{switch(t){case`#`:n.attrs.id=r;break;case`.`:n.classes.push(r);break;case`:`:H.inArray(`checked disabled enabled read-only required`.split(` `),r)!==-1&&(n.attrs[r]=r);break}if(i===`[`){let e=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return``})),n.name=t||`div`,n},rN=e=>v(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,`$1`),H.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),e=>{let t=H.map(e.split(/(?:~\+|~|\+)/),nN),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[],iN=(e,t)=>{let n=``,r=yf(e);if(r===``)return``;let i=e=>v(e)?e.replace(/%(\w+)/g,``):``,a=(t,n)=>$M.getStyle(n??e.getBody(),t,!0);if(v(t)){let n=e.formatter.get(t);if(!n)return``;t=n[0]}if(`preview`in t){let e=t.preview;if(e===!1)return``;r=e||r}let o=t.block||t.inline||`span`,s,c=rN(t.selector);c.length>0?(c[0].name||(c[0].name=o),o=t.selector,s=tN(c,e)):s=tN([o],e);let l=$M.select(o,s)[0]||s.firstChild;QM(t.styles,(e,t)=>{let n=i(e);n&&$M.setStyle(l,t,n)}),QM(t.attributes,(e,t)=>{let n=i(e);n&&$M.setAttrib(l,t,n)}),QM(t.classes,e=>{let t=i(e);$M.hasClass(l,t)||$M.addClass(l,t)}),e.dispatch(`PreviewFormats`),$M.setStyles(s,{position:`absolute`,left:-65535}),e.getBody().appendChild(s);let u=a(`fontSize`),d=/px$/.test(u)?parseInt(u,10):0;return QM(r.split(` `),e=>{let t=a(e,l);if(!(e===`background-color`&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=a(e),Oc(t).toLowerCase()===`#ffffff`))&&!(e===`color`&&Oc(t).toLowerCase()===`#000000`)){if(e===`font-size`&&/em|%$/.test(t)){if(d===0)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*d+`px`}e===`border`&&t&&(n+=`padding:0 2px;`),n+=e+`:`+t+`;`}}),e.dispatch(`AfterPreviewFormats`),$M.remove(s),n},aN=e=>{e.addShortcut(`meta+b`,``,`Bold`),e.addShortcut(`meta+i`,``,`Italic`),e.addShortcut(`meta+u`,``,`Underline`);for(let t=1;t<=6;t++)e.addShortcut(`access+`+t,``,[`FormatBlock`,!1,`h`+t]);e.addShortcut(`access+7`,``,[`FormatBlock`,!1,`p`]),e.addShortcut(`access+8`,``,[`FormatBlock`,!1,`div`]),e.addShortcut(`access+9`,``,[`FormatBlock`,!1,`address`])},oN=e=>{let t=ZM(e),n=rl({});return aN(e),CT(e),gA(e)||NE(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,n,r)=>{LA(e,t,n,r)},remove:(t,n,r,i)=>{RA(e,t,n,r,i)},toggle:(t,n,r)=>{zA(e,t,n,r)},match:(t,n,r,i)=>MA(e,t,n,r,i),closest:t=>IA(e,t),matchAll:(t,n)=>NA(e,t,n),matchNode:(t,n,r,i)=>PA(e,t,n,r,i),canApply:t=>FA(e,t),formatChanged:(t,r,i,a)=>BA(e,n,t,r,i,a),getCssText:M(iN,e)}},sN=e=>{switch(e.toLowerCase()){case`undo`:case`redo`:case`mcefocus`:return!0;default:return!1}},cN=(e,t,n)=>{let r=rl(!1),i=e=>{Qk(t,!1,n),t.add({},e)};e.on(`init`,()=>{t.add()}),e.on(`BeforeExecCommand`,e=>{let r=e.command;sN(r)||($k(t,n),t.beforeChange())}),e.on(`ExecCommand`,e=>{let t=e.command;sN(t)||i(e)}),e.on(`ObjectResizeStart cut`,()=>{t.beforeChange()}),e.on(`SaveContent ObjectResized blur`,i),e.on(`dragend`,i),e.on(`keyup`,n=>{let a=n.keyCode;if(n.isDefaultPrevented())return;let o=un.os.isMacOS()&&n.key===`Meta`;(a>=33&&a<=36||a>=37&&a<=40||a===45||n.ctrlKey||o)&&(i(),e.nodeChanged()),(a===46||a===8)&&e.nodeChanged(),r.get()&&t.typing&&!Xk(Wk(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch(`TypingUndo`),r.set(!1),e.nodeChanged())}),e.on(`keydown`,e=>{let a=e.keyCode;if(e.isDefaultPrevented())return;if(a>=33&&a<=36||a>=37&&a<=40||a===45){t.typing&&i(e);return}let o=e.ctrlKey&&!e.altKey||e.metaKey;if((a<16||a>20)&&a!==224&&a!==91&&!t.typing&&!o){t.beforeChange(),Qk(t,!0,n),t.add({},e),r.set(!0);return}(un.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey)&&t.beforeChange()}),e.on(`mousedown`,e=>{t.typing&&i(e)});let a=e=>e.inputType===`insertReplacementText`,o=e=>e.inputType===`insertText`&&e.data===null,s=e=>e.inputType===`insertFromPaste`||e.inputType===`insertFromDrop`;e.on(`input`,e=>{e.inputType&&(a(e)||o(e)||s(e))&&i(e)}),e.on(`AddUndo Undo Redo ClearUndos`,t=>{t.isDefaultPrevented()||e.nodeChanged()})},lN=e=>{e.addShortcut(`meta+z`,``,`Undo`),e.addShortcut(`meta+y,meta+shift+z`,``,`Redo`)},uN=e=>{let t=ml(),n=rl(0),r=rl(0),i={data:[],typing:!1,beforeChange:()=>{xA(e,n,t)},add:(a,o)=>SA(e,i,r,n,t,a,o),dispatchChange:()=>{e.setDirty(!0);let t=Wk(e);t.bookmark=od(e.selection),e.dispatch(`change`,{level:t,lastLevel:ke(i.data,r.get()).getOrUndefined()})},undo:()=>CA(e,i,n,r),redo:()=>wA(e,r,i.data),clear:()=>{TA(e,i,r)},reset:()=>{EA(e,i)},hasUndo:()=>DA(e,i,r),hasRedo:()=>OA(e,i,r),transact:t=>kA(e,i,n,t),ignore:t=>{AA(e,n,t)},extra:(t,n)=>{jA(e,i,r,t,n)}};return gA(e)||cN(e,i,n),lN(e),i},dN=[9,27,$.HOME,$.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,$.DOWN,$.UP,$.LEFT,$.RIGHT].concat(un.browser.isFirefox()?[224]:[]),fN=`data-mce-placeholder`,pN=e=>e.type===`keydown`||e.type===`keyup`,mN=e=>{let t=e.keyCode;return t===$.BACKSPACE||t===$.DELETE},hN=e=>{if(pN(e)){let t=e.keyCode;return!mN(e)&&($.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||fe(dN,t))}else return!1},gN=e=>pN(e)&&!(mN(e)||e.type===`keyup`&&e.keyCode===229),_N=(e,t,n)=>{if($o(U.fromDom(t),!1)){let r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,`padding-left`)||e.getStyle(t.firstElementChild,`padding-right`)?!1:n===r.nodeName.toLowerCase():!0}else return!1},vN=e=>{let t=e.dom,n=Pd(e),r=uf(e)??``,i=(a,o)=>{if(hN(a))return;let s=e.getBody(),c=gN(a)?!1:_N(t,s,n);(t.getAttrib(s,fN)!==``!==c||o)&&(t.setAttrib(s,fN,c?r:null),t.setAttrib(s,`aria-placeholder`,c?r:null),e_(e,c),e.on(c?`keydown`:`keyup`,i),e.off(c?`keyup`:`keydown`,i))};Et(r)&&e.on(`init`,t=>{i(t,!0),e.on(`change SetContent ExecCommand`,i),e.on(`paste`,t=>iy.setEditorTimeout(e,()=>i(t)))})},yN=(e,t)=>({block:e,position:t}),bN=(e,t)=>({from:e,to:t}),xN=(e,t)=>kS(U.fromDom(e),U.fromDom(t.container())).map(e=>yN(e,t)),SN=e=>!yr(e.from.block,e.to.block),CN=(e,t)=>$r(t,e=>Xa(e)||Ta(e.dom),t=>yr(t,e)).filter(Ln).getOr(e),wN=(e,t)=>{let n=U.fromDom(e);return yr(CN(n,t.from.block),CN(n,t.to.block))},TN=e=>Ea(e.from.block.dom)===!1&&Ea(e.to.block.dom)===!1,EN=e=>{let t=e=>q(e)||_s(e.dom);return t(e.from.block)&&t(e.to.block)},DN=(e,t,n)=>Ca(n.position.getNode())&&!$o(n.block)?Um(!1,n.block.dom).bind(r=>r.isEqual(n.position)?Bm(t,e,r).bind(t=>xN(e,t)):I.some(n)).getOr(n):n,ON=(e,t,n)=>{let r=xN(e,Y.fromRangeStart(n));return xn(r,r.bind(n=>Bm(t,e,n.position).bind(n=>xN(e,n).map(n=>DN(e,t,n)))),bN).filter(t=>SN(t)&&wN(e,t)&&TN(t)&&EN(t))},kN=(e,t,n)=>n.collapsed?ON(e,t,n):I.none(),AN=(e,t)=>{let n=Nr(e);return xe(n,e=>t.isBlock(Mn(e))).fold(j(n),e=>n.slice(0,e))},jN=(e,t)=>{let n=AN(e,t);return L(n,Oi),n},MN=(e,t)=>be(ex(t,e).reverse(),e=>$o(e)).each(Oi),NN=e=>R(jr(e),e=>!$o(e)).length===0,PN=(e,t,n,r,i)=>{if($o(n))return to(n),Km(n.dom);NN(i)&&$o(t)&&bi(i,U.fromTag(`br`));let a=Gm(n.dom,Y.before(i.dom));return L(jN(t,r),e=>{bi(i,e)}),MN(e,t),a},FN=(e,t)=>e.isInline(Mn(t)),IN=(e,t,n,r)=>{if($o(n)){if($o(t)){let e=_e((e=>{let t=(e,n)=>Fr(e).fold(()=>n,e=>FN(r,e)?t(e,n.concat(Ll(e))):n);return t(e,[])})(n),(e,t)=>(wi(e,t),t),eo());Di(t),Ci(t,e)}return Oi(n),Km(t.dom)}let i=qm(n.dom);return L(jN(t,r),e=>{Ci(n,e)}),MN(e,t),i},LN=(e,t)=>{let n=ex(t,e);return I.from(n[n.length-1])},RN=(e,t)=>br(t,e)?LN(t,e):I.none(),zN=(e,t)=>{Um(e,t.dom).bind(e=>I.from(e.getNode())).map(U.fromDom).filter(Ka).each(Oi)},BN=(e,t,n,r)=>(zN(!0,t),zN(!1,n),RN(t,n).fold(M(IN,e,t,n,r),M(PN,e,t,n,r))),VN=(e,t,n,r,i)=>t?BN(e,r,n,i):BN(e,n,r,i),HN=(e,t)=>{let n=U.fromDom(e.getBody());return kN(n.dom,t,e.selection.getRng()).map(r=>()=>{VN(n,t,r.from.block,r.to.block,e.schema).each(t=>{e.selection.setRng(t.toRange())})})},UN=(e,t,n)=>{let r=t.getRng();return xn(kS(e,U.fromDom(r.startContainer)),kS(e,U.fromDom(r.endContainer)),(i,a)=>yr(i,a)?I.none():I.some(()=>{r.deleteContents(),VN(e,!0,i,a,n).each(e=>{t.setRng(e.toRange())})})).getOr(I.none())},WN=(e,t)=>Qr(U.fromDom(t),Xa,M(yr,e)).isSome(),GN=(e,t)=>WN(e,t.startContainer)||WN(e,t.endContainer),KN=(e,t)=>{let n=Gm(e.dom,Y.fromRangeStart(t)).isNone(),r=Wm(e.dom,Y.fromRangeEnd(t)).isNone();return!GN(e,t)&&n&&r},qN=e=>I.some(()=>{e.setContent(``),e.selection.setCursorLocation()}),JN=e=>{let t=U.fromDom(e.getBody());return KN(t,e.selection.getRng())?qN(e):UN(t,e.selection,e.schema)},YN=(e,t)=>e.selection.isCollapsed()?I.none():JN(e),XN=(e,t,n,r,i)=>I.from(t._selectionOverrides.showCaret(e,n,r,i)),ZN=e=>{let t=e.ownerDocument.createRange();return t.selectNode(e),t},QN=(e,t)=>e.dispatch(`BeforeObjectSelected`,{target:t}).isDefaultPrevented()?I.none():I.some(ZN(t)),$N=(e,t,n)=>{let r=fm(1,e.getBody(),t),i=Y.fromRangeStart(r),a=i.getNode();if(Hp(a))return XN(1,e,a,!i.isAtEnd(),!1);let o=i.getNode(!0);if(Hp(o))return XN(1,e,o,!1,!1);let s=FC(e.dom.getRoot(),i.getNode());return Hp(s)?XN(1,e,s,!1,n):I.none()},eP=(e,t,n)=>t.collapsed?$N(e,t,n).getOr(t):t,tP=e=>Yb(e)||Gb(e),nP=e=>Xb(e)||Kb(e),rP=(e,t)=>{G(t)&&t.data.length===0&&e.remove(t)},iP=(e,t,n,r,i,a)=>{XN(r,e,a.getNode(!i),i,!0).each(n=>{if(t.collapsed){let e=t.cloneRange();i?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)}),rP(e.dom,n)},aP=(e,t)=>{let n=e.selection.getRng();if(!G(n.commonAncestorContainer))return I.none();let r=t?ym.Forwards:ym.Backwards,i=Mm(e.getBody()),a=M(_m,t?i.next:i.prev),o=t?tP:nP,s=mm(r,e.getBody(),n),c=a(s),l=c&&bS(t,c);if(!l||!vm(s,l))return I.none();if(o(l))return I.some(()=>iP(e,n,s.getNode(),r,t,l));let u=a(l);return u&&o(u)&&vm(l,u)?I.some(()=>iP(e,n,s.getNode(),r,t,u)):I.none()},oP=(e,t)=>aP(e,t),sP=(e,t)=>{let n=e.getBody();return t?Km(n).filter(Yb):qm(n).filter(Xb)},cP=e=>{let t=e.selection.getRng();return!t.collapsed&&(sP(e,!0).exists(e=>e.isEqual(Y.fromRangeStart(t)))||sP(e,!1).exists(e=>e.isEqual(Y.fromRangeEnd(t))))},lP=e=>E(e)&&(Xa(U.fromDom(e))||Ja(U.fromDom(e))),uP=ud.generate([{remove:[`element`]},{moveToElement:[`element`]},{moveToPosition:[`position`]}]),dP=(e,t)=>{let n=t.getNode(!e),r=e?`after`:`before`;return W(n)&&n.getAttribute(`data-mce-caret`)===r},fP=(e,t,n,r,i)=>{let a=t=>i.isInline(t.nodeName.toLowerCase())&&!am(n,r,e);return pm(!t,n).fold(()=>pm(t,r).fold(P,a),a)},pP=(e,t,n,r)=>{let i=r.getNode(!t);return kS(U.fromDom(e),U.fromDom(n.getNode())).map(e=>$o(e)?uP.remove(e.dom):uP.moveToElement(i)).orThunk(()=>I.some(uP.moveToElement(i)))},mP=(e,t,n,r)=>Bm(t,e,n).bind(i=>lP(i.getNode())||fP(e,t,n,i,r)?I.none():t&&Ea(i.getNode())||!t&&Ea(i.getNode(!0))?pP(e,t,n,i):t&&Xb(n)||!t&&Yb(n)?I.some(uP.moveToPosition(i)):I.none()),hP=(e,t)=>T(t)?I.none():e&&Ea(t.nextSibling)?I.some(uP.moveToElement(t.nextSibling)):!e&&Ea(t.previousSibling)?I.some(uP.moveToElement(t.previousSibling)):I.none(),gP=(e,t,n)=>n.fold(e=>I.some(uP.remove(e)),e=>I.some(uP.moveToElement(e)),n=>am(t,n,e)?I.none():I.some(uP.moveToPosition(n))),_P=(e,t,n,r)=>dP(t,n)?hP(t,n.getNode(!t)).orThunk(()=>mP(e,t,n,r)):mP(e,t,n,r).bind(t=>gP(e,n,t)),vP=(e,t,n,r)=>{let i=fm(t?1:-1,e,n),a=Y.fromRangeStart(i),o=U.fromDom(e);return!t&&Xb(a)?I.some(uP.remove(a.getNode(!0))):t&&Yb(a)?I.some(uP.remove(a.getNode())):!t&&Yb(a)&&px(o,a,r)?mx(o,a,r).map(e=>uP.remove(e.getNode())):t&&Xb(a)&&fx(o,a,r)?hx(o,a,r).map(e=>uP.remove(e.getNode())):_P(e,t,a,r)},yP=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),dS(e,t,U.fromDom(n)),!0),bP=(e,t)=>n=>{let r=t?Y.before(n):Y.after(n);return e.selection.setRng(r.toRange()),!0},xP=e=>t=>(e.selection.setRng(t.toRange()),!0),SP=(e,t)=>I.from(FC(e.getBody(),t)),CP=(e,t)=>SP(e,e.selection.getNode()).filter(Ea).fold(()=>vP(e.getBody(),t,e.selection.getRng(),e.schema).map(n=>()=>n.fold(yP(e,t),bP(e,t),xP(e))),()=>I.some(k)),wP=e=>{L(ta(e,`.mce-offscreen-selection`),Oi)},TP=(e,t)=>{let n=e.selection.getNode();return Ea(n)&&!Da(n)?SP(e,n.parentNode).filter(Ea).fold(()=>I.some(()=>{wP(U.fromDom(e.getBody())),dS(e,t,U.fromDom(e.selection.getNode())),AS(e)}),()=>I.some(k)):cP(e)?I.some(()=>{NS(e,e.selection.getRng(),U.fromDom(e.getBody()))}):I.none()},EP=e=>{let t=e.dom,n=e.selection,r=FC(e.getBody(),n.getNode());if(Ta(r)&&t.isBlock(r)&&t.isEmpty(r)){let e=t.create(`br`,{"data-mce-bogus":`1`});t.setHTML(r,``),r.appendChild(e),n.setRng(Y.before(e).toRange())}return!0},DP=(e,t)=>e.selection.isCollapsed()?CP(e,t):TP(e,t),OP=(e,t)=>{let n=Y.fromRangeStart(e.selection.getRng());return Bm(t,e.getBody(),n).filter(e=>t?Ub(e):Wb(e)).bind(e=>om(t?0:-1,e)).map(t=>()=>e.selection.select(t))},kP=(e,t)=>e.selection.isCollapsed()?OP(e,t):I.none(),AP=G,jP=e=>AP(e)&&e.data[0]===`﻿`,MP=e=>AP(e)&&e.data[e.data.length-1]===`﻿`,NP=e=>(e.ownerDocument??document).createTextNode(`﻿`),PP=e=>{var t;if(AP(e.previousSibling))return MP(e.previousSibling)||e.previousSibling.appendData(`﻿`),e.previousSibling;if(AP(e))return jP(e)||e.insertData(0,`﻿`),e;{let n=NP(e);return(t=e.parentNode)==null||t.insertBefore(n,e),n}},FP=e=>{var t,n;if(AP(e.nextSibling))return jP(e.nextSibling)||e.nextSibling.insertData(0,`﻿`),e.nextSibling;if(AP(e))return MP(e)||e.appendData(`﻿`),e;{let r=NP(e);return e.nextSibling?(t=e.parentNode)==null||t.insertBefore(r,e.nextSibling):(n=e.parentNode)==null||n.appendChild(r),r}},IP=(e,t)=>e?PP(t):FP(t),LP=M(IP,!0),RP=M(IP,!1),zP=(e,t)=>G(e.container())?IP(t,e.container()):IP(t,e.getNode()),BP=(e,t)=>{let n=t.get();return n&&e.container()===n&&lo(n)},VP=(e,t)=>t.fold(t=>{Pp(e.get());let n=LP(t);return e.set(n),I.some(Y(n,n.length-1))},t=>Km(t).map(t=>{if(BP(t,e))return Y(e.get(),1);{Pp(e.get());let n=zP(t,!0);return e.set(n),Y(n,1)}}),t=>qm(t).map(t=>{if(BP(t,e)){let t=e.get();return Y(t,t.length-1)}else{Pp(e.get());let n=zP(t,!1);return e.set(n),Y(n,n.length-1)}}),t=>{Pp(e.get());let n=RP(t);return e.set(n),I.some(Y(n,1))}),HP=(e,t)=>{for(let n=0;n<e.length;n++){let r=e[n].apply(null,t);if(r.isSome())return r}return I.none()},UP=ud.generate([{before:[`element`]},{start:[`element`]},{end:[`element`]},{after:[`element`]}]),WP=(e,t)=>im(t,e)||e,GP=(e,t,n)=>{let r=xS(n),i=WP(t,r.container());return _S(e,i,r).fold(()=>Wm(i,r).bind(M(_S,e,i)).map(e=>UP.before(e)),I.none)},KP=(e,t)=>Xm(e,t)===null,qP=(e,t,n)=>_S(e,t,n).filter(M(KP,t)),JP=(e,t,n)=>{let r=SS(n);return qP(e,t,r).bind(e=>Gm(e,r).isNone()?I.some(UP.start(e)):I.none())},YP=(e,t,n)=>{let r=xS(n);return qP(e,t,r).bind(e=>Wm(e,r).isNone()?I.some(UP.end(e)):I.none())},XP=(e,t,n)=>{let r=SS(n),i=WP(t,r.container());return _S(e,i,r).fold(()=>Gm(i,r).bind(M(_S,e,i)).map(e=>UP.after(e)),I.none)},ZP=e=>!hS($P(e)),QP=(e,t,n)=>HP([GP,JP,YP,XP],[e,t,n]).filter(ZP),$P=e=>e.fold(ne,ne,ne,ne),eF=e=>e.fold(j(`before`),j(`start`),j(`end`),j(`after`)),tF=e=>e.fold(UP.before,UP.before,UP.after,UP.after),nF=e=>e.fold(UP.start,UP.start,UP.end,UP.end),rF=(e,t)=>eF(e)===eF(t)&&$P(e)===$P(t),iF=(e,t,n,r,i,a)=>xn(_S(t,n,r),_S(t,n,i),(t,r)=>t!==r&&vS(n,t,r)?UP.after(e?t:r):a).getOr(a),aF=(e,t)=>e.fold(F,e=>!rF(e,t)),oF=(e,t,n,r,i)=>{let a=bS(e,i);return Bm(e,n,a).map(M(bS,e)).fold(()=>r.map(tF),i=>QP(t,n,i).map(M(iF,e,t,n,a,i)).filter(M(aF,r))).filter(ZP)},sF=(e,t)=>e?t.fold(te(I.some,UP.start),I.none,te(I.some,UP.after),I.none):t.fold(I.none,te(I.some,UP.before),I.none,te(I.some,UP.end)),cF=(e,t,n,r)=>{let i=bS(e,r),a=QP(t,n,i);return QP(t,n,i).bind(M(sF,e)).orThunk(()=>oF(e,t,n,a,r))},lF=e=>D(e.selection.getSel().modify),uF=(e,t,n)=>{let r=e?1:-1;return t.setRng(Y(n.container(),n.offset()+r).toRange()),t.getSel().modify(`move`,e?`forward`:`backward`,`word`),!0},dF=(e,t)=>{let n=t.selection.getRng(),r=e?Y.fromRangeEnd(n):Y.fromRangeStart(n);return lF(t)?e&&mo(r)?uF(!0,t.selection,r):!e&&ho(r)?uF(!1,t.selection,r):!1:!1};var fF;(function(e){e[e.Br=0]=`Br`,e[e.Block=1]=`Block`,e[e.Wrap=2]=`Wrap`,e[e.Eol=3]=`Eol`})(fF||={});let pF=(e,t)=>e===ym.Backwards?Te(t):t,mF=(e,t,n)=>e===ym.Forwards?t.next(n):t.prev(n),hF=(e,t,n,r)=>Ca(r.getNode(t===ym.Forwards))?fF.Br:am(n,r)===!1?fF.Block:fF.Wrap,gF=(e,t,n,r)=>{let i=Mm(n),a=r,o=[];for(;a;){let r=mF(t,i,a);if(!r)break;if(Ca(r.getNode(!1)))return t===ym.Forwards?{positions:pF(t,o).concat([r]),breakType:fF.Br,breakAt:I.some(r)}:{positions:pF(t,o),breakType:fF.Br,breakAt:I.some(r)};if(!r.isVisible()){a=r;continue}if(e(a,r)){let e=hF(n,t,a,r);return{positions:pF(t,o),breakType:e,breakAt:I.some(r)}}o.push(r),a=r}return{positions:pF(t,o),breakType:fF.Eol,breakAt:I.none()}},_F=(e,t,n,r)=>t(n,r).breakAt.map(r=>{let i=t(n,r).positions;return e===ym.Backwards?i.concat(r):[r].concat(i)}).getOr([]),vF=(e,t)=>ve(e,(e,n)=>e.fold(()=>I.some(n),r=>xn(Ae(r.getClientRects()),Ae(n.getClientRects()),(e,i)=>{let a=Math.abs(t-e.left);return Math.abs(t-i.left)<=a?n:r}).or(e)),I.none()),yF=(e,t)=>Ae(t.getClientRects()).bind(t=>vF(e,t.left)),bF=M(gF,Y.isAbove,-1),xF=M(gF,Y.isBelow,1),SF=M(_F,-1,bF),CF=M(_F,1,xF),wF=(e,t)=>bF(e,t).breakAt.isNone(),TF=(e,t)=>xF(e,t).breakAt.isNone(),EF=e=>Km(e).map(t=>[t].concat(xF(e,t).positions)).getOr([]),DF=e=>qm(e).map(t=>bF(e,t).positions.concat(t)).getOr([]),OF=(e,t)=>yF(SF(e,t),t),kF=(e,t)=>yF(CF(e,t),t),AF=Ea,jF=(e,t)=>Math.abs(e.left-t),MF=(e,t)=>Math.abs(e.right-t),NF=e=>qe(e,`node`),PF=(e,t)=>rt(e,(e,n)=>{let r=Math.min(jF(e,t),MF(e,t)),i=Math.min(jF(n,t),MF(n,t));return i===r&&NF(n)&&AF(n.node)||i<r?n:e}),FF=e=>{let t=t=>me(t,t=>{let n=Wl(t);return n.node=e,n});if(W(e))return t(e.getClientRects());if(G(e)){let n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},IF=e=>Ce(e,FF);var LF;(function(e){e[e.Up=-1]=`Up`,e[e.Down=1]=`Down`})(LF||={});let RF=(e,t,n,r)=>{let i=r;for(;i=nm(i,e,Io,t);)if(n(i))return},zF=(e,t,n,r,i,a)=>{let o=0,s=[],c=r=>{let a=IF([r]);e===-1&&(a=a.reverse());for(let e=0;e<a.length;e++){let r=a[e];if(!n(r,l)){if(s.length>0&&t(r,at(s))&&o++,r.line=o,i(r))return!0;s.push(r)}}return!1},l=at(a.getClientRects());if(!l)return s;let u=a.getNode();return u&&(c(u),RF(e,r,c,u)),s},BF=(e,t)=>t.line>e,VF=(e,t)=>t.line===e,HF=M(zF,LF.Up,Jl,Yl),UF=M(zF,LF.Down,Yl,Jl),WF=e=>at(e.getClientRects()),GF=(e,t,n,r)=>{let i=Mm(t),a,o,s,c,l=[],u=0;e===1?(a=i.next,o=Yl,s=Jl,c=Y.after(r)):(a=i.prev,o=Jl,s=Yl,c=Y.before(r));let d=WF(c);do{if(!c.isVisible())continue;let e=WF(c);if(s(e,d))continue;l.length>0&&o(e,at(l))&&u++;let t=Wl(e);if(t.position=c,t.line=u,n(t))return l;l.push(t)}while(c=a(c));return l},KF=e=>t=>BF(e,t),qF=e=>t=>VF(e,t),JF=(e,t)=>{e.selection.setRng(t),Lv(e,e.selection.getRng())},YF=(e,t,n)=>I.some(eP(e,t,n)),XF=(e,t,n,r,i,a)=>{let o=t===ym.Forwards,s=Mm(e.getBody()),c=M(_m,o?s.next:s.prev),l=o?r:i;if(!n.collapsed){let r=tu(n);if(a(r))return XN(t,e,r,t===ym.Backwards,!1);if(cP(e)){let e=n.cloneRange();return e.collapse(t===ym.Backwards),I.from(e)}}let u=mm(t,e.getBody(),n);if(l(u))return QN(e,u.getNode(!o));let d=c(u),f=xo(n);if(d)d=bS(o,d);else return f?I.some(n):I.none();if(l(d))return XN(t,e,d.getNode(!o),o,!1);let p=c(d);return p&&l(p)&&vm(d,p)?XN(t,e,p.getNode(!o),o,!1):f?YF(e,d.toRange(),!1):I.none()},ZF=(e,t,n,r,i,a)=>{let o=mm(t,e.getBody(),n),s=at(o.getClientRects()),c=t===LF.Down,l=e.getBody();if(!s)return I.none();if(cP(e)){let e=c?Y.fromRangeEnd(n):Y.fromRangeStart(n);return(c?kF:OF)(l,e).orThunk(()=>I.from(e)).map(e=>e.toRange())}let u=R((c?UF:HF)(l,KF(1),o),qF(1)),d=s.left,f=PF(u,d);if(f&&a(f.node)){let n=Math.abs(d-f.left),r=Math.abs(d-f.right);return XN(t,e,f.node,n<r,!1)}let p;if(p=r(o)?o.getNode():i(o)?o.getNode(!0):tu(n),p){let n=GF(t,l,KF(1),p),r=PF(R(n,qF(1)),d);if(r||(r=at(R(n,qF(0))),r))return YF(e,r.position.toRange(),!1)}return u.length===0?QF(e,c).filter(c?i:r).map(t=>eP(e,t.toRange(),!1)):I.none()},QF=(e,t)=>{let n=e.selection.getRng(),r=t?Y.fromRangeEnd(n):Y.fromRangeStart(n),i=rm(r.container(),e.getBody());return t?je(xF(i,r).positions):Ae(bF(i,r).positions)},$F=(e,t,n)=>QF(e,t).filter(n).exists(t=>(e.selection.setRng(t.toRange()),!0)),eI=(e,t)=>{let n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},tI=(e,t)=>{e?t.setAttribute(`data-mce-selected`,`inline-boundary`):t.removeAttribute(`data-mce-selected`)},nI=(e,t,n)=>VP(t,n).map(t=>(eI(e,t),n)),rI=(e,t,n)=>{let r=Y.fromRangeStart(e);if(e.collapsed)return r;{let i=Y.fromRangeEnd(e);return n?Gm(t,i).getOr(i):Wm(t,r).getOr(r)}},iI=(e,t,n)=>{let r=e.getBody(),i=rI(e.selection.getRng(),r,n);return cF(n,M(mS,e),r,i).bind(n=>nI(e,t,n))},aI=(e,t,n)=>{let r=R(me(ta(U.fromDom(t.getRoot()),`*[data-mce-selected="inline-boundary"]`),e=>e.dom),e),i=R(n,e);L(Ee(r,i),M(tI,!1)),L(Ee(i,r),M(tI,!0))},oI=(e,t)=>{let n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){let r=Y.fromRangeStart(e.selection.getRng());Y.isTextPosition(r)&&!yS(r)&&(eI(e,Np(n,r)),t.set(null))}},sI=(e,t,n,r)=>{t.selection.isCollapsed()&&L(R(r,e),r=>{let i=Y.fromRangeStart(t.selection.getRng());QP(e,t.getBody(),i).bind(e=>nI(t,n,e))})},cI=(e,t,n)=>_f(e)?iI(e,t,n).isSome():!1,lI=(e,t,n)=>_f(t)?dF(e,t):!1,uI=e=>{let t=rl(null),n=M(mS,e);return e.on(`NodeChange`,r=>{_f(e)&&(aI(n,e.dom,r.parents),oI(e,t),sI(n,e,t,r.parents))}),t},dI=M(lI,!0),fI=M(lI,!1),pI=(e,t,n)=>{if(_f(e)){let r=QF(e,t).getOrThunk(()=>{let n=e.selection.getRng();return t?Y.fromRangeEnd(n):Y.fromRangeStart(n)});return QP(M(mS,e),e.getBody(),r).exists(t=>VP(n,tF(t)).exists(t=>(eI(e,t),!0)))}else return!1},mI=(e,t)=>{let n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},hI=e=>xn(Km(e),qm(e),(t,n)=>{let r=bS(!0,t),i=bS(!1,n);return Wm(e,r).forall(e=>e.isEqual(i))}).getOr(!0),gI=(e,t)=>n=>VP(t,n).map(t=>()=>eI(e,t)),_I=(e,t,n,r)=>{let i=e.getBody(),a=M(mS,e);e.undoManager.ignore(()=>{e.selection.setRng(mI(n,r)),TS(e),QP(a,i,Y.fromRangeStart(e.selection.getRng())).map(nF).bind(gI(e,t)).each(oe)}),e.nodeChanged()},vI=(e,t)=>im(t,e)||e,yI=(e,t,n,r)=>{let i=vI(e.getBody(),r.container()),a=M(mS,e),o=QP(a,i,r);return o.bind(e=>n?e.fold(j(I.some(nF(e))),I.none,j(I.some(tF(e))),I.none):e.fold(I.none,j(I.some(tF(e))),I.none,j(I.some(nF(e))))).map(gI(e,t)).getOrThunk(()=>{let s=Vm(n,i,r),c=s.bind(e=>QP(a,i,e));return xn(o,c,()=>_S(a,i,r).bind(t=>hI(t)?I.some(()=>{dS(e,n,U.fromDom(t))}):I.none())).getOrThunk(()=>c.bind(()=>s.map(i=>()=>{n?_I(e,t,r,i):_I(e,t,i,r)})))})},bI=(e,t,n)=>e.selection.isCollapsed()&&_f(e)?yI(e,t,n,Y.fromRangeStart(e.selection.getRng())):I.none(),xI=e=>Lr(e)>1,SI=(e,t)=>{let n=U.fromDom(e.getBody()),r=ex(U.fromDom(e.selection.getStart()),n);return xe(r,t).fold(j(r),e=>r.slice(0,e))},CI=e=>Lr(e)===1,wI=e=>SI(e,t=>e.schema.isBlock(Mn(t))||xI(t)),TI=e=>SI(e,t=>e.schema.isBlock(Mn(t))),EI=(e,t)=>{let n=M(DT,e);return Ce(t,e=>n(e)?[e.dom]:[])},DI=e=>EI(e,TI(e)),OI=(e,t,n,r)=>{let i=EI(t,r);if(i.length===0)dS(t,e,n);else{let e=TT(n.dom,i);t.selection.setRng(e.toRange())}},kI=(e,t)=>{let n=R(wI(e),CI);return je(n).bind(r=>jS(t,Y.fromRangeStart(e.selection.getRng()),r.dom)&&!mg(r)?I.some(()=>OI(t,e,r,n)):I.none())},AI=(e,t)=>{let n=t.parentElement;return Ca(t)&&!S(n)&&e.dom.isEmpty(n)},jI=e=>mg(U.fromDom(e)),MI=(e,t)=>{let n=e.selection.getStart(),r=AI(e,n)||jI(n)?TT(n,t):ET(e.selection.getRng(),t);e.selection.setRng(r.toRange())},NI=(e,t)=>{let n=Ee(t,DI(e));n.length>0&&MI(e,n)},PI=e=>G(e.startContainer),FI=e=>e.startOffset===0&&PI(e),II=(e,t)=>{let n=t.startContainer.parentElement;return!S(n)&&DT(e,U.fromDom(n))},LI=e=>{let t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!S(t)&&!S(n)&&t.isEqualNode(n)},RI=e=>{let t=e.endContainer;return e.endOffset===(G(t)?t.length:t.childNodes.length)},zI=e=>LI(e)&&RI(e),BI=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),VI=e=>zI(e)||BI(e),HI=e=>{let t=e.selection.getRng();return FI(t)&&II(e,t)&&VI(t)},UI=e=>{if(HI(e)){let t=DI(e);return I.some(()=>{TS(e),NI(e,t)})}else return I.none()},WI=(e,t)=>e.selection.isCollapsed()?kI(e,t):UI(e),GI=(e,t)=>PS(e,e=>Ym(e.dom),e=>t.isBlock(Mn(e))),KI=e=>GI(U.fromDom(e.selection.getStart()),e.schema),qI=e=>{let t=e.selection.getRng();return t.collapsed&&(PI(t)||e.dom.isEmpty(t.startContainer))&&!KI(e)},JI=e=>(qI(e)&&MI(e,[]),!0),YI=(e,t,n)=>E(n)?I.some(()=>{e._selectionOverrides.hideFakeCaret(),dS(e,t,U.fromDom(n))}):I.none(),XI=(e,t)=>{let n=t?Gb:Kb,r=mm(t?ym.Forwards:ym.Backwards,e.getBody(),e.selection.getRng());return n(r)?YI(e,t,r.getNode(!t)):I.from(bS(t,r)).filter(e=>n(e)&&vm(r,e)).bind(n=>YI(e,t,n.getNode(!t)))},ZI=(e,t)=>{let n=e.selection.getNode();return Oa(n)?YI(e,t,n):I.none()},QI=(e,t)=>e.selection.isCollapsed()?XI(e,t):ZI(e,t),$I=e=>$r(e,e=>Ta(e.dom)||Ea(e.dom)).exists(e=>Ta(e.dom)),eL=e=>kt(e??``).getOr(0),tL=(e,t)=>(e||Ga(t)?`margin`:`padding`)+(mi(t,`direction`)===`rtl`?`-right`:`-left`),nL=(e,t,n,r,i,a)=>{let o=tL(n,U.fromDom(a)),s=eL(e.getStyle(a,o));if(t===`outdent`){let t=Math.max(0,s-r);e.setStyle(a,o,t?t+i:``)}else{let t=s+r+i;e.setStyle(a,o,t)}},rL=(e,t)=>we(t,t=>{let n=gi(t,tL(ef(e),t)).map(eL).getOr(0);return e.dom.getContentEditable(t.dom)!==`false`&&n>0}),iL=e=>{let t=sL(e);return!e.mode.isReadOnly()&&(t.length>1||rL(e,t))},aL=e=>qa(e)||Ja(e),oL=e=>Tr(e).exists(aL),sL=e=>R(ji(e.selection.getSelectedBlocks()),e=>!aL(e)&&!oL(e)&&$I(e)),cL=(e,t)=>{let{dom:n}=e,r=tf(e),i=/[a-z%]+$/i.exec(r)?.[0]??`px`,a=eL(r),o=ef(e);L(sL(e),e=>{nL(n,t,o,a,i,e.dom)})},lL=e=>cL(e,`indent`),uL=e=>cL(e,`outdent`),dL=e=>{if(e.selection.isCollapsed()&&iL(e)){let t=e.dom,n=e.selection.getRng(),r=Y.fromRangeStart(n),i=t.getParent(n.startContainer,t.isBlock);if(i!==null&&ox(U.fromDom(i),r,e.schema))return I.some(()=>uL(e))}return I.none()},fL=(e,t,n)=>Ne([dL,DP,oP,(e,n)=>bI(e,t,n),HN,PC,kP,QI,YN,WI],t=>t(e,n)).filter(t=>e.selection.isEditable()),pL=(e,t)=>{fL(e,t,!1).fold(()=>{e.selection.isEditable()&&(TS(e),AS(e))},oe)},mL=(e,t)=>{fL(e,t,!0).fold(()=>{e.selection.isEditable()&&ES(e)},oe)},hL=(e,t)=>{e.addCommand(`delete`,()=>{pL(e,t)}),e.addCommand(`forwardDelete`,()=>{mL(e,t)})},gL=e=>e.touches===void 0||e.touches.length!==1?I.none():I.some(e.touches[0]),_L=(e,t)=>{let n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5},vL=e=>{let t=ml(),n=rl(!1),r=gl(t=>{e.dispatch(`longpress`,{...t,type:`longpress`}),n.set(!0)},400);e.on(`touchstart`,e=>{gL(e).each(i=>{r.cancel();let a={x:i.clientX,y:i.clientY,target:e.target};r.throttle(e),n.set(!1),t.set(a)})},!0),e.on(`touchmove`,i=>{r.cancel(),gL(i).each(r=>{t.on(i=>{_L(r,i)&&(t.clear(),n.set(!1),e.dispatch(`longpresscancel`))})})},!0),e.on(`touchend touchcancel`,i=>{r.cancel(),i.type!==`touchcancel`&&t.get().filter(e=>e.target.isEqualNode(i.target)).each(()=>{n.get()?i.preventDefault():e.dispatch(`tap`,{...i,type:`tap`})})},!0)},yL=(e,t)=>Ke(e,t.nodeName),bL=(e,t)=>G(t)?!0:W(t)?!yL(e.getBlockElements(),t)&&!_h(t)&&!bs(e,t)&&!ts(t):!1,xL=(e,t,n)=>pe($b(U.fromDom(n),U.fromDom(t)),t=>yL(e,t.dom)),SL=(e,t)=>{if(G(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||yL(e,t.nextSibling)||ts(t.nextSibling)}return!1},CL=e=>e.dom.create(Pd(e),Fd(e)),wL=e=>{let t=e.dom,n=e.selection,r=e.schema,i=r.getBlockElements(),a=n.getStart(),o=e.getBody(),s,c,l=!1,u=Pd(e);if(!a||!W(a))return;let d=o.nodeName.toLowerCase();if(!r.isValidChild(d,u.toLowerCase())||xL(i,o,a))return;let f=n.getRng(),{startContainer:p,startOffset:m,endContainer:h,endOffset:g}=f,_=Oy(e),v=o.firstChild;for(;v;)if(W(v)&&hs(r,v),bL(r,v)){if(SL(i,v)){c=v,v=v.nextSibling,t.remove(c);continue}s||(s=CL(e),o.insertBefore(s,v),l=!0),c=v,v=v.nextSibling,s.appendChild(c)}else s=null,v=v.nextSibling;l&&_&&(f.setStart(p,m),f.setEnd(h,g),n.setRng(f),e.nodeChanged())},TL=(e,t,n)=>{let r=U.fromDom(CL(e)),i=eo();Ci(r,i),n(t,r);let a=document.createRange();return a.setStartBefore(i.dom),a.setEndBefore(i.dom),a},EL=e=>{e.on(`NodeChange`,M(wL,e))},DL=e=>t=>(` `+t.attr(`class`)+` `).indexOf(e)!==-1,OL=(e,t,n)=>function(r){let i=arguments,a=i[i.length-2],o=a>0?t.charAt(a-1):``;if(o===`"`)return r;if(o===`>`){let e=t.lastIndexOf(`<`,a);if(e!==-1&&t.substring(e,a).indexOf(`contenteditable="false"`)!==-1)return r}return`<span class="`+n+`" data-mce-content="`+e.dom.encode(i[0])+`">`+e.dom.encode(typeof i[1]==`string`?i[1]:i[0])+`</span>`},kL=(e,t,n)=>{let r=t.length,i=n.content;if(n.format!==`raw`){for(;r--;)i=i.replace(t[r],OL(e,i,op(e)));n.content=i}},AL=(e,t)=>we(e,e=>{let n=t.match(e);return n!==null&&n[0].length===t.length}),jL=e=>{let t=`contenteditable`,n=` `+H.trim(sp(e))+` `,r=` `+H.trim(op(e))+` `,i=DL(n),a=DL(r),o=cp(e);o.length>0&&e.on(`BeforeSetContent`,t=>{kL(e,o,t)}),e.parser.addAttributeFilter(`class`,e=>{let n=e.length;for(;n--;){let r=e[n];i(r)?r.attr(t,`true`):a(r)&&r.attr(t,`false`)}}),e.serializer.addAttributeFilter(t,e=>{let n=e.length;for(;n--;){let r=e[n];if(!i(r)&&!a(r))continue;let s=r.attr(`data-mce-content`);o.length>0&&s?AL(o,s)?(r.name=`#text`,r.type=3,r.raw=!0,r.value=s):r.remove():r.attr(t,null)}})},ML=e=>ii(U.fromDom(e.getBody()),`*[data-mce-caret]`).map(e=>e.dom).getOrNull(),NL=(e,t)=>{t.hasAttribute(`data-mce-caret`)&&(bo(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},PL=(e,t)=>{let n=ML(e);if(n){if(t.type===`compositionstart`){t.preventDefault(),t.stopPropagation(),NL(e,n);return}fo(n)&&(NL(e,n),e.undoManager.add())}},FL=e=>{e.on(`keyup compositionstart`,M(PL,e))},IL=Ea,LL=(e,t,n)=>XF(t,e,n,Yb,Xb,IL),RL=(e,t,n)=>ZF(t,e,n,e=>Yb(e)||qb(e),e=>Xb(e)||Jb(e),IL),zL=e=>{let t=e.dom.create(Pd(e));return t.innerHTML=`<br data-mce-bogus="1">`,t},BL=(e,t,n)=>{let r=Mm(e.getBody()),i=M(_m,t===1?r.next:r.prev);if(n.collapsed){let r=e.dom.getParent(n.startContainer,`PRE`);if(!r)return;if(!i(Y.fromRangeStart(n))){let n=U.fromDom(zL(e));t===1?xi(U.fromDom(r),n):bi(U.fromDom(r),n),e.selection.select(n.dom,!0),e.selection.collapse()}}},VL=(e,t)=>{let n=t?ym.Forwards:ym.Backwards,r=e.selection.getRng();return LL(n,e,r).orThunk(()=>(BL(e,n,r),I.none()))},HL=(e,t)=>{let n=t?1:-1,r=e.selection.getRng();return RL(n,e,r).orThunk(()=>(BL(e,n,r),I.none()))},UL=(e,t)=>hS(t?e.getEnd(!0):e.getStart(!0))?!t:t,WL=(e,t)=>VL(e,UL(e.selection,t)).exists(t=>(JF(e,t),!0)),GL=(e,t)=>HL(e,t).exists(t=>(JF(e,t),!0)),KL=(e,t)=>$F(e,t,t?Xb:Yb),qL=(e,t)=>sP(e,!t).map(n=>{let r=n.toRange(),i=e.selection.getRng();return t?r.setStart(i.startContainer,i.startOffset):r.setEnd(i.endContainer,i.endOffset),r}).exists(t=>(JF(e,t),!0)),JL=e=>fe([`figcaption`],Mn(e)),YL=(e,t,n)=>{let r=M(yr,t);return $r(U.fromDom(e.container()),e=>n.isBlock(Mn(e)),r).filter(JL)},XL=(e,t,n)=>t?TF(e.dom,n):wF(e.dom,n),ZL=(e,t)=>{let n=U.fromDom(e.getBody()),r=Y.fromRangeStart(e.selection.getRng());return YL(r,n,e.schema).exists(()=>{if(XL(n,t,r)){let r=TL(e,n,t?Ci:Si);return e.selection.setRng(r),!0}else return!1})},QL=(e,t)=>e.selection.isCollapsed()?ZL(e,t):!1,$L=(e,t,n)=>{let r=e.selection.getRng(),i=Y.fromRangeStart(r);return e.getBody().firstChild===t&&wF(n,i)?(e.execCommand(`InsertNewBlockBefore`),!0):!1},eR=(e,t)=>{let n=e.selection.getRng(),r=Y.fromRangeStart(n);return e.getBody().lastChild===t&&TF(t,r)?(e.execCommand(`InsertNewBlockAfter`),!0):!1},tR=(e,t)=>t?I.from(e.dom.getParent(e.selection.getNode(),`details`)).map(t=>eR(e,t)).getOr(!1):I.from(e.dom.getParent(e.selection.getNode(),`summary`)).bind(t=>I.from(e.dom.getParent(t,`details`)).map(n=>$L(e,n,t))).getOr(!1),nR=(e,t)=>tR(e,t),rR={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},iR=e=>me(e,e=>({...rR,...e})),aR=e=>me(e,e=>({...rR,...e})),oR=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,sR=(e,t)=>Ce(iR(e),e=>oR(e,t)?[e]:[]),cR=(e,t)=>Ce(aR(e),e=>oR(e,t)?[e]:[]),lR=(e,...t)=>()=>e.apply(null,t),uR=(e,t)=>be(sR(e,t),e=>e.action()),dR=(e,t)=>Ne(cR(e,t),e=>e.action()),fR=(e,t)=>XF(e,t?ym.Forwards:ym.Backwards,e.selection.getRng(),Gb,Kb,Oa).exists(t=>(JF(e,t),!0)),pR=(e,t)=>ZF(e,t?1:-1,e.selection.getRng(),Gb,Kb,Oa).exists(t=>(JF(e,t),!0)),mR=(e,t)=>$F(e,t,t?Kb:Gb),hR=ud.generate([{none:[`current`]},{first:[`current`]},{middle:[`current`,`target`]},{last:[`current`]}]),gR=e=>hR.none(e),_R={...hR,none:gR},vR=(e,t)=>yR(e,t,F),yR=(e,t,n)=>Ce(Nr(e),e=>hr(e,t)?n(e)?[e]:[]:yR(e,t,n)),bR=(e,t,n=P)=>n(t)?I.none():fe(e,Mn(t))?I.some(t):ri(t,e.join(`,`),e=>hr(e,`table`)||n(e)),xR=(e,t)=>bR([`td`,`th`],e,t),SR=e=>vR(e,`th,td`),CR=(e,t)=>ai(e,`table`,t),wR=(e,t,n,r,i=F)=>{let a=r===1;if(!a&&n<=0)return _R.first(e[0]);if(a&&n>=e.length-1)return _R.last(e[e.length-1]);{let a=n+r,o=e[a];return i(o)?_R.middle(t,o):wR(e,t,a,r,i)}},TR=(e,t)=>CR(e,t).bind(t=>{let n=SR(t);return xe(n,t=>yr(e,t)).map(e=>({index:e,all:n}))}),ER=(e,t,n)=>TR(e,n).fold(()=>_R.none(e),n=>wR(n.all,e,n.index,1,t)),DR=(e,t,n)=>TR(e,n).fold(()=>_R.none(),n=>wR(n.all,e,n.index,-1,t)),OR=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),kR=(e,t)=>Ce(t,t=>{let n=OR(Wl(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]}),AR=(e,t,n)=>ve(e,(e,r)=>e.fold(()=>I.some(r),e=>{let i=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),a=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return I.some(a<i?r:e)}),I.none()),jR=(e,t,n,r,i)=>AR(R(kR(e,ta(U.fromDom(n),`td,th,caption`).map(e=>e.dom)),e=>t(e,i)),r,i).map(e=>e.cell),MR=e=>e.bottom,NR=e=>e.top,PR=(e,t)=>e.y<t,FR=(e,t)=>e.y>t,IR=M(jR,MR,PR),LR=M(jR,NR,FR),RR=(e,t)=>Ae(t.getClientRects()).bind(t=>IR(e,t.left,t.top)).bind(e=>yF(DF(e),t)),zR=(e,t)=>je(t.getClientRects()).bind(t=>LR(e,t.left,t.top)).bind(e=>yF(EF(e),t)),BR=(e,t,n)=>n.breakAt.exists(n=>e(t,n).breakAt.isSome()),VR=e=>e.breakType===fF.Wrap&&e.positions.length===0,HR=e=>e.breakType===fF.Br&&e.positions.length===1,UR=(e,t,n)=>{let r=e(t,n);return VR(r)||!Ca(n.getNode())&&HR(r)?!BR(e,t,r):r.breakAt.isNone()},WR=M(UR,bF),GR=M(UR,xF),KR=(e,t,n)=>{let r=Y.fromRangeStart(t);return Um(!e,n).exists(e=>e.isEqual(r))},qR=(e,t,n,r)=>{let i=e.selection.getRng(),a=t?1:-1;return Vp()&&KR(t,i,n)?(XN(a,e,n,!t,!1).each(t=>{JF(e,t)}),!0):!1},JR=(e,t,n)=>RR(t,n).orThunk(()=>Ae(n.getClientRects()).bind(n=>vF(SF(e,Y.before(t)),n.left))).getOr(Y.before(t)),YR=(e,t,n)=>zR(t,n).orThunk(()=>Ae(n.getClientRects()).bind(n=>vF(CF(e,Y.after(t)),n.left))).getOr(Y.after(t)),XR=(e,t)=>{let n=t.getNode(e);return ha(n)?I.some(n):I.none()},ZR=(e,t,n)=>{t.undoManager.transact(()=>{let r=e?xi:bi;JF(t,TL(t,U.fromDom(n),r))})},QR=(e,t,n)=>{let r=XR(!!t,n),i=t===!1;r.fold(()=>JF(e,n.toRange()),r=>Um(i,e.getBody()).filter(e=>e.isEqual(n)).fold(()=>JF(e,n.toRange()),n=>ZR(t,e,r)))},$R=(e,t,n,r)=>{let i=e.selection.getRng(),a=Y.fromRangeStart(i),o=e.getBody();return!t&&WR(r,a)?(QR(e,t,JR(o,n,a)),!0):t&&GR(r,a)?(QR(e,t,YR(o,n,a)),!0):!1},ez=(e,t,n)=>I.from(e.dom.getParent(e.selection.getNode(),`td,th`)).bind(r=>I.from(e.dom.getParent(r,`table`)).map(i=>n(e,t,i,r))).getOr(!1),tz=(e,t)=>ez(e,t,qR),nz=(e,t)=>ez(e,t,$R),rz=e=>K_(B_.exact(e,0,e,0)),iz=(e,t,n)=>n.fold(I.none,I.none,(e,t)=>qy(t).map(e=>rz(e)),n=>(e.execCommand(`mceTableInsertRowAfter`),az(e,t,n))),az=(e,t,n)=>iz(e,t,ER(n,si)),oz=(e,t,n)=>iz(e,t,DR(n,si)),sz=(e,t)=>{let n=[`table`,`li`,`dl`],r=U.fromDom(e.getBody()),i=e=>{let t=Mn(e);return yr(e,r)||fe(n,t)},a=e.selection.getRng();return xR(U.fromDom(t?a.endContainer:a.startContainer),i).map(n=>(CR(n,i).each(t=>{e.model.table.clearSelectedCells(t.dom)}),e.selection.collapse(!t),(t?az:oz)(e,i,n).each(t=>{e.selection.setRng(t)}),!0)).getOr(!1)},cz=(e,t,n)=>{let r=un.os.isMacOS()||un.os.isiOS();uR([{keyCode:$.RIGHT,action:lR(WL,e,!0)},{keyCode:$.LEFT,action:lR(WL,e,!1)},{keyCode:$.UP,action:lR(GL,e,!1)},{keyCode:$.DOWN,action:lR(GL,e,!0)},...r?[{keyCode:$.UP,action:lR(qL,e,!1),metaKey:!0,shiftKey:!0},{keyCode:$.DOWN,action:lR(qL,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:$.RIGHT,action:lR(tz,e,!0)},{keyCode:$.LEFT,action:lR(tz,e,!1)},{keyCode:$.UP,action:lR(nz,e,!1)},{keyCode:$.DOWN,action:lR(nz,e,!0)},{keyCode:$.UP,action:lR(nz,e,!1)},{keyCode:$.UP,action:lR(nR,e,!1)},{keyCode:$.DOWN,action:lR(nR,e,!0)},{keyCode:$.RIGHT,action:lR(fR,e,!0)},{keyCode:$.LEFT,action:lR(fR,e,!1)},{keyCode:$.UP,action:lR(pR,e,!1)},{keyCode:$.DOWN,action:lR(pR,e,!0)},{keyCode:$.RIGHT,action:lR(cI,e,t,!0)},{keyCode:$.LEFT,action:lR(cI,e,t,!1)},{keyCode:$.RIGHT,ctrlKey:!r,altKey:r,action:lR(dI,e,t)},{keyCode:$.LEFT,ctrlKey:!r,altKey:r,action:lR(fI,e,t)},{keyCode:$.UP,action:lR(QL,e,!1)},{keyCode:$.DOWN,action:lR(QL,e,!0)}],n).each(e=>{n.preventDefault()})},lz=(e,t)=>{e.on(`keydown`,n=>{n.isDefaultPrevented()||cz(e,t,n)})},uz=(e,t)=>({container:e,offset:t}),dz=el.DOM,fz=e=>t=>e===t?-1:0,pz=e=>t=>e.isBlock(t)||fe([`BR`,`IMG`,`HR`,`INPUT`],t.nodeName)||e.getContentEditable(t)===`false`,mz=(e,t,n)=>{if(G(e)&&t>=0)return I.some(uz(e,t));{let r=Hl(dz);return I.from(r.backwards(e,t,fz(e),n)).map(e=>uz(e.container,e.container.data.length))}},hz=(e,t,n)=>{if(G(e)&&t>=e.length)return I.some(uz(e,t));{let r=Hl(dz);return I.from(r.forwards(e,t,fz(e),n)).map(e=>uz(e.container,0))}},gz=(e,t,n)=>{if(!G(e))return I.none();let r=e.data;if(t>=0&&t<=r.length)return I.some(uz(e,t));{let r=Hl(dz);return I.from(r.backwards(e,t,fz(e),n)).bind(e=>{let r=e.container.data;return gz(e.container,t+r.length,n)})}},_z=(e,t,n)=>{if(!G(e))return I.none();let r=e.data;if(t<=r.length)return I.some(uz(e,t));{let i=Hl(dz);return I.from(i.forwards(e,t,fz(e),n)).bind(e=>_z(e.container,t-r.length,n))}},vz=(e,t,n,r,i)=>{let a=Hl(e,pz(e));return I.from(a.backwards(t,n,r,i))},yz=e=>e.collapsed&&G(e.startContainer),bz=e=>io(e.toString().replace(/\u00A0/g,` `)),xz=e=>e!==``&&` \xA0\f
\r	\v`.indexOf(e)!==-1,Sz=(e,t)=>e.substring(t.length),Cz=(e,t,n)=>{let r,i=n.charAt(0);for(r=t-1;r>=0;r--){let a=e.charAt(r);if(xz(a))return I.none();if(i===a&&yt(e,n,r,t))break}return I.some(r)},wz=(e,t,n,r=0)=>{if(!yz(t))return I.none();let i={text:``,offset:0},a=(e,t,r)=>(i.text=r+i.text,i.offset+=t,Cz(i.text,i.offset,n).getOr(t)),o=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return vz(e,t.startContainer,t.startOffset,a,o).bind(e=>{let i=t.cloneRange();if(i.setStart(e.container,e.offset),i.setEnd(t.endContainer,t.endOffset),i.collapsed)return I.none();let a=bz(i);return a.lastIndexOf(n)!==0||Sz(a,n).length<r?I.none():I.some({text:Sz(a,n),range:i,trigger:n})})},Tz=(e,t,n,r=0)=>Qy(U.fromDom(t.startContainer)).fold(()=>wz(e,t,n,r),t=>{let r=e.createRng();r.selectNode(t.dom);let i=bz(r);return I.some({range:r,text:Sz(i,n),trigger:n})}),Ez=e=>e.nodeType===3,Dz=e=>e.nodeType===1,Oz=e=>{if(Ez(e))return uz(e,e.data.length);{let t=e.childNodes;return t.length>0?Oz(t[t.length-1]):uz(e,t.length)}},kz=(e,t)=>{let n=e.childNodes;return n.length>0&&t<n.length?kz(n[t],0):n.length>0&&Dz(e)&&n.length===t?Oz(n[n.length-1]):uz(e,t)},Az=(e,t)=>{let n=e.getParent(t.container,e.isBlock)??e.getRoot();return vz(e,t.container,t.offset,(e,t)=>t===0?-1:t,n).filter(e=>!xz(e.container.data.charAt(e.offset-1))).isSome()},jz=e=>t=>!Az(e,kz(t.startContainer,t.startOffset)),Mz=(e,t,n)=>Ne(n.triggers,n=>Tz(e,t,n)),Nz=(e,t)=>{let n=t(),r=e.selection.getRng();return Mz(e.dom,r,n).bind(n=>Pz(e,t,n))},Pz=(e,t,n,r={})=>{let i=t(),a=e.selection.getRng().startContainer.nodeValue??``,o=R(i.lookupByTrigger(n.trigger),t=>n.text.length>=t.minChars&&t.matches.getOrThunk(()=>jz(e.dom))(n.range,a,n.text));if(o.length===0)return I.none();let s=Promise.all(me(o,e=>e.fetch(n.text,e.maxResults,r).then(t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))));return I.some({lookupData:s,context:n})};var Fz;(function(e){e[e.Error=0]=`Error`,e[e.Value=1]=`Value`})(Fz||={});let Iz=(e,t,n)=>e.stype===Fz.Error?t(e.serror):n(e.svalue),Lz=e=>{let t=[],n=[];return L(e,e=>{Iz(e,e=>n.push(e),e=>t.push(e))}),{values:t,errors:n}},Rz=(e,t)=>e.stype===Fz.Error?{stype:Fz.Error,serror:t(e.serror)}:e,zz=(e,t)=>e.stype===Fz.Value?{stype:Fz.Value,svalue:t(e.svalue)}:e,Bz=(e,t)=>e.stype===Fz.Value?t(e.svalue):e,Vz=(e,t)=>e.stype===Fz.Error?t(e.serror):e,Hz=e=>({stype:Fz.Value,svalue:e}),Uz=e=>({stype:Fz.Error,serror:e}),Wz={fromResult:e=>e.fold(Uz,Hz),toResult:e=>Iz(e,ld.error,ld.value),svalue:Hz,partition:Lz,serror:Uz,bind:Bz,bindError:Vz,map:zz,mapError:Rz,fold:Iz},Gz=e=>y(e)&&Fe(e).length>100?` removed due to size`:JSON.stringify(e,null,2),Kz=e=>me(e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:j(`... (only showing first ten failures)`)}]):e,e=>`Failed path: (`+e.path.join(` > `)+`)
`+e.getErrorInfo()),qz=(e,t)=>Wz.serror([{path:e,getErrorInfo:t}]),Jz=(e,t,n)=>qz(e,()=>`Could not find valid *required* value for "`+t+`" in `+Gz(n)),Yz=(e,t)=>qz(e,()=>`Choice schema did not contain choice key: "`+t+`"`),Xz=(e,t,n)=>qz(e,()=>`The chosen schema: "`+n+`" did not exist in branches: `+Gz(t)),Zz=(e,t)=>qz(e,j(t)),Qz=(e,t,n,r)=>Ge(n,r).fold(()=>Xz(e,n,r),n=>n.extract(e.concat([`branch: `+r]),t)),$z=(e,t)=>({extract:(n,r)=>Ge(r,e).fold(()=>Yz(n,e),e=>Qz(n,r,t,e)),toString:()=>`chooseOn(`+e+`). Possible values: `+Fe(t)}),eB=(e,t)=>t,tB=(e,t)=>b(e)&&b(t)?rB(e,t):t,nB=e=>(...t)=>{if(t.length===0)throw Error(`Can't merge zero objects`);let n={};for(let r=0;r<t.length;r++){let i=t[r];for(let t in i)Ke(i,t)&&(n[t]=e(n[t],i[t]))}return n},rB=nB(tB),iB=nB(eB),aB=()=>({tag:`required`,process:{}}),oB=e=>({tag:`defaultedThunk`,process:e}),sB=e=>oB(j(e)),cB=()=>({tag:`option`,process:{}}),lB=(e,t)=>e.length>0?Wz.svalue(rB(t,iB.apply(void 0,e))):Wz.svalue(t),uB=e=>te(Wz.serror,Se)(e),dB={consolidateObj:(e,t)=>{let n=Wz.partition(e);return n.errors.length>0?uB(n.errors):lB(n.values,t)},consolidateArr:e=>{let t=Wz.partition(e);return t.errors.length>0?uB(t.errors):Wz.svalue(t.values)}},fB=(e,t,n,r)=>({tag:`field`,key:e,newKey:t,presence:n,prop:r}),pB=(e,t)=>({tag:`custom`,newKey:e,instantiator:t}),mB=(e,t,n)=>{switch(e.tag){case`field`:return t(e.key,e.newKey,e.presence,e.prop);case`custom`:return n(e.newKey,e.instantiator)}},hB=e=>({extract:(t,n)=>Wz.bindError(e(n),e=>Zz(t,e)),toString:j(`val`)}),gB=hB(Wz.svalue),_B=(e,t,n,r)=>Ge(t,n).fold(()=>Jz(e,n,t),r),vB=(e,t,n,r)=>r(Ge(e,t).getOrThunk(()=>n(e))),yB=(e,t,n)=>n(Ge(e,t)),bB=(e,t,n,r)=>r(Ge(e,t).map(t=>t===!0?n(e):t)),xB=(e,t,n,r,i)=>{let a=e=>i.extract(t.concat([r]),e),o=e=>e.fold(()=>Wz.svalue(I.none()),e=>{let n=i.extract(t.concat([r]),e);return Wz.map(n,I.some)});switch(e.tag){case`required`:return _B(t,n,r,a);case`defaultedThunk`:return vB(n,r,e.process,a);case`option`:return yB(n,r,o);case`defaultedOptionThunk`:return bB(n,r,e.process,o);case`mergeWithThunk`:return vB(n,r,j({}),t=>a(rB(e.process(n),t)))}},SB=(e,t,n)=>{let r={},i=[];for(let a of n)mB(a,(n,a,o,s)=>{let c=xB(o,e,t,n,s);Wz.fold(c,e=>{i.push(...e)},e=>{r[a]=e})},(e,n)=>{r[e]=n(t)});return i.length>0?Wz.serror(i):Wz.svalue(r)},CB=e=>({extract:(t,n)=>SB(t,n,e),toString:()=>`obj{
`+me(e,e=>mB(e,(e,t,n,r)=>e+` -> `+r.toString(),(e,t)=>`state(`+e+`)`)).join(`
`)+`}`}),wB=e=>({extract:(t,n)=>{let r=me(n,(n,r)=>e.extract(t.concat([`[`+r+`]`]),n));return dB.consolidateArr(r)},toString:()=>`array(`+e.toString()+`)`}),TB=e=>hB(t=>e(t).fold(Wz.serror,Wz.svalue)),EB=(e,t,n)=>{let r=t.extract([e],n);return Wz.mapError(r,e=>({input:n,errors:e}))},DB=(e,t,n)=>Wz.toResult(EB(e,t,n)),OB=e=>`Errors: 
`+Kz(e.errors).join(`
`)+`

Input object: `+Gz(e.input),kB=(e,t)=>$z(e,z(t,CB)),AB=j(gB),jB=(e,t)=>hB(n=>{let r=typeof n;return e(n)?Wz.svalue(n):Wz.serror(`Expected type: ${t} but got: ${r}`)}),MB=jB(O,`number`),NB=jB(v,`string`),PB=jB(C,`boolean`),FB=jB(D,`function`),IB=fB,LB=pB,RB=e=>TB(t=>fe(e,t)?ld.value(t):ld.error(`Unsupported value: "${t}", choose one of "${e.join(`, `)}".`)),zB=(e,t)=>IB(e,e,aB(),t),BB=e=>zB(e,NB),VB=e=>zB(e,FB),HB=(e,t)=>IB(e,e,aB(),wB(t)),UB=(e,t)=>IB(e,e,cB(),t),WB=e=>UB(e,NB),GB=e=>UB(e,FB),KB=(e,t)=>IB(e,e,sB(t),AB()),qB=(e,t,n)=>IB(e,e,sB(t),n),JB=(e,t)=>qB(e,t,MB),YB=(e,t)=>qB(e,t,NB),XB=(e,t,n)=>qB(e,t,RB(n)),ZB=(e,t)=>qB(e,t,PB),QB=(e,t)=>qB(e,t,FB),$B=(e,t,n)=>qB(e,t,wB(n)),eV=BB(`type`),tV=VB(`fetch`),nV=VB(`onAction`),rV=QB(`onSetup`,()=>k),iV=WB(`text`),aV=WB(`icon`),oV=WB(`tooltip`),sV=WB(`label`),cV=ZB(`active`,!1),lV=ZB(`enabled`,!0),uV=ZB(`primary`,!1),dV=e=>KB(`columns`,e),fV=e=>YB(`type`,e),pV=CB([eV,BB(`trigger`),JB(`minChars`,1),dV(1),JB(`maxResults`,10),GB(`matches`),tV,nV,$B(`highlightOn`,[],NB)]),mV=e=>DB(`Autocompleter`,pV,{trigger:e.ch,...e}),hV=[lV,oV,aV,iV,rV],gV=[cV].concat(hV),_V=[QB(`predicate`,P),XB(`scope`,`node`,[`node`,`editor`]),XB(`position`,`selection`,[`node`,`selection`,`line`])],vV=hV.concat([fV(`contextformbutton`),uV,nV,LB(`original`,ne)]),yV=gV.concat([fV(`contextformbutton`),uV,nV,LB(`original`,ne)]),bV=hV.concat([fV(`contextformbutton`)]),xV=gV.concat([fV(`contextformtogglebutton`)]),SV=kB(`type`,{contextformbutton:vV,contextformtogglebutton:yV});[fV(`contextform`),QB(`initValue`,j(``)),sV,HB(`commands`,SV),UB(`launch`,kB(`type`,{contextformbutton:bV,contextformtogglebutton:xV}))].concat(_V);let CV=e=>{let t=e.ui.registry.getAll().popups,n=z(t,e=>mV(e).fold(e=>{throw Error(OB(e))},ne)),r=Ye(Ue(n,e=>e.trigger)),i=We(n);return{dataset:n,triggers:r,lookupByTrigger:e=>R(i,t=>t.trigger===e)}},wV=(e,t)=>{let n=gl(t.load,50);e.on(`keypress compositionend`,e=>{e.which!==27&&n.throttle()}),e.on(`keydown`,e=>{let r=e.which;r===8?n.throttle():r===27&&t.cancelIfNecessary()}),e.on(`remove`,n.cancel)},TV=e=>{let t=ml(),n=rl(!1),r=t.isSet,i=()=>{r()&&(JA(e),u_(e),n.set(!1),t.clear())},a=n=>{r()||(qA(e,n.range),t.set({trigger:n.trigger,matchLength:n.text.length}))},o=B(()=>CV(e)),s=n=>t.get().map(t=>Tz(e.dom,e.selection.getRng(),t.trigger).bind(t=>Pz(e,o,t,n))).getOrThunk(()=>Nz(e,o)),c=r=>{s(r).fold(i,r=>{a(r.context),r.lookupData.then(a=>{t.get().map(o=>{let s=r.context;o.trigger===s.trigger&&(s.text.length-o.matchLength>=10?i():(t.set({...o,matchLength:s.text.length}),n.get()?l_(e,{lookupData:a}):(n.set(!0),c_(e,{lookupData:a}))))})})})};e.addCommand(`mceAutocompleterReload`,(e,t)=>{c(y(t)?t.fetchOptions:{})}),e.addCommand(`mceAutocompleterClose`,i),wV(e,{cancelIfNecessary:i,load:c})},EV=nn().browser.isSafari(),DV=e=>to(U.fromDom(e)),OV=(e,t)=>e.startOffset===0&&e.endOffset===t.textContent?.length,kV=(e,t)=>I.from(e.getParent(t.container(),`details`)),AV=(e,t)=>kV(e,t).isSome(),jV=(e,t)=>{let n=I.from(e.getParent(t.startContainer,`details`)),r=I.from(e.getParent(t.endContainer,`details`));if(n.isSome()||r.isSome()){let t=n.bind(t=>I.from(e.select(`summary`,t)[0]));return I.some({startSummary:t,startDetails:n,endDetails:r})}else return I.none()},MV=(e,t)=>Km(t).exists(t=>t.isEqual(e)),NV=(e,t)=>qm(t).exists(n=>Ca(n.getNode())&&Gm(t,n).exists(t=>t.isEqual(e))||n.isEqual(e)),PV=(e,t)=>t.startSummary.exists(t=>MV(e,t)),FV=(e,t)=>t.startSummary.exists(t=>NV(e,t)),IV=(e,t)=>t.startDetails.exists(n=>Gm(n,e).forall(n=>t.startSummary.exists(t=>!t.contains(e.container())&&t.contains(n.container())))),LV=(e,t,n)=>n.startDetails.exists(n=>Wm(e,t).forall(e=>!n.contains(e.container()))),RV=(e,t)=>{let n=t.getNode();w(n)||e.selection.setCursorLocation(n,t.offset())},zV=(e,t,n)=>{let r=e.dom.getParent(t.container(),`details`);if(r&&!r.open){let t=e.dom.select(`summary`,r)[0];t&&(n?Km(t):qm(t)).each(t=>RV(e,t))}else RV(e,t)},BV=(e,t)=>{let n=t=>t.contains(e.startContainer),r=t=>t.contains(e.endContainer),i=t.startSummary.exists(n),a=t.startSummary.exists(r),o=t.startDetails.forall(e=>t.endDetails.forall(t=>e!==t));return(i||a)&&!(i&&a)||o},VV=(e,t,n)=>{let{dom:r,selection:i}=e,a=e.getBody();if(n===`character`){let n=Y.fromRangeStart(i.getRng()),o=r.getParent(n.container(),r.isBlock),s=kV(r,n),c=o&&r.isEmpty(o),l=S(o?.previousSibling),u=S(o?.nextSibling);return c&&(t?u:l)&&Vm(!t,a,n).exists(e=>AV(r,e)&&!yn(s,kV(r,e)))?!0:Vm(t,a,n).fold(P,n=>{let i=kV(r,n);if(AV(r,n)&&!yn(s,i)){if(t||zV(e,n,!1),o&&c){if(t&&l||!t&&u)return!0;zV(e,n,t),e.dom.remove(o)}return!0}else return!1})}else return!1},HV=(e,t,n,r)=>{let i=e.selection.getRng(),a=Y.fromRangeStart(i),o=e.getBody();return r===`selection`?BV(i,t):n?FV(a,t)||LV(o,a,t):PV(a,t)||IV(a,t)},UV=(e,t,n)=>jV(e.dom,e.selection.getRng()).fold(()=>VV(e,t,n),r=>HV(e,r,t,n)||VV(e,t,n)),WV=(e,t,n)=>{let r=e.selection,i=r.getNode(),a=r.getRng(),o=Y.fromRangeStart(a);return ja(i)?(n===`selection`&&OV(a,i)||jS(t,o,i)?DV(i):e.undoManager.transact(()=>{let a=r.getSel(),{anchorNode:o,anchorOffset:s,focusNode:c,focusOffset:l}=a??{},u=()=>{E(o)&&E(s)&&E(c)&&E(l)&&a?.setBaseAndExtent(o,s,c,l)},d=()=>{o=a?.anchorNode,s=a?.anchorOffset,c=a?.focusNode,l=a?.focusOffset},f=(e,t)=>{L(e.childNodes,e=>{Rh(e)&&t.appendChild(e)})},p=e.dom.create(`span`,{"data-mce-bogus":`1`});f(i,p),i.appendChild(p),u(),(n===`word`||n===`line`)&&a?.modify(`extend`,t?`right`:`left`,n),!r.isCollapsed()&&OV(r.getRng(),p)?DV(i):(e.execCommand(t?`ForwardDelete`:`Delete`),d(),f(p,i),u()),e.dom.remove(p)}),!0):!1},GV=(e,t,n)=>UV(e,t,n)||EV&&WV(e,t,n)?I.some(k):I.none(),KV=e=>(t,n,r={})=>{let i=t.getBody(),a={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:k,inputType:n},o=Pc(new InputEvent(e));return t.dispatch(e,{...o,...a,...r})},qV=KV(`input`),JV=KV(`beforeinput`),YV=nn(),XV=YV.os,ZV=XV.isMacOS()||XV.isiOS(),QV=YV.browser.isFirefox(),$V=(e,t,n)=>{let r=n.keyCode===$.BACKSPACE?`deleteContentBackward`:`deleteContentForward`,i=e.selection.isCollapsed(),a=i?`character`:`selection`,o=e=>i?e?`word`:`line`:`selection`;dR([{keyCode:$.BACKSPACE,action:lR(dL,e)},{keyCode:$.BACKSPACE,action:lR(DP,e,!1)},{keyCode:$.DELETE,action:lR(DP,e,!0)},{keyCode:$.BACKSPACE,action:lR(oP,e,!1)},{keyCode:$.DELETE,action:lR(oP,e,!0)},{keyCode:$.BACKSPACE,action:lR(bI,e,t,!1)},{keyCode:$.DELETE,action:lR(bI,e,t,!0)},{keyCode:$.BACKSPACE,action:lR(PC,e,!1)},{keyCode:$.DELETE,action:lR(PC,e,!0)},{keyCode:$.BACKSPACE,action:lR(GV,e,!1,a)},{keyCode:$.DELETE,action:lR(GV,e,!0,a)},...ZV?[{keyCode:$.BACKSPACE,altKey:!0,action:lR(GV,e,!1,o(!0))},{keyCode:$.DELETE,altKey:!0,action:lR(GV,e,!0,o(!0))},{keyCode:$.BACKSPACE,metaKey:!0,action:lR(GV,e,!1,o(!1))}]:[{keyCode:$.BACKSPACE,ctrlKey:!0,action:lR(GV,e,!1,o(!0))},{keyCode:$.DELETE,ctrlKey:!0,action:lR(GV,e,!0,o(!0))}],{keyCode:$.BACKSPACE,action:lR(kP,e,!1)},{keyCode:$.DELETE,action:lR(kP,e,!0)},{keyCode:$.BACKSPACE,action:lR(QI,e,!1)},{keyCode:$.DELETE,action:lR(QI,e,!0)},{keyCode:$.BACKSPACE,action:lR(YN,e,!1)},{keyCode:$.DELETE,action:lR(YN,e,!0)},{keyCode:$.BACKSPACE,action:lR(HN,e,!1)},{keyCode:$.DELETE,action:lR(HN,e,!0)},{keyCode:$.BACKSPACE,action:lR(WI,e,!1)},{keyCode:$.DELETE,action:lR(WI,e,!0)}],n).filter(t=>e.selection.isEditable()).each(t=>{n.preventDefault(),JV(e,r).isDefaultPrevented()||(t(),qV(e,r))})},eH=(e,t,n)=>uR([{keyCode:$.BACKSPACE,action:lR(EP,e)},{keyCode:$.DELETE,action:lR(EP,e)},...ZV?[{keyCode:$.BACKSPACE,altKey:!0,action:lR(JI,e)},{keyCode:$.DELETE,altKey:!0,action:lR(JI,e)},...n?[{keyCode:QV?224:91,action:lR(JI,e)}]:[]]:[{keyCode:$.BACKSPACE,ctrlKey:!0,action:lR(JI,e)},{keyCode:$.DELETE,ctrlKey:!0,action:lR(JI,e)}]],t),tH=(e,t)=>{let n=!1;e.on(`keydown`,r=>{n=r.keyCode===$.BACKSPACE,r.isDefaultPrevented()||$V(e,t,r)}),e.on(`keyup`,t=>{t.isDefaultPrevented()||eH(e,t,n),n=!1})},nH=e=>{for(;e;){if(W(e)||G(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},rH=(e,t)=>{let n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){let e=nH(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(n.doc.createTextNode(`\xA0`),t.firstChild)}let i=n.createRng();if(t.normalize(),t.hasChildNodes()){let e=new ra(t,t),n=t,a;for(;a=e.current();){if(G(a)){i.setStart(a,0),i.setEnd(a,0);break}if(r[a.nodeName.toLowerCase()]){i.setStartBefore(a),i.setEndBefore(a);break}n=a,a=e.next()}a||(i.setStart(n,0),i.setEnd(n,0))}else Ca(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));e.selection.setRng(i),Lv(e,i)},iH=(e,t)=>{let n=e.getRoot(),r,i=t;for(;i!==n&&i&&e.getContentEditable(i)!==`false`;){if(e.getContentEditable(i)===`true`){r=i;break}i=i.parentNode}return i===n?n:r},aH=e=>I.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),oH=e=>aH(e).fold(j(``),e=>e.nodeName.toUpperCase()),sH=e=>aH(e).filter(e=>Ja(U.fromDom(e))).isSome(),cH=e=>{e.innerHTML=`<br data-mce-bogus="1">`},lH=(e,t,n)=>{let r=e.dom;I.from(n.style).map(r.parseStyle).each(e=>{let n={..._i(U.fromDom(t)),...e};r.setStyles(t,n)}),xn(I.from(n.class).map(e=>e.split(/\s+/)),I.from(t.className).map(e=>R(e.split(/\s+/),e=>e!==``)),(e,n)=>{let i=R(n,t=>!fe(e,t)),a=[...e,...i];r.setAttrib(t,`class`,a.join(` `))});let i=[`style`,`class`],a=He(n,(e,t)=>!fe(i,t));r.setAttribs(t,a)},uH=(e,t)=>{Pd(e).toLowerCase()===t.tagName.toLowerCase()&&lH(e,t,Fd(e))},dH=(e,t,n,r,i=!0,a,o)=>{let s=e.dom,c=e.schema,l=Pd(e),u=n?n.nodeName.toUpperCase():``,d=t,f=c.getTextInlineElements(),p;p=a||u===`TABLE`||u===`HR`?s.create(a||l,o||{}):n.cloneNode(!1);let m=p;if(!i)s.setAttrib(p,`style`,null),s.setAttrib(p,`class`,null);else do if(f[d.nodeName]){if(Ym(d)||_h(d))continue;let e=d.cloneNode(!1);s.setAttrib(e,`id`,``),p.hasChildNodes()?(e.appendChild(p.firstChild),p.appendChild(e)):(m=e,p.appendChild(e))}while((d=d.parentNode)&&d!==r);return uH(e,p),cH(m),p},fH=(e,t)=>e.dom.getParent(t,Aa),pH=(e,t,n)=>{let r=t;for(;r&&r!==e&&S(r.nextSibling);){let e=r.parentElement;if(!e||!n(e))return Aa(e);r=e}return!1},mH=(e,t,n)=>!t&&n.nodeName.toLowerCase()===Pd(e)&&e.dom.isEmpty(n)&&pH(e.getBody(),n,t=>Ke(e.schema.getTextBlockElements(),t.nodeName.toLowerCase())),hH=(e,t,n)=>{let r=t(Pd(e)),i=fH(e,n);i&&(e.dom.insertAfter(r,i),rH(e,r),(n.parentElement?.childNodes?.length??0)>1&&e.dom.remove(n))},gH=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,_H=e=>e.parentNode?.firstChild===e,vH=(e,t)=>{let n=e?.parentNode;return E(n)&&n.nodeName===t},yH=e=>E(e)&&/^(OL|UL|LI)$/.test(e.nodeName),bH=e=>E(e)&&/^(LI|DT|DD)$/.test(e.nodeName),xH=e=>yH(e)&&yH(e.parentNode),SH=e=>{let t=e.parentNode;return bH(t)?t:e},CH=(e,t,n)=>{let r=e[n?`firstChild`:`lastChild`];for(;r&&!W(r);)r=r[n?`nextSibling`:`previousSibling`];return r===t},wH=e=>ve(Ue(_i(U.fromDom(e)),(e,t)=>`${t}: ${e};`),(e,t)=>e+t,``),TH=(e,t,n,r,i)=>{let a=e.dom,o=e.selection.getRng(),s=n.parentNode;if(n===e.getBody()||!s)return;xH(n)&&(i=`LI`);let c=bH(r)?wH(r):void 0,l=bH(r)&&c?t(i,{style:wH(r)}):t(i);if(CH(n,r,!0)&&CH(n,r,!1))if(vH(n,`LI`)){let e=SH(n);a.insertAfter(l,e),_H(n)?a.remove(e):a.remove(n)}else a.replace(l,n);else if(CH(n,r,!0))vH(n,`LI`)?(a.insertAfter(l,SH(n)),l.appendChild(a.doc.createTextNode(` `)),l.appendChild(n)):s.insertBefore(l,n),a.remove(r);else if(CH(n,r,!1))a.insertAfter(l,SH(n)),a.remove(r);else{n=SH(n);let e=o.cloneRange();e.setStartAfter(r),e.setEndAfter(n);let t=e.extractContents();if(i===`LI`&&gH(t,`LI`)){let e=R(me(l.children,U.fromDom),N(Vn(`br`)));l=t.firstChild,a.insertAfter(t,n),L(e,e=>Si(U.fromDom(l),e)),c&&l.setAttribute(`style`,c)}else a.insertAfter(t,n),a.insertAfter(l,n);a.remove(r)}rH(e,l)},EH=e=>{L(ea(U.fromDom(e),Rn),e=>{let t=e.dom;t.nodeValue=io(t.data)})},DH=(e,t)=>{let n=e.dom.getParent(t,`ol,ul,dl`);return n!==null&&e.dom.getContentEditableParent(n)===`false`},OH=(e,t)=>t&&t.nodeName===`A`&&e.isEmpty(t),kH=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,AH=(e,t)=>E(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!==`false`,jH=(e,t,n)=>{let r=[];if(!n)return;let i=n;for(;i=i.firstChild;){if(e.isBlock(i))return;W(i)&&!t[i.nodeName.toLowerCase()]&&r.push(i)}let a=r.length;for(;a--;)i=r[a],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild?.nodeValue===``||OH(e,i))&&e.remove(i)},MH=(e,t,n)=>G(t)?e?n===1&&t.data.charAt(n-1)===`﻿`?0:n:n===t.data.length-1&&t.data.charAt(n)===`﻿`?t.data.length:n:n,NH=e=>{let t=e.cloneRange();return t.setStart(e.startContainer,MH(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,MH(!1,e.endContainer,e.endOffset)),t},PH=e=>{let t=e;do G(t)&&(t.data=t.data.replace(/^[\r\n]+/,``)),t=t.firstChild;while(t)},FH=(e,t,n,r,i)=>{let a=e.dom,o=iH(a,r)??a.getRoot(),s=a.getParent(r,a.isBlock);if(!s||!AH(a,s)){if(s||=o,!s.hasChildNodes()){let r=a.create(t);return uH(e,r),s.appendChild(r),n.setStart(r,0),n.setEnd(r,0),r}let c=r;for(;c&&c.parentNode!==s;)c=c.parentNode;let l;for(;c&&!a.isBlock(c);)l=c,c=c.previousSibling;let u=l?.parentElement?.nodeName;if(l&&u&&e.schema.isValidChild(u,t.toLowerCase())){let o=l.parentNode,s=a.create(t);for(uH(e,s),o.insertBefore(s,l),c=l;c&&!a.isBlock(c);){let e=c.nextSibling;s.appendChild(c),c=e}n.setStart(r,i),n.setEnd(r,i)}}return r},IH=(e,t)=>{t.normalize();let n=t.lastChild;(!n||W(n)&&/^(left|right)$/gi.test(e.getStyle(n,`float`,!0)))&&e.add(t,`br`)},LH=(e,t)=>{let n=Bd(e);return T(t)?!1:v(n)?fe(H.explode(n),t.nodeName.toLowerCase()):n},RH={insert:(e,t)=>{let n,r,i,a,o=!1,s=e.dom,c=e.schema.getNonEmptyElements(),l=e.selection.getRng(),u=Pd(e),d=U.fromDom(l.startContainer),f=Pr(d,l.startOffset),p=f.exists(e=>In(e)&&!si(e)),m=l.collapsed&&p,h=(t,r)=>dH(e,n,x,b,zd(e),t,r),g=e=>{let t=MH(e,n,r);if(G(n)&&(e?t>0:t<n.data.length))return!1;if(n.parentNode===x&&o&&!e||e&&W(n)&&n===x.firstChild)return!0;if(kH(n,`TABLE`)||kH(n,`HR`))return o&&!e||!o&&e;let i=new ra(n,x);G(n)&&(e&&t===0?i.prev():!e&&t===n.data.length&&i.next());let a;for(;a=i.current();){if(W(a)){if(!a.getAttribute(`data-mce-bogus`)){let e=a.nodeName.toLowerCase();if(c[e]&&e!==`br`)return!1}}else if(G(a)&&!Ro(a.data))return!1;e?i.prev():i.next()}return!0},_=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(i)&&S!==`HGROUP`?h(u):h(),LH(e,a)&&AH(s,a)&&s.isEmpty(x,void 0,{includeZwsp:!0})?t=s.split(a,x):s.insertAfter(t,x),rH(e,t),t};av(s,l).each(e=>{l.setStart(e.startContainer,e.startOffset),l.setEnd(e.endContainer,e.endOffset)}),n=l.startContainer,r=l.startOffset;let v=!!(t&&t.shiftKey),y=!!(t&&t.ctrlKey);W(n)&&n.hasChildNodes()&&!m&&(o=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,r=o&&G(n)?n.data.length:0);let b=iH(s,n);if(!b||DH(e,n))return;v||(n=FH(e,u,l,n,r));let x=s.getParent(n,s.isBlock)||s.getRoot();a=E(x?.parentNode)?s.getParent(x.parentNode,s.isBlock):null,i=x?x.nodeName.toUpperCase():``;let S=a?a.nodeName.toUpperCase():``;if(S===`LI`&&!y){let e=a;x=e,a=e.parentNode,i=S}if(W(a)&&mH(e,v,x))return hH(e,h,x);if(/^(LI|DT|DD)$/.test(i)&&W(a)&&s.isEmpty(x)){TH(e,h,a,x,u);return}if(!m&&(x===e.getBody()||!AH(s,x)))return;let C=x.parentNode,w;if(m)w=h(u),f.fold(()=>{Ci(d,U.fromDom(w))},e=>{bi(e,U.fromDom(w))}),e.selection.setCursorLocation(w,0);else if(co(x))w=bo(x),s.isEmpty(x)&&cH(x),uH(e,w),rH(e,w);else if(g(!1))w=_();else if(g(!0)&&C){w=C.insertBefore(h(),x);let t=Rr(U.fromDom(l.startContainer))&&l.collapsed;rH(e,kH(x,`HR`)||t?w:x)}else{let t=NH(l).cloneRange();t.setEndAfter(x);let n=t.extractContents();EH(n),PH(n),w=n.firstChild,s.insertAfter(n,x),jH(s,c,w),IH(s,x),s.isEmpty(x)&&cH(x),w.normalize(),s.isEmpty(w)?(s.remove(w),_()):(uH(e,w),rH(e,w))}s.setAttrib(w,`id`,``),e.dispatch(`NewBlock`,{newBlock:w})},fakeEventName:`insertParagraph`},zH=(e,t,n)=>{let r=new ra(t,n),i,a=e.getNonEmptyElements();for(;i=r.next();)if(a[i.nodeName.toLowerCase()]||G(i)&&i.length>0)return!0;return!1},BH=(e,t,n)=>{let r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Lv(e,r)},VH=(e,t)=>{let n=e.selection,r=e.dom,i=n.getRng(),a,o=!1;av(r,i).each(e=>{i.setStart(e.startContainer,e.startOffset),i.setEnd(e.endContainer,e.endOffset)});let s=i.startOffset,c=i.startContainer;if(W(c)&&c.hasChildNodes()){let e=s>c.childNodes.length-1;c=c.childNodes[Math.min(s,c.childNodes.length-1)]||c,s=e&&G(c)?c.data.length:0}let l=r.getParent(c,r.isBlock),u=l&&l.parentNode?r.getParent(l.parentNode,r.isBlock):null,d=u?u.nodeName.toUpperCase():``,f=!!(t&&t.ctrlKey);d===`LI`&&!f&&(l=u),G(c)&&s>=c.data.length&&(zH(e.schema,c,l||r.getRoot())||(a=r.create(`br`),i.insertNode(a),i.setStartAfter(a),i.setEndAfter(a),o=!0)),a=r.create(`br`),Au(r,i,a),BH(e,a,o),e.undoManager.add()},HH=(e,t)=>{let n=U.fromTag(`br`);bi(U.fromDom(t),n),e.undoManager.add()},UH=(e,t)=>{GH(e.getBody(),t)||xi(U.fromDom(t),U.fromTag(`br`));let n=U.fromTag(`br`);xi(U.fromDom(t),n),BH(e,n.dom,!1),e.undoManager.add()},WH=e=>Ca(e.getNode()),GH=(e,t)=>WH(Y.after(t))?!0:Wm(e,Y.after(t)).map(e=>Ca(e.getNode())).getOr(!1),KH=e=>e&&e.nodeName===`A`&&`href`in e,qH=e=>e.fold(P,KH,KH,P),JH=e=>{let t=M(mS,e),n=Y.fromRangeStart(e.selection.getRng());return QP(t,e.getBody(),n).filter(qH)},YH=(e,t)=>{t.fold(k,M(HH,e),M(UH,e),k)},XH={insert:(e,t)=>{let n=JH(e);n.isSome()?n.each(M(YH,e)):VH(e,t)},fakeEventName:`insertLineBreak`},ZH=(e,t)=>aH(e).filter(e=>t.length>0&&hr(U.fromDom(e),t)).isSome(),QH=e=>ZH(e,Ld(e)),$H=e=>ZH(e,Rd(e)),eU=ud.generate([{br:[]},{block:[]},{none:[]}]),tU=(e,t)=>$H(e),nU=e=>(t,n)=>sH(t)===e,rU=(e,t)=>(n,r)=>oH(n)===e.toUpperCase()===t,iU=e=>T(iH(e.dom,e.selection.getStart())),aU=e=>rU(`pre`,e),oU=()=>rU(`summary`,!0),sU=e=>(t,n)=>Nd(t)===e,cU=(e,t)=>QH(e),lU=(e,t)=>t,uU=e=>{let t=Pd(e),n=iH(e.dom,e.selection.getStart());return E(n)&&e.schema.isValidChild(n.nodeName,t)},dU=e=>{let t=e.selection.getRng(),n=Pr(U.fromDom(t.startContainer),t.startOffset).map(e=>In(e)&&!si(e));return t.collapsed&&n.getOr(!0)},fU=(e,t)=>(n,r)=>ve(e,(e,t)=>e&&t(n,r),!0)?I.some(t):I.none(),pU=(e,t)=>HP([fU([tU],eU.none()),fU([aU(!0),iU],eU.none()),fU([oU()],eU.br()),fU([aU(!0),sU(!1),lU],eU.br()),fU([aU(!0),sU(!1)],eU.block()),fU([aU(!0),sU(!0),lU],eU.block()),fU([aU(!0),sU(!0)],eU.br()),fU([nU(!0),lU],eU.br()),fU([nU(!0)],eU.block()),fU([cU],eU.br()),fU([lU],eU.br()),fU([uU],eU.block()),fU([dU],eU.block())],[e,!!(t&&t.shiftKey)]).getOr(eU.none()),mU=(e,t,n)=>{t.selection.isCollapsed()||wS(t),!(E(n)&&JV(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),E(n)&&qV(t,e.fakeEventName))},hU=(e,t)=>{let n=()=>mU(XH,e,t),r=()=>mU(RH,e,t),i=pU(e,t);switch(Id(e)){case`linebreak`:i.fold(n,n,k);break;case`block`:i.fold(r,r,k);break;case`invert`:i.fold(r,n,k);break;default:i.fold(n,r,k);break}},gU=nn(),_U=gU.os.isiOS()&&gU.browser.isSafari(),vU=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),eA(e.undoManager),e.undoManager.transact(()=>{hU(e,t)}))},yU=e=>{if(!e.collapsed)return!1;let t=e.startContainer;if(G(t)){let n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return n.test(r)}else return!1},bU=e=>{let t=I.none(),n=e=>{t=I.some(e.selection.getBookmark()),e.undoManager.add()},r=(e,n)=>{e.undoManager.undo(),t.fold(k,t=>e.selection.moveToBookmark(t)),vU(e,n),t=I.none()};e.on(`keydown`,t=>{t.keyCode===$.ENTER&&(_U&&yU(e.selection.getRng())?n(e):vU(e,t))}),e.on(`keyup`,n=>{n.keyCode===$.ENTER&&t.each(()=>r(e,n))})},xU=(e,t,n)=>{let r=un.os.isMacOS()||un.os.isiOS();uR([{keyCode:$.END,action:lR(KL,e,!0)},{keyCode:$.HOME,action:lR(KL,e,!1)},...r?[]:[{keyCode:$.HOME,action:lR(qL,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:$.END,action:lR(qL,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:$.END,action:lR(mR,e,!0)},{keyCode:$.HOME,action:lR(mR,e,!1)},{keyCode:$.END,action:lR(pI,e,!0,t)},{keyCode:$.HOME,action:lR(pI,e,!1,t)}],n).each(e=>{n.preventDefault()})},SU=(e,t)=>{e.on(`keydown`,n=>{n.isDefaultPrevented()||xU(e,t,n)})},CU=e=>{e.on(`input`,t=>{t.isComposing||Hx(e)})},wU=nn(),TU=(e,t,n)=>{uR([{keyCode:$.PAGE_UP,action:lR(pI,e,!1,t)},{keyCode:$.PAGE_DOWN,action:lR(pI,e,!0,t)}],n)},EU=e=>e.stopImmediatePropagation(),DU=e=>e.keyCode===$.PAGE_UP||e.keyCode===$.PAGE_DOWN,OU=(e,t,n)=>{n&&!e.get()?t.on(`NodeChange`,EU,!0):!n&&e.get()&&t.off(`NodeChange`,EU),e.set(n)},kU=(e,t)=>{if(wU.os.isMacOS())return;let n=rl(!1);e.on(`keydown`,t=>{DU(t)&&OU(n,e,!0)}),e.on(`keyup`,r=>{r.isDefaultPrevented()||TU(e,t,r),DU(r)&&n.get()&&(OU(n,e,!1),e.nodeChanged())})},AU=e=>{e.on(`beforeinput`,t=>{(!e.selection.isEditable()||pe(t.getTargetRanges(),t=>!Ny(e.dom,t)))&&t.preventDefault()})},jU=(e,t)=>{let n=t.container(),r=t.offset();return G(n)?(n.insertData(r,e),I.some(Y(n,r+e.length))):hm(t).map(n=>{let r=U.fromText(e);return t.isAtEnd()?xi(n,r):bi(n,r),Y(r.dom,e.length)})},MU=M(jU,`\xA0`),NU=M(jU,` `),PU=(e,t,n)=>kx(e,t,n)?MU(t):NU(t),FU=e=>t=>t.fold(t=>Gm(e.dom,Y.before(t)),e=>Km(e),e=>qm(e),t=>Wm(e.dom,Y.after(t))),IU=(e,t,n)=>r=>kx(e,r,n)?MU(t):NU(t),LU=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},RU=(e,t)=>e.isEditable(e.getParent(t,`summary`)),zU=e=>{let t=Y.fromRangeStart(e.selection.getRng()),n=U.fromDom(e.getBody());if(e.selection.isCollapsed()){let r=M(mS,e),i=Y.fromRangeStart(e.selection.getRng());return QP(r,e.getBody(),i).bind(FU(n)).map(r=>()=>IU(n,t,e.schema)(r).each(LU(e)))}else return I.none()},BU=e=>Cn(un.browser.isFirefox()&&e.selection.isEditable()&&RU(e.dom,e.selection.getRng().startContainer),()=>{let t=U.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand(`Delete`),PU(t,Y.fromRangeStart(e.selection.getRng()),e.schema).each(LU(e))}),VU=(e,t)=>{dR([{keyCode:$.SPACEBAR,action:lR(zU,e)},{keyCode:$.SPACEBAR,action:lR(BU,e)}],t).each(n=>{t.preventDefault(),JV(e,`insertText`,{data:` `}).isDefaultPrevented()||(n(),qV(e,`insertText`,{data:` `}))})},HU=e=>{e.on(`keydown`,t=>{t.isDefaultPrevented()||VU(e,t)})},UU=e=>vp(e)?[{keyCode:$.TAB,action:lR(sz,e,!0)},{keyCode:$.TAB,shiftKey:!0,action:lR(sz,e,!1)}]:[],WU=(e,t)=>{uR([...UU(e)],t).each(e=>{t.preventDefault()})},GU=e=>{e.on(`keydown`,t=>{t.isDefaultPrevented()||WU(e,t)})},KU=e=>{if(e.addShortcut(`Meta+P`,``,`mcePrint`),TV(e),gA(e))return rl(null);{let t=uI(e);return AU(e),FL(e),lz(e,t),tH(e,t),bU(e),HU(e),CU(e),GU(e),SU(e,t),kU(e,t),t}};class qU{constructor(e){this.lastPath=[],this.editor=e;let t,n=this;`onselectionchange`in e.getDoc()||e.on(`NodeChange click mouseup keyup focus`,n=>{let r=e.selection.getRng(),i={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};(n.type===`nodechange`||!Y_(i,t))&&e.dispatch(`SelectionChange`),t=i}),e.on(`contextmenu`,()=>{e.dispatch(`SelectionChange`)}),e.on(`SelectionChange`,()=>{let t=e.selection.getStart(!0);t&&Fh(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on(`mouseup`,t=>{!t.isDefaultPrevented()&&Fh(e)&&(e.selection.getNode().nodeName===`IMG`?iy.setEditorTimeout(e,()=>{e.nodeChanged()}):e.nodeChanged())})}nodeChanged(e={}){let t=this.editor.selection,n;if(this.editor.initialized&&t&&!kf(this.editor)&&!this.editor.mode.isReadOnly()){let r=this.editor.getBody();n=t.getStart(!0)||r,(n.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(n,r))&&(n=r);let i=[];this.editor.dom.getParent(n,e=>e===r?!0:(i.push(e),!1)),this.editor.dispatch(`NodeChange`,{...e,element:n,parents:i})}}isSameElementPath(e){let t,n=this.editor,r=Te(n.dom.getParents(e,F,n.getBody()));if(r.length===this.lastPath.length){for(t=r.length;t>=0&&r[t]===this.lastPath[t];t--);if(t===-1)return this.lastPath=r,!0}return this.lastPath=r,!1}}let JU=Nl(`image`),YU=e=>{let t=e;return I.from(t[JU])},XU=(e,t)=>{let n=e;n[JU]=t},ZU=Nl(`event`),QU=e=>{let t=e;return I.from(t[ZU])},$U=e=>t=>{let n=t;n[ZU]=e},eW=(e,t)=>$U(t)(e),tW=$U(0),nW=$U(2),rW=$U(1),iW=(e=>t=>{let n=t;return I.from(n[ZU]).exists(t=>t===e)})(0),aW=()=>Object.freeze({length:0,item:e=>null}),oW=Nl(`mode`),sW=e=>{let t=e;return I.from(t[oW])},cW=e=>t=>{let n=t;n[oW]=e},lW=(e,t)=>cW(t)(e),uW=cW(0),dW=cW(2),fW=cW(1),pW=e=>t=>{let n=t;return I.from(n[oW]).exists(t=>t===e)},mW=pW(0),hW=pW(1),gW=(e,t)=>({...t,get length(){return t.length},add:(n,r)=>{if(mW(e))if(v(n)){if(!w(r))return t.add(n,r)}else return t.add(n);return null},remove:n=>{mW(e)&&t.remove(n)},clear:()=>{mW(e)&&t.clear()}}),_W=[`none`,`copy`,`link`,`move`],vW=[`none`,`copy`,`copyLink`,`copyMove`,`link`,`linkMove`,`move`,`all`,`uninitialized`],yW=()=>{let e=new window.DataTransfer,t=`move`,n=`all`,r={get dropEffect(){return t},set dropEffect(e){fe(_W,e)&&(t=e)},get effectAllowed(){return n},set effectAllowed(e){iW(r)&&fe(vW,e)&&(n=e)},get items(){return gW(r,e.items)},get files(){return hW(r)?aW():e.files},get types(){return e.types},setDragImage:(t,n,i)=>{mW(r)&&(XU(r,{image:t,x:n,y:i}),e.setDragImage(t,n,i))},getData:t=>hW(r)?``:e.getData(t),setData:(t,n)=>{mW(r)&&e.setData(t,n)},clearData:t=>{mW(r)&&e.clearData(t)}};return uW(r),r},bW=e=>{let t=yW(),n=sW(e);return dW(e),tW(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,YU(e).each(e=>t.setDragImage(e.image,e.x,e.y)),L(e.types,n=>{n!==`Files`&&t.setData(n,e.getData(n))}),L(e.files,e=>t.items.add(e)),QU(e).each(e=>{eW(t,e)}),n.each(n=>{lW(e,n),lW(t,n)}),t},xW=e=>{let t=e.getData(`text/html`);return t===``?I.none():I.some(t)},SW=(e,t)=>e.setData(`text/html`,t),CW=`x-tinymce/html`,wW=j(CW),TW=`<!-- `+CW+` -->`,EW=e=>TW+e,DW=e=>e.replace(TW,``),OW=e=>e.indexOf(TW)!==-1,kW=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),AW=(e,t)=>{let n=`<`+e,r=Ue(t,(e,t)=>t+`="`+Qs.encodeAllRaw(e)+`"`);return r.length&&(n+=` `+r.join(` `)),n+`>`},jW=(e,t,n)=>{let r=e.split(/\n\n/),i=AW(t,n),a=`</`+t+`>`,o=me(r,e=>e.split(/\n/).join(`<br />`));return o.length===1?o[0]:me(o,e=>i+e+a).join(``)},MW=`%MCEPASTEBIN%`,NW=(e,t)=>{let{dom:n,selection:r}=e,i=e.getBody();t.set(r.getRng());let a=n.add(e.getBody(),`div`,{id:`mcepastebin`,class:`mce-pastebin`,contentEditable:!0,"data-mce-bogus":`all`,style:`position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0`},MW);un.browser.isFirefox()&&n.setStyle(a,`left`,n.getStyle(i,`direction`,!0)===`rtl`?65535:-65535),n.bind(a,`beforedeactivate focusin focusout`,e=>{e.stopPropagation()}),a.focus(),r.select(a,!0)},PW=(e,t)=>{let n=e.dom;if(FW(e)){let r,i=t.get();for(;r=FW(e);)n.remove(r),n.unbind(r);i&&e.selection.setRng(i)}t.set(null)},FW=e=>e.dom.get(`mcepastebin`),IW=e=>E(e)&&e.id===`mcepastebin`,LW=e=>{let t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[r,...i]=R(e.getBody().childNodes,IW);L(i,e=>{n(r,e)});let a=t.select(`div[id=mcepastebin]`,r);for(let e=a.length-1;e>=0;e--){let i=t.create(`div`);r.insertBefore(i,a[e]),n(i,a[e])}return r?r.innerHTML:``},RW=e=>e===MW,zW=e=>{let t=rl(null);return{create:()=>NW(e,t),remove:()=>PW(e,t),getEl:()=>FW(e),getHtml:()=>LW(e),getLastRng:t.get}},BW=(e,t)=>(H.each(t,t=>{e=_(t,RegExp)?e.replace(t,``):e.replace(t[0],t[1])}),e),VW=e=>{let t=_c(),n=WO({},t),r=``,i=t.getVoidElements(),a=H.makeMap(`script noscript style textarea video audio iframe object`,` `),o=t.getBlockElements(),s=e=>{let n=e.name,c=e;if(n===`br`){r+=`
`;return}if(n!==`wbr`){if(i[n]&&(r+=` `),a[n]){r+=` `;return}if(e.type===3&&(r+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do s(t);while(t=t.next)}o[n]&&c.next&&(r+=`
`,n===`p`&&(r+=`
`))}};return e=BW(e,[/<!\[[^\]]+\]>/g]),s(n.parse(e)),r},HW=e=>(e=BW(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,n)=>!t&&!n?` `:`\xA0`],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),UW=e=>{let t=0;return()=>e+ t++},WW=e=>{let t=e.toLowerCase(),n={jpg:`jpeg`,jpe:`jpeg`,jfi:`jpeg`,jif:`jpeg`,jfif:`jpeg`,pjpeg:`jpeg`,pjp:`jpeg`,svg:`svg+xml`};return H.hasOwn(n,t)?`image/`+n[t]:`image/`+t},GW=(e,t)=>{let n=WO({sanitize:dp(e),sandbox_iframes:Sp(e)},e.schema);n.addNodeFilter(`meta`,e=>{H.each(e,e=>{e.remove()})});let r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Ob({validate:!0},e.schema).serialize(r)},KW=(e,t)=>({content:e,cancelled:t}),qW=(e,t,n)=>{let r=f_(e,e.dom.create(`div`,{style:`display:none`},t),n);return KW(r.node.innerHTML,r.isDefaultPrevented())},JW=(e,t,n)=>{let r=d_(e,t,n),i=GW(e,r.content);return e.hasEventListeners(`PastePostProcess`)&&!r.isDefaultPrevented()?qW(e,i,n):KW(i,r.isDefaultPrevented())},YW=(e,t,n)=>JW(e,t,n),XW=(e,t)=>(e.insertContent(t,{merge:$f(e),paste:!0}),!0),ZW=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),QW=(e,t)=>ZW(t)&&pe(_p(e),e=>xt(t.toLowerCase(),`.${e.toLowerCase()}`)),$W=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent(`<img src="`+t+`">`)}),!0),eG=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand(`mceInsertLink`,!1,t)}),!0),tG=(e,t,n)=>!e.selection.isCollapsed()&&ZW(t)?eG(e,t,n):!1,nG=(e,t,n)=>QW(e,t)?$W(e,t,n):!1,rG=(e,t)=>{H.each([tG,nG,XW],n=>!n(e,t,XW))},iG=(e,t,n)=>{n||!ep(e)?XW(e,t):rG(e,t)},aG=UW(`mceclip`),oG=e=>{let t=yW();return SW(t,e),dW(t),t},sG=(e,t,n,r,i)=>{let a=YW(e,t,n);if(!a.cancelled){let t=a.content,n=()=>iG(e,t,r);i?JV(e,`insertFromPaste`,{dataTransfer:oG(t)}).isDefaultPrevented()||(n(),qV(e,`insertFromPaste`)):n()}},cG=(e,t,n,r)=>{let i=n||OW(t);sG(e,DW(t),i,!1,r)},lG=(e,t,n)=>{sG(e,jW(Uo(e.dom.encode(t).replace(/\r\n/g,`
`),np(e)),Pd(e),Fd(e)),!1,!0,n)},uG=e=>{let t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){let r=e.types[n];try{t[r]=e.getData(r)}catch{t[r]=``}}return t},dG=(e,t)=>t in e&&e[t].length>0,fG=e=>dG(e,`text/html`)||dG(e,`text/plain`),pG=(e,t)=>{let n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return E(n)?e.dom.encode(n[1]):void 0},mG=(e,t,n,r)=>{let i=aG(),a=Hd(e)&&E(n.name),o=a?pG(e,n.name):i,s=a?n.name:void 0,c=t.create(i,n,r,o,s);return t.add(c),c},hG=(e,t)=>{QE(t.uri).each(({data:n,type:r,base64Encoded:i})=>{let a=i?n:btoa(n),o=t.file,s=e.editorUpload.blobCache;cG(e,`<img src="${(s.getByData(a,r)??mG(e,s,o,a)).blobUri()}">`,!1,!0)})},gG=e=>e.type===`paste`,_G=e=>Promise.all(me(e,e=>nD(e).then(t=>({file:e,uri:t})))),vG=e=>{let t=_p(e);return e=>bt(e.type,`image/`)&&pe(t,t=>WW(t)===e.type)},yG=(e,t)=>{let n=t.items?Ce(Me(t.items),e=>e.kind===`file`?[e.getAsFile()]:[]):[],r=t.files?Me(t.files):[];return R(n.length>0?n:r,vG(e))},bG=(e,t,n)=>{let r=gG(t)?t.clipboardData:t.dataTransfer;if(qf(e)&&r){let i=yG(e,r);if(i.length>0)return t.preventDefault(),_G(i).then(t=>{n&&e.selection.setRng(n),L(t,t=>{hG(e,t)})}),!0}return!1},xG=e=>un.os.isAndroid()&&e.clipboardData?.items?.length===0,SG=e=>$.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,CG=(e,t,n,r,i)=>{let a=HW(n),o=dG(t,wW())||OW(n),s=!o&&kW(a),c=ZW(a);(RW(a)||!a.length||s&&!c)&&(r=!0),(r||c)&&(a=dG(t,`text/plain`)&&s?t[`text/plain`]:VW(a)),!RW(a)&&(r?lG(e,a,i):cG(e,a,o,i))},wG=(e,t,n)=>{let r,i=()=>t.getLastRng()||e.selection.getRng();e.on(`keydown`,e=>{SG(e)&&!e.isDefaultPrevented()&&(r=e.shiftKey&&e.keyCode===86)}),e.on(`paste`,a=>{if(a.isDefaultPrevented()||xG(a))return;let o=n.get()===`text`||r;r=!1;let s=uG(a.clipboardData);!fG(s)&&bG(e,a,i())||(dG(s,`text/html`)?(a.preventDefault(),CG(e,s,s[`text/html`],o,!0)):dG(s,`text/plain`)&&dG(s,`text/uri-list`)?(a.preventDefault(),CG(e,s,s[`text/plain`],o,!0)):(t.create(),iy.setEditorTimeout(e,()=>{let n=t.getHtml();t.remove(),CG(e,s,n,o,!1)},0)))})},TG=e=>{let t=e=>bt(e,`webkit-fake-url`),n=e=>bt(e,`data:`),r=e=>e.data?.paste===!0;e.parser.addNodeFilter(`img`,(i,a,o)=>{if(!qf(e)&&r(o))for(let r of i){let i=r.attr(`src`);v(i)&&!r.attr(`data-mce-object`)&&i!==un.transparentSrc&&(t(i)||!rp(e)&&n(i))&&r.remove()}})},EG=(e,t,n)=>{wG(e,t,n),TG(e)},DG=(e,t)=>{t.get()===`text`?(t.set(`html`),p_(e,!1)):(t.set(`text`),p_(e,!0)),e.focus()},OG=(e,t)=>{e.addCommand(`mceTogglePlainTextPaste`,()=>{DG(e,t)}),e.addCommand(`mceInsertClipboardContent`,(t,n)=>{n.html&&cG(e,n.html,n.internal,!1),n.text&&lG(e,n.text,!1)})},kG=(e,t,n)=>{if(e)try{return e.clearData(),e.setData(`text/html`,t),e.setData(`text/plain`,n),e.setData(wW(),t),!0}catch{return!1}else return!1},AG=(e,t,n,r)=>{kG(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},jG=e=>(t,n)=>{let{dom:r,selection:i}=e,a=r.create(`div`,{contenteditable:`false`,"data-mce-bogus":`all`}),o=r.create(`div`,{contenteditable:`true`},t);r.setStyles(a,{position:`fixed`,top:`0`,left:`-3000px`,width:`1000px`,overflow:`hidden`}),a.appendChild(o),r.add(e.getBody(),a);let s=i.getRng();o.focus();let c=r.createRng();c.selectNodeContents(o),i.setRng(c),iy.setEditorTimeout(e,()=>{i.setRng(s),r.remove(a),n()},0)},MG=e=>({html:EW(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:`text`})}),NG=e=>!!e.dom.getParent(e.selection.getStart(),`td[data-mce-selected],th[data-mce-selected]`,e.getBody()),PG=e=>!e.selection.isCollapsed()||NG(e),FG=e=>t=>{!t.isDefaultPrevented()&&PG(e)&&e.selection.isEditable()&&AG(t,MG(e),jG(e),()=>{if(un.browser.isChromium()||un.browser.isFirefox()){let t=e.selection.getRng();iy.setEditorTimeout(e,()=>{e.selection.setRng(t),e.execCommand(`Delete`)},0)}else e.execCommand(`Delete`)})},IG=e=>t=>{!t.isDefaultPrevented()&&PG(e)&&AG(t,MG(e),jG(e),k)},LG=e=>{e.on(`cut`,FG(e)),e.on(`copy`,IG(e))},RG=(e,t)=>cv.getCaretRangeFromPoint(t.clientX??0,t.clientY??0,e.getDoc()),zG=e=>{let t=e[`text/plain`];return t?t.indexOf(`file://`)===0:!1},BG=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},VG=e=>pe(e.files,e=>/^image\//.test(e.type)),HG=(e,t,n,r)=>{let i=e.getParent(n,e=>bs(t,e));if(S(e.getParent(n,`summary`)))if(i&&Ke(r,`text/html`)){let e=new DOMParser().parseFromString(r[`text/html`],`text/html`).body;return!S(e.querySelector(i.nodeName.toLowerCase()))}else return!1;else return!0},UG=e=>{e.on(`input`,t=>{t.inputType===`deleteByDrag`&&L(R(e.dom.select(`details`),e=>S(e.querySelector(`summary`))),t=>{Ca(t.firstChild)&&t.firstChild.remove();let n=e.dom.create(`summary`);n.appendChild(eo().dom),t.prepend(n)})})},WG=(e,t)=>{Kf(e)&&e.on(`dragend dragover draggesture dragdrop drop drag`,e=>{e.preventDefault(),e.stopPropagation()}),qf(e)||e.on(`drop`,e=>{let t=e.dataTransfer;t&&VG(t)&&e.preventDefault()}),e.on(`drop`,n=>{if(n.isDefaultPrevented())return;let r=RG(e,n);if(T(r))return;let i=uG(n.dataTransfer),a=dG(i,wW());if((!fG(i)||zG(i))&&bG(e,n,r))return;let o=i[wW()],s=o||i[`text/html`]||i[`text/plain`],c=HG(e.dom,e.schema,r.startContainer,i),l=t.get();l&&!c||s&&(n.preventDefault(),iy.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(o||l&&c)&&e.execCommand(`Delete`),BG(e,r);let t=HW(s);i[`text/html`]?cG(e,t,a,!0):lG(e,t,!0)})}))}),e.on(`dragstart`,e=>{t.set(!0)}),e.on(`dragover dragend`,n=>{qf(e)&&!t.get()&&(n.preventDefault(),BG(e,RG(e,n))),n.type===`dragend`&&t.set(!1)}),UG(e)},GG=e=>{let t=t=>n=>{t(e,n)},n=Jf(e);D(n)&&e.on(`PastePreProcess`,t(n));let r=Yf(e);D(r)&&e.on(`PastePostProcess`,t(r))},KG=(e,t)=>{e.on(`PastePreProcess`,n=>{n.content=t(e,n.content,n.internal)})},qG=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,JG=e=>H.trim(e).replace(qG,Oc).toLowerCase(),YG=(e,t,n)=>{let r=Zf(e);if(n||r===`all`||!Qf(e))return t;let i=r?r.split(/[, ]/):[];if(i&&r!==`none`){let n=e.dom,r=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(e,t,a,o)=>{let s=n.parseStyle(n.decode(a)),c={};for(let e=0;e<i.length;e++){let t=s[i[e]],a=t,o=n.getStyle(r,i[e],!0);/color/.test(i[e])&&(a=JG(a),o=JG(o)),o!==a&&(c[i[e]]=t)}let l=n.serializeStyle(c,`span`);return l?t+` style="`+l+`"`+o:t+o})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,`$1$3`);return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(e,t,n,r)=>t+` style="`+n+`"`+r),t},XG=e=>{(un.browser.isChromium()||un.browser.isSafari())&&KG(e,YG)},ZG=e=>{let t=rl(!1),n=rl(tp(e)?`text`:`html`),r=zW(e);XG(e),OG(e,n),GG(e),e.on(`PreInit`,()=>{LG(e),WG(e,t),EG(e,r,n)})},QG=e=>{e.on(`click`,t=>{e.dom.getParent(t.target,`details`)&&t.preventDefault()})},$G=e=>{e.parser.addNodeFilter(`details`,t=>{let n=yp(e);L(t,e=>{n===`expanded`?e.attr(`open`,`open`):n===`collapsed`&&e.attr(`open`,null)})}),e.serializer.addNodeFilter(`details`,t=>{let n=bp(e);L(t,e=>{n===`expanded`?e.attr(`open`,`open`):n===`collapsed`&&e.attr(`open`,null)})})},eK=e=>{QG(e),$G(e)},tK=Ca,nK=G,rK=e=>Ea(e.dom),iK=e=>Ta(e.dom),aK=e=>t=>yr(U.fromDom(e),t),oK=(e,t,n)=>$r(U.fromDom(e),e=>iK(e)||n.isBlock(Mn(e)),aK(t)).getOr(U.fromDom(t)).dom,sK=(e,t)=>$r(U.fromDom(e),rK,aK(t)),cK=(e,t,n)=>{let r=new ra(e,t),i=n?r.next.bind(r):r.prev.bind(r),a=e;for(let t=n?e:i();t&&!tK(t);t=i())Ao(t)&&(a=t);return a},lK=(e,t,n)=>{let r=Y.fromRangeStart(e).getNode(),i=oK(r,t,n),a=cK(r,i,!1),o=cK(r,i,!0),s=document.createRange();return sK(a,i).fold(()=>{nK(a)?s.setStart(a,0):s.setStartBefore(a)},e=>s.setStartBefore(e.dom)),sK(o,i).fold(()=>{nK(o)?s.setEnd(o,o.data.length):s.setEndAfter(o)},e=>s.setEndAfter(e.dom)),s},uK=e=>{let t=lK(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(aw(t))},dK=e=>{e.on(`mousedown`,t=>{t.detail>=3&&(t.preventDefault(),uK(e))})};var fK;(function(e){e.Before=`before`,e.After=`after`})(fK||={});let pK=(e,t)=>Math.abs(e.left-t),mK=(e,t)=>Math.abs(e.right-t),hK=(e,t)=>e>=t.top&&e<=t.bottom,gK=(e,t)=>e.top<t.bottom&&e.bottom>t.top,_K=(e,t)=>{let n=$l(e,t)/Math.min(e.height,t.height);return gK(e,t)&&n>.5},vK=(e,t)=>Zl(R(e,e=>hK(t,e))).fold(()=>[[],e],t=>{let{pass:n,fail:r}=ge(e,e=>_K(e,t));return[n,r]}),yK=(e,t)=>({node:e.node,position:pK(e,t)<mK(e,t)?fK.Before:fK.After}),bK=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),xK=(e,t,n,r)=>{let i=e=>Ao(e.node)?I.some(e):W(e.node)?xK(Me(e.node.childNodes),t,n,!1):I.none(),a=(e,r,a)=>i(r).filter(r=>Math.abs(a(e,t,n)-a(r,t,n))<2&&G(r.node)),o=(e,o)=>{let s=Oe(e,(e,r)=>o(e,t,n)-o(r,t,n));return Ne(s,i).map(e=>r&&!G(e.node)&&s.length>1?a(e,s[1],o).getOr(e):e)},[s,c]=vK(IF(e),n),{pass:l,fail:u}=ge(c,e=>e.top<n);return o(s,bK).orThunk(()=>o(u,Ql)).orThunk(()=>o(l,Ql))},SK=(e,t,n,r)=>{let i=(t,a)=>{let o=R(t.dom.childNodes,N(e=>W(e)&&e.classList.contains(`mce-drag-container`)));return a.fold(()=>xK(o,n,r,!0),e=>xK(R(o,t=>t!==e.dom),n,r,!0)).orThunk(()=>(yr(t,e)?I.none():Er(t)).bind(e=>i(e,I.some(t))))};return i(t,I.none())},CK=(e,t,n)=>{let r=U.fromDom(e),i=Sr(r);return SK(r,U.fromPoint(i,t,n).filter(e=>br(r,e)).getOr(r),t,n)},wK=(e,t,n)=>CK(e,t,n).filter(e=>Up(e.node)).map(e=>yK(e,t)),TK=e=>{let t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,i=n.defaultView;return{top:t.top+(i?.scrollY??0)-r.clientTop,left:t.left+(i?.scrollX??0)-r.clientLeft}},EK=e=>e.inline?TK(e.getBody()):{left:0,top:0},DK=e=>{let t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},OK=e=>{let t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:i},kK=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){let n=TK(e.getContentAreaContainer()),r=OK(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},AK=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),jK=(e,t)=>AK(EK(e),DK(e),kK(e,t)),MK=e=>({target:e,srcElement:e}),NK=(e,t,n,r)=>({...t,dataTransfer:r,type:e,...MK(n)}),PK=(e,t,n)=>{let r=ie(`Function not supported on simulated event.`);return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:k,stopImmediatePropagation:k,stopPropagation:k,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:n,...MK(t)}},FK=(e,t)=>{let n=bW(e);return t===`dragstart`?(tW(n),uW(n)):t===`drop`?(nW(n),dW(n)):(rW(n),fW(n)),n},IK=(e,t,n,r)=>{let i=FK(n,e);return w(r)?PK(e,t,i):NK(e,r,t,i)},LK=Ea,RK=ou(LK,Ta),zK=(e,t,n)=>LK(n)&&n!==t&&e.isEditable(n.parentElement),BK=(e,t,n)=>T(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),VK=(e,t,n,r)=>{let i=e.dom,a=t.cloneNode(!0);i.setStyles(a,{width:n,height:r}),i.setAttrib(a,`data-mce-selected`,null);let o=i.create(`div`,{class:`mce-drag-container`,"data-mce-bogus":`all`,unselectable:`on`,contenteditable:`false`});return i.setStyles(o,{position:`absolute`,opacity:.5,overflow:`hidden`,border:0,padding:0,margin:0,width:n,height:r}),i.setStyles(a,{margin:0,boxSizing:`border-box`}),o.appendChild(a),o},HK=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},UK=(e,t)=>n=>()=>{let r=e===`left`?n.scrollX:n.scrollY;n.scroll({[e]:r+t,behavior:`smooth`})},WK=UK(`left`,-32),GK=UK(`left`,32),KK=UK(`top`,-32),qK=UK(`top`,32),JK=(e,t,n,r,i,a,o,s,c,l,u,d)=>{let f=0,p=0;e.style.left=t.pageX+`px`,e.style.top=t.pageY+`px`,t.pageX+n>i&&(f=t.pageX+n-i),t.pageY+r>a&&(p=t.pageY+r-a),e.style.width=n-f+`px`,e.style.height=r-p+`px`;let m=c.clientHeight,h=c.clientWidth,g=o+c.getBoundingClientRect().top,_=s+c.getBoundingClientRect().left;u.on(e=>{e.intervalId.clear(),e.dragging&&d&&(o+8>=m?e.intervalId.set(qK(l)):o-8<=0?e.intervalId.set(KK(l)):s+8>=h?e.intervalId.set(GK(l)):s-8<=0?e.intervalId.set(WK(l)):g+16>=window.innerHeight?e.intervalId.set(qK(window)):g-16<=0?e.intervalId.set(KK(window)):_+16>=window.innerWidth?e.intervalId.set(GK(window)):_-16<=0&&e.intervalId.set(WK(window)))})},YK=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},XK=(e,t)=>{let n=e.getParent(t.parentNode,e.isBlock);YK(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&to(U.fromDom(n))},ZK=e=>e.button===0,QK=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),$K=(e,t)=>n=>{if(ZK(n)){let r=be(t.dom.getParents(n.target),RK).getOr(null);if(E(r)&&zK(t.dom,t.getBody(),r)){let i=t.dom.getPos(r),a=t.getBody(),o=t.getDoc().documentElement;e.set({element:r,dataTransfer:yW(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?a.scrollWidth:o.offsetWidth)-2,maxY:(t.inline?a.scrollHeight:o.offsetHeight)-2,relX:n.pageX-i.x,relY:n.pageY-i.y,width:r.offsetWidth,height:r.offsetHeight,ghost:VK(t,r,r.offsetWidth,r.offsetHeight),intervalId:pl(100)})}}},eq=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),wK(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),r=>{let i=e._selectionOverrides.showCaret(1,r.node,r.position===fK.Before,!1);i?e.selection.setRng(i):e.selection.placeCaretAt(t,n)})},tq=(e,t,n,r,i)=>{t===`dragstart`&&SW(r,e.dom.getOuterHTML(n));let a=IK(t,n,r,i);return e.dispatch(t,a)},nq=(e,t)=>{let n=hl((e,n)=>eq(t,e,n),0);t.on(`remove`,n.cancel);let r=e;return i=>e.on(e=>{let a=Math.max(Math.abs(i.screenX-e.screenX),Math.abs(i.screenY-e.screenY));if(!e.dragging&&a>10){let n=tq(t,`dragstart`,e.element,e.dataTransfer,i);if(E(n.dataTransfer)&&(e.dataTransfer=n.dataTransfer),n.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){let a=i.currentTarget===t.getDoc().documentElement,o=QK(e,jK(t,i));HK(e.ghost,t.getBody()),JK(e.ghost,o,e.width,e.height,e.maxX,e.maxY,i.clientY,i.clientX,t.getContentAreaContainer(),t.getWin(),r,a),n.throttle(i.clientX,i.clientY)}})},rq=e=>{let t=e.getSel();if(E(t)){let e=t.getRangeAt(0).startContainer;return G(e)?e.parentNode:e}else return null},iq=(e,t)=>n=>{e.on(e=>{e.intervalId.clear(),e.dragging&&(BK(t,rq(t.selection),e.element)&&(tq(t,`drop`,t.getDoc().elementFromPoint(n.clientX,n.clientY)??t.getBody(),e.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{XK(t.dom,e.element),xW(e.dataTransfer).each(e=>t.insertContent(e)),t._selectionOverrides.hideFakeCaret()})),tq(t,`dragend`,t.getBody(),e.dataTransfer,n))}),sq(e)},aq=(e,t,n)=>{e.on(e=>{e.intervalId.clear(),e.dragging&&n.fold(()=>tq(t,`dragend`,e.element,e.dataTransfer),n=>tq(t,`dragend`,e.element,e.dataTransfer,n))}),sq(e)},oq=(e,t)=>n=>aq(e,t,I.some(n)),sq=e=>{e.on(e=>{e.intervalId.clear(),YK(e.ghost)}),e.clear()},cq=e=>{let t=ml(),n=el.DOM,r=document,i=$K(t,e),a=nq(t,e),o=iq(t,e),s=oq(t,e);e.on(`mousedown`,i),e.on(`mousemove`,a),e.on(`mouseup`,o),n.bind(r,`mousemove`,a),n.bind(r,`mouseup`,s),e.on(`remove`,()=>{n.unbind(r,`mousemove`,a),n.unbind(r,`mouseup`,s)}),e.on(`keydown`,n=>{n.keyCode===$.ESC&&aq(t,e,I.none())})},lq=e=>{let t=t=>{if(!t.isDefaultPrevented()){let n=t.dataTransfer;n&&(fe(n.types,`Files`)||n.files.length>0)&&(t.preventDefault(),t.type===`drop`&&hM(e,`Dropped file type is not supported`))}},n=n=>{my(e,n.target)&&t(n)},r=()=>{let r=el.DOM,i=e.dom,a=document,o=e.inline?e.getBody():e.getDoc(),s=[`drop`,`dragover`];L(s,e=>{r.bind(a,e,n),i.bind(o,e,t)}),e.on(`remove`,()=>{L(s,e=>{r.unbind(a,e,n),i.unbind(o,e,t)})})};e.on(`init`,()=>{iy.setEditorTimeout(e,r,0)})},uq=e=>{cq(e),Ff(e)&&lq(e)},dq=e=>{let t=hl(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){let t=e.selection.getRng();if(t.collapsed){let n=eP(e,t,!1);e.selection.setRng(n)}}},0);e.on(`focus`,()=>{t.throttle()}),e.on(`blur`,()=>{t.cancel()})},fq=e=>{e.on(`init`,()=>{e.on(`focusin`,t=>{let n=t.target;if(Oa(n)){let t=FC(e.getBody(),n),r=Ea(t)?t:n;e.selection.getNode()!==r&&QN(e,r).each(t=>e.selection.setRng(t))}})})},pq=Ea,mq=(e,t)=>FC(e.getBody(),t),hq=e=>{let t=e.selection,n=e.dom,r=e.getBody(),i=Bp(e,r,n.isBlock,()=>Oy(e)),a=`sel-`+n.uniqueId(),o=`data-mce-selected`,s,c=e=>E(e)&&n.hasClass(e,`mce-offscreen-selection`),l=e=>e!==r&&(pq(e)||Oa(e))&&n.isChildOf(e,r)&&n.isEditable(e.parentNode),u=e=>{e&&t.setRng(e)},d=(n,r,a,o=!0)=>e.dispatch(`ShowCaret`,{target:r,direction:n,before:a}).isDefaultPrevented()?null:(o&&t.scrollIntoView(r,n===-1),i.show(a,r)),f=e=>{e.hasAttribute(`data-mce-caret`)&&(bo(e),t.scrollIntoView(e))},p=()=>{e.on(`click`,t=>{n.isEditable(t.target)||(t.preventDefault(),e.focus())}),e.on(`blur NewBlock`,b),e.on(`ResizeWindow FullscreenStateChanged`,i.reposition),e.on(`tap`,t=>{let n=t.target,r=mq(e,n);pq(r)?(t.preventDefault(),QN(e,r).each(y)):l(n)&&QN(e,n).each(y)},!0),e.on(`mousedown`,t=>{let i=t.target;if(i!==r&&i.nodeName!==`HTML`&&!n.isChildOf(i,r)||!aM(e,t.clientX,t.clientY))return;b(),S();let a=mq(e,i);pq(a)?(t.preventDefault(),QN(e,a).each(y)):wK(r,t.clientX,t.clientY).each(n=>{t.preventDefault(),u(d(1,n.node,n.position===fK.Before,!1)),oa(a)?a.focus():e.getBody().focus()})}),e.on(`keypress`,e=>{$.modifierPressed(e)||pq(t.getNode())&&e.preventDefault()}),e.on(`GetSelectionRange`,e=>{let t=e.range;if(s){if(!s.parentNode){s=null;return}t=t.cloneRange(),t.selectNode(s),e.range=t}}),e.on(`SetSelectionRange`,e=>{e.range=g(e.range);let t=y(e.range,e.forward);t&&(e.range=t)});let a=e=>W(e)&&e.id===`mcepastebin`;e.on(`AfterSetSelectionRange`,e=>{let t=e.range,n=t.startContainer.parentElement;!h(t)&&!a(n)&&S(),c(n)||b()}),uq(e),dq(e),fq(e)},m=e=>uo(e)||_o(e)||vo(e),h=e=>m(e.startContainer)||m(e.endContainer),g=t=>{let r=e.schema.getVoidElements(),i=n.createRng(),a=t.startContainer,o=t.startOffset,s=t.endContainer,c=t.endOffset;return Ke(r,a.nodeName.toLowerCase())?o===0?i.setStartBefore(a):i.setStartAfter(a):i.setStart(a,o),Ke(r,s.nodeName.toLowerCase())?c===0?i.setEndBefore(s):i.setEndAfter(s):i.setEnd(s,c),i},_=(r,i)=>{let o=U.fromDom(e.getBody()),s=e.getDoc(),c=ii(o,`#`+a).getOrThunk(()=>{let e=U.fromHtml(`<div data-mce-bogus="all" class="mce-offscreen-selection"></div>`,s);return Un(e,`id`,a),Ci(o,e),e}),l=n.createRng();Di(c),Ei(c,[U.fromText(`\xA0`,s),U.fromDom(i),U.fromText(`\xA0`,s)]),l.setStart(c.dom.firstChild,1),l.setEnd(c.dom.lastChild,0),pi(c,{top:n.getPos(r,e.getBody()).y+`px`}),Rv(c);let u=t.getSel();return u&&(u.removeAllRanges(),u.addRange(l)),l},v=t=>{let r=t.cloneNode(!0),i=e.dispatch(`ObjectSelected`,{target:t,targetClone:r});if(i.isDefaultPrevented())return null;let a=_(t,i.targetClone),c=U.fromDom(t);return L(ta(U.fromDom(e.getBody()),`*[${o}]`),e=>{yr(c,e)||Jn(e,o)}),n.getAttrib(t,o)||t.setAttribute(o,`1`),s=t,S(),a},y=(e,t)=>{if(!e)return null;if(e.collapsed){if(!h(e)){let i=t?1:-1,a=mm(i,r,e),o=a.getNode(!t);if(E(o)){if(Up(o))return d(i,o,t?!a.isAtEnd():!1,!1);if(lo(o)&&Ea(o.nextSibling)){let e=n.createRng();return e.setStart(o,0),e.setEnd(o,0),e}}let s=a.getNode(t);if(E(s)){if(Up(s))return d(i,s,t?!1:!a.isAtEnd(),!1);if(lo(s)&&Ea(s.previousSibling)){let e=n.createRng();return e.setStart(s,1),e.setEnd(s,1),e}}}return null}let i=e.startContainer,a=e.startOffset,o=e.endOffset;if(G(i)&&a===0&&pq(i.parentNode)&&(i=i.parentNode,a=n.nodeIndex(i),i=i.parentNode),!W(i))return null;if(o===a+1&&i===e.endContainer){let e=i.childNodes[a];if(l(e))return v(e)}return null},b=()=>{s&&s.removeAttribute(o),ii(U.fromDom(e.getBody()),`#`+a).each(Oi),s=null},x=()=>{i.destroy(),s=null},S=()=>{i.hide()};return gA(e)||p(),{showCaret:d,showBlockCaretContainer:f,hideFakeCaret:S,destroy:x}},gq=(e,t)=>{let n=t;for(let t=e.previousSibling;G(t);t=t.previousSibling)n+=t.data.length;return n},_q=(e,t,n,r,i)=>{if(G(n)&&(r<0||r>n.data.length))return[];let a=i&&G(n)?[gq(n,r)]:[r],o=n;for(;o!==t&&o.parentNode;)a.push(e.nodeIndex(o,i)),o=o.parentNode;return o===t?a.reverse():[]},vq=(e,t,n,r,i,a,o=!1)=>({start:_q(e,t,n,r,o),end:_q(e,t,i,a,o)}),yq=(e,t)=>{let n=t.slice(),r=n.pop();return O(r)?ve(n,(e,t)=>e.bind(e=>I.from(e.childNodes[t])),I.some(e)).bind(e=>G(e)&&(r<0||r>e.data.length)?I.none():I.some({node:e,offset:r})):I.none()},bq=(e,t)=>yq(e,t.start).bind(({node:n,offset:r})=>yq(e,t.end).map(({node:e,offset:t})=>{let i=document.createRange();return i.setStart(n,r),i.setEnd(e,t),i})),xq=(e,t,n,r=!1)=>vq(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r),Sq=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){let r=t.parentNode;e.remove(t,G(t.firstChild)&&Ro(t.firstChild.data)),Sq(e,r,n)}},Cq=(e,t,n,r=!0)=>{let i=t.startContainer.parentNode,a=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(G(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),G(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),Sq(e,i,n),i!==a&&Sq(e,a,n))},wq=(e,t)=>I.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),Tq=(e,t,n)=>{let r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:hd(r).concat(e.blockPatterns),inlinePatterns:gd(r).concat(e.inlinePatterns)}},Eq=(e,t,n,r)=>{let i=e.createRng();return i.setStart(t,0),i.setEnd(n,r),i.toString()},Dq=e=>/^\s[^\s]/.test(e),Oq=(e,t,n)=>{hz(t,0,t).each(r=>{let i=r.container;_z(i,n.start.length,t).each(n=>{let r=e.createRng();r.setStart(i,0),r.setEnd(n.container,n.offset),Cq(e,r,e=>e===t)});let a=U.fromDom(i),o=Fa(a);Dq(o)&&La(a,o.slice(1))})},kq=(e,t)=>{let n=e.dom,r=t.pattern,i=bq(n.getRoot(),t.range).getOrDie(`Unable to resolve path range`),a=(e,t)=>{let n=t.get(e);return x(n)&&Ae(n).exists(e=>Ke(e,`block`))};return wq(e,i).each(t=>{r.type===`block-format`?a(r.format,e.formatter)&&e.undoManager.transact(()=>{Oq(e.dom,t,r),e.formatter.apply(r.format)}):r.type===`block-command`&&e.undoManager.transact(()=>{Oq(e.dom,t,r),e.execCommand(r.cmd,!1,r.value)})}),!0},Aq=e=>Oe(e,(e,t)=>t.start.length-e.start.length),jq=(e,t)=>{let n=Aq(e),r=t.replace(`\xA0`,` `);return be(n,e=>t.indexOf(e.start)===0||r.indexOf(e.start)===0)},Mq=(e,t,n,r)=>{let i=e.dom,a=Pd(e);if(!i.is(t,a))return[];let o=t.textContent??``;return jq(n.blockPatterns,o).map(e=>H.trim(o).length===e.start.length?[]:[{pattern:e,range:vq(i,i.getRoot(),t,0,t,0,r)}]).getOr([])},Nq=(e,t)=>{if(t.length===0)return;let n=e.selection.getBookmark();L(t,t=>kq(e,t)),e.selection.moveToBookmark(n)},Pq=(e,t)=>e.create(`span`,{"data-mce-type":`bookmark`,id:t}),Fq=(e,t)=>{let n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},Iq=(e,t,n)=>{let r=bq(e.getRoot(),n).getOrDie(`Unable to resolve path range`),i=r.startContainer,a=r.endContainer,o=r.endOffset===0?a:a.splitText(r.endOffset),s=r.startOffset===0?i:i.splitText(r.startOffset),c=s.parentNode;return{prefix:t,end:o.parentNode.insertBefore(Pq(e,t+`-end`),o),start:c.insertBefore(Pq(e,t+`-start`),s)}},Lq=(e,t,n)=>{Sq(e,e.get(t.prefix+`-end`),n),Sq(e,e.get(t.prefix+`-start`),n)},Rq=e=>e.start.length===0,zq=e=>(t,n)=>{let r=t.data.substring(0,n),i=r.lastIndexOf(e.charAt(e.length-1)),a=r.lastIndexOf(e);return a===-1?i===-1?-1:i+1:a+e.length},Bq=(e,t,n,r)=>{let i=t.start;return vz(e,r.container,r.offset,zq(i),n).bind(r=>{let a=n.textContent?.indexOf(i)??-1;if(a!==-1&&r.offset>=a+i.length){let t=e.createRng();return t.setStart(r.container,r.offset-i.length),t.setEnd(r.container,r.offset),I.some(t)}else{let a=r.offset-i.length;return gz(r.container,a,n).map(t=>{let n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(r.container,r.offset),n}).filter(e=>e.toString()===i).orThunk(()=>Bq(e,t,n,uz(r.container,0)))}})},Vq=(e,t,n,r,i,a=!1)=>{if(t.start.length===0&&!a){let t=e.createRng();return t.setStart(n,r),t.setEnd(n,r),I.some(t)}return mz(n,r,i).bind(n=>Bq(e,t,i,n).bind(e=>a&&(e.endContainer===n.container&&e.endOffset===n.offset||n.offset===0&&e.endContainer.textContent?.length===e.endOffset)?I.none():I.some(e)))},Hq=(e,t,n,r)=>{let i=e.dom,a=i.getRoot(),o=n.pattern,s=n.position.container,c=n.position.offset;return gz(s,c-n.pattern.end.length,t).bind(l=>{let u=vq(i,a,l.container,l.offset,s,c,r);if(Rq(o))return I.some({matches:[{pattern:o,startRng:u,endRng:u}],position:l});{let s=Uq(e,n.remainingPatterns,l.container,l.offset,t,r),c=s.getOr({matches:[],position:l}),d=c.position;return Vq(i,o,d.container,d.offset,t,s.isNone()).map(e=>{let t=xq(i,a,e,r);return{matches:c.matches.concat([{pattern:o,startRng:t,endRng:u}]),position:uz(e.startContainer,e.startOffset)}})}})},Uq=(e,t,n,r,i,a)=>{let o=e.dom;return mz(n,r,o.getRoot()).bind(s=>{let c=Eq(o,i,n,r);for(let o=0;o<t.length;o++){let l=t[o];if(!xt(c,l.end))continue;let u=t.slice();u.splice(o,1);let d=Hq(e,i,{pattern:l,remainingPatterns:u,position:s},a);if(d.isNone()&&r>0)return Uq(e,t,n,r-1,i,a);if(d.isSome())return d}return I.none()})},Wq=(e,t,n)=>{e.selection.setRng(n),t.type===`inline-format`?L(t.format,t=>{e.formatter.apply(t)}):e.execCommand(t.cmd,!1,t.value)},Gq=(e,t,n,r)=>{let i=Fq(e.dom,n);Cq(e.dom,i,r),Wq(e,t,i)},Kq=(e,t,n,r,i)=>{let a=e.dom,o=Fq(a,r);Cq(a,Fq(a,n),i),Cq(a,o,i),Wq(e,t,Fq(a,{prefix:n.prefix,start:n.end,end:r.start}))},qq=(e,t)=>{let n=Nl(`mce_textpattern`),r=_e(t,(t,r)=>{let i=Iq(e,n+`_end${t.length}`,r.endRng);return t.concat([{...r,endMarker:i}])},[]);return _e(r,(t,i)=>{let a=r.length-t.length-1,o=Rq(i.pattern)?i.endMarker:Iq(e,n+`_start${a}`,i.startRng);return t.concat([{...i,startMarker:o}])},[])},Jq=e=>Oe(e,(e,t)=>t.end.length-e.end.length),Yq=(e,t)=>{let n=we(e,e=>pe(t,t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},Xq=(e,t,n,r,i,a)=>Yq(Uq(e,i.inlinePatterns,n,r,t,a).fold(()=>[],e=>e.matches),Uq(e,Jq(i.inlinePatterns),n,r,t,a).fold(()=>[],e=>e.matches)),Zq=(e,t)=>{if(t.length===0)return;let n=e.dom,r=e.selection.getBookmark();L(qq(n,t),t=>{let r=n.getParent(t.startMarker.start,n.isBlock),i=e=>e===r;Rq(t.pattern)?Gq(e,t.pattern,t.endMarker,i):Kq(e,t.pattern,t.startMarker,t.endMarker,i),Lq(n,t.endMarker,i),Lq(n,t.startMarker,i)}),e.selection.moveToBookmark(r)},Qq=(e,t)=>{let n=e.selection.getRng();return wq(e,n).map(r=>{let i=Math.max(0,n.startOffset),a=Tq(t,r,r.textContent??``),o=Xq(e,r,n.startContainer,i,a,!0),s=Mq(e,r,a,!0);return s.length>0||o.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand(`mceInsertNewLine`)},()=>{ao(e),Zq(e,o),Nq(e,s);let t=e.selection.getRng(),n=mz(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand(`mceInsertNewLine`),n.each(t=>{let n=t.container;n.data.charAt(t.offset-1)===`﻿`&&(n.deleteData(t.offset-1,1),Sq(e.dom,n.parentNode,t=>t===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},$q=(e,t)=>{let n=e.selection.getRng();wq(e,n).map(r=>{let i=Math.max(0,n.startOffset-1),a=Tq(t,r,Eq(e.dom,r,n.startContainer,i)),o=Xq(e,r,n.startContainer,i,a,!1);o.length>0&&e.undoManager.transact(()=>{Zq(e,o)})})},eJ=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},tJ=(e,t)=>eJ(e,t,(e,t)=>e===t.keyCode&&!$.modifierPressed(t)),nJ=(e,t)=>eJ(e,t,(e,t)=>e.charCodeAt(0)===t.charCode),rJ=e=>{let t=[`,`,`.`,`;`,`:`,`!`,`?`],n=[32],r=()=>_d(ip(e),ap(e)),i=()=>pp(e);e.on(`keydown`,t=>{if(t.keyCode===13&&!$.modifierPressed(t)&&e.selection.isCollapsed()){let n=r();(n.inlinePatterns.length>0||n.blockPatterns.length>0||i())&&Qq(e,n)&&t.preventDefault()}},!0);let a=()=>{if(e.selection.isCollapsed()){let t=r();(t.inlinePatterns.length>0||i())&&$q(e,t)}};e.on(`keyup`,e=>{tJ(n,e)&&a()}),e.on(`keypress`,n=>{nJ(t,n)&&iy.setEditorTimeout(e,a)})},iJ=e=>{rJ(e)},aJ=e=>{let t=H.each,n=$.BACKSPACE,r=$.DELETE,i=e.dom,a=e.selection,o=e.parser,s=un.browser,c=s.isFirefox(),l=s.isChromium()||s.isSafari(),u=un.deviceType.isiPhone()||un.deviceType.isiPad(),d=un.os.isMacOS()||un.os.isiOS(),f=(t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},p=e=>e.isDefaultPrevented(),m=()=>{let t=e=>{let t=i.create(`body`),n=e.cloneContents();return t.appendChild(n),a.serializer.serialize(t,{format:`html`})},o=n=>{let r=t(n),a=i.createRng();return a.selectNode(e.getBody()),r===t(a)};e.on(`keydown`,t=>{let a=t.keyCode;if(!p(t)&&(a===r||a===n)&&e.selection.isEditable()){let n=e.selection.isCollapsed(),r=e.getBody();if(n&&!$o(U.fromDom(r))||!n&&!o(e.selection.getRng()))return;t.preventDefault(),e.setContent(``),r.firstChild&&i.isBlock(r.firstChild)?e.selection.setCursorLocation(r.firstChild,0):e.selection.setCursorLocation(r,0),e.nodeChanged()}})},h=()=>{e.shortcuts.add(`meta+a`,null,`SelectAll`)},g=()=>{e.inline||i.bind(e.getDoc(),`mousedown mouseup`,t=>{let n;if(t.target===e.getDoc().documentElement)if(n=a.getRng(),e.getBody().focus(),t.type===`mousedown`){if(uo(n.startContainer))return;a.placeCaretAt(t.clientX,t.clientY)}else a.setRng(n)})},_=()=>{e.on(`keydown`,t=>{if(!p(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName(`hr`).length)return;if(a.isCollapsed()&&a.getRng().startOffset===0){let e=a.getNode(),n=e.previousSibling;if(e.nodeName===`HR`){i.remove(e),t.preventDefault();return}n&&n.nodeName&&n.nodeName.toLowerCase()===`hr`&&(i.remove(n),t.preventDefault())}}})},y=()=>{Range.prototype.getClientRects||e.on(`mousedown`,t=>{if(!p(t)&&t.target.nodeName===`HTML`){let t=e.getBody();t.blur(),iy.setEditorTimeout(e,()=>{t.focus()})}})},b=()=>{let t=Rf(e);e.on(`click`,n=>{let r=n.target;/^(IMG|HR)$/.test(r.nodeName)&&i.isEditable(r)&&(n.preventDefault(),e.selection.select(r),e.nodeChanged()),r.nodeName===`A`&&i.hasClass(r,t)&&r.childNodes.length===0&&i.isEditable(r.parentNode)&&(n.preventDefault(),a.select(r))})},x=()=>{let n=()=>{let n=i.getAttribs(a.getStart().cloneNode(!1));return()=>{let r=a.getStart();r!==e.getBody()&&(i.setAttrib(r,`style`,null),t(n,e=>{r.setAttributeNode(e.cloneNode(!0))}))}},r=()=>!a.isCollapsed()&&i.getParent(a.getStart(),i.isBlock)!==i.getParent(a.getEnd(),i.isBlock);e.on(`keypress`,t=>{let i;return!p(t)&&(t.keyCode===8||t.keyCode===46)&&r()?(i=n(),e.getDoc().execCommand(`delete`,!1),i(),t.preventDefault(),!1):!0}),i.bind(e.getDoc(),`cut`,t=>{if(!p(t)&&r()){let t=n();iy.setEditorTimeout(e,()=>{t()})}})},S=()=>{e.on(`keydown`,e=>{if(!p(e)&&e.keyCode===n&&a.isCollapsed()&&a.getRng().startOffset===0){let t=a.getNode().previousSibling;if(t&&t.nodeName&&t.nodeName.toLowerCase()===`table`)return e.preventDefault(),!1}return!0})},C=()=>{e.on(`keydown`,t=>{if(p(t)||t.keyCode!==$.BACKSPACE)return;let n=a.getRng(),r=n.startContainer,o=n.startOffset,s=i.getRoot(),c=r;if(!(!n.collapsed||o!==0)){for(;c.parentNode&&c.parentNode.firstChild===c&&c.parentNode!==s;)c=c.parentNode;c.nodeName===`BLOCKQUOTE`&&(e.formatter.toggle(`blockquote`,void 0,c),n=i.createRng(),n.setStart(r,0),n.setEnd(r,0),a.setRng(n))}})},w=()=>{Af(e)||e.on(`BeforeExecCommand mousedown`,()=>{f(`StyleWithCSS`,!1),f(`enableInlineTableEditing`,!1),cf(e)||f(`enableObjectResizing`,!1)})},T=()=>{let n=()=>{t(i.select(`a:not([data-mce-block])`),e=>{let t=e.parentNode,n=i.getRoot();if(t?.lastChild===e){for(;t&&!i.isBlock(t);){if(t.parentNode?.lastChild!==t||t===n)return;t=t.parentNode}i.add(t,`br`,{"data-mce-bogus":1})}})};e.on(`SetContent ExecCommand`,e=>{(e.type===`setcontent`||e.command===`mceInsertLink`)&&n()})},E=()=>{e.on(`init`,()=>{f(`DefaultParagraphSeparator`,Pd(e))})},D=e=>{let t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&n.startOffset===0&&n.endOffset===t.childNodes.length},O=()=>{e.on(`keyup focusin mouseup`,t=>{!$.modifierPressed(t)&&!D(e)&&a.normalize()},!0)},ee=()=>{e.contentStyles.push(`img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}`)},te=()=>{e.inline||e.on(`keydown`,()=>{document.activeElement===document.body&&e.getWin().focus()})},A=()=>{e.inline||(e.contentStyles.push(`body {min-height: 150px}`),e.on(`click`,t=>{let n;t.target.nodeName===`HTML`&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())}))},j=()=>{d&&e.on(`keydown`,t=>{$.metaKeyPressed(t)&&!t.shiftKey&&(t.keyCode===37||t.keyCode===39)&&(t.preventDefault(),e.selection.getSel().modify(`move`,t.keyCode===37?`backward`:`forward`,`lineboundary`))})},ne=()=>{e.on(`click`,e=>{let t=e.target;do if(t.tagName===`A`){e.preventDefault();return}while(t=t.parentNode)}),e.contentStyles.push(`.mce-content-body {-webkit-touch-callout: none}`)},re=()=>{e.on(`init`,()=>{e.dom.bind(e.getBody(),`submit`,e=>{e.preventDefault()})})},M=()=>{o.addNodeFilter(`br`,e=>{let t=e.length;for(;t--;)e[t].attr(`class`)===`Apple-interchange-newline`&&e[t].remove()})},N=k;return gA(e)?(l&&(g(),b(),re(),h(),u&&(te(),A(),ne())),c&&(y(),w(),ee(),j())):(C(),m(),un.windowsPhone||O(),l&&(g(),b(),E(),re(),S(),M(),u?(te(),A(),ne()):h()),c&&(_(),y(),x(),w(),T(),ee(),j(),S(),e.on(`drop`,t=>{let n=t.dataTransfer?.getData(`text/html`);v(n)&&/^<img[^>]*>$/.test(n)&&e.dispatch(`dragend`,new window.DragEvent(`dragend`,t))}))),{refreshContentEditable:N,isHidden:()=>{if(!c||e.removed)return!1;let t=e.selection.getSel();return!t||!t.rangeCount||t.rangeCount===0}}},oJ=el.DOM,sJ=(e,t)=>{let n=Wr(Ur(U.fromDom(e.getBody()))),r=U.fromTag(`style`);Un(r,`type`,`text/css`),Ci(r,U.fromText(t)),Ci(n,r),e.on(`remove`,()=>{Oi(r)})},cJ=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,lJ=e=>He(e,e=>w(e)===!1),uJ=e=>{let t=e.options.get,n=e.editorUpload.blobCache;return lJ({allow_conditional_comments:t(`allow_conditional_comments`),allow_html_data_urls:t(`allow_html_data_urls`),allow_svg_data_urls:t(`allow_svg_data_urls`),allow_html_in_named_anchor:t(`allow_html_in_named_anchor`),allow_script_urls:t(`allow_script_urls`),allow_unsafe_link_target:t(`allow_unsafe_link_target`),convert_unsafe_embeds:t(`convert_unsafe_embeds`),convert_fonts_to_spans:t(`convert_fonts_to_spans`),fix_list_elements:t(`fix_list_elements`),font_size_legacy_values:t(`font_size_legacy_values`),forced_root_block:t(`forced_root_block`),forced_root_block_attrs:t(`forced_root_block_attrs`),preserve_cdata:t(`preserve_cdata`),inline_styles:t(`inline_styles`),root_name:cJ(e),sandbox_iframes:t(`sandbox_iframes`),sanitize:t(`xss_sanitization`),validate:!0,blob_cache:n,document:e.getDoc()})},dJ=e=>{let t=e.options.get;return lJ({custom_elements:t(`custom_elements`),extended_valid_elements:t(`extended_valid_elements`),invalid_elements:t(`invalid_elements`),invalid_styles:t(`invalid_styles`),schema:t(`schema`),valid_children:t(`valid_children`),valid_classes:t(`valid_classes`),valid_elements:t(`valid_elements`),valid_styles:t(`valid_styles`),verify_html:t(`verify_html`),padd_empty_block_inline_children:t(`format_empty_lines`)})},fJ=e=>{let t=e.options.get;return{...uJ(e),...dJ(e),...lJ({remove_trailing_brs:t(`remove_trailing_brs`),pad_empty_with_br:t(`pad_empty_with_br`),url_converter:t(`url_converter`),url_converter_scope:t(`url_converter_scope`),element_format:t(`element_format`),entities:t(`entities`),entity_encoding:t(`entity_encoding`),indent:t(`indent`),indent_after:t(`indent_after`),indent_before:t(`indent_before`)})}},pJ=e=>{let t=WO(uJ(e),e.schema);return t.addAttributeFilter(`src,href,style,tabindex`,(t,n)=>{let r=e.dom,i=`data-mce-`+n,a=t.length;for(;a--;){let o=t[a],s=o.attr(n);if(s&&!o.attr(i)){if(s.indexOf(`data:`)===0||s.indexOf(`blob:`)===0)continue;n===`style`?(s=r.serializeStyle(r.parseStyle(s),o.name),s.length||(s=null),o.attr(i,s),o.attr(n,s)):n===`tabindex`?(o.attr(i,s),o.attr(n,null)):o.attr(i,e.convertURL(s,n,o.name))}}}),t.addNodeFilter(`script`,e=>{let t=e.length;for(;t--;){let n=e[t],r=n.attr(`type`)||`no/type`;r.indexOf(`mce-`)!==0&&n.attr(`type`,`mce-`+r)}}),lp(e)&&t.addNodeFilter(`#cdata`,t=>{let n=t.length;for(;n--;){let r=t[n];r.type=8,r.name=`#comment`,r.value=`[CDATA[`+e.dom.encode(r.value??``)+`]]`}}),t.addNodeFilter(`p,h1,h2,h3,h4,h5,h6,div`,t=>{let n=t.length,r=e.schema.getNonEmptyElements();for(;n--;){let e=t[n];e.isEmpty(r)&&e.getAll(`br`).length===0&&e.append(new ab(`br`,1))}}),t},mJ=e=>{let t=Uf(e);t&&iy.setEditorTimeout(e,()=>{let n;n=t===!0?e:e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},hJ=e=>{let t=e.dom.getRoot();!e.inline&&(!Fh(e)||e.selection.getStart(!0)===t)&&Km(t).each(t=>{let n=t.getNode(),r=ha(n)?Km(n).getOr(t):t;e.selection.setRng(r.toRange())})},gJ=e=>{e.bindPendingEventDelegates(),e.initialized=!0,$g(e),e.focus(!0),hJ(e),e.nodeChanged({initial:!0});let t=Vf(e);D(t)&&t.call(e,e),mJ(e)},_J=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,vJ=(e,t,n)=>{let{pass:r,fail:i}=ge(t,e=>tinymce.Resource.has(DM(e))),a=[...r.map(t=>{let n=tinymce.Resource.get(DM(t));return v(n)?Promise.resolve(_J(e).loadRawCss(t,n)):Promise.resolve()}),_J(e).loadAll(i)];return e.inline?a:a.concat([e.ui.styleSheetLoader.loadAll(n)])},yJ=e=>{let t=_J(e),n=af(e),r=e.contentCSS,i=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},a=()=>{e.removed?i():e.on(`remove`,i)};if(e.contentStyles.length>0){let t=``;H.each(e.contentStyles,e=>{t+=e+`\r
`}),e.dom.addStyle(t)}let o=Promise.all(vJ(e,r,n)).then(a).catch(a),s=rf(e);return s&&sJ(e,s),o},bJ=e=>{let t=e.getDoc(),n=e.getBody();Zg(e),Wf(e)||(t.body.spellcheck=!1,oJ.setAttrib(n,`spellcheck`,`false`)),e.quirks=aJ(e),Qg(e);let r=of(e);r!==void 0&&(n.dir=r);let i=Gf(e);i&&e.on(`BeforeSetContent`,e=>{H.each(i,t=>{e.content=e.content.replace(t,e=>`<!--mce:protected `+escape(e)+`-->`)})}),e.on(`SetContent`,()=>{e.addVisual(e.getBody())}),e.on(`compositionstart compositionend`,t=>{e.composing=t.type===`compositionstart`})},xJ=e=>{gA(e)||e.load({initial:!0,format:`html`}),e.startContent=e.getContent({format:`raw`})},SJ=e=>{e.removed!==!0&&(xJ(e),gJ(e))},CJ=e=>{let t=!1,n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},wJ=e=>{let t=e.getElement(),n=e.getDoc();e.inline&&(oJ.addClass(t,`mce-content-body`),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);let r=e.getBody();r.disabled=!0,e.readonly=Af(e),e._editableRoot=jf(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&oJ.getStyle(r,`position`,!0)===`static`&&(r.style.position=`relative`),r.contentEditable=`true`),r.disabled=!1,e.editorUpload=KM(e),e.schema=_c(dJ(e)),e.dom=el(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Xd(e),referrerPolicy:Zd(e),onSetAttrib:t=>{e.dispatch(`SetAttrib`,t)},force_hex_color:xp(e)}),e.parser=pJ(e),e.serializer=Sj(fJ(e),e),e.selection=lj(e.dom,e.getWin(),e.serializer,e),e.annotator=Vg(e),e.formatter=oN(e),e.undoManager=uN(e),e._nodeChangeDispatcher=new qU(e),e._selectionOverrides=hq(e),vL(e),eK(e),jL(e),gA(e)||(dK(e),iJ(e)),hL(e,KU(e)),EL(e),vN(e),ZG(e);let i=vA(e);bJ(e),i.fold(()=>{let t=CJ(e);yJ(e).then(()=>{SJ(e),t()})},t=>{e.setProgressState(!0),yJ(e).then(()=>{t().then(t=>{e.setProgressState(!1),SJ(e),KA(e)},t=>{e.notificationManager.open({type:`error`,text:String(t)}),SJ(e),KA(e)})})})},TJ=F,EJ=(e,t,n)=>zi(e,t,TJ,n),DJ=el.DOM,OJ=(e,t,n,r)=>{let i=U.fromTag(`iframe`);return r.each(e=>Un(i,`tabindex`,e)),Wn(i,n),Wn(i,{id:e+`_ifr`,frameBorder:`0`,allowTransparency:`true`,title:t}),ar(i,`tox-edit-area__iframe`),i},kJ=e=>{let t=Od(e)+`<html><head>`;kd(e)!==e.documentBaseUrl&&(t+=`<base href="`+e.documentBaseURI.getURI()+`" />`),t+=`<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />`;let n=Ad(e),r=jd(e),i=e.translate(zf(e));return Md(e)&&(t+=`<meta http-equiv="Content-Security-Policy" content="`+Md(e)+`" />`),t+=`</head><body id="${n}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${i}"><br></body></html>`,t},AJ=(e,t)=>{let n=e.translate(`Rich Text Area`),r=Kn(U.fromDom(e.getElement()),`tabindex`).bind(kt),i=OJ(e.id,n,Dd(e),r).dom;i.onload=()=>{i.onload=null,e.dispatch(`load`)},e.contentAreaContainer=t.iframeContainer,e.iframeElement=i,e.iframeHTML=kJ(e),DJ.add(t.iframeContainer,i)},jJ=e=>{let t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,wJ(e)};if(fp(e)||un.browser.isFirefox()){let t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close(),n()}else{let r=EJ(U.fromDom(t),`load`,()=>{r.unbind(),n()});t.srcdoc=e.iframeHTML}},MJ=(e,t)=>{AJ(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=DJ.isHidden(t.editorContainer)),e.getElement().style.display=`none`,DJ.setAttrib(e.id,`aria-hidden`,`true`),e.getElement().style.visibility=e.orgVisibility,jJ(e)},NJ=el.DOM,PJ=(e,t,n)=>{let r=uM.get(n),i=uM.urls[n]||e.documentBaseUrl.replace(/\/$/,``);if(n=H.trim(n),r&&H.inArray(t,n)===-1){if(e.plugins[n])return;try{let a=r(e,i)||{};e.plugins[n]=a,D(a.init)&&(a.init(e,i),t.push(n))}catch(t){wM(e,n,t)}}},FJ=e=>e.replace(/^\-/,``),IJ=e=>{let t=[];L(Nf(e),n=>{PJ(e,t,FJ(n))})},LJ=e=>{let t=H.trim(Wd(e)),n=e.ui.registry.getAll().icons;Le({...Jj.get(`default`).icons,...Jj.get(t).icons},(t,r)=>{Ke(n,r)||e.ui.registry.addIcon(r,t)})},RJ=e=>{let t=pf(e);v(t)?(e.theme=dM.get(t)(e,dM.urls[t])||{},D(e.theme.init)&&e.theme.init(e,dM.urls[t]||e.documentBaseUrl.replace(/\/$/,``))):e.theme={}},zJ=e=>{let t=hf(e);e.model=Yj.get(t)(e,Yj.urls[t])},BJ=e=>{let t=e.theme.renderUI;return t?t():WJ(e)},VJ=e=>{let t=e.getElement(),n=pf(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+`_parent`),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+`_iframecontainer`),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n},HJ=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),UJ=e=>{let t=NJ.create(`div`);return NJ.insertAfter(t,e),HJ(t,t)},WJ=e=>{let t=e.getElement();return e.inline?HJ(null):UJ(t)},GJ=e=>(e.orgDisplay=e.getElement().style.display,v(pf(e))?BJ(e):D(pf(e))?VJ(e):WJ(e)),KJ=(e,t)=>{let n={show:I.from(t.show).getOr(k),hide:I.from(t.hide).getOr(k),isEnabled:I.from(t.isEnabled).getOr(F),setEnabled:n=>{e.mode.isReadOnly()||I.from(t.setEnabled).each(e=>e(n))}};e.ui={...e.ui,...n}},qJ=async e=>{e.dispatch(`ScriptsLoaded`),LJ(e),RJ(e),zJ(e),IJ(e);let t=await GJ(e);KJ(e,I.from(t.api).getOr({})),e.editorContainer=t.editorContainer,MM(e),e.inline?wJ(e):MJ(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},JJ=el.DOM,YJ=e=>e.charAt(0)===`-`,XJ=(e,t)=>{let n=Qd(t),r=$d(t);if(!ul.hasCode(n)&&n!==`en`){let i=Et(r)?r:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(i).catch(()=>{xM(t,i,n)})}},ZJ=(e,t)=>{let n=pf(e);if(v(n)&&!YJ(n)&&!Ke(dM.urls,n)){let r=mf(e),i=r?e.documentBaseURI.toAbsolute(r):`themes/${n}/theme${t}.js`;dM.load(n,i).catch(()=>{SM(e,i,n)})}},QJ=(e,t)=>{let n=hf(e);if(n!==`plugin`&&!Ke(Yj.urls,n)){let r=gf(e),i=v(r)?e.documentBaseURI.toAbsolute(r):`models/${n}/model${t}.js`;Yj.load(n,i).catch(()=>{CM(e,i,n)})}},$J=e=>I.from(Gd(e)).filter(Et).map(e=>({url:e,name:I.none()})),eY=(e,t,n)=>I.from(t).filter(e=>Et(e)&&!Jj.has(e)).map(t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:I.some(t)})),tY=(e,t,n)=>{L(bn([eY(t,`default`,n),$J(t).orThunk(()=>eY(t,Wd(t),``))]),n=>{e.add(n.url).catch(()=>{bM(t,n.url,n.name.getOrUndefined())})})},nY=(e,t)=>{let n=(t,n)=>{uM.load(t,n).catch(()=>{yM(e,n,t)})};Le(Pf(e),(t,r)=>{n(r,t),e.options.set(`plugins`,Nf(e).concat(r))}),L(Nf(e),e=>{e=H.trim(e),e&&!uM.urls[e]&&!YJ(e)&&n(e,`plugins/${e}/plugin${t}.js`)})},rY=e=>{let t=pf(e);return!v(t)||E(dM.get(t))},iY=e=>{let t=hf(e);return E(Yj.get(t))},aY=(e,t)=>{let n=nl.ScriptLoader,r=()=>{!e.removed&&rY(e)&&iY(e)&&qJ(e)};ZJ(e,t),QJ(e,t),XJ(n,e),tY(n,e,t),nY(e,t),n.loadQueue().then(r,r)},oY=(e,t)=>ks.forElement(e,{contentCssCors:Mf(t),referrerPolicy:Zd(t)}),sY=e=>{let t=e.id;ul.setCode(Qd(e));let n=()=>{JJ.unbind(window,`ready`,n),e.render()};if(!Hc.Event.domLoaded){JJ.bind(window,`ready`,n);return}if(!e.getElement())return;let r=U.fromDom(e.getElement()),i=Xn(r);e.on(`remove`,()=>{he(r.dom.attributes,e=>Jn(r,e.name)),Wn(r,i)}),e.ui.styleSheetLoader=oY(r,e),Cf(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility=`hidden`);let a=e.getElement().form||JJ.getParent(t,`form`);a&&(e.formElement=a,wf(e)&&!_a(e.getElement())&&(JJ.insertAfter(JJ.create(`input`,{type:`hidden`,name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},JJ.bind(a,`submit reset`,e.formEventDelegate),e.on(`reset`,()=>{e.resetContent()}),Tf(e)&&!a.submit.nodeType&&!a.submit.length&&!a._mceOldSubmit&&(a._mceOldSubmit=a.submit,a.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),a._mceOldSubmit(a)))),e.windowManager=pM(e),e.notificationManager=lM(e),gp(e)&&e.on(`GetContent`,e=>{e.save&&(e.content=JJ.encode(e.content))}),Ef(e)&&e.on(`submit`,()=>{e.initialized&&e.save()}),Df(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:`raw`,no_events:!0,set_dirty:!1})},e.editorManager.on(`BeforeUnload`,e._beforeUnload)),e.editorManager.add(e),aY(e,e.suffix)},cY=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),m_(e,t))},lY=e=>e._editableRoot,uY=(e,t)=>({sections:j(e),options:j(t)}),dY=nn().deviceType,fY=dY.isPhone(),pY=dY.isTablet(),mY=e=>T(e)?[]:R(me(x(e)?e:e.split(/[ ,]/),Ct),Et),hY=(e,t)=>{let n=Ve(t,(t,n)=>fe(e,n));return uY(n.t,n.f)},gY=(e,t,n={})=>{let r=Ge(e.sections(),t).getOr({});return H.extend({},n,r)},_Y=(e,t)=>Ke(e.sections(),t),vY=(e,t)=>_Y(e,t)?e.sections()[t]:{},yY=(e,t)=>{let n={table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ge(e,`toolbar_mode`).getOr(`scrolling`),toolbar_sticky:!1},r={menubar:!1};return{...n,...t?r:{}}},bY=(e,t)=>{let n=t.external_plugins??{};return e&&e.external_plugins?H.extend({},e.external_plugins,n):n},xY=(e,t)=>[...mY(e),...mY(t)],SY=(e,t,n,r)=>e&&_Y(t,`mobile`)?r:n,CY=(e,t,n,r)=>{let i=mY(n.forced_plugins),a=mY(r.plugins),o=vY(t,`mobile`),s=xY(i,SY(e,t,a,o.plugins?mY(o.plugins):a));return H.extend(r,{forced_plugins:i,plugins:s})},wY=(e,t)=>e&&_Y(t,`mobile`),TY=(e,t,n,r,i)=>{let a=hY([`mobile`],rB(e?{mobile:yY(i.mobile??{},t)}:{},i));return CY(e,a,r,H.extend(n,r,a.options(),wY(e,a)?gY(a,`mobile`):{},{external_plugins:bY(r,a.options())}))},EY=(e,t)=>TY(fY||pY,fY,t,e,t),DY=(e,t)=>GA(e,t),OY=e=>{let t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()},n=n=>()=>{L(`left,center,right,justify`.split(`,`),t=>{n!==t&&e.formatter.remove(`align`+t)}),n!==`none`&&t(`align`+n)};e.editorCommands.addCommands({JustifyLeft:n(`left`),JustifyCenter:n(`center`),JustifyRight:n(`right`),JustifyFull:n(`justify`),JustifyNone:n(`none`)})},kY=e=>{let t=t=>()=>{let n=e.selection;return pe(n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks(),n=>E(e.formatter.matchNode(n,t)))};e.editorCommands.addCommands({JustifyLeft:t(`alignleft`),JustifyCenter:t(`aligncenter`),JustifyRight:t(`alignright`),JustifyFull:t(`alignjustify`)},`state`)},AY=e=>{OY(e),kY(e)},jY=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{let n=e.getDoc(),r;try{n.execCommand(t)}catch{r=!0}if(t===`paste`&&!n.queryCommandEnabled(t)&&(r=!0),r||!n.queryCommandSupported(t)){let t=e.translate(`Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.`);(un.os.isMacOS()||un.os.isiOS())&&(t=t.replace(/Ctrl\+/g,`⌘+`)),e.notificationManager.open({text:t,type:`error`})}}})},MY=(e,t,n,r)=>{let i=U.fromDom(e.getRoot());return n=Ax(i,Y.fromRangeStart(t),r)?n.replace(/^ /,`&nbsp;`):n.replace(/^&nbsp;/,` `),n=Mx(i,Y.fromRangeEnd(t),r)?n.replace(/(&nbsp;| )(<br( \/)>)?$/,`&nbsp;`):n.replace(/&nbsp;(<br( \/)?>)?$/,` `),n},NY=e=>{if(typeof e!=`string`){let t=H.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},PY=(e,t)=>{let n=e.selection,r=e.dom;return/^ | $/.test(t)?MY(r,n.getRng(),t,e.schema):t},FY=(e,t)=>{if(e.selection.isEditable()){let{content:n,details:r}=NY(t);YO(e,{...r,content:PY(e,n),format:`html`,set:!1,selection:!0}).each(t=>{XO(e,UA(e,t.content,r),t),e.addVisual()})}},IY=e=>{e.editorCommands.addCommands({mceCleanup:()=>{let t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,r)=>{FY(e,e.dom.createHTML(`img`,{src:r}))},insertHorizontalRule:()=>{e.execCommand(`mceInsertContent`,!1,`<hr>`)},insertText:(t,n,r)=>{FY(e,e.dom.encode(r))},insertHTML:(t,n,r)=>{FY(e,r)},mceInsertContent:(t,n,r)=>{FY(e,r)},mceSetContent:(t,n,r)=>{e.setContent(r)},mceReplaceContent:(t,n,r)=>{e.execCommand(`mceInsertContent`,!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:`text`})))},mceNewDocument:()=>{e.setContent(Xf(e))}})},LY={"font-size":`size`,"font-family":`face`},RY=Vn(`font`),zY=(e,t,n)=>{let r=t=>gi(t,e).orThunk(()=>RY(t)?Ge(LY,e).bind(e=>Kn(t,e)):I.none());return Zw(U.fromDom(n),e=>r(e),e=>yr(U.fromDom(t),e))},BY=e=>e.replace(/[\'\"\\]/g,``).replace(/,\s+/g,`,`),VY=(e,t)=>I.from(el.DOM.getStyle(t,e,!0)),HY=e=>(t,n)=>I.from(n).map(U.fromDom).filter(Ln).bind(n=>zY(e,t,n.dom).or(VY(e,n.dom))).getOr(``),UY=HY(`font-size`),WY=te(BY,HY(`font-family`)),GY=e=>Km(e.getBody()).bind(e=>{let t=e.container();return I.from(G(t)?t.parentNode:t)}),KY=e=>I.from(e.selection.getRng()).bind(t=>{let n=e.getBody();return t.startContainer===n&&t.startOffset===0?I.none():I.from(e.selection.getStart(!0))}),qY=(e,t)=>KY(e).orThunk(M(GY,e)).map(U.fromDom).filter(Ln).bind(t),JY=(e,t)=>qY(e,A(I.some,t)),YY=(e,t)=>{if(/^[0-9.]+$/.test(t)){let n=parseInt(t,10);if(n>=1&&n<=7){let r=mp(e),i=hp(e);return i.length>0?i[n-1]||t:r[n-1]||t}else return t}else return t},XY=e=>me(e.split(/\s*,\s*/),e=>e.indexOf(` `)!==-1&&!(bt(e,`"`)||bt(e,`'`))?`'${e}'`:e).join(`,`),ZY=(e,t)=>{let n=YY(e,t);e.formatter.toggle(`fontname`,{value:XY(n)}),e.nodeChanged()},QY=e=>JY(e,t=>WY(e.getBody(),t.dom)).getOr(``),$Y=(e,t)=>{e.formatter.toggle(`fontsize`,{value:YY(e,t)}),e.nodeChanged()},eX=e=>JY(e,t=>UY(e.getBody(),t.dom)).getOr(``),tX=e=>JY(e,t=>Zw(t,e=>gi(e,`line-height`),M(yr,U.fromDom(e.getBody()))).getOrThunk(()=>{let e=parseFloat(mi(t,`line-height`)),n=parseFloat(mi(t,`font-size`));return String(e/n)})).getOr(``),nX=(e,t)=>{e.formatter.toggle(`lineheight`,{value:String(t)}),e.nodeChanged()},rX=e=>{let t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,n,r)=>{t(e,{value:r})},BackColor:(e,n,r)=>{t(`hilitecolor`,{value:r})},FontName:(t,n,r)=>{ZY(e,r)},FontSize:(t,n,r)=>{$Y(e,r)},LineHeight:(t,n,r)=>{nX(e,r)},Lang:(e,n,r)=>{t(e,{value:r.code,customValue:r.customCode??null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t(`blockquote`)},FormatBlock:(e,n,r)=>{t(v(r)?r:`p`)},mceToggleFormat:(e,n,r)=>{t(r)}})},iX=e=>{let t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t(`blockquote`)},`state`),e.editorCommands.addQueryValueHandler(`FontName`,()=>QY(e)),e.editorCommands.addQueryValueHandler(`FontSize`,()=>eX(e)),e.editorCommands.addQueryValueHandler(`LineHeight`,()=>tX(e))},aX=e=>{rX(e),iX(e)},oX=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},sX=e=>{e.editorCommands.addCommands({Indent:()=>{lL(e)},Outdent:()=>{uL(e)}}),e.editorCommands.addCommands({Outdent:()=>iL(e)},`state`)},cX=e=>{let t=(t,n,r)=>{let i=v(r)?{href:r}:r,a=e.dom.getParent(e.selection.getNode(),`a`);y(i)&&v(i.href)&&(i.href=i.href.replace(/ /g,`%20`),(!a||!i.href)&&e.formatter.remove(`link`),i.href&&e.formatter.apply(`link`,i,a))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){let t=e.dom.getParent(e.selection.getStart(),`a`);t&&e.dom.remove(t,!0);return}e.formatter.remove(`link`)}},mceInsertLink:t,createLink:t})},lX=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);let n=e.dom.getParent(e.selection.getNode(),`ol,ul`);if(n){let t=n.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){let r=e.selection.getBookmark();e.dom.split(t,n),e.selection.moveToBookmark(r)}}}})},uX=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{let n=e.dom.getParent(e.selection.getNode(),`ul,ol`);return n&&(t===`insertunorderedlist`&&n.tagName===`UL`||t===`insertorderedlist`&&n.tagName===`OL`)}},`state`)},dX=e=>{lX(e),uX(e)},fX=(e,t,n,r)=>{let i=e.dom,a=e=>i.isBlock(e)&&e.parentElement===n,o=a(t)?t:i.getParent(r,a,n);return I.from(o).map(U.fromDom)},pX=(e,t)=>{let n=e.dom,r=e.selection.getRng(),i=t?e.selection.getStart():e.selection.getEnd(),a=t?r.startContainer:r.endContainer,o=iH(n,a);if(!o||!o.isContentEditable)return;let s=t?bi:xi,c=Pd(e);fX(e,i,o,a).each(t=>{let n=dH(e,a,t.dom,o,!1,c);s(t,U.fromDom(n)),e.selection.setCursorLocation(n,0),e.dispatch(`NewBlock`,{newBlock:n}),qV(e,`insertParagraph`)})},mX=e=>pX(e,!0),hX=e=>pX(e,!1),gX=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{mX(e)},InsertNewBlockAfter:()=>{hX(e)}})},_X=e=>{e.editorCommands.addCommands({insertParagraph:()=>{mU(RH,e)},mceInsertNewLine:(t,n,r)=>{hU(e,r)},InsertLineBreak:(t,n,r)=>{mU(XH,e)}})},vX=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,r)=>{let i=0;e.dom.getParent(e.selection.getNode(),t=>W(t)&&i++===r?(e.selection.select(t),!1):!0,e.getBody())},mceSelectNode:(t,n,r)=>{e.selection.select(r)},selectAll:()=>{let t=e.dom.getParent(e.selection.getStart(),Ta);if(t){let n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},yX=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,r)=>{let i=r??e.selection.getNode();if(i!==e.getBody()){let t=e.selection.getBookmark();e.dom.remove(i,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,r)=>{My(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},bX=e=>{AY(e),jY(e),oX(e),vX(e),IY(e),cX(e),sX(e),gX(e),_X(e),dX(e),aX(e),yX(e)},xX=[`toggleview`],SX=e=>fe(xX,e.toLowerCase());class CX{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,n,r){let i=this.editor,a=e.toLowerCase(),o=r?.skip_focus;if(i.removed||(a!==`mcefocus`&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(a)&&!o?i.focus():ey(i)),i.dispatch(`BeforeExecCommand`,{command:e,ui:t,value:n}).isDefaultPrevented()))return!1;let s=this.commands.exec[a];return D(s)?(s(a,t,n),i.dispatch(`ExecCommand`,{command:e,ui:t,value:n}),!0):!1}queryCommandState(e){if(!SX(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;let t=e.toLowerCase(),n=this.commands.state[t];return D(n)?n(t):!1}queryCommandValue(e){if(!SX(e)&&this.editor.quirks.isHidden()||this.editor.removed)return``;let t=e.toLowerCase(),n=this.commands.value[t];return D(n)?n(t):``}addCommands(e,t=`exec`){let n=this.commands;Le(e,(e,r)=>{L(r.toLowerCase().split(`,`),r=>{n[t][r]=e})})}addCommand(e,t,n){let r=e.toLowerCase();this.commands.exec[r]=(e,r,i)=>t.call(n??this.editor,r,i)}queryCommandSupported(e){let t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(n??this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(n??this.editor)}}let wX=`data-mce-contenteditable`,TX=(e,t,n)=>{lr(e,t)&&!n?sr(e,t):n&&ar(e,t)},EX=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},DX=(e,t)=>{e.dom.contentEditable=t?`true`:`false`},OX=e=>{L(ta(e,`*[contenteditable="true"]`),e=>{Un(e,wX,`true`),DX(e,!1)})},kX=e=>{L(ta(e,`*[${wX}="true"]`),e=>{Jn(e,wX),DX(e,!0)})},AX=e=>{I.from(e.selection.getNode()).each(e=>{e.removeAttribute(`data-mce-selected`)})},jX=e=>{e.selection.setRng(e.selection.getRng())},MX=(e,t)=>{let n=U.fromDom(e.getBody());TX(n,`mce-content-readonly`,t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),AX(e),e.readonly=!0,DX(n,!1),OX(n)):(e.readonly=!1,e.hasEditableRoot()&&DX(n,!0),kX(n),EX(e,`StyleWithCSS`,!1),EX(e,`enableInlineTableEditing`,!1),EX(e,`enableObjectResizing`,!1),ky(e)&&e.focus(),jX(e),e.nodeChanged())},NX=e=>e.readonly,PX=e=>{e.parser.addAttributeFilter(`contenteditable`,t=>{NX(e)&&L(t,e=>{e.attr(wX,e.attr(`contenteditable`)),e.attr(`contenteditable`,`false`)})}),e.serializer.addAttributeFilter(wX,t=>{NX(e)&&L(t,e=>{e.attr(`contenteditable`,e.attr(wX))})}),e.serializer.addTempAttr(wX)},FX=e=>{e.serializer?PX(e):e.on(`PreInit`,()=>{PX(e)})},IX=e=>e.type===`click`,LX=[`copy`],RX=e=>fe(LX,e.type),zX=(e,t)=>ai(t,`a`,t=>yr(t,U.fromDom(e.getBody()))).bind(e=>Kn(e,`href`)),BX=(e,t)=>{IX(t)&&!$.metaKeyPressed(t)?zX(e,U.fromDom(t.target)).each(n=>{if(t.preventDefault(),/^#/.test(n)){let t=e.dom.select(`${n},[name="${vt(n,`#`)}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,`_blank`,`rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes`)}):RX(t)&&e.dispatch(t.type,t)},VX=e=>{e.on(`ShowCaret`,t=>{NX(e)&&t.preventDefault()}),e.on(`ObjectSelected`,t=>{NX(e)&&t.preventDefault()})},HX=H.makeMap(`focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel`,` `);class UX{static isNative(e){return!!HX[e.toLowerCase()]}constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||P}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){let n=e.toLowerCase(),r=Fc(n,t??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);let i=this.bindings[n];if(i)for(let e=0,t=i.length;e<t;e++){let t=i[e];if(!t.removed){if(t.once&&this.off(n,t.func),r.isImmediatePropagationStopped())return r;if(t.func.call(this.scope,r)===!1)return r.preventDefault(),r}}return r}on(e,t,n,r){if(t===!1&&(t=P),t){let i={func:t,removed:!1};r&&H.extend(i,r);let a=e.toLowerCase().split(` `),o=a.length;for(;o--;){let e=a[o],t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[i,...t]:[...t,i],this.bindings[e]=t}}return this}off(e,t){if(e){let n=e.toLowerCase().split(` `),r=n.length;for(;r--;){let i=n[r],a=this.bindings[i];if(!i)return Le(this.bindings,(e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]}),this;if(a){if(!t)a.length=0;else{let e=ge(a,e=>e.func===t);a=e.fail,this.bindings[i]=a,L(e.pass,e=>{e.removed=!0})}a.length||(this.toggleEvent(e,!1),delete this.bindings[i])}}}else Le(this.bindings,(e,t)=>{this.toggleEvent(t,!1)}),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){e=e.toLowerCase();let t=this.bindings[e];return!(!t||t.length===0)}}let WX=e=>(e._eventDispatcher||=new UX({scope:e,toggleEvent:(t,n)=>{UX.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}}),e._eventDispatcher),GX={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){let r=this;if(r.removed&&e!==`remove`&&e!==`detach`)return Fc(e.toLowerCase(),t??{},r);let i=WX(r).dispatch(e,t);if(n!==!1&&r.parent){let t=r.parent();for(;t&&!i.isPropagationStopped();)t.dispatch(e,i,!1),t=t.parent?t.parent():void 0}return i},on(e,t,n){return WX(this).on(e,t,n)},off(e,t){return WX(this).off(e,t)},once(e,t){return WX(this).once(e,t)},hasEventListeners(e){return WX(this).has(e)}},KX=el.DOM,qX,JX=(e,t)=>{if(t===`selectionchange`)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;let n=df(e);return n?(e.eventRoot||=KX.select(n)[0],e.eventRoot):e.getBody()},YX=e=>!e.hidden&&!NX(e),XX=(e,t,n)=>{YX(e)?e.dispatch(t,n):NX(e)&&BX(e,n)},ZX=(e,t)=>{if(e.delegates||={},e.delegates[t]||e.removed)return;let n=JX(e,t);if(df(e)){if(qX||(qX={},e.editorManager.on(`removeEditor`,()=>{e.editorManager.activeEditor||(qX&&=(Le(qX,(t,n)=>{e.dom.unbind(JX(e,n))}),null))})),qX[t])return;let r=n=>{let r=n.target,i=e.editorManager.get(),a=i.length;for(;a--;){let e=i[a].getBody();(e===r||KX.isChildOf(r,e))&&XX(i[a],t,n)}};qX[t]=r,KX.bind(n,t,r)}else{let r=n=>{XX(e,t,n)};KX.bind(n,t,r),e.delegates[t]=r}},QX={...GX,bindPendingEventDelegates(){let e=this;H.each(e._pendingNativeEvents,t=>{ZX(e,t)})},toggleNativeEvent(e,t){let n=this;e===`focus`||e===`blur`||n.removed||(t?n.initialized?ZX(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(JX(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){let e=this,t=e.getBody(),n=e.dom;e.delegates&&(Le(e.delegates,(t,n)=>{e.dom.unbind(JX(e,n),n,t)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},$X=e=>v(e)?{value:e.split(/[ ,]/),valid:!0}:ee(e,v)?{value:e,valid:!0}:{valid:!1,message:`The value must be a string[] or a comma/space separated string.`},eZ=e=>{let t=(()=>{switch(e){case`array`:return x;case`boolean`:return C;case`function`:return D;case`number`:return O;case`object`:return y;case`string`:return v;case`string[]`:return $X;case`object[]`:return e=>ee(e,y);case`regexp`:return e=>_(e,RegExp);default:return F}})();return n=>iZ(n,t,`The value must be a ${e}.`)},tZ=e=>v(e.processor),nZ=(e,t)=>e+(Dt(t.message)?``:`. ${t.message}`),rZ=e=>e.valid,iZ=(e,t,n=``)=>{let r=t(e);return C(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},aZ=(e,t,n)=>{if(!w(t)){let r=iZ(t,n);if(rZ(r))return r.value;console.error(nZ(`Invalid default value passed for the "${e}" option`,r))}},oZ=(e,t)=>{let n={},r={},i=(e,t,n)=>{let i=iZ(t,n);return rZ(i)?(r[e]=i.value,!0):(console.warn(nZ(`Invalid value passed for the ${e} option`,i)),!1)},a=(e,a)=>{let o=tZ(a)?eZ(a.processor):a.processor,s=aZ(e,a.default,o);n[e]={...a,default:s,processor:o},Ge(r,e).orThunk(()=>Ge(t,e)).each(t=>i(e,t,o))},o=e=>Ke(n,e);return{register:a,isRegistered:o,get:e=>Ge(r,e).orThunk(()=>Ge(n,e).map(e=>e.default)).getOrUndefined(),set:(e,t)=>{if(o(e)){let r=n[e];return r.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):i(e,t,r.processor)}else return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{let t=o(e);return t&&delete r[e],t},isSet:e=>Ke(r,e)}},sZ=[`design`,`readonly`],cZ=(e,t,n,r)=>{let i=n[t.get()],a=n[r];try{a.activate()}catch(e){console.error(`problem while activating editor mode ${r}:`,e);return}i.deactivate(),i.editorReadOnly!==a.editorReadOnly&&MX(e,a.editorReadOnly),t.set(r),Jg(e,r)},lZ=(e,t,n,r)=>{if(r!==n.get()){if(!Ke(t,r))throw Error(`Editor mode '${r}' is invalid`);e.initialized?cZ(e,n,t,r):e.on(`init`,()=>cZ(e,n,t,r))}},uZ=(e,t,n)=>{if(fe(sZ,t))throw Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}},dZ=e=>{let t=rl(`design`),n=rl({design:{activate:k,deactivate:k,editorReadOnly:!1},readonly:{activate:k,deactivate:k,editorReadOnly:!0}});return FX(e),VX(e),{isReadOnly:()=>NX(e),set:r=>lZ(e,n.get(),t,r),get:()=>t.get(),register:(e,t)=>{n.set(uZ(n.get(),e,t))}}},fZ=H.each,pZ=H.explode,mZ={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},hZ=H.makeMap(`alt,ctrl,shift,meta,access`),gZ=e=>e in hZ,_Z=e=>{let t={},n=un.os.isMacOS()||un.os.isiOS();fZ(pZ(e.toLowerCase(),`+`),e=>{gZ(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=mZ[e]||e.toUpperCase().charCodeAt(0))});let r=[t.keyCode],i;for(i in hZ)t[i]?r.push(i):t[i]=!1;return t.id=r.join(`,`),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class vZ{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;let t=this;e.on(`keyup keypress keydown`,e=>{(t.hasModifier(e)||t.isFunctionKey(e))&&!e.isDefaultPrevented()&&(fZ(t.shortcuts,n=>{t.matchShortcut(e,n)&&(t.pendingPatterns=n.subpatterns.slice(0),e.type===`keydown`&&t.executeShortcutAction(n))}),t.matchShortcut(e,t.pendingPatterns[0])&&(t.pendingPatterns.length===1&&e.type===`keydown`&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}add(e,t,n,r){let i=this,a=i.normalizeCommandFunc(n);return fZ(pZ(H.trim(e)),e=>{let n=i.createShortcut(e,t,a,r);i.shortcuts[n.id]=n}),!0}remove(e){let t=this.createShortcut(e);return this.shortcuts[t.id]?(delete this.shortcuts[t.id],!0):!1}normalizeCommandFunc(e){let t=this,n=e;return typeof n==`string`?()=>{t.editor.execCommand(n,!1,null)}:H.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,r){let i=H.map(pZ(e,`>`),_Z);return i[i.length-1]=H.extend(i[i.length-1],{func:n,scope:r||this.editor}),H.extend(i[0],{desc:this.editor.translate(t),subpatterns:i.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return e.type===`keydown`&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!t||t.ctrl!==e.ctrlKey||t.meta!==e.metaKey||t.alt!==e.altKey||t.shift!==e.shiftKey?!1:e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode?(e.preventDefault(),!0):!1}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}let yZ=()=>{let e={},t={},n={},r={},i={},a={},o={},s={},c=(e,t)=>(n,r)=>{e[n.toLowerCase()]={...r,type:t}};return{addButton:c(e,`button`),addGroupToolbarButton:c(e,`grouptoolbarbutton`),addToggleButton:c(e,`togglebutton`),addMenuButton:c(e,`menubutton`),addSplitButton:c(e,`splitbutton`),addMenuItem:c(t,`menuitem`),addNestedMenuItem:c(t,`nestedmenuitem`),addToggleMenuItem:c(t,`togglemenuitem`),addAutocompleter:c(n,`autocompleter`),addContextMenu:c(i,`contextmenu`),addContextToolbar:c(a,`contexttoolbar`),addContextForm:c(a,`contextform`),addSidebar:c(o,`sidebar`),addView:c(s,`views`),addIcon:(e,t)=>r[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:n,contextMenus:i,contextToolbars:a,sidebars:o,views:s})}},bZ=()=>{let e=yZ();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},xZ=el.DOM,SZ=H.extend,CZ=H.each;class wZ{constructor(e,t,n){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent=``,this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,SZ(this,QX);let r=this;this.id=e,this.hidden=!1;let i=EY(n.defaultOptions,t);this.options=oZ(r,i),Z(r);let a=this.options.get;a(`deprecation_warnings`)&&Bj(t,i);let o=a(`suffix`);o&&(n.suffix=o),this.suffix=n.suffix;let s=a(`base_url`);s&&n._setBaseUrl(s),this.baseUri=n.baseURI;let c=Zd(r);c&&(nl.ScriptLoader._setReferrerPolicy(c),el.DOM.styleSheetLoader._setReferrerPolicy(c));let l=Mf(r);E(l)&&el.DOM.styleSheetLoader._setContentCssCors(l),dl.languageLoad=a(`language_load`),dl.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new wO(kd(r),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Cf(r),this.hasVisual=If(r),this.shortcuts=new vZ(this),this.editorCommands=new CX(this),bX(this);let u=a(`cache_suffix`);u&&(un.cacheSuffix=u.replace(/^[\?\&]+/,``)),this.ui={registry:bZ(),styleSheetLoader:void 0,show:k,hide:k,setEnabled:k,isEnabled:F},this.mode=dZ(r),n.dispatch(`SetupEditor`,{editor:this});let d=Bf(r);D(d)&&d.call(r,r)}render(){sY(this)}focus(e){this.execCommand(`mceFocus`,!1,e)}hasFocus(){return Oy(this)}translate(e){return ul.translate(e)}getParam(e,t,n){let r=this.options;return r.isRegistered(e)||(E(n)?r.register(e,{processor:n,default:t}):r.register(e,{processor:F,default:t})),!r.isSet(e)&&!w(t)?t:r.get(e)}hasPlugin(e,t){return fe(Nf(this),e)?t?uM.get(e)!==void 0:!0:!1}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,r){this.shortcuts.add(e,t,n,r)}execCommand(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){let e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=`true`:(xZ.show(e.getContainer()),xZ.hide(e.id)),e.load(),e.dispatch(`show`))}hide(){let e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable=`false`,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(xZ.hide(e.getContainer()),xZ.setStyle(e.id,`display`,e.orgDisplay)),e.hidden=!0,e.dispatch(`hide`))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch(`ProgressState`,{state:e,time:t})}load(e={}){let t=this,n=t.getElement();if(t.removed)return``;if(n){let r={...e,load:!0},i=_a(n)?n.value:n.innerHTML,a=t.setContent(i,r);return r.no_events||t.dispatch(`LoadContent`,{...r,element:n}),a}else return``}save(e={}){let t=this,n=t.getElement();if(!n||!t.initialized||t.removed)return``;let r={...e,save:!0,element:n},i=t.getContent(r),a={...r,content:i};if(a.no_events||t.dispatch(`SaveContent`,a),a.format===`raw`&&t.dispatch(`RawSaveContent`,a),i=a.content,_a(n))n.value=i;else{(e.is_removing||!t.inline)&&(n.innerHTML=i);let r=xZ.getParent(t.id,`form`);r&&CZ(r.elements,e=>e.name===t.id?(e.value=i,!1):!0)}return a.element=r.element=n=null,a.set_dirty!==!1&&t.setDirty(!1),i}setContent(e,t){return Ej(this,e,t)}getContent(e){return wj(this,e)}insertContent(e,t){t&&(e=SZ({content:e},t)),this.execCommand(`mceInsertContent`,!1,e)}resetContent(e){e===void 0?Ej(this,this.startContent,{format:`raw`}):Ej(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){let t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch(`dirty`)}getContainer(){let e=this;return e.container||=e.editorContainer||xZ.get(e.id+`_parent`),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||=xZ.get(this.id),this.targetElm}getWin(){let e=this;if(!e.contentWindow){let t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){let e=this;if(!e.contentDocument){let t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){let e=this.getDoc();return this.bodyElement??e?.body??null}convertURL(e,t,n){let r=this,i=r.options.get,a=Hf(r);if(D(a))return a.call(r,e,n,!0,t);if(!i(`convert_urls`)||n===`link`||y(n)&&n.nodeName===`LINK`||e.indexOf(`file:`)===0||e.length===0)return e;let o=new wO(e);return o.protocol!==`http`&&o.protocol!==`https`&&o.protocol!==``?e:i(`relative_urls`)?r.documentBaseURI.toRelative(e):(e=r.documentBaseURI.toAbsolute(e,i(`remove_script_host`)),e)}addVisual(e){DY(this,e)}setEditableRoot(e){cY(this,e)}hasEditableRoot(){return lY(this)}remove(){Kj(this)}destroy(e){qj(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}let TZ=el.DOM,EZ=H.each,DZ=!1,OZ,kZ=[],AZ=e=>{let t=e.type;EZ(FZ.get(),n=>{switch(t){case`scroll`:n.dispatch(`ScrollWindow`,e);break;case`resize`:n.dispatch(`ResizeWindow`,e);break}})},jZ=e=>{if(e!==DZ){let t=el.DOM;e?(t.bind(window,`resize`,AZ),t.bind(window,`scroll`,AZ)):(t.unbind(window,`resize`,AZ),t.unbind(window,`scroll`,AZ)),DZ=e}},MZ=e=>{let t=kZ;return kZ=R(kZ,t=>e!==t),FZ.activeEditor===e&&(FZ.activeEditor=kZ.length>0?kZ[0]:null),FZ.focusedEditor===e&&(FZ.focusedEditor=null),t.length!==kZ.length},NZ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(MZ(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},PZ=document.compatMode!==`CSS1Compat`,FZ={...GX,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:`6`,minorVersion:`8.5`,releaseDate:`TBD`,i18n:ul,activeEditor:null,focusedEditor:null,setup(){let e=this,t=``,n=``,r=wO.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,``).replace(/[\/\\][^\/]+$/,``),/[\/\\]$/.test(r)||(r+=`/`));let i=window.tinymce||window.tinyMCEPreInit;if(i)t=i.base||i.baseURL,n=i.suffix;else{let e=document.getElementsByTagName(`script`);for(let r=0;r<e.length;r++){let i=e[r].src||``;if(i===``)continue;let a=i.substring(i.lastIndexOf(`/`));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){a.indexOf(`.min`)!==-1&&(n=`.min`),t=i.substring(0,i.lastIndexOf(`/`));break}}if(!t&&document.currentScript){let e=document.currentScript.src;e.indexOf(`.min`)!==-1&&(n=`.min`),t=e.substring(0,e.lastIndexOf(`/`))}}e.baseURL=new wO(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new wO(e.baseURL),e.suffix=n,vy(e)},overrideDefaults(e){let t=e.base_url;t&&this._setBaseUrl(t);let n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;let r=e.plugin_base_urls;r!==void 0&&Le(r,(e,t)=>{dl.PluginManager.urls[t]=e})},init(e){let t=this,n,r=H.makeMap(`area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu`,` `),i=(e,t)=>e.inline&&t.tagName.toLowerCase()in r,a=e=>{let t=e.id;return t||(t=Ge(e,`name`).filter(e=>!TZ.get(e)).getOrThunk(TZ.uniqueId),e.setAttribute(`id`,t)),t},o=n=>{let r=e[n];if(r)return r.apply(t,[])},s=e=>un.browser.isIE()||un.browser.isEdge()?(TM(`TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers`),[]):PZ?(TM(`Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode.`),[]):v(e.selector)?TZ.select(e.selector):E(e.target)?[e.target]:[],c=e=>{n=e},l=()=>{let n=0,r=[],u,d=(e,i,a)=>{let o=new wZ(e,i,t);r.push(o),o.on(`init`,()=>{++n===u.length&&c(r)}),o.targetElm=o.targetElm||a,o.render()};TZ.unbind(window,`ready`,l),o(`onpageload`),u=Pe(s(e)),H.each(u,e=>{NZ(t.get(e.id))}),u=H.grep(u,e=>!t.get(e.id)),u.length===0?c([]):EZ(u,t=>{i(e,t)?TM(`Could not initialize inline editor on invalid inline target element`,t):d(a(t),e,t)})};return TZ.bind(window,`ready`,l),new Promise(e=>{n?e(n):c=t=>{e(t)}})},get(e){return arguments.length===0?kZ.slice(0):v(e)?be(kZ,t=>t.id===e).getOr(null):O(e)&&kZ[e]?kZ[e]:null},add(e){let t=this,n=t.get(e.id);return n===e?e:(n===null&&kZ.push(e),jZ(!0),t.activeEditor=e,t.dispatch(`AddEditor`,{editor:e}),OZ||(OZ=e=>{let n=t.dispatch(`BeforeUnload`);if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener(`beforeunload`,OZ)),e)},createEditor(e,t){return this.add(new wZ(e,t,this))},remove(e){let t=this,n;if(!e){for(let e=kZ.length-1;e>=0;e--)t.remove(kZ[e]);return}if(v(e)){EZ(TZ.select(e),e=>{n=t.get(e.id),n&&t.remove(n)});return}return n=e,S(t.get(n.id))?null:(MZ(n)&&t.dispatch(`RemoveEditor`,{editor:n}),kZ.length===0&&window.removeEventListener(`beforeunload`,OZ),n.remove(),jZ(kZ.length>0),n)},execCommand(e,t,n){let r=this,i=y(n)?n.id??n.index:n;switch(e){case`mceAddEditor`:if(!r.get(i)){let e=n.options;new wZ(i,e,r).render()}return!0;case`mceRemoveEditor`:{let e=r.get(i);return e&&e.remove(),!0}case`mceToggleEditor`:{let e=r.get(i);return e?(e.isHidden()?e.show():e.hide(),!0):(r.execCommand(`mceAddEditor`,!1,n),!0)}}return r.activeEditor?r.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{EZ(kZ,e=>{e.save()})},addI18n:(e,t)=>{ul.add(e,t)},translate:e=>ul.translate(e),setActive(e){let t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch(`deactivate`,{relatedTarget:e}),e.dispatch(`activate`,{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new wO(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,``)),this.baseURI=new wO(this.baseURL)}};FZ.setup();let IZ=(()=>{let e=ml();return{FakeClipboardItem:e=>({items:e,types:Fe(e),getType:t=>Ge(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),LZ=Math.min,RZ=Math.max,zZ=Math.round,BZ=(e,t,n)=>{let r=t.x,i=t.y,a=e.w,o=e.h,s=t.w,c=t.h,l=(n||``).split(``);return l[0]===`b`&&(i+=c),l[1]===`r`&&(r+=s),l[0]===`c`&&(i+=zZ(c/2)),l[1]===`c`&&(r+=zZ(s/2)),l[3]===`b`&&(i-=o),l[4]===`r`&&(r-=a),l[3]===`c`&&(i-=zZ(o/2)),l[4]===`c`&&(r-=zZ(a/2)),GZ(r,i,a,o)},VZ=(e,t,n,r)=>{for(let i=0;i<r.length;i++){let a=BZ(e,t,r[i]);if(a.x>=n.x&&a.x+a.w<=n.w+n.x&&a.y>=n.y&&a.y+a.h<=n.h+n.y)return r[i]}return null},HZ=(e,t,n)=>GZ(e.x-t,e.y-n,e.w+t*2,e.h+n*2),UZ=(e,t)=>{let n=RZ(e.x,t.x),r=RZ(e.y,t.y),i=LZ(e.x+e.w,t.x+t.w),a=LZ(e.y+e.h,t.y+t.h);return i-n<0||a-r<0?null:GZ(n,r,i-n,a-r)},WZ=(e,t,n)=>{let r=e.x,i=e.y,a=e.x+e.w,o=e.y+e.h,s=t.x+t.w,c=t.y+t.h,l=RZ(0,t.x-r),u=RZ(0,t.y-i),d=RZ(0,a-s),f=RZ(0,o-c);return r+=l,i+=u,n&&(a+=l,o+=u,r-=d,i-=f),a-=d,o-=f,GZ(r,i,a-r,o-i)},GZ=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),KZ={inflate:HZ,relativePosition:BZ,findBestRelativePosition:VZ,intersect:UZ,clamp:WZ,create:GZ,fromClientRect:e=>GZ(e.left,e.top,e.width,e.height)},qZ=(e,t,n=1e3)=>{let r=!1,i=null,a=e=>(...t)=>{r||(r=!0,i!==null&&(clearTimeout(i),i=null),e.apply(null,t))},o=a(e),s=a(t);return{start:(...e)=>{!r&&i===null&&(i=setTimeout(()=>s.apply(null,e),n))},resolve:o,reject:s}},JZ=(()=>{let e={},t={},n={};return{load:(n,r)=>{let i=`Script at URL "${r}" failed to load`,a=`Script at URL "${r}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(e[n]!==void 0)return e[n];{let o=new Promise((e,o)=>{let s=qZ(e,o);t[n]=s.resolve,nl.ScriptLoader.loadScript(r).then(()=>s.start(a),()=>s.reject(i))});return e[n]=o,o}},add:(r,i)=>{t[r]!==void 0&&(t[r](i),delete t[r]),e[r]=Promise.resolve(i),n[r]=i},has:e=>e in n,get:e=>n[e],unload:t=>{delete e[t]}}})(),YZ=()=>(()=>{let e={},t=[],n={getItem:t=>e[t]||null,setItem:(n,r)=>{t.push(n),e[n]=String(r)},key:e=>t[e],removeItem:n=>{t=t.filter(e=>e===n),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,`length`,{get:()=>t.length,configurable:!1,enumerable:!1}),n})(),XZ;try{let e=`__storage_test__`;XZ=window.localStorage,XZ.setItem(e,e),XZ.removeItem(e)}catch{XZ=YZ()}let ZZ={geom:{Rect:KZ},util:{Delay:iy,Tools:H,VK:$,URI:wO,EventDispatcher:UX,Observable:GX,I18n:ul,LocalStorage:XZ,ImageUploader:UM},dom:{EventUtils:Hc,TreeWalker:ra,TextSeeker:Hl,DOMUtils:el,ScriptLoader:nl,RangeUtils:cv,Serializer:Sj,StyleSheetLoader:Os,ControlSelection:b_,BookmarkManager:Hg,Selection:lj,Event:Hc.Event},html:{Styles:kc,Entities:Qs,Node:ab,Schema:_c,DomParser:WO,Writer:Db,Serializer:Ob},Env:un,AddOnManager:dl,Annotator:Vg,Formatter:oN,UndoManager:uN,EditorCommands:CX,WindowManager:pM,NotificationManager:lM,EditorObservable:QX,Shortcuts:vZ,Editor:wZ,FocusManager:ty,EditorManager:FZ,DOM:el.DOM,ScriptLoader:nl.ScriptLoader,PluginManager:uM,ThemeManager:dM,ModelManager:Yj,IconManager:Jj,Resource:JZ,FakeClipboard:IZ,trim:H.trim,isArray:H.isArray,is:H.is,toArray:H.toArray,makeMap:H.makeMap,each:H.each,map:H.map,grep:H.grep,inArray:H.inArray,extend:H.extend,walk:H.walk,resolve:H.resolve,explode:H.explode,_addCacheSuffix:H._addCacheSuffix},QZ=H.extend(FZ,ZZ);(e=>{window.tinymce=e,window.tinyMCE=e})(QZ),(e=>{if(typeof t==`object`)try{t.exports=e}catch{}})(QZ)})()})),p=d((()=>{tinymce.IconManager.add(`default`,{icons:{"accessibility-check":`<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>`,"accordion-toggle":`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>`,accordion:`<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>`,"action-next":`<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>`,"action-prev":`<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>`,addtag:`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>`,"ai-prompt":`<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>`,ai:`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>`,"align-center":`<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>`,"align-justify":`<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>`,"align-left":`<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>`,"align-none":`<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>`,"align-right":`<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>`,"arrow-left":`<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>`,"arrow-right":`<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>`,bold:`<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>`,bookmark:`<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>`,"border-style":`<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>`,"border-width":`<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>`,brightness:`<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>`,browse:`<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>`,cancel:`<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>`,"cell-background-color":`<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>`,"cell-border-color":`<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>`,"change-case":`<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>`,"character-count":`<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>`,"checklist-rtl":`<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>`,checklist:`<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>`,checkmark:`<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>`,"chevron-down":`<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>`,"chevron-left":`<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>`,"chevron-right":`<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>`,"chevron-up":`<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>`,close:`<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>`,"code-sample":`<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>`,"color-levels":`<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>`,"color-picker":`<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>`,"color-swatch-remove-color":`<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>`,"color-swatch":`<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>`,"comment-add":`<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>`,comment:`<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>`,contrast:`<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>`,copy:`<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>`,crop:`<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>`,"cut-column":`<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>`,"cut-row":`<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>`,cut:`<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>`,"document-properties":`<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>`,drag:`<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>`,"duplicate-column":`<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>`,"duplicate-row":`<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>`,duplicate:`<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>`,"edit-block":`<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>`,"edit-image":`<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>`,"embed-page":`<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>`,embed:`<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>`,emoji:`<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>`,export:`<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>`,fill:`<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>`,"flip-horizontally":`<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>`,"flip-vertically":`<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>`,footnote:`<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>`,"format-painter":`<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>`,format:`<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>`,fullscreen:`<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>`,gallery:`<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>`,gamma:`<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>`,help:`<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>`,"highlight-bg-color":`<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>`,home:`<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>`,"horizontal-rule":`<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>`,"image-options":`<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>`,image:`<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>`,indent:`<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>`,info:`<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>`,"insert-character":`<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>`,"insert-time":`<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>`,invert:`<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>`,italic:`<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>`,language:`<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>`,"line-height":`<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>`,line:`<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>`,link:`<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>`,"list-bull-circle":`<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>`,"list-bull-default":`<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>`,"list-bull-square":`<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>`,"list-num-default-rtl":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>`,"list-num-default":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>`,"list-num-lower-alpha-rtl":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>`,"list-num-lower-alpha":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>`,"list-num-lower-greek-rtl":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>`,"list-num-lower-greek":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>`,"list-num-lower-roman-rtl":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>`,"list-num-lower-roman":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>`,"list-num-upper-alpha-rtl":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>`,"list-num-upper-alpha":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>`,"list-num-upper-roman-rtl":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>`,"list-num-upper-roman":`<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>`,lock:`<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>`,ltr:`<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>`,minus:`<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>`,"more-drawer":`<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>`,"new-document":`<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>`,"new-tab":`<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>`,"non-breaking":`<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>`,notice:`<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>`,"ordered-list-rtl":`<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>`,"ordered-list":`<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>`,orientation:`<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>`,outdent:`<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>`,"page-break":`<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>`,paragraph:`<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>`,"paste-column-after":`<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>`,"paste-column-before":`<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>`,"paste-row-after":`<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>`,"paste-row-before":`<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>`,"paste-text":`<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>`,paste:`<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>`,"permanent-pen":`<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>`,plus:`<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>`,preferences:`<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>`,preview:`<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>`,print:`<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>`,quote:`<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>`,redo:`<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>`,reload:`<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>`,"remove-formatting":`<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>`,remove:`<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>`,"resize-handle":`<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>`,resize:`<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>`,"restore-draft":`<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>`,"rotate-left":`<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>`,"rotate-right":`<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>`,rtl:`<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>`,save:`<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>`,search:`<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>`,"select-all":`<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>`,selected:`<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>`,send:`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>`,settings:`<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>`,sharpen:`<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>`,sourcecode:`<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>`,"spell-check":`<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>`,"strike-through":`<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>`,subscript:`<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>`,superscript:`<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>`,"table-caption":`<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>`,"table-cell-classes":`<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>`,"table-cell-properties":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>`,"table-cell-select-all":`<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>`,"table-cell-select-inner":`<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>`,"table-classes":`<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>`,"table-delete-column":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>`,"table-delete-row":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>`,"table-delete-table":`<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>`,"table-insert-column-after":`<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>`,"table-insert-column-before":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>`,"table-insert-row-above":`<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>`,"table-insert-row-after":`<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>`,"table-left-header":`<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>`,"table-merge-cells":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>`,"table-row-numbering-rtl":`<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>`,"table-row-numbering":`<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>`,"table-row-properties":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>`,"table-split-cells":`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>`,"table-top-header":`<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>`,table:`<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>`,"template-add":`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>`,template:`<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>`,"temporary-placeholder":`<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>`,"text-color":`<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>`,"text-size-decrease":`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>`,"text-size-increase":`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>`,toc:`<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>`,translate:`<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>`,typography:`<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>`,underline:`<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>`,undo:`<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>`,unlink:`<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>`,unlock:`<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>`,"unordered-list":`<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>`,unselected:`<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>`,upload:`<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>`,user:`<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>`,"vertical-align":`<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>`,visualblocks:`<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>`,visualchars:`<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>`,warning:`<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>`,"zoom-in":`<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>`,"zoom-out":`<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>`}})})),m=e(f()),h=e(i());p(),d((()=>{(function(){let e=Object.getPrototypeOf,t=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,n=e=>{let n=typeof e;return e===null?`null`:n===`object`&&Array.isArray(e)?`array`:n===`object`&&t(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:n},r=e=>t=>n(t)===e,i=e=>t=>typeof t===e,a=e=>t=>e===t,o=(n,r)=>c(n)&&t(n,r,(t,n)=>e(t)===n),s=r(`string`),c=r(`object`),l=e=>o(e,Object),u=r(`array`),d=a(null),f=i(`boolean`),p=a(void 0),m=e=>e==null,h=e=>!m(e),g=i(`function`),_=i(`number`),v=(e,t)=>{if(u(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},y=()=>{},b=e=>()=>e(),x=(e,t)=>(...n)=>e(t.apply(null,n)),S=(e,t)=>n=>e(t(n)),C=e=>()=>e,w=e=>e,T=(e,t)=>e===t;function E(e,...t){return(...n)=>{let r=t.concat(n);return e.apply(null,r)}}let D=e=>t=>!e(t),O=e=>()=>{throw Error(e)},ee=e=>e(),k=C(!1),te=C(!0);class A{constructor(e,t){this.tag=e,this.value=t}static some(e){return new A(!0,e)}static none(){return A.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?A.some(e(this.value)):A.none()}bind(e){return this.tag?e(this.value):A.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:A.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return h(e)?A.some(e):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}A.singletonNone=new A(!1);let j=Array.prototype.slice,ne=Array.prototype.indexOf,re=Array.prototype.push,M=(e,t)=>ne.call(e,t),N=(e,t)=>{let n=M(e,t);return n===-1?A.none():A.some(n)},ie=(e,t)=>M(e,t)>-1,ae=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];if(t(r,n))return!0}return!1},oe=(e,t)=>{let n=[];for(let r=0;r<e;r++)n.push(t(r));return n},P=(e,t)=>{let n=[];for(let r=0;r<e.length;r+=t){let i=j.call(e,r,r+t);n.push(i)}return n},F=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},I=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},se=(e,t)=>{for(let n=e.length-1;n>=0;n--){let r=e[n];t(r,n)}},ce=(e,t)=>{let n=[],r=[];for(let i=0,a=e.length;i<a;i++){let a=e[i];(t(a,i)?n:r).push(a)}return{pass:n,fail:r}},le=(e,t)=>{let n=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];t(i,r)&&n.push(i)}return n},ue=(e,t,n)=>(se(e,(e,r)=>{n=t(n,e,r)}),n),de=(e,t,n)=>(I(e,(e,r)=>{n=t(n,e,r)}),n),fe=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return A.some(i);if(n(i,r))break}return A.none()},pe=(e,t)=>fe(e,t,k),me=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];if(t(r,n))return A.some(n)}return A.none()},L=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!u(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);re.apply(t,e[n])}return t},he=(e,t)=>L(F(e,t)),ge=(e,t)=>{for(let n=0,r=e.length;n<r;++n){let r=e[n];if(t(r,n)!==!0)return!1}return!0},R=e=>{let t=j.call(e,0);return t.reverse(),t},_e=(e,t)=>le(e,e=>!ie(t,e)),ve=(e,t)=>{let n={};for(let r=0,i=e.length;r<i;r++){let i=e[r];n[String(i)]=t(i,r)}return n},ye=e=>[e],be=(e,t)=>{let n=j.call(e,0);return n.sort(t),n},xe=(e,t)=>t>=0&&t<e.length?A.some(e[t]):A.none(),Se=e=>xe(e,0),Ce=e=>xe(e,e.length-1),we=g(Array.from)?Array.from:e=>j.call(e),Te=(e,t)=>{for(let n=0;n<e.length;n++){let r=t(e[n],n);if(r.isSome())return r}return A.none()},Ee=Object.keys,De=Object.hasOwnProperty,Oe=(e,t)=>{let n=Ee(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},ke=(e,t)=>Ae(e,(e,n)=>({k:n,v:t(e,n)})),Ae=(e,t)=>{let n={};return Oe(e,(e,r)=>{let i=t(e,r);n[i.k]=i.v}),n},je=e=>(t,n)=>{e[n]=t},Me=(e,t,n,r)=>{Oe(e,(e,i)=>{(t(e,i)?n:r)(e,i)})},Ne=(e,t)=>{let n={},r={};return Me(e,t,je(n),je(r)),{t:n,f:r}},Pe=(e,t)=>{let n={};return Me(e,t,je(n),y),n},Fe=(e,t)=>{let n=[];return Oe(e,(e,r)=>{n.push(t(e,r))}),n},Ie=(e,t)=>{let n=Ee(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];if(t(a,i,e))return A.some(a)}return A.none()},Le=e=>Fe(e,w),z=(e,t)=>Re(e,t)?A.from(e[t]):A.none(),Re=(e,t)=>De.call(e,t),ze=(e,t)=>Re(e,t)&&e[t]!==void 0&&e[t]!==null,Be=(e,t,n=T)=>e.exists(e=>n(e,t)),Ve=(e,t,n=T)=>We(e,t,n).getOr(e.isNone()&&t.isNone()),He=e=>{let t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},Ue=e=>{let t=[];for(let n=0;n<e.length;n++){let r=e[n];if(r.isSome())t.push(r.getOrDie());else return A.none()}return A.some(t)},We=(e,t,n)=>e.isSome()&&t.isSome()?A.some(n(e.getOrDie(),t.getOrDie())):A.none(),Ge=(e,t,n,r)=>e.isSome()&&t.isSome()&&n.isSome()?A.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):A.none(),Ke=(e,t)=>e==null?A.none():A.some(t(e)),qe=(e,t)=>e?A.some(t):A.none(),Je=(e,t)=>e+t,Ye=(e,t)=>e.substring(t),Xe=(e,t,n)=>t===``||e.length>=t.length&&e.substr(n,n+t.length)===t,Ze=(e,t)=>et(e,t)?Ye(e,t.length):e,Qe=(e,t)=>tt(e,t)?e:Je(e,t),$e=(e,t,n=0,r)=>{let i=e.indexOf(t,n);return i===-1?!1:p(r)?!0:i+t.length<=r},et=(e,t)=>Xe(e,t,0),tt=(e,t)=>Xe(e,t,e.length-t.length),nt=(e=>t=>t.replace(e,``))(/^\s+|\s+$/g),rt=e=>e.length>0,it=e=>!rt(e),at=e=>e.style!==void 0&&g(e.style.getPropertyValue),B=(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return ct(n.childNodes[0])},ot=(e,t)=>ct((t||document).createElement(e)),st=(e,t)=>ct((t||document).createTextNode(e)),ct=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},V={fromHtml:B,fromTag:ot,fromText:st,fromDom:ct,fromPoint:(e,t,n)=>A.from(e.dom.elementFromPoint(t,n)).map(ct)},lt=typeof window<`u`?window:Function(`return this;`)(),ut=(e,t)=>{let n=t??lt;for(let t=0;t<e.length&&n!=null;++t)n=n[e[t]];return n},dt=(e,t)=>ut(e.split(`.`),t),ft=(e,t)=>dt(e,t),pt=(e,t)=>{let n=ft(e,t);if(n==null)throw Error(e+` not available on this browser`);return n},mt=Object.getPrototypeOf,ht=e=>pt(`HTMLElement`,e),gt=e=>{let t=dt(`ownerDocument.defaultView`,e);return c(e)&&(ht(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(mt(e).constructor.name))},_t=e=>e.dom.nodeName.toLowerCase(),vt=e=>e.dom.nodeType,yt=e=>t=>vt(t)===e,bt=e=>xt(e)&&gt(e.dom),xt=yt(1),St=yt(3),Ct=yt(9),wt=yt(11),Tt=e=>t=>xt(t)&&_t(t)===e,Et=(e,t)=>{let n=e.dom;if(n.nodeType!==1)return!1;{let e=n;if(e.matches!==void 0)return e.matches(t);if(e.msMatchesSelector!==void 0)return e.msMatchesSelector(t);if(e.webkitMatchesSelector!==void 0)return e.webkitMatchesSelector(t);if(e.mozMatchesSelector!==void 0)return e.mozMatchesSelector(t);throw Error(`Browser lacks native selectors`)}},Dt=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,Ot=(e,t)=>{let n=t===void 0?document:t.dom;return Dt(n)?[]:F(n.querySelectorAll(e),V.fromDom)},kt=(e,t)=>{let n=t===void 0?document:t.dom;return Dt(n)?A.none():A.from(n.querySelector(e)).map(V.fromDom)},At=(e,t)=>e.dom===t.dom,jt=(e,t)=>{let n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},Mt=e=>V.fromDom(e.dom.ownerDocument),Nt=e=>Ct(e)?e:Mt(e),Pt=e=>V.fromDom(Nt(e).dom.documentElement),Ft=e=>V.fromDom(Nt(e).dom.defaultView),It=e=>A.from(e.dom.parentNode).map(V.fromDom),Lt=e=>It(e),Rt=e=>A.from(e.dom.parentElement).map(V.fromDom),zt=(e,t)=>{let n=g(t)?t:k,r=e.dom,i=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){let e=r.parentNode,t=V.fromDom(e);if(i.push(t),n(t)===!0)break;r=e}return i},Bt=e=>A.from(e.dom.offsetParent).map(V.fromDom),Vt=e=>A.from(e.dom.nextSibling).map(V.fromDom),Ht=e=>F(e.dom.childNodes,V.fromDom),Ut=(e,t)=>{let n=e.dom.childNodes;return A.from(n[t]).map(V.fromDom)},Wt=e=>Ut(e,0),Gt=(e,t)=>({element:e,offset:t}),Kt=(e,t)=>{let n=Ht(e);return n.length>0&&t<n.length?Gt(n[t],0):Gt(e,t)},qt=e=>wt(e)&&h(e.dom.host),Jt=g(Element.prototype.attachShadow)&&g(Node.prototype.getRootNode),Yt=C(Jt),Xt=Jt?e=>V.fromDom(e.dom.getRootNode()):Nt,Zt=e=>qt(e)?e:V.fromDom(Nt(e).dom.body),Qt=e=>$t(e).isSome(),$t=e=>{let t=Xt(e);return qt(t)?A.some(t):A.none()},en=e=>V.fromDom(e.dom.host),tn=e=>{if(Yt()&&h(e.target)){let t=V.fromDom(e.target);if(xt(t)&&nn(t)&&e.composed&&e.composedPath){let t=e.composedPath();if(t)return Se(t)}}return A.from(e.target)},nn=e=>h(e.dom.shadowRoot),rn=e=>{let t=St(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;let n=t.ownerDocument;return $t(V.fromDom(t)).fold(()=>n.body.contains(t),S(rn,en))},an=()=>on(V.fromDom(document)),on=e=>{let t=e.dom.body;if(t==null)throw Error(`Body is not available yet`);return V.fromDom(t)},sn=(e,t,n)=>{if(s(n)||f(n)||_(n))e.setAttribute(t,n+``);else throw console.error(`Invalid call to Attribute.set. Key `,t,`:: Value `,n,`:: Element `,e),Error(`Attribute value was not simple`)},cn=(e,t,n)=>{sn(e.dom,t,n)},ln=(e,t)=>{let n=e.dom;Oe(t,(e,t)=>{sn(n,t,e)})},un=(e,t)=>{let n=e.dom.getAttribute(t);return n===null?void 0:n},dn=(e,t)=>A.from(un(e,t)),fn=(e,t)=>{let n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},pn=(e,t)=>{e.dom.removeAttribute(t)},mn=e=>de(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),hn=(e,t,n)=>{if(!s(n))throw console.error(`Invalid call to CSS.set. Property `,t,`:: Value `,n,`:: Element `,e),Error(`CSS value must be a string: `+n);at(e)&&e.style.setProperty(t,n)},gn=(e,t)=>{at(e)&&e.style.removeProperty(t)},_n=(e,t,n)=>{let r=e.dom;hn(r,t,n)},H=(e,t)=>{let n=e.dom;Oe(t,(e,t)=>{hn(n,t,e)})},vn=(e,t)=>{let n=e.dom;Oe(t,(e,t)=>{e.fold(()=>{gn(n,t)},e=>{hn(n,t,e)})})},yn=(e,t)=>{let n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return r===``&&!rn(e)?bn(n,t):r},bn=(e,t)=>at(e)?e.style.getPropertyValue(t):``,xn=(e,t)=>{let n=e.dom,r=bn(n,t);return A.from(r).filter(e=>e.length>0)},Sn=e=>{let t={},n=e.dom;if(at(n))for(let e=0;e<n.style.length;e++){let r=n.style.item(e);t[r]=n.style[r]}return t},Cn=(e,t,n)=>{let r=V.fromTag(e);return _n(r,t,n),xn(r,t).isSome()},wn=(e,t)=>{let n=e.dom;gn(n,t),Be(dn(e,`style`).map(nt),``)&&pn(e,`style`)},Tn=e=>e.dom.offsetWidth,En=(e,t)=>{let n=(t,n)=>{if(!_(n)&&!n.match(/^[0-9]+$/))throw Error(e+`.set accepts only positive integer values. Value was `+n);let r=t.dom;at(r)&&(r.style[e]=n+`px`)},r=n=>{let r=t(n);if(r<=0||r===null){let t=yn(n,e);return parseFloat(t)||0}return r},i=r,a=(e,t)=>de(t,(t,n)=>{let r=yn(e,n),i=r===void 0?0:parseInt(r,10);return isNaN(i)?t:t+i},0);return{set:n,get:r,getOuter:i,aggregate:a,max:(e,t,n)=>{let r=a(e,n);return t>r?t-r:0}}},Dn=En(`height`,e=>{let t=e.dom;return rn(e)?t.getBoundingClientRect().height:t.offsetHeight}),On=e=>Dn.get(e),kn=e=>Dn.getOuter(e),An=(e,t)=>{_n(e,`max-height`,Dn.max(e,t,[`margin-top`,`border-top-width`,`padding-top`,`padding-bottom`,`border-bottom-width`,`margin-bottom`])+`px`)},jn=(e,t)=>({left:e,top:t,translate:(n,r)=>jn(e+n,t+r)}),Mn=jn,Nn=e=>{let t=e.getBoundingClientRect();return Mn(t.left,t.top)},Pn=(e,t)=>e===void 0?t===void 0?0:t:e,Fn=e=>{let t=e.dom.ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom)return Mn(n.offsetLeft,n.offsetTop);let a=Pn(r?.pageYOffset,i.scrollTop),o=Pn(r?.pageXOffset,i.scrollLeft),s=Pn(i.clientTop,n.clientTop),c=Pn(i.clientLeft,n.clientLeft);return In(e).translate(o-c,a-s)},In=e=>{let t=e.dom,n=t.ownerDocument.body;return n===t?Mn(n.offsetLeft,n.offsetTop):rn(e)?Nn(t):Mn(0,0)},Ln=En(`width`,e=>e.dom.offsetWidth),Rn=(e,t)=>Ln.set(e,t),zn=e=>Ln.get(e),Bn=e=>Ln.getOuter(e),Vn=(e,t)=>{_n(e,`max-width`,Ln.max(e,t,[`margin-left`,`border-left-width`,`padding-left`,`padding-right`,`border-right-width`,`margin-right`])+`px`)},Hn=e=>{let t=!1,n;return(...r)=>(t||(t=!0,n=e.apply(null,r)),n)},Un=(e,t,n,r)=>{let i=e.isiOS()&&/ipad/i.test(n)===!0,a=e.isiOS()&&!i,o=e.isiOS()||e.isAndroid(),s=o||r(`(pointer:coarse)`),c=i||!a&&o&&r(`(min-device-width:768px)`),l=a||o&&!c,u=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,d=!l&&!c&&!u;return{isiPad:C(i),isiPhone:C(a),isTablet:C(c),isPhone:C(l),isTouch:C(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:C(u),isDesktop:C(d)}},Wn=(e,t)=>{for(let n=0;n<e.length;n++){let r=e[n];if(r.test(t))return r}},Gn=(e,t)=>{let n=Wn(e,t);if(!n)return{major:0,minor:0};let r=e=>Number(t.replace(n,`$`+e));return Jn(r(1),r(2))},Kn=(e,t)=>{let n=String(t).toLowerCase();return e.length===0?qn():Gn(e,n)},qn=()=>Jn(0,0),Jn=(e,t)=>({major:e,minor:t}),Yn={nu:Jn,detect:Kn,unknown:qn},Xn=(e,t)=>Te(t.brands,t=>{let n=t.brand.toLowerCase();return pe(e,e=>n===e.brand?.toLowerCase()).map(e=>({current:e.name,version:Yn.nu(parseInt(t.version,10),0)}))}),Zn=(e,t)=>{let n=String(t).toLowerCase();return pe(e,e=>e.search(n))},Qn=(e,t)=>Zn(e,t).map(e=>{let n=Yn.detect(e.versionRegexes,t);return{current:e.name,version:n}}),$n=(e,t)=>Zn(e,t).map(e=>{let n=Yn.detect(e.versionRegexes,t);return{current:e.name,version:n}}),er=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,tr=e=>t=>$e(t,e),nr=[{name:`Edge`,versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>$e(e,`edge/`)&&$e(e,`chrome`)&&$e(e,`safari`)&&$e(e,`applewebkit`)},{name:`Chromium`,brand:`Chromium`,versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,er],search:e=>$e(e,`chrome`)&&!$e(e,`chromeframe`)},{name:`IE`,versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>$e(e,`msie`)||$e(e,`trident`)},{name:`Opera`,versionRegexes:[er,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:tr(`opera`)},{name:`Firefox`,versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:tr(`firefox`)},{name:`Safari`,versionRegexes:[er,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>($e(e,`safari`)||$e(e,`mobile/`))&&$e(e,`applewebkit`)}],rr=[{name:`Windows`,search:tr(`win`),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:`iOS`,search:e=>$e(e,`iphone`)||$e(e,`ipad`),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:`Android`,search:tr(`android`),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:`macOS`,search:tr(`mac os x`),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:`Linux`,search:tr(`linux`),versionRegexes:[]},{name:`Solaris`,search:tr(`sunos`),versionRegexes:[]},{name:`FreeBSD`,search:tr(`freebsd`),versionRegexes:[]},{name:`ChromeOS`,search:tr(`cros`),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ir={browsers:C(nr),oses:C(rr)},ar=`Edge`,or=`Chromium`,sr=`Opera`,cr=`Firefox`,lr=`Safari`,ur=()=>dr({current:void 0,version:Yn.unknown()}),dr=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isEdge:r(ar),isChromium:r(or),isIE:r(`IE`),isOpera:r(sr),isFirefox:r(cr),isSafari:r(lr)}},fr={unknown:ur,nu:dr,edge:C(ar),chromium:C(or),ie:C(`IE`),opera:C(sr),firefox:C(cr),safari:C(lr)},pr=`Windows`,U=`Android`,mr=`Linux`,hr=`macOS`,gr=`Solaris`,_r=`FreeBSD`,vr=`ChromeOS`,yr=()=>br({current:void 0,version:Yn.unknown()}),br=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isWindows:r(pr),isiOS:r(`iOS`),isAndroid:r(U),isMacOS:r(hr),isLinux:r(mr),isSolaris:r(gr),isFreeBSD:r(_r),isChromeOS:r(vr)}},xr={unknown:yr,nu:br,windows:C(pr),ios:C(`iOS`),android:C(U),linux:C(mr),macos:C(hr),solaris:C(gr),freebsd:C(_r),chromeos:C(vr)},Sr={detect:(e,t,n)=>{let r=ir.browsers(),i=ir.oses(),a=t.bind(e=>Xn(r,e)).orThunk(()=>Qn(r,e)).fold(fr.unknown,fr.nu),o=$n(i,e).fold(xr.unknown,xr.nu);return{browser:a,os:o,deviceType:Un(o,a,e,n)}}},Cr=e=>window.matchMedia(e).matches,wr=Hn(()=>Sr.detect(navigator.userAgent,A.from(navigator.userAgentData),Cr)),Tr=()=>wr(),Er=(e,t,n,r,i,a,o)=>({target:e,x:t,y:n,stop:r,prevent:i,kill:a,raw:o}),Dr=e=>{let t=V.fromDom(tn(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),i=x(r,n);return Er(t,e.clientX,e.clientY,n,r,i,e)},Or=(e,t)=>n=>{e(n)&&t(Dr(n))},kr=(e,t,n,r,i)=>{let a=Or(n,r);return e.dom.addEventListener(t,a,i),{unbind:E(Mr,e,t,a,i)}},Ar=(e,t,n,r)=>kr(e,t,n,r,!1),jr=(e,t,n,r)=>kr(e,t,n,r,!0),Mr=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},Nr=(e,t)=>{It(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},Pr=(e,t)=>{Vt(e).fold(()=>{It(e).each(e=>{Ir(e,t)})},e=>{Nr(e,t)})},Fr=(e,t)=>{Wt(e).fold(()=>{Ir(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},Ir=(e,t)=>{e.dom.appendChild(t.dom)},Lr=(e,t,n)=>{Ut(e,n).fold(()=>{Ir(e,t)},e=>{Nr(e,t)})},Rr=(e,t)=>{I(t,t=>{Ir(e,t)})},zr=e=>{e.dom.textContent=``,I(Ht(e),e=>{Br(e)})},Br=e=>{let t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Vr=e=>{let t=e===void 0?document:e.dom;return Mn(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},Hr=(e,t,n)=>{let r=(n===void 0?document:n.dom).defaultView;r&&r.scrollTo(e,t)},Ur=e=>{let t=e===void 0?window:e;return Tr().browser.isFirefox()?A.none():A.from(t.visualViewport)},Wr=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),Gr=e=>{let t=e===void 0?window:e,n=t.document,r=Vr(V.fromDom(n));return Ur(t).fold(()=>{let e=t.document.documentElement,n=e.clientWidth,i=e.clientHeight;return Wr(r.left,r.top,n,i)},e=>Wr(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height))},Kr=()=>V.fromDom(document),qr=(e,t)=>e.view(t).fold(C([]),t=>{let n=qr(e,e.owner(t));return[t].concat(n)}),Jr=(e,t)=>{let n=qr(t,t.owner(e));return A.some(n)};var Yr=Object.freeze({__proto__:null,view:e=>(e.dom===document?A.none():A.from(e.dom.defaultView?.frameElement)).map(V.fromDom),owner:e=>Mt(e)});let Xr=e=>{let t=Vr(Kr());return Jr(e,Yr).fold(E(Fn,e),n=>{let r=In(e),i=ue(n,(e,t)=>{let n=In(t);return{left:e.left+n.left,top:e.top+n.top}},{left:0,top:0});return Mn(i.left+r.left+t.left,i.top+r.top+t.top)})},Zr=(e,t,n)=>({point:e,width:t,height:n}),Qr=(e,t,n,r)=>({x:e,y:t,width:n,height:r}),$r=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),ei=e=>{let t=Fn(e),n=Bn(e),r=kn(e);return $r(t.left,t.top,n,r)},ti=e=>{let t=Xr(e),n=Bn(e),r=kn(e);return $r(t.left,t.top,n,r)},ni=(e,t)=>{let n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.right,t.right),a=Math.min(e.bottom,t.bottom);return $r(n,r,i-n,a-r)},ri=(e,t)=>de(t,(e,t)=>ni(e,t),e),ii=()=>Gr(window);var ai=tinymce.util.Tools.resolve(`tinymce.ThemeManager`);let oi=e=>{let t=t=>t(e),n=C(e),r=()=>i,i={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:te,isError:k,map:t=>ci.value(t(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:t=>{t(e)},toOptional:()=>A.some(e)};return i},si=e=>{let t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:k,isError:te,map:t,mapError:t=>ci.error(t(e)),bind:t,exists:k,forall:te,getOr:w,or:w,getOrThunk:ee,orThunk:ee,getOrDie:O(String(e)),each:y,toOptional:A.none};return n},ci={value:oi,error:si,fromOption:(e,t)=>e.fold(()=>si(t),oi)};var li;(function(e){e[e.Error=0]=`Error`,e[e.Value=1]=`Value`})(li||={});let ui=(e,t,n)=>e.stype===li.Error?t(e.serror):n(e.svalue),di=e=>{let t=[],n=[];return I(e,e=>{ui(e,e=>n.push(e),e=>t.push(e))}),{values:t,errors:n}},fi=(e,t)=>e.stype===li.Error?{stype:li.Error,serror:t(e.serror)}:e,pi=(e,t)=>e.stype===li.Value?{stype:li.Value,svalue:t(e.svalue)}:e,mi=(e,t)=>e.stype===li.Value?t(e.svalue):e,hi=(e,t)=>e.stype===li.Error?t(e.serror):e,gi=e=>({stype:li.Value,svalue:e}),_i=e=>({stype:li.Error,serror:e}),vi={fromResult:e=>e.fold(_i,gi),toResult:e=>ui(e,ci.error,ci.value),svalue:gi,partition:di,serror:_i,bind:mi,bindError:hi,map:pi,mapError:fi,fold:ui},yi=(e,t,n,r)=>({tag:`field`,key:e,newKey:t,presence:n,prop:r}),bi=(e,t)=>({tag:`custom`,newKey:e,instantiator:t}),xi=(e,t,n)=>{switch(e.tag){case`field`:return t(e.key,e.newKey,e.presence,e.prop);case`custom`:return n(e.newKey,e.instantiator)}},Si=(e,t)=>t,Ci=(e,t)=>l(e)&&l(t)?Ti(e,t):t,wi=e=>(...t)=>{if(t.length===0)throw Error(`Can't merge zero objects`);let n={};for(let r=0;r<t.length;r++){let i=t[r];for(let t in i)Re(i,t)&&(n[t]=e(n[t],i[t]))}return n},Ti=wi(Ci),Ei=wi(Si),Di=()=>({tag:`required`,process:{}}),Oi=e=>({tag:`defaultedThunk`,process:e}),ki=e=>Oi(C(e)),Ai=()=>({tag:`option`,process:{}}),ji=e=>({tag:`mergeWithThunk`,process:e}),Mi=e=>ji(C(e)),Ni=(e,t)=>e.length>0?vi.svalue(Ti(t,Ei.apply(void 0,e))):vi.svalue(t),Pi=e=>x(vi.serror,L)(e),Fi={consolidateObj:(e,t)=>{let n=vi.partition(e);return n.errors.length>0?Pi(n.errors):Ni(n.values,t)},consolidateArr:e=>{let t=vi.partition(e);return t.errors.length>0?Pi(t.errors):vi.svalue(t.values)}},Ii=e=>c(e)&&Ee(e).length>100?` removed due to size`:JSON.stringify(e,null,2),Li=e=>F(e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:C(`... (only showing first ten failures)`)}]):e,e=>`Failed path: (`+e.path.join(` > `)+`)
`+e.getErrorInfo()),Ri=(e,t)=>vi.serror([{path:e,getErrorInfo:t}]),zi=(e,t,n)=>Ri(e,()=>`Could not find valid *required* value for "`+t+`" in `+Ii(n)),Bi=(e,t)=>Ri(e,()=>`Choice schema did not contain choice key: "`+t+`"`),Vi=(e,t,n)=>Ri(e,()=>`The chosen schema: "`+n+`" did not exist in branches: `+Ii(t)),Hi=(e,t)=>Ri(e,()=>`There are unsupported fields: [`+t.join(`, `)+`] specified`),Ui=(e,t)=>Ri(e,C(t)),Wi=e=>({extract:(t,n)=>vi.bindError(e(n),e=>Ui(t,e)),toString:C(`val`)}),Gi=Wi(vi.svalue),Ki=(e,t,n,r)=>z(t,n).fold(()=>zi(e,n,t),r),qi=(e,t,n,r)=>r(z(e,t).getOrThunk(()=>n(e))),Ji=(e,t,n)=>n(z(e,t)),Yi=(e,t,n,r)=>r(z(e,t).map(t=>t===!0?n(e):t)),Xi=(e,t,n,r,i)=>{let a=e=>i.extract(t.concat([r]),e),o=e=>e.fold(()=>vi.svalue(A.none()),e=>{let n=i.extract(t.concat([r]),e);return vi.map(n,A.some)});switch(e.tag){case`required`:return Ki(t,n,r,a);case`defaultedThunk`:return qi(n,r,e.process,a);case`option`:return Ji(n,r,o);case`defaultedOptionThunk`:return Yi(n,r,e.process,o);case`mergeWithThunk`:return qi(n,r,C({}),t=>a(Ti(e.process(n),t)))}},Zi=(e,t,n)=>{let r={},i=[];for(let a of n)xi(a,(n,a,o,s)=>{let c=Xi(o,e,t,n,s);vi.fold(c,e=>{i.push(...e)},e=>{r[a]=e})},(e,n)=>{r[e]=n(t)});return i.length>0?vi.serror(i):vi.svalue(r)},Qi=e=>({extract:(t,n)=>e().extract(t,n),toString:()=>e().toString()}),$i=e=>Ee(Pe(e,h)),ea=e=>{let t=ta(e),n=ue(e,(e,t)=>xi(t,t=>Ti(e,{[t]:!0}),C(e)),{});return{extract:(e,r)=>{let i=le(f(r)?[]:$i(r),e=>!ze(n,e));return i.length===0?t.extract(e,r):Hi(e,i)},toString:t.toString}},ta=e=>({extract:(t,n)=>Zi(t,n,e),toString:()=>`obj{
`+F(e,e=>xi(e,(e,t,n,r)=>e+` -> `+r.toString(),(e,t)=>`state(`+e+`)`)).join(`
`)+`}`}),na=e=>({extract:(t,n)=>{let r=F(n,(n,r)=>e.extract(t.concat([`[`+r+`]`]),n));return Fi.consolidateArr(r)},toString:()=>`array(`+e.toString()+`)`}),ra=(e,t)=>{let n=t===void 0?w:t;return{extract:(t,r)=>{let i=[];for(let a of e){let e=a.extract(t,r);if(e.stype===li.Value)return{stype:li.Value,svalue:n(e.svalue)};i.push(e)}return Fi.consolidateArr(i)},toString:()=>`oneOf(`+F(e,e=>e.toString()).join(`, `)+`)`}},ia=(e,t)=>{let n=(t,n)=>na(Wi(e)).extract(t,n);return{extract:(e,r)=>{let i=n(e,Ee(r));return vi.bind(i,n=>ta(F(n,e=>yi(e,e,Di(),t))).extract(e,r))},toString:()=>`setOf(`+t.toString()+`)`}},aa=(e,t)=>{let n=Hn(t);return{extract:(e,t)=>n().extract(e,t),toString:()=>n().toString()}},W=x(na,ta),oa=C(Gi),sa=(e,t)=>Wi(n=>{let r=typeof n;return e(n)?vi.svalue(n):vi.serror(`Expected type: ${t} but got: ${r}`)}),ca=sa(_,`number`),la=sa(s,`string`),ua=sa(f,`boolean`),da=sa(g,`function`),fa=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case`Boolean`:case`Number`:case`String`:case`Date`:case`RegExp`:case`Blob`:case`FileList`:case`ImageData`:case`ImageBitmap`:case`ArrayBuffer`:return!0;case`Array`:case`Object`:return Object.keys(e).every(t=>fa(e[t]));default:return!1}},pa=Wi(e=>fa(e)?vi.svalue(e):vi.serror(`Expected value to be acceptable for sending via postMessage`)),ma=(e,t,n,r)=>z(n,r).fold(()=>Vi(e,n,r),n=>n.extract(e.concat([`branch: `+r]),t)),ha=(e,t)=>({extract:(n,r)=>z(r,e).fold(()=>Bi(n,e),e=>ma(n,r,t,e)),toString:()=>`chooseOn(`+e+`). Possible values: `+Ee(t)}),ga=()=>na(Gi),_a=e=>Wi(t=>e(t).fold(vi.serror,vi.svalue)),G=(e,t)=>ia(t=>vi.fromResult(e(t)),t),va=(e,t,n)=>{let r=t.extract([e],n);return vi.mapError(r,e=>({input:n,errors:e}))},ya=(e,t,n)=>vi.toResult(va(e,t,n)),ba=e=>e.fold(e=>{throw Error(Sa(e))},w),xa=(e,t,n)=>ba(ya(e,t,n)),Sa=e=>`Errors: 
`+Li(e.errors).join(`
`)+`

Input object: `+Ii(e.input),Ca=(e,t)=>ha(e,ke(t,ta)),wa=(e,t)=>aa(e,t),Ta=yi,Ea=bi,Da=e=>_a(t=>ie(e,t)?ci.value(t):ci.error(`Unsupported value: "${t}", choose one of "${e.join(`, `)}".`)),K=e=>Ta(e,e,Di(),oa()),Oa=(e,t)=>Ta(e,e,Di(),t),ka=e=>Oa(e,ca),Aa=e=>Oa(e,la),ja=(e,t)=>Ta(e,e,Di(),Da(t)),Ma=e=>Oa(e,ua),Na=e=>Oa(e,da),Pa=(e,t)=>Ta(e,e,Ai(),Wi(n=>vi.serror(`The field: `+e+` is forbidden. `+t))),Fa=(e,t)=>Ta(e,e,Di(),ta(t)),Ia=(e,t)=>Ta(e,e,Di(),W(t)),La=(e,t)=>Ta(e,e,Di(),na(t)),Ra=e=>Ta(e,e,Ai(),oa()),za=(e,t)=>Ta(e,e,Ai(),t),Ba=e=>za(e,ca),Va=e=>za(e,la),Ha=(e,t)=>za(e,Da(t)),Ua=e=>za(e,da),Wa=(e,t)=>za(e,na(t)),Ga=(e,t)=>za(e,ta(t)),Ka=(e,t)=>za(e,ea(t)),q=(e,t)=>Ta(e,e,ki(t),oa()),qa=(e,t,n)=>Ta(e,e,ki(t),n),Ja=(e,t)=>qa(e,t,ca),Ya=(e,t)=>qa(e,t,la),Xa=(e,t,n)=>qa(e,t,Da(n)),Za=(e,t)=>qa(e,t,ua),Qa=(e,t)=>qa(e,t,da),$a=(e,t)=>qa(e,t,pa),eo=(e,t,n)=>qa(e,t,na(n)),to=(e,t,n)=>qa(e,t,ta(n)),no=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},ro={generate:e=>{if(!u(e))throw Error(`cases must be an array`);if(e.length===0)throw Error(`there must be at least one case`);let t=[],n={};return I(e,(r,i)=>{let a=Ee(r);if(a.length!==1)throw Error(`one and only one name per case`);let o=a[0],s=r[o];if(n[o]!==void 0)throw Error(`duplicate key detected:`+o);if(o===`cata`)throw Error(`cannot have a case named cata (sorry)`);if(!u(s))throw Error(`case arguments must be an array`);t.push(o),n[o]=(...n)=>{let r=n.length;if(r!==s.length)throw Error(`Wrong number of arguments to case `+o+`. Expected `+s.length+` (`+s+`), got `+r);return{fold:(...t)=>{if(t.length!==e.length)throw Error(`Wrong number of arguments to fold. Expected `+e.length+`, got `+t.length);return t[i].apply(null,n)},match:e=>{let r=Ee(e);if(t.length!==r.length)throw Error(`Wrong number of arguments to match. Expected: `+t.join(`,`)+`
Actual: `+r.join(`,`));if(!ge(t,e=>ie(r,e)))throw Error(`Not all branches were specified when using match. Specified: `+r.join(`, `)+`
Required: `+t.join(`, `));return e[o].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:o,params:n})}}}}),n}};ro.generate([{bothErrors:[`error1`,`error2`]},{firstError:[`error1`,`value2`]},{secondError:[`value1`,`error2`]},{bothValues:[`value1`,`value2`]}]);let io=e=>{let t=[],n=[];return I(e,e=>{e.fold(e=>{t.push(e)},e=>{n.push(e)})}),{errors:t,values:n}},ao=(e,t)=>{let n={};return Oe(e,(e,r)=>{ie(t,r)||(n[r]=e)}),n},oo=(e,t)=>({[e]:t}),so=e=>{let t={};return I(e,e=>{t[e.key]=e.value}),t},co=(e,t)=>ao(e,t),lo=(e,t)=>oo(e,t),uo=e=>so(e),fo=(e,t)=>e.length===0?ci.value(t):ci.value(Ti(t,Ei.apply(void 0,e))),po=e=>ci.error(L(e)),mo=(e,t)=>{let n=io(e);return n.errors.length>0?po(n.errors):fo(n.values,t)},ho=e=>g(e)?e:k,go=(e,t,n)=>{let r=e.dom,i=ho(n);for(;r.parentNode;){r=r.parentNode;let e=V.fromDom(r),n=t(e);if(n.isSome())return n;if(i(e))break}return A.none()},_o=(e,t,n)=>{let r=t(e),i=ho(n);return r.orThunk(()=>i(e)?A.none():go(e,t,i))},vo=(e,t)=>At(e.element,t.event.target),yo={can:te,abort:k,run:y},bo=e=>{if(!ze(e,`can`)&&!ze(e,`abort`)&&!ze(e,`run`))throw Error(`EventHandler defined by: `+JSON.stringify(e,null,2)+` does not have can, abort, or run!`);return{...yo,...e}},xo=(e,t)=>(...n)=>de(e,(e,r)=>e&&t(r).apply(void 0,n),!0),So=(e,t)=>(...n)=>de(e,(e,r)=>e||t(r).apply(void 0,n),!1),Co=e=>g(e)?{can:te,abort:k,run:e}:e,wo=e=>({can:xo(e,e=>e.can),abort:So(e,e=>e.abort),run:(...t)=>{I(e,e=>{e.run.apply(void 0,t)})}}),To=C,Eo=To(`touchstart`),Do=To(`touchmove`),Oo=To(`touchend`),ko=To(`touchcancel`),Ao=To(`mousedown`),jo=To(`mousemove`),Mo=To(`mouseout`),No=To(`mouseup`),Po=To(`mouseover`),Fo=To(`focusin`),Io=To(`focusout`),Lo=To(`keydown`),Ro=To(`keyup`),zo=To(`input`),Bo=To(`change`),Vo=To(`click`),Ho=To(`transitioncancel`),Uo=To(`transitionend`),Wo=To(`transitionstart`),Go=To(`selectstart`),Ko=e=>C(`alloy.`+e),qo={tap:Ko(`tap`)},Jo=Ko(`focus`),Yo=Ko(`blur.post`),Xo=Ko(`paste.post`),Zo=Ko(`receive`),Qo=Ko(`execute`),$o=Ko(`focus.item`),es=qo.tap,ts=Ko(`longpress`),ns=Ko(`sandbox.close`),rs=Ko(`typeahead.cancel`),is=Ko(`system.init`),as=Ko(`system.touchmove`),os=Ko(`system.touchend`),ss=Ko(`system.scroll`),cs=Ko(`system.resize`),ls=Ko(`system.attached`),us=Ko(`system.detached`),ds=Ko(`system.dismissRequested`),fs=Ko(`system.repositionRequested`),ps=Ko(`focusmanager.shifted`),ms=Ko(`slotcontainer.visibility`),hs=Ko(`system.external.element.scroll`),gs=Ko(`change.tab`),_s=Ko(`dismiss.tab`),vs=Ko(`highlight`),ys=Ko(`dehighlight`),bs=(e,t)=>{ws(e,e.element,t,{})},xs=(e,t,n)=>{ws(e,e.element,t,n)},Ss=e=>{bs(e,Qo())},Cs=(e,t,n)=>{ws(e,t,n,{})},ws=(e,t,n,r)=>{let i={target:t,...r};e.getSystem().triggerEvent(n,t,i)},Ts=(e,t,n,r)=>{let i={...r,target:t};e.getSystem().triggerEvent(n,t,i)},Es=(e,t,n,r)=>{e.getSystem().triggerEvent(n,t,r.event)},Ds=e=>uo(e),Os=(e,t)=>({key:e,value:bo({abort:t})}),ks=(e,t)=>({key:e,value:bo({can:t})}),As=e=>({key:e,value:bo({run:(e,t)=>{t.event.prevent()}})}),J=(e,t)=>({key:e,value:bo({run:t})}),js=(e,t,n)=>({key:e,value:bo({run:(e,r)=>{t.apply(void 0,[e,r].concat(n))}})}),Ms=e=>t=>J(e,t),Ns=e=>t=>({key:e,value:bo({run:(e,n)=>{vo(e,n)&&t(e,n)}})}),Ps=(e,t)=>J(e,(n,r)=>{n.getSystem().getByUid(t).each(t=>{Es(t,t.element,e,r)})}),Fs=(e,t,n)=>{let r=t.partUids[n];return Ps(e,r)},Is=(e,t)=>J(e,(e,n)=>{let r=n.event;t(e,e.getSystem().getByDom(r.target).getOrThunk(()=>_o(r.target,t=>e.getSystem().getByDom(t).toOptional(),k).getOr(e)),n)}),Ls=e=>J(e,(e,t)=>{t.cut()}),Rs=e=>J(e,(e,t)=>{t.stop()}),zs=(e,t)=>Ns(e)(t),Bs=Ns(ls()),Vs=Ns(us()),Hs=Ns(is()),Us=Ms(Qo()),Ws=(e,t)=>{let n=(t||document).createElement(`div`);return n.innerHTML=e,Ht(V.fromDom(n))},Gs=e=>e.dom.innerHTML,Ks=(e,t)=>{let n=Mt(e).dom,r=V.fromDom(n.createDocumentFragment());Rr(r,Ws(t,n)),zr(e),Ir(e,r)},qs=e=>{let t=V.fromTag(`div`);return Ir(t,V.fromDom(e.dom.cloneNode(!0))),Gs(t)},Js=(e,t)=>V.fromDom(e.dom.cloneNode(t)),Ys=e=>Js(e,!1),Xs=e=>Js(e,!0),Zs=e=>qt(e)?`#shadow-root`:qs(Ys(e)),Qs=e=>Zs(e),$s=(e,t,n)=>At(t,e.element)&&!At(t,n),ec=Ds([ks(Jo(),(e,t)=>{let n=t.event,r=n.originator,i=n.target;return $s(e,r,i)?(console.warn(Jo()+` did not get interpreted by the desired target. 
Originator: `+Qs(r)+`
Target: `+Qs(i)+`
Check the `+Jo()+` event handlers`),!1):!0})]);var tc=Object.freeze({__proto__:null,events:ec});let nc=0,rc=e=>{let t=new Date().getTime(),n=Math.floor(Math.random()*1e9);return nc++,e+`_`+n+nc+String(t)},ic=C(`alloy-id-`),ac=C(`data-alloy-id`),oc=ic(),sc=ac(),cc=(e,t)=>{let n=rc(oc+e);return lc(t,n),n},lc=(e,t)=>{Object.defineProperty(e.dom,sc,{value:t,writable:!0})},uc=e=>{let t=xt(e)?e.dom[sc]:null;return A.from(t)},dc=e=>rc(e),fc=w,pc=e=>{let t=t=>`The component must be in a context to execute: ${t}`+(e?`
`+Qs(e().element)+` is not in context.`:``),n=e=>()=>{throw Error(t(e))},r=e=>()=>{console.warn(t(e))};return{debugInfo:C(`fake`),triggerEvent:r(`triggerEvent`),triggerFocus:r(`triggerFocus`),triggerEscape:r(`triggerEscape`),broadcast:r(`broadcast`),broadcastOn:r(`broadcastOn`),broadcastEvent:r(`broadcastEvent`),build:n(`build`),buildOrPatch:n(`buildOrPatch`),addToWorld:n(`addToWorld`),removeFromWorld:n(`removeFromWorld`),addToGui:n(`addToGui`),removeFromGui:n(`removeFromGui`),getByUid:n(`getByUid`),getByDom:n(`getByDom`),isConnected:k}},mc=pc(),hc=(e,t,n)=>{let r=n.toString(),i=r.indexOf(`)`)+1,a=r.indexOf(`(`),o=r.substring(a+1,i-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:gc(o.slice(0,1).concat(o.slice(3)))}),e},gc=e=>F(e,e=>tt(e,`/*`)?e.substring(0,e.length-2):e),_c=(e,t)=>{let n=e.toString(),r=n.indexOf(`)`)+1,i=n.indexOf(`(`),a=n.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:gc(a)}),e},vc=(e,t)=>{let n=t.toString(),r=n.indexOf(`)`)+1,i=n.indexOf(`(`),a=n.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:`OVERRIDE`,parameters:gc(a.slice(1))}),e},yc=rc(`alloy-premade`),bc=e=>(Object.defineProperty(e.element.dom,yc,{value:e.uid,writable:!0}),lo(yc,e)),xc=e=>Re(e.dom,yc),Sc=e=>z(e,yc),Cc=e=>vc((t,...n)=>e(t.getApis(),t,...n),e),wc={init:()=>Tc({readState:C(`No State required`)})},Tc=e=>e,Ec=(e,t)=>({list:t,data:ke(ya(`component.behaviours`,ta(F(t,e=>Ga(e.name(),[K(`config`),q(`state`,wc)]))),e.behaviours).fold(t=>{throw Error(Sa(t)+`
Complete spec:
`+JSON.stringify(e,null,2))},w),e=>C(e.map(e=>({config:e.config,state:e.state.init(e.config)}))))}),Dc=e=>e.list,Oc=e=>e.data,kc=(e,t)=>{let n={};return Oe(e,(e,r)=>{Oe(e,(e,i)=>{n[i]=z(n,i).getOr([]).concat([t(r,e)])})}),n},Ac=e=>({classes:p(e.classes)?[]:e.classes,attributes:p(e.attributes)?{}:e.attributes,styles:p(e.styles)?{}:e.styles}),jc=(e,t)=>({...e,attributes:{...e.attributes,...t.attributes},styles:{...e.styles,...t.styles},classes:e.classes.concat(t.classes)}),Mc=(e,t,n,r)=>{let i={...t};I(n,t=>{i[t.name()]=t.exhibit(e,r)});let a=kc(i,(e,t)=>({name:e,modification:t})),o=e=>ue(e,(e,t)=>({...t.modification,...e}),{});return Ac({classes:ue(a.classes,(e,t)=>t.modification.concat(e),[]),attributes:o(a.attributes),styles:o(a.styles)})},Nc=(e,t,n,r)=>{try{let i=be(n,(n,i)=>{let a=n[t],o=i[t],s=r.indexOf(a),c=r.indexOf(o);if(s===-1)throw Error(`The ordering for `+e+` does not have an entry for `+a+`.
Order specified: `+JSON.stringify(r,null,2));if(c===-1)throw Error(`The ordering for `+e+` does not have an entry for `+o+`.
Order specified: `+JSON.stringify(r,null,2));return s<c?-1:c<s?1:0});return ci.value(i)}catch(e){return ci.error([e])}},Pc=(e,t)=>({handler:e,purpose:t}),Fc=(e,t)=>({cHandler:e,purpose:t}),Ic=(e,t)=>Fc(E.apply(void 0,[e.handler].concat(t)),e.purpose),Lc=e=>e.cHandler,Rc=(e,t)=>({name:e,handler:t}),zc=(e,t)=>{let n={};return I(e,e=>{n[e.name()]=e.handlers(t)}),n},Bc=(e,t,n)=>kc({...n,...zc(t,e)},Rc),Vc=(e,t,n,r)=>Gc(Bc(e,n,r),t),Hc=e=>{let t=Co(e);return(e,n,...r)=>{let i=[e,n].concat(r);t.abort.apply(void 0,i)?n.stop():t.can.apply(void 0,i)&&t.run.apply(void 0,i)}},Uc=(e,t)=>ci.error([`The event (`+e+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(F(t,e=>e.name),null,2)]),Wc=(e,t,n)=>{let r=t[n];return r?Nc(`Event: `+n,`name`,e,r).map(e=>wo(F(e,e=>e.handler))):Uc(n,e)},Gc=(e,t)=>mo(Fe(e,(e,n)=>(e.length===1?ci.value(e[0].handler):Wc(e,t,n)).map(r=>lo(n,Pc(Hc(r),e.length>1?le(t[n],t=>ae(e,e=>e.name===t)).join(` > `):e[0].name)))),{}),Kc=`alloy.base.behaviour`,qc=ta([Ta(`dom`,`dom`,Di(),ta([K(`tag`),q(`styles`,{}),q(`classes`,[]),q(`attributes`,{}),Ra(`value`),Ra(`innerHtml`)])),K(`components`),K(`uid`),q(`events`,{}),q(`apis`,{}),Ta(`eventOrder`,`eventOrder`,Mi({[Qo()]:[`disabling`,Kc,`toggling`,`typeaheadevents`],[Jo()]:[Kc,`focusing`,`keying`],[is()]:[Kc,`disabling`,`toggling`,`representing`],[zo()]:[Kc,`representing`,`streaming`,`invalidating`],[us()]:[Kc,`representing`,`item-events`,`tooltipping`],[Ao()]:[`focusing`,Kc,`item-type-events`],[Eo()]:[`focusing`,Kc,`item-type-events`],[Po()]:[`item-type-events`,`tooltipping`],[Zo()]:[`receiving`,`reflecting`,`tooltipping`]}),oa()),Ra(`domModification`)]),Jc=e=>ya(`custom.definition`,qc,e),Yc=e=>({...e.dom,uid:e.uid,domChildren:F(e.components,e=>e.element)}),Xc=e=>e.domModification.fold(()=>Ac({}),Ac),Zc=e=>e.events,Qc=(e,t)=>{let n=un(e,t);return n===void 0||n===``?[]:n.split(` `)},$c=(e,t,n)=>(cn(e,t,Qc(e,t).concat([n]).join(` `)),!0),el=(e,t,n)=>{let r=le(Qc(e,t),e=>e!==n);return r.length>0?cn(e,t,r.join(` `)):pn(e,t),!1},tl=e=>e.dom.classList!==void 0,nl=e=>Qc(e,`class`),rl=(e,t)=>$c(e,`class`,t),il=(e,t)=>el(e,`class`,t),al=(e,t)=>ie(nl(e),t)?il(e,t):rl(e,t),ol=(e,t)=>{tl(e)?e.dom.classList.add(t):rl(e,t)},sl=e=>{(tl(e)?e.dom.classList:nl(e)).length===0&&pn(e,`class`)},cl=(e,t)=>{tl(e)?e.dom.classList.remove(t):il(e,t),sl(e)},ll=(e,t)=>{let n=tl(e)?e.dom.classList.toggle(t):al(e,t);return sl(e),n},ul=(e,t)=>tl(e)&&e.dom.classList.contains(t),dl=(e,t)=>{I(t,t=>{ol(e,t)})},fl=(e,t)=>{I(t,t=>{cl(e,t)})},pl=(e,t)=>{I(t,t=>{ll(e,t)})},ml=(e,t)=>ge(t,t=>ul(e,t)),hl=e=>{let t=e.dom.classList,n=Array(t.length);for(let e=0;e<t.length;e++){let r=t.item(e);r!==null&&(n[e]=r)}return n},gl=e=>tl(e)?hl(e):nl(e),_l=e=>e.dom.value,vl=(e,t)=>{if(t===void 0)throw Error(`Value.set was undefined`);e.dom.value=t},yl=(e,t,n)=>Ut(e,t).map(e=>{if(n.exists(t=>!At(t,e))){let t=n.map(_t).getOr(`span`),r=V.fromTag(t);return Nr(e,r),r}else return e}),bl=(e,t,n)=>{n.fold(()=>Ir(e,t),e=>{At(e,t)||(Nr(e,t),Br(e))})},xl=(e,t,n)=>{let r=F(t,n);return I(Ht(e).slice(r.length),Br),r},Sl=(e,t,n,r)=>{let i=Ut(e,t),a=r(n,i),o=yl(e,t,i);return bl(e,a.element,o),a},Cl=(e,t,n)=>xl(e,t,(t,r)=>Sl(e,r,t,n)),wl=(e,t)=>xl(e,t,(t,n)=>(bl(e,t,Ut(e,n)),t)),Tl=(e,t)=>{let n=Ee(e);return{toRemove:_e(Ee(t),n),toSet:Ne(e,(e,n)=>!Re(t,n)||e!==t[n]).t}},El=(e,t)=>{let{class:n,style:r,...i}=mn(t),{toSet:a,toRemove:o}=Tl(e.attributes,i),s=()=>{I(o,e=>pn(t,e)),ln(t,a)},c=Sn(t),{toSet:l,toRemove:u}=Tl(e.styles,c),d=()=>{I(u,e=>wn(t,e)),H(t,l)},f=gl(t),p=_e(f,e.classes),m=_e(e.classes,f);return s(),dl(t,m),fl(t,p),d(),e.innerHtml.fold(()=>{let n=e.domChildren;wl(t,n)},e=>{Ks(t,e)}),(()=>{let n=t,r=e.value.getOrUndefined();r!==_l(n)&&vl(n,r??``)})(),t},Dl=e=>{let t=V.fromTag(e.tag);ln(t,e.attributes),dl(t,e.classes),H(t,e.styles),e.innerHtml.each(e=>Ks(t,e));let n=e.domChildren;return Rr(t,n),e.value.each(e=>{vl(t,e)}),t},Ol=(e,t)=>{try{let n=El(e,t);return A.some(n)}catch{return A.none()}},kl=e=>e.innerHtml.isSome()&&e.domChildren.length>0,Al=(e,t)=>{let n=t.filter(t=>_t(t)===e.tag&&!kl(e)&&!xc(t)).bind(t=>Ol(e,t)).getOrThunk(()=>Dl(e));return lc(n,e.uid),n},jl=e=>{let t=z(e,`behaviours`).getOr({});return he(Ee(t),e=>{let n=t[e];return h(n)?[n.me]:[]})},Ml=(e,t)=>Ec(e,t),Nl=e=>Ml(e,jl(e)),Pl=(e,t,n)=>{let r=Yc(e),i=Xc(e),a={"alloy.base.modification":i};return jc(r,t.length>0?Mc(n,a,t,r):i)},Fl=(e,t,n)=>{let r={"alloy.base.behaviour":Zc(e)};return Vc(n,e.eventOrder,t,r).getOrDie()},Il=(e,t)=>{let n=()=>d,r=no(mc),i=ba(Jc(e)),a=Nl(e),o=Dc(a),s=Oc(a),c=Al(Pl(i,o,s),t),l=Fl(i,o,s),u=no(i.components),d={uid:e.uid,getSystem:r.get,config:t=>{let n=s;return(g(n[t.name()])?n[t.name()]:()=>{throw Error(`Could not find `+t.name()+` in `+JSON.stringify(e,null,2))})()},hasConfigured:e=>g(s[e.name()]),spec:e,readState:e=>s[e]().map(e=>e.state.readState()).getOr(`not enabled`),getApis:()=>i.apis,connect:e=>{r.set(e)},disconnect:()=>{r.set(pc(n))},element:c,syncComponents:()=>{let e=he(Ht(c),e=>r.get().getByDom(e).fold(()=>[],ye));u.set(e)},components:u.get,events:l};return d},Ll=(e,t)=>{let n=z(e,`components`).getOr([]);return t.fold(()=>F(n,Wl),e=>F(n,(t,n)=>Ul(t,Ut(e,n))))},Rl=(e,t)=>{let{events:n,...r}=fc(e),i=Ll(r,t),a={...r,events:{...tc,...n},components:i};return ci.value(Il(a,t))},zl=e=>Bl({element:V.fromText(e)}),Bl=e=>{let t=xa(`external.component`,ea([K(`element`),Ra(`uid`)]),e),n=no(pc()),r=e=>{n.set(e)},i=()=>{n.set(pc(()=>o))},a=t.uid.getOrThunk(()=>dc(`external`));lc(t.element,a);let o={uid:a,getSystem:n.get,config:A.none,hasConfigured:k,connect:r,disconnect:i,getApis:()=>({}),element:t.element,spec:e,readState:C(`No state`),syncComponents:y,components:C([]),events:{}};return bc(o)},Vl=dc,Hl=e=>Re(e,`uid`),Ul=(e,t)=>Sc(e).getOrThunk(()=>Rl(Hl(e)?e:{uid:Vl(``),...e},t).getOrDie()),Wl=e=>Ul(e,A.none()),Gl=bc;var Kl=(e,t,n,r,i)=>e(n,r)?A.some(n):g(i)&&i(n)?A.none():t(n,r,i);let ql=(e,t,n)=>{let r=e.dom,i=g(n)?n:k;for(;r.parentNode;){r=r.parentNode;let e=V.fromDom(r);if(t(e))return A.some(e);if(i(e))break}return A.none()},Jl=(e,t,n)=>Kl((e,t)=>t(e),ql,e,t,n),Yl=(e,t)=>pe(e.dom.childNodes,e=>t(V.fromDom(e))).map(V.fromDom),Xl=(e,t)=>{let n=e=>{for(let r=0;r<e.childNodes.length;r++){let i=V.fromDom(e.childNodes[r]);if(t(i))return A.some(i);let a=n(e.childNodes[r]);if(a.isSome())return a}return A.none()};return n(e.dom)},Zl=(e,t,n)=>Jl(e,t,n).isSome(),Ql=(e,t,n)=>ql(e,e=>Et(e,t),n),$l=(e,t)=>Yl(e,e=>Et(e,t)),eu=(e,t)=>kt(t,e),tu=(e,t,n)=>Kl((e,t)=>Et(e,t),Ql,e,t,n),nu=`aria-controls`,ru=e=>Jl(e,e=>{if(!xt(e))return!1;let t=un(e,`id`);return t!==void 0&&t.indexOf(nu)>-1}).bind(e=>{let t=un(e,`id`);return eu(Xt(e),`[${nu}="${t}"]`)}),iu=()=>{let e=rc(nu);return{id:e,link:t=>{cn(t,nu,e)},unlink:e=>{pn(e,nu)}}},au=(e,t)=>ru(t).exists(t=>ou(e,t)),ou=(e,t)=>Zl(t,t=>At(t,e.element),k)||au(e,t),su=`unknown`;var cu;(function(e){e[e.STOP=0]=`STOP`,e[e.NORMAL=1]=`NORMAL`,e[e.LOGGING=2]=`LOGGING`})(cu||={});let lu=no({}),uu=(e,t)=>{let n=[],r=new Date().getTime();return{logEventCut:(e,t,r)=>{n.push({outcome:`cut`,target:t,purpose:r})},logEventStopped:(e,t,r)=>{n.push({outcome:`stopped`,target:t,purpose:r})},logNoParent:(e,t,r)=>{n.push({outcome:`no-parent`,target:t,purpose:r})},logEventNoHandlers:(e,t)=>{n.push({outcome:`no-handlers-left`,target:t})},logEventResponse:(e,t,r)=>{n.push({outcome:`response`,purpose:r,target:t})},write:()=>{let i=new Date().getTime();ie([`mousemove`,`mouseover`,`mouseout`,is()],e)||console.log(e,{event:e,time:i-r,target:t.dom,sequence:F(n,e=>ie([`cut`,`stopped`,`response`],e.outcome)?`{`+e.purpose+`} `+e.outcome+` at (`+Qs(e.target)+`)`:e.outcome)})}}},du=(e,t,n)=>{switch(z(lu.get(),e).orThunk(()=>Te(Ee(lu.get()),t=>e.indexOf(t)>-1?A.some(lu.get()[t]):A.none())).getOr(cu.NORMAL)){case cu.NORMAL:return n(gu());case cu.LOGGING:{let r=uu(e,t),i=n(r);return r.write(),i}case cu.STOP:return!0}},fu=[`alloy/data/Fields`,`alloy/debugging/Debugging`],pu=()=>{let e=Error();return e.stack===void 0?su:pe(e.stack.split(`
`),e=>e.indexOf(`alloy`)>0&&!ae(fu,t=>e.indexOf(t)>-1)).getOr(su)},mu={logEventCut:y,logEventStopped:y,logNoParent:y,logEventNoHandlers:y,logEventResponse:y,write:y},hu=(e,t,n)=>du(e,t,n),gu=C(mu),_u=C([K(`menu`),K(`selectedMenu`)]),vu=C([K(`item`),K(`selectedItem`)]);vu().concat(_u());let yu=C(ta(vu())),bu=Fa(`initSize`,[K(`numColumns`),K(`numRows`)]),xu=()=>Oa(`markers`,yu()),Su=()=>Fa(`markers`,[K(`backgroundMenu`)].concat(_u(),vu())),Cu=e=>Fa(`markers`,F(e,K)),wu=(e,t,n)=>(pu(),Ta(t,t,n,_a(e=>ci.value((...t)=>e.apply(void 0,t))))),Tu=e=>wu(`onHandler`,e,ki(y)),Eu=e=>wu(`onKeyboardHandler`,e,ki(A.none)),Y=e=>wu(`onHandler`,e,Di()),Du=e=>wu(`onKeyboardHandler`,e,Di()),Ou=(e,t)=>Ea(e,C(t)),ku=e=>Ea(e,w),Au=C(bu),ju=(e,t,n,r,i,a,o,s=!1)=>({x:e,y:t,bubble:n,direction:r,placement:i,restriction:a,label:`${o}-${i}`,alwaysFit:s}),Mu=ro.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Nu=(e,t,n,r,i,a,o,s,c)=>e.fold(t,n,r,i,a,o,s,c),Pu=(e,t,n,r)=>e.fold(t,t,r,r,t,r,n,n),Fu=(e,t,n,r)=>e.fold(t,r,t,r,n,n,t,r),Iu=Mu.southeast,Lu=Mu.southwest,Ru=Mu.northeast,zu=Mu.northwest,Bu=Mu.south,Vu=Mu.north,Hu=Mu.east,Uu=Mu.west,Wu=(e,t,n,r)=>{let i=e+t;return i>r?n:i<n?r:i},Gu=(e,t,n)=>Math.min(Math.max(e,t),n),Ku=(e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},qu=(e,t)=>ve([`left`,`right`,`top`,`bottom`],n=>z(t,n).map(t=>Ku(e,t))),Ju=(e,t,n)=>{let r=(r,i)=>t[r].map(t=>{let a=r===`top`||r===`bottom`,o=a?n.top:n.left,s=(r===`left`||r===`top`?Math.max:Math.min)(t,i)+o;return a?Gu(s,e.y,e.bottom):Gu(s,e.x,e.right)}).getOr(i),i=r(`left`,e.x),a=r(`top`,e.y),o=r(`right`,e.right),s=r(`bottom`,e.bottom);return $r(i,a,o-i,s-a)},Yu=`layout`,Xu=e=>e.x,Zu=(e,t)=>e.x+e.width/2-t.width/2,Qu=(e,t)=>e.x+e.width-t.width,$u=(e,t)=>e.y-t.height,ed=e=>e.y+e.height,td=(e,t)=>e.y+e.height/2-t.height/2,nd=e=>e.x+e.width,rd=(e,t)=>e.x-t.width,id=(e,t,n)=>ju(Xu(e),ed(e),n.southeast(),Iu(),`southeast`,qu(e,{left:1,top:3}),Yu),ad=(e,t,n)=>ju(Qu(e,t),ed(e),n.southwest(),Lu(),`southwest`,qu(e,{right:0,top:3}),Yu),od=(e,t,n)=>ju(Xu(e),$u(e,t),n.northeast(),Ru(),`northeast`,qu(e,{left:1,bottom:2}),Yu),sd=(e,t,n)=>ju(Qu(e,t),$u(e,t),n.northwest(),zu(),`northwest`,qu(e,{right:0,bottom:2}),Yu),cd=(e,t,n)=>ju(Zu(e,t),$u(e,t),n.north(),Vu(),`north`,qu(e,{bottom:2}),Yu),ld=(e,t,n)=>ju(Zu(e,t),ed(e),n.south(),Bu(),`south`,qu(e,{top:3}),Yu),ud=(e,t,n)=>ju(nd(e),td(e,t),n.east(),Hu(),`east`,qu(e,{left:0}),Yu),dd=(e,t,n)=>ju(rd(e,t),td(e,t),n.west(),Uu(),`west`,qu(e,{right:1}),Yu),fd=()=>[id,ad,od,sd,ld,cd,ud,dd],pd=()=>[ad,id,sd,od,ld,cd,ud,dd],md=()=>[od,sd,id,ad,cd,ld],hd=()=>[sd,od,ad,id,cd,ld],gd=()=>[id,ad,od,sd,ld,cd],_d=()=>[ad,id,sd,od,ld,cd],vd=(e,t)=>t.universal?e:le(e,e=>ie(t.channels,e));var yd=Object.freeze({__proto__:null,events:e=>Ds([J(Zo(),(t,n)=>{let r=e.channels,i=Ee(r),a=n;I(vd(i,a),e=>{let n=r[e],i=n.schema,o=xa(`channel[`+e+`] data
Receiver: `+Qs(t.element),i,a.data);n.onReceive(t,o)})})])}),bd=[Oa(`channels`,G(ci.value,ea([Y(`onReceive`),q(`schema`,oa())])))];let xd=(e,t,n)=>Us(r=>{n(r,e,t)}),Sd=(e,t,n)=>Hs((r,i)=>{n(r,e,t)}),Cd=(e,t,n,r,i,a)=>Ed(ea(e),Ga(t,[Ka(`config`,e)]),t,n,r,i,a),wd=(e,t,n,r,i,a)=>Ed(e,Ga(t,[za(`config`,e)]),t,n,r,i,a),X=(e,t,n)=>hc((r,...i)=>{let a=[r].concat(i);return r.config({name:C(e)}).fold(()=>{throw Error(`We could not find any behaviour configuration for: `+e+`. Using API: `+n)},e=>{let n=Array.prototype.slice.call(a,1);return t.apply(void 0,[r,e.config,e.state].concat(n))})},n,t),Td=e=>({key:e,value:void 0}),Ed=(e,t,n,r,i,a,o)=>{let s=e=>ze(e,n)?e[n]():A.none(),c=ke(i,(e,t)=>X(n,e,t)),l={...ke(a,(e,t)=>_c(e,t)),...c,revoke:E(Td,n),config:t=>({key:n,value:{config:xa(n+`-config`,e,t),me:l,configAsRaw:Hn(()=>xa(n+`-config`,e,t)),initialConfig:t,state:o}}),schema:C(t),exhibit:(e,t)=>We(s(e),z(r,`exhibit`),(e,n)=>n(t,e.config,e.state)).getOrThunk(()=>Ac({})),name:C(n),handlers:e=>s(e).map(e=>z(r,`events`).getOr(()=>({}))(e.config,e.state)).getOr({})};return l},Z=e=>uo(e),Dd=ea([K(`fields`),K(`name`),q(`active`,{}),q(`apis`,{}),q(`state`,wc),q(`extra`,{})]),Od=e=>{let t=xa(`Creating behaviour: `+e.name,Dd,e);return Cd(t.fields,t.name,t.active,t.apis,t.extra,t.state)},kd=ea([K(`branchKey`),K(`branches`),K(`name`),q(`active`,{}),q(`apis`,{}),q(`state`,wc),q(`extra`,{})]),Ad=e=>{let t=xa(`Creating behaviour: `+e.name,kd,e);return wd(Ca(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},jd=C(void 0),Md=Od({fields:bd,name:`receiving`,active:yd});var Nd=Object.freeze({__proto__:null,exhibit:(e,t)=>Ac({classes:[],styles:t.useFixed()?{}:{position:`relative`}})});let Pd=(e,t=!1)=>e.dom.focus({preventScroll:t}),Fd=e=>e.dom.blur(),Id=e=>{let t=Xt(e).dom;return e.dom===t.activeElement},Ld=(e=Kr())=>A.from(e.dom.activeElement).map(V.fromDom),Rd=e=>Ld(Xt(e)).filter(t=>e.dom.contains(t.dom)),zd=(e,t)=>{let n=Xt(t),r=Ld(n).bind(e=>{let n=t=>At(e,t);return n(t)?A.some(t):Xl(t,n)}),i=e(t);return r.each(e=>{Ld(n).filter(t=>At(t,e)).fold(()=>{Pd(e)},y)}),i},Bd=(e,t,n,r,i)=>{let a=e=>e+`px`;return{position:e,left:t.map(a),top:n.map(a),right:r.map(a),bottom:i.map(a)}},Vd=e=>({...e,position:A.some(e.position)}),Hd=(e,t)=>{vn(e,Vd(t))},Ud=ro.generate([{none:[]},{relative:[`x`,`y`,`width`,`height`]},{fixed:[`x`,`y`,`width`,`height`]}]),Wd=(e,t,n,r,i,a)=>{let o=t.rect,s=o.x-n,c=o.y-r,l=o.width,u=o.height,d=i-(s+l),f=a-(c+u),p=A.some(s),m=A.some(c),h=A.some(d),g=A.some(f),_=A.none();return Nu(t.direction,()=>Bd(e,p,m,_,_),()=>Bd(e,_,m,h,_),()=>Bd(e,p,_,_,g),()=>Bd(e,_,_,h,g),()=>Bd(e,p,m,_,_),()=>Bd(e,p,_,_,g),()=>Bd(e,p,m,_,_),()=>Bd(e,_,m,h,_))},Gd=(e,t)=>e.fold(()=>{let e=t.rect;return Bd(`absolute`,A.some(e.x),A.some(e.y),A.none(),A.none())},(e,n,r,i)=>Wd(`absolute`,t,e,n,r,i),(e,n,r,i)=>Wd(`fixed`,t,e,n,r,i)),Kd=(e,t)=>{let n=E(Xr,t),r=e.fold(n,n,()=>{let e=Vr();return Xr(t).translate(-e.left,-e.top)}),i=Bn(t),a=kn(t);return $r(r.left,r.top,i,a)},qd=(e,t)=>t.fold(()=>e.fold(ii,ii,$r),t=>e.fold(C(t),C(t),()=>{let n=Jd(e,t.x,t.y);return $r(n.left,n.top,t.width,t.height)})),Jd=(e,t,n)=>{let r=Mn(t,n);return e.fold(C(r),C(r),()=>{let e=Vr();return r.translate(-e.left,-e.top)})},Yd=(e,t,n,r)=>e.fold(t,n,r);Ud.none;let Xd=Ud.relative,Zd=Ud.fixed,Qd=(e,t)=>({anchorBox:e,origin:t}),$d=(e,t)=>Qd(e,t),ef=`data-alloy-placement`,tf=(e,t)=>{cn(e,ef,t)},nf=e=>dn(e,ef),rf=e=>pn(e,ef),af=ro.generate([{fit:[`reposition`]},{nofit:[`reposition`,`visibleW`,`visibleH`,`isVisible`]}]),of=(e,t)=>{let{x:n,y:r,right:i,bottom:a}=t,{x:o,y:s,right:c,bottom:l,width:u,height:d}=e;return{originInBounds:o>=n&&o<=i&&s>=r&&s<=a,sizeInBounds:c<=i&&c>=n&&l<=a&&l>=r,visibleW:Math.min(u,o>=n?i-o:c-n),visibleH:Math.min(d,s>=r?a-s:l-r)}},sf=(e,t)=>{let{x:n,y:r,right:i,bottom:a}=t,{x:o,y:s,width:c,height:l}=e,u=Math.max(n,i-c),d=Math.max(r,a-l),f=Gu(o,n,u),p=Gu(s,r,d);return $r(f,p,Math.min(f+c,i)-f,Math.min(p+l,a)-p)},cf=(e,t,n)=>{let r=C(t.bottom-n.y),i=C(n.bottom-t.y),a=Pu(e,i,i,r),o=C(t.right-n.x),s=C(n.right-t.x);return{maxWidth:Fu(e,s,s,o),maxHeight:a}},lf=(e,t,n,r)=>{let i=e.bubble,a=i.offset,o=Ju(r,e.restriction,a),s=e.x+a.left,c=e.y+a.top,l=$r(s,c,t,n),{originInBounds:u,sizeInBounds:d,visibleW:f,visibleH:p}=of(l,o),m=u&&d,h=m?l:sf(l,o),g=h.width>0&&h.height>0,{maxWidth:_,maxHeight:v}=cf(e.direction,h,r),y={rect:h,maxHeight:v,maxWidth:_,direction:e.direction,placement:e.placement,classes:{on:i.classesOn,off:i.classesOff},layout:e.label,testY:c};return m||e.alwaysFit?af.fit(y):af.nofit(y,f,p,g)},uf=(e,t,n,r,i,a)=>{let o=r.width,s=r.height,c=(t,c,l,u,d)=>{let f=lf(t(n,r,i,e,a),o,s,a);return f.fold(C(f),(e,t,n,r)=>(d===r?n>u||t>l:!d&&r)?f:af.nofit(c,l,u,d))};return de(t,(e,t)=>{let n=E(c,t);return e.fold(C(e),n)},af.nofit({rect:n,maxHeight:r.height,maxWidth:r.width,direction:Iu(),placement:`southeast`,classes:{on:[],off:[]},layout:`none`,testY:n.y},-1,-1,!1)).fold(w,w)},df=e=>{let t=no(A.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(A.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(A.some(e))}}},ff=()=>df(e=>e.destroy()),pf=()=>df(e=>e.unbind()),mf=()=>{let e=df(y),t=t=>e.get().each(t);return{...e,on:t}},hf=te,gf=(e,t,n)=>Ar(e,t,hf,n),_f=(e,t,n)=>jr(e,t,hf,n),vf=Dr,yf=[`top`,`bottom`,`right`,`left`],bf=`data-alloy-transition-timer`,xf=(e,t)=>ml(e,t.classes),Sf=(e,t,n)=>n.exists(n=>{let r=e.mode;return r===`all`?!0:n[r]!==t[r]}),Cf=(e,t)=>{let n=e=>parseFloat(e).toFixed(3);return Ie(t,(t,r)=>!Ve(e[r].map(n),t.map(n))).isSome()},wf=e=>{let t=t=>le(yn(e,t).split(/\s*,\s*/),rt),n=e=>{if(s(e)&&/^[\d.]+/.test(e)){let t=parseFloat(e);return tt(e,`ms`)?t:t*1e3}else return 0},r=t(`transition-delay`);return de(t(`transition-duration`),(e,t,i)=>{let a=n(r[i])+n(t);return Math.max(e,a)},0)},Tf=(e,t)=>{let n=pf(),r=pf(),i,a=t=>{let n=t.raw.pseudoElement??``;return At(t.target,e)&&it(n)&&ie(yf,t.raw.propertyName)},o=o=>{if(m(o)||a(o)){n.clear(),r.clear();let a=o?.raw.type;(m(a)||a===Uo())&&(clearTimeout(i),pn(e,bf),fl(e,t.classes))}},s=gf(e,Wo(),t=>{a(t)&&(s.unbind(),n.set(gf(e,Uo(),o)),r.set(gf(e,Ho(),o)))}),c=wf(e);requestAnimationFrame(()=>{i=setTimeout(o,c+17),cn(e,bf,i)})},Ef=(e,t)=>{dl(e,t.classes),dn(e,bf).each(t=>{clearTimeout(parseInt(t,10)),pn(e,bf)}),Tf(e,t)},Df=(e,t,n,r,i,a)=>{let o=Sf(r,i,a);if(o||xf(e,r)){_n(e,`position`,n.position);let a=Kd(t,e),s=Gd(t,{...i,rect:a}),c=ve(yf,e=>s[e]);Cf(n,c)&&(vn(e,c),o&&Ef(e,r),Tn(e))}else fl(e,r.classes)},Of=e=>({width:Bn(e),height:kn(e)}),kf=(e,t,n,r)=>{wn(t,`max-height`),wn(t,`max-width`);let i=Of(t);return uf(t,r.preference,e,i,n,r.bounds)},Af=(e,t)=>{let n=t.classes;fl(e,n.off),dl(e,n.on)},jf=(e,t,n)=>{let r=n.maxHeightFunction;r(e,t.maxHeight)},Mf=(e,t,n)=>{let r=n.maxWidthFunction;r(e,t.maxWidth)},Nf=(e,t,n)=>{let r=Gd(n.origin,t);n.transition.each(i=>{Df(e,n.origin,r,i,t,n.lastPlacement)}),Hd(e,r)},Pf=(e,t)=>{tf(e,t.placement)},Ff=(e,t)=>{An(e,Math.floor(t))},If=C((e,t)=>{Ff(e,t),H(e,{"overflow-x":`hidden`,"overflow-y":`auto`})}),Lf=C((e,t)=>{Ff(e,t)}),Rf=(e,t,n)=>e[t]===void 0?n:e[t],zf=(e,t,n,r,i,a,o,s)=>{let c=Rf(o,`maxHeightFunction`,If()),l=Rf(o,`maxWidthFunction`,y),u=e.anchorBox,d=e.origin;return Bf(u,t,n,{bounds:qd(d,a),origin:d,preference:r,maxHeightFunction:c,maxWidthFunction:l,lastPlacement:i,transition:s})},Bf=(e,t,n,r)=>{let i=kf(e,t,n,r);return Nf(t,i,r),Pf(t,i),Af(t,i),jf(t,i,r),Mf(t,i,r),{layout:i.layout,placement:i.placement}},Vf=[`valignCentre`,`alignLeft`,`alignRight`,`alignCentre`,`top`,`bottom`,`left`,`right`,`inset`],Hf=(e,t,n,r=1)=>{let i=e*r,a=t*r,o=e=>z(n,e).getOr([]),s=(e,t,n)=>{let r=_e(Vf,n);return{offset:Mn(e,t),classesOn:he(n,o),classesOff:he(r,o)}};return{southeast:()=>s(-e,t,[`top`,`alignLeft`]),southwest:()=>s(e,t,[`top`,`alignRight`]),south:()=>s(-e/2,t,[`top`,`alignCentre`]),northeast:()=>s(-e,-t,[`bottom`,`alignLeft`]),northwest:()=>s(e,-t,[`bottom`,`alignRight`]),north:()=>s(-e/2,-t,[`bottom`,`alignCentre`]),east:()=>s(e,-t/2,[`valignCentre`,`left`]),west:()=>s(-e,-t/2,[`valignCentre`,`right`]),insetNortheast:()=>s(i,a,[`top`,`alignLeft`,`inset`]),insetNorthwest:()=>s(-i,a,[`top`,`alignRight`,`inset`]),insetNorth:()=>s(-i/2,a,[`top`,`alignCentre`,`inset`]),insetSoutheast:()=>s(i,-a,[`bottom`,`alignLeft`,`inset`]),insetSouthwest:()=>s(-i,-a,[`bottom`,`alignRight`,`inset`]),insetSouth:()=>s(-i/2,-a,[`bottom`,`alignCentre`,`inset`]),insetEast:()=>s(-i,-a/2,[`valignCentre`,`right`,`inset`]),insetWest:()=>s(i,-a/2,[`valignCentre`,`left`,`inset`])}},Uf=()=>Hf(0,0,{}),Wf=w,Gf=(e,t)=>n=>Kf(n)===`rtl`?t:e,Kf=e=>yn(e,`direction`)===`rtl`?`rtl`:`ltr`;var qf;(function(e){e.TopToBottom=`toptobottom`,e.BottomToTop=`bottomtotop`})(qf||={});let Jf=`data-alloy-vertical-dir`,Yf=e=>Zl(e,e=>xt(e)&&un(e,`data-alloy-vertical-dir`)===qf.BottomToTop),Xf=()=>Ga(`layouts`,[K(`onLtr`),K(`onRtl`),Ra(`onBottomLtr`),Ra(`onBottomRtl`)]),Zf=(e,t,n,r,i,a,o)=>{let s=o.map(Yf).getOr(!1),c=t.layouts.map(t=>t.onLtr(e)),l=t.layouts.map(t=>t.onRtl(e));return Gf(s?t.layouts.bind(t=>t.onBottomLtr.map(t=>t(e))).or(c).getOr(i):c.getOr(n),s?t.layouts.bind(t=>t.onBottomRtl.map(t=>t(e))).or(l).getOr(a):l.getOr(r))(e)};var Qf=[K(`hotspot`),Ra(`bubble`),q(`overrides`,{}),Xf(),Ou(`placement`,(e,t,n)=>{let r=t.hotspot,i=Kd(n,r.element),a=Zf(e.element,t,gd(),_d(),md(),hd(),A.some(t.hotspot.element));return A.some(Wf({anchorBox:i,bubble:t.bubble.getOr(Uf()),overrides:t.overrides,layouts:a}))})],$f=[K(`x`),K(`y`),q(`height`,0),q(`width`,0),q(`bubble`,Uf()),q(`overrides`,{}),Xf(),Ou(`placement`,(e,t,n)=>{let r=Jd(n,t.x,t.y),i=$r(r.left,r.top,t.width,t.height),a=Zf(e.element,t,fd(),pd(),fd(),pd(),A.none());return A.some(Wf({anchorBox:i,bubble:t.bubble,overrides:t.overrides,layouts:a}))})];let ep=ro.generate([{screen:[`point`]},{absolute:[`point`,`scrollLeft`,`scrollTop`]}]),tp=e=>e.fold(w,(e,t,n)=>e.translate(-t,-n)),np=e=>e.fold(w,w),rp=e=>de(e,(e,t)=>e.translate(t.left,t.top),Mn(0,0)),ip=e=>rp(F(e,tp)),ap=e=>rp(F(e,np)),op=ep.screen,sp=ep.absolute,cp=(e,t,n)=>{let r=Ft(n.root).dom;return A.from(r.frameElement).map(V.fromDom).filter(t=>At(Mt(t),Mt(e.element))).map(Fn)},lp=(e,t,n)=>{let r=Vr(Mt(e.element));return sp(cp(e,t,n).getOr(r),r.left,r.top)},up=(e,t,n,r)=>{let i=op(Mn(e,t));return A.some(Zr(i,n,r))},dp=(e,t,n,r,i)=>e.map(e=>{let a=[t,e.point],o=Yd(r,()=>ap(a),()=>ap(a),()=>ip(a)),s=Qr(o.left,o.top,e.width,e.height),c=n.showAbove?md():gd(),l=n.showAbove?hd():_d(),u=Zf(i,n,c,l,c,l,A.none());return Wf({anchorBox:s,bubble:n.bubble.getOr(Uf()),overrides:n.overrides,layouts:u})});var fp=[K(`node`),K(`root`),Ra(`bubble`),Xf(),q(`overrides`,{}),q(`showAbove`,!1),Ou(`placement`,(e,t,n)=>{let r=lp(e,n,t);return t.node.filter(rn).bind(i=>{let a=i.dom.getBoundingClientRect();return dp(up(a.left,a.top,a.width,a.height),r,t,n,t.node.getOr(e.element))})})];let pp={create:(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r})},mp=ro.generate([{before:[`element`]},{on:[`element`,`offset`]},{after:[`element`]}]),hp={before:mp.before,on:mp.on,after:mp.after,cata:(e,t,n,r)=>e.fold(t,n,r),getStart:e=>e.fold(w,w,w)},gp=ro.generate([{domRange:[`rng`]},{relative:[`startSitu`,`finishSitu`]},{exact:[`start`,`soffset`,`finish`,`foffset`]}]),_p=e=>gp.exact(e.start,e.soffset,e.finish,e.foffset),vp=e=>e.match({domRange:e=>V.fromDom(e.startContainer),relative:(e,t)=>hp.getStart(e),exact:(e,t,n,r)=>e}),yp={domRange:gp.domRange,relative:gp.relative,exact:gp.exact,exactFromRange:_p,getWin:e=>Ft(vp(e)),range:pp.create},bp=(e,t)=>{t.fold(t=>{e.setStartBefore(t.dom)},(t,n)=>{e.setStart(t.dom,n)},t=>{e.setStartAfter(t.dom)})},xp=(e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,n)=>{e.setEnd(t.dom,n)},t=>{e.setEndAfter(t.dom)})},Sp=(e,t,n)=>{let r=e.document.createRange();return bp(r,t),xp(r,n),r},Cp=(e,t,n,r,i)=>{let a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(r.dom,i),a},wp=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Tp=e=>{let t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?A.some(n).map(wp):A.none()},Ep=e=>{let t=e.getBoundingClientRect();return t.width>0||t.height>0?A.some(t).map(wp):A.none()},Dp=ro.generate([{ltr:[`start`,`soffset`,`finish`,`foffset`]},{rtl:[`start`,`soffset`,`finish`,`foffset`]}]),Op=(e,t,n)=>t(V.fromDom(n.startContainer),n.startOffset,V.fromDom(n.endContainer),n.endOffset),kp=(e,t)=>t.match({domRange:e=>({ltr:C(e),rtl:A.none}),relative:(t,n)=>({ltr:Hn(()=>Sp(e,t,n)),rtl:Hn(()=>A.some(Sp(e,n,t)))}),exact:(t,n,r,i)=>({ltr:Hn(()=>Cp(e,t,n,r,i)),rtl:Hn(()=>A.some(Cp(e,r,i,t,n)))})}),Ap=(e,t)=>{let n=t.ltr();return n.collapsed?t.rtl().filter(e=>e.collapsed===!1).map(e=>Dp.rtl(V.fromDom(e.endContainer),e.endOffset,V.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>Op(e,Dp.ltr,n)):Op(e,Dp.ltr,n)},jp=(e,t)=>Ap(e,kp(e,t)),Mp=(e,t)=>jp(e,t).match({ltr:(t,n,r,i)=>{let a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(r.dom,i),a},rtl:(t,n,r,i)=>{let a=e.document.createRange();return a.setStart(r.dom,i),a.setEnd(t.dom,n),a}});Dp.ltr,Dp.rtl;let Np=(e,t,n)=>le(zt(e,n),t),Pp=(e,t)=>Ot(t,e),Fp=(e,t,n,r)=>{let i=Mt(e).dom.createRange();return i.setStart(e.dom,t),i.setEnd(n.dom,r),i},Ip=(e,t,n,r)=>{let i=Fp(e,t,n,r),a=At(e,n)&&t===r;return i.collapsed&&!a},Lp=e=>A.from(e.getSelection()),Rp=e=>{if(e.rangeCount>0){let t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return A.some(pp.create(V.fromDom(t.startContainer),t.startOffset,V.fromDom(n.endContainer),n.endOffset))}else return A.none()},zp=e=>{if(e.anchorNode===null||e.focusNode===null)return Rp(e);{let t=V.fromDom(e.anchorNode),n=V.fromDom(e.focusNode);return Ip(t,e.anchorOffset,n,e.focusOffset)?A.some(pp.create(t,e.anchorOffset,n,e.focusOffset)):Rp(e)}},Bp=e=>Lp(e).filter(e=>e.rangeCount>0).bind(zp),Vp=(e,t)=>Tp(Mp(e,t)),Hp=(e,t)=>Ep(Mp(e,t)),Up=((e,t)=>{let n=n=>{if(!e(n))throw Error(`Can only get `+t+` value of a `+t+` node`);return r(n).getOr(``)},r=t=>e(t)?A.from(t.dom.nodeValue):A.none();return{get:n,getOption:r,set:(n,r)=>{if(!e(n))throw Error(`Can only set raw `+t+` value of a `+t+` node`);n.dom.nodeValue=r}}})(St,`text`),Wp=e=>Up.get(e),Gp=(e,t)=>({element:e,offset:t}),Kp=(e,t)=>{let n=Ht(e);if(n.length===0)return Gp(e,t);if(t<n.length)return Gp(n[t],0);{let e=n[n.length-1];return Gp(e,St(e)?Wp(e).length:Ht(e).length)}},qp=(e,t)=>St(e)?Gp(e,t):Kp(e,t),Jp=e=>e.foffset!==void 0,Yp=(e,t)=>t.getSelection.getOrThunk(()=>()=>Bp(e))().map(e=>{if(Jp(e)){let t=qp(e.start,e.soffset),n=qp(e.finish,e.foffset);return yp.range(t.element,t.offset,n.element,n.offset)}else return e});var Xp=[Ra(`getSelection`),K(`root`),Ra(`bubble`),Xf(),q(`overrides`,{}),q(`showAbove`,!1),Ou(`placement`,(e,t,n)=>{let r=Ft(t.root).dom,i=lp(e,n,t);return dp(Yp(r,t).bind(e=>{if(Jp(e))return Hp(r,yp.exactFromRange(e)).orThunk(()=>{let t=V.fromText(`﻿`);Nr(e.start,t);let n=Vp(r,yp.exact(t,0,t,1));return Br(t),n}).bind(e=>up(e.left,e.top,e.width,e.height));{let t=ke(e,e=>e.dom.getBoundingClientRect()),n={left:Math.min(t.firstCell.left,t.lastCell.left),right:Math.max(t.firstCell.right,t.lastCell.right),top:Math.min(t.firstCell.top,t.lastCell.top),bottom:Math.max(t.firstCell.bottom,t.lastCell.bottom)};return up(n.left,n.top,n.right-n.left,n.bottom-n.top)}}),i,t,n,Yp(r,t).bind(e=>Jp(e)?xt(e.start)?A.some(e.start):Rt(e.start):A.some(e.firstCell)).getOr(e.element))})];let Zp=`link-layout`,Qp=e=>e.x+e.width,$p=(e,t)=>e.x-t.width,em=(e,t)=>e.y-t.height+e.height,tm=e=>e.y,nm=(e,t,n)=>ju(Qp(e),tm(e),n.southeast(),Iu(),`southeast`,qu(e,{left:0,top:2}),Zp),rm=(e,t,n)=>ju($p(e,t),tm(e),n.southwest(),Lu(),`southwest`,qu(e,{right:1,top:2}),Zp),im=(e,t,n)=>ju(Qp(e),em(e,t),n.northeast(),Ru(),`northeast`,qu(e,{left:0,bottom:3}),Zp),am=(e,t,n)=>ju($p(e,t),em(e,t),n.northwest(),zu(),`northwest`,qu(e,{right:1,bottom:3}),Zp),om=()=>[nm,rm,im,am],sm=()=>[rm,nm,am,im];var cm=Ca(`type`,{selection:Xp,node:fp,hotspot:Qf,submenu:[K(`item`),Xf(),q(`overrides`,{}),Ou(`placement`,(e,t,n)=>{let r=Kd(n,t.item.element),i=Zf(e.element,t,om(),sm(),om(),sm(),A.none());return A.some(Wf({anchorBox:r,bubble:Uf(),overrides:t.overrides,layouts:i}))})],makeshift:$f});let lm=[La(`classes`,la),Xa(`mode`,`all`,[`all`,`layout`,`placement`])],um=[q(`useFixed`,k),Ra(`getBounds`)],dm=[Oa(`anchor`,cm),Ga(`transition`,lm)],fm=()=>{let e=document.documentElement;return Zd(0,0,e.clientWidth,e.clientHeight)},pm=e=>{let t=Fn(e.element),n=e.element.dom.getBoundingClientRect();return Xd(t.left,t.top,n.width,n.height)},mm=(e,t,n,r,i,a)=>zf($d(t.anchorBox,e),r.element,t.bubble,t.layouts,i,n,t.overrides,a),hm=(e,t,n,r,i)=>{gm(e,t,n,r,i,A.none())},gm=(e,t,n,r,i,a)=>{let o=xa(`placement.info`,ta(dm),i),s=o.anchor,c=r.element,l=n.get(r.uid);zd(()=>{_n(c,`position`,`fixed`);let i=xn(c,`visibility`);_n(c,`visibility`,`hidden`);let u=t.useFixed()?fm():pm(e);s.placement(e,s,u).each(e=>{let i=mm(u,e,a.orThunk(()=>t.getBounds.map(ee)),r,l,o.transition);n.set(r.uid,i)}),i.fold(()=>{wn(c,`visibility`)},e=>{_n(c,`visibility`,e)}),xn(c,`left`).isNone()&&xn(c,`top`).isNone()&&xn(c,`right`).isNone()&&xn(c,`bottom`).isNone()&&Be(xn(c,`position`),`fixed`)&&wn(c,`position`)},c)},_m=Od({fields:um,name:`positioning`,active:Nd,apis:Object.freeze({__proto__:null,position:hm,positionWithinBounds:gm,getMode:(e,t,n)=>t.useFixed()?`fixed`:`absolute`,reset:(e,t,n,r)=>{let i=r.element;I([`position`,`left`,`right`,`top`,`bottom`],e=>wn(i,e)),rf(i),n.clear(r.uid)}}),state:Object.freeze({__proto__:null,init:()=>{let e={};return Tc({readState:()=>e,clear:t=>{h(t)?delete e[t]:e={}},set:(t,n)=>{e[t]=n},get:t=>z(e,t)})}})}),vm=e=>e.getSystem().isConnected(),ym=e=>{bs(e,us()),I(e.components(),ym)},bm=e=>{I(e.components(),bm),bs(e,ls())},xm=(e,t)=>{e.getSystem().addToWorld(t),rn(e.element)&&bm(t)},Sm=e=>{ym(e),e.getSystem().removeFromWorld(e)},Cm=(e,t)=>{Ir(e.element,t.element)},wm=e=>{I(e.components(),e=>Br(e.element)),zr(e.element),e.syncComponents()},Tm=(e,t,n)=>{let r=e.components();wm(e);let i=n(t);I(_e(r,i),t=>{ym(t),e.getSystem().removeFromWorld(t)}),I(i,t=>{vm(t)?Cm(e,t):(e.getSystem().addToWorld(t),Cm(e,t),rn(e.element)&&bm(t))}),e.syncComponents()},Em=(e,t,n)=>{let r=e.components(),i=he(t,e=>Sc(e).toArray());I(r,e=>{ie(i,e)||Sm(e)});let a=n(t);I(_e(r,a),e=>{vm(e)&&Sm(e)}),I(a,t=>{vm(t)||xm(e,t)}),e.syncComponents()},Dm=(e,t)=>{Om(e,t,Ir)},Om=(e,t,n)=>{e.getSystem().addToWorld(t),n(e.element,t.element),rn(e.element)&&bm(t),e.syncComponents()},km=e=>{ym(e),Br(e.element),e.getSystem().removeFromWorld(e)},Am=e=>{let t=It(e.element).bind(t=>e.getSystem().getByDom(t).toOptional());km(e),t.each(e=>{e.syncComponents()})},jm=e=>{I(e.components(),km),zr(e.element),e.syncComponents()},Mm=(e,t)=>{Pm(e,t,Ir)},Nm=(e,t)=>{Pm(e,t,Pr)},Pm=(e,t,n)=>{n(e,t.element),I(Ht(t.element),e=>{t.getByDom(e).each(bm)})},Fm=e=>{I(Ht(e.element),t=>{e.getByDom(t).each(ym)}),Br(e.element)},Im=(e,t,n,r)=>{n.get().each(t=>{jm(e)}),Dm(t.getAttachPoint(e),e);let i=e.getSystem().build(r);return Dm(e,i),n.set(i),i},Lm=(e,t,n,r)=>{let i=Im(e,t,n,r);return t.onOpen(e,i),i},Rm=(e,t,n,r)=>n.get().map(()=>Im(e,t,n,r)),zm=(e,t,n,r,i)=>{Km(e,t),Lm(e,t,n,r),i(),Jm(e,t)},Bm=(e,t,n)=>{n.get().each(r=>{jm(e),Am(e),t.onClose(e,r),n.clear()})},Vm=(e,t,n)=>n.isOpen(),Hm=(e,t,n,r)=>Vm(e,t,n)&&n.get().exists(n=>t.isPartOf(e,n,r)),Um=(e,t,n)=>n.get(),Wm=(e,t,n,r)=>{xn(e.element,t).fold(()=>{pn(e.element,n)},t=>{cn(e.element,n,t)}),_n(e.element,t,r)},Gm=(e,t,n)=>{dn(e.element,n).fold(()=>wn(e.element,t),n=>_n(e.element,t,n))},Km=(e,t,n)=>{let r=t.getAttachPoint(e);_n(e.element,`position`,_m.getMode(r)),Wm(e,`visibility`,t.cloakVisibilityAttr,`hidden`)},qm=e=>ae([`top`,`left`,`right`,`bottom`],t=>xn(e,t).isSome()),Jm=(e,t,n)=>{qm(e.element)||wn(e.element,`position`),Gm(e,`visibility`,t.cloakVisibilityAttr)};var Ym=Object.freeze({__proto__:null,cloak:Km,decloak:Jm,open:Lm,openWhileCloaked:zm,close:Bm,isOpen:Vm,isPartOf:Hm,getState:Um,setContent:Rm}),Xm=Object.freeze({__proto__:null,events:(e,t)=>Ds([J(ns(),(n,r)=>{Bm(n,e,t)})])});let Zm=Od({fields:[Tu(`onOpen`),Tu(`onClose`),K(`isPartOf`),K(`getAttachPoint`),q(`cloakVisibilityAttr`,`data-precloak-visibility`)],name:`sandboxing`,active:Xm,apis:Ym,state:Object.freeze({__proto__:null,init:()=>{let e=mf();return Tc({readState:C(`not-implemented`),isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}})}),Qm=C(`dismiss.popups`),$m=C(`reposition.popups`),eh=C(`mouse.released`),th=ea([q(`isExtraPart`,k),Ga(`fireEventInstead`,[q(`event`,ds())])]),nh=e=>{let t=xa(`Dismissal`,th,e);return{[Qm()]:{schema:ea([K(`target`)]),onReceive:(e,n)=>{Zm.isOpen(e)&&(Zm.isPartOf(e,n.target)||t.isExtraPart(e,n.target)||t.fireEventInstead.fold(()=>Zm.close(e),t=>bs(e,t.event)))}}}},rh=ea([Ga(`fireEventInstead`,[q(`event`,fs())]),Na(`doReposition`)]),ih=e=>{let t=xa(`Reposition`,rh,e);return{[$m()]:{onReceive:e=>{Zm.isOpen(e)&&t.fireEventInstead.fold(()=>t.doReposition(e),t=>bs(e,t.event))}}}},ah=(e,t,n)=>{t.store.manager.onLoad(e,t,n)},oh=(e,t,n)=>{t.store.manager.onUnload(e,t,n)};var sh=Object.freeze({__proto__:null,onLoad:ah,onUnload:oh,setValue:(e,t,n,r)=>{t.store.manager.setValue(e,t,n,r)},getValue:(e,t,n)=>t.store.manager.getValue(e,t,n),getState:(e,t,n)=>n}),ch=Object.freeze({__proto__:null,events:(e,t)=>Ds(e.resetOnDom?[Bs((n,r)=>{ah(n,e,t)}),Vs((n,r)=>{oh(n,e,t)})]:[Sd(e,t,ah)])});let lh=()=>{let e=no(null);return Tc({set:e.set,get:e.get,isNotSet:()=>e.get()===null,clear:()=>{e.set(null)},readState:()=>({mode:`memory`,value:e.get()})})},uh=()=>Tc({readState:y}),dh=()=>{let e=no({}),t=no({});return Tc({readState:()=>({mode:`dataset`,dataByValue:e.get(),dataByText:t.get()}),lookup:n=>z(e.get(),n).orThunk(()=>z(t.get(),n)),update:n=>{let r=e.get(),i=t.get(),a={},o={};I(n,e=>{a[e.value]=e,z(e,`meta`).each(t=>{z(t,`text`).each(t=>{o[t]=e})})}),e.set({...r,...a}),t.set({...i,...o})},clear:()=>{e.set({}),t.set({})}})};var fh=Object.freeze({__proto__:null,memory:lh,dataset:dh,manual:uh,init:e=>e.store.manager.state(e)});let ph=(e,t,n,r)=>{let i=t.store;n.update([r]),i.setValue(e,r),t.onSetValue(e,r)};var mh=[Ra(`initialValue`),K(`getFallbackEntry`),K(`getDataKey`),K(`setValue`),Ou(`manager`,{setValue:ph,getValue:(e,t,n)=>{let r=t.store,i=r.getDataKey(e);return n.lookup(i).getOrThunk(()=>r.getFallbackEntry(i))},onLoad:(e,t,n)=>{t.store.initialValue.each(r=>{ph(e,t,n,r)})},onUnload:(e,t,n)=>{n.clear()},state:dh})],hh=[K(`getValue`),q(`setValue`,y),Ra(`initialValue`),Ou(`manager`,{setValue:(e,t,n,r)=>{t.store.setValue(e,r),t.onSetValue(e,r)},getValue:(e,t,n)=>t.store.getValue(e),onLoad:(e,t,n)=>{t.store.initialValue.each(n=>{t.store.setValue(e,n)})},onUnload:y,state:wc.init})];let Q=Od({fields:[qa(`store`,{mode:`memory`},Ca(`mode`,{memory:[Ra(`initialValue`),Ou(`manager`,{setValue:(e,t,n,r)=>{n.set(r),t.onSetValue(e,r)},getValue:(e,t,n)=>n.get(),onLoad:(e,t,n)=>{t.store.initialValue.each(e=>{n.isNotSet()&&n.set(e)})},onUnload:(e,t,n)=>{n.clear()},state:lh})],manual:hh,dataset:mh})),Tu(`onSetValue`),q(`resetOnDom`,!1)],name:`representing`,active:ch,apis:sh,extra:{setValueFrom:(e,t)=>{let n=Q.getValue(t);Q.setValue(e,n)}},state:fh}),gh=(e,t)=>to(e,{},F(t,t=>Pa(t.name(),`Cannot configure `+t.name()+` for `+e)).concat([Ea(`dump`,w)])),_h=e=>e.dump,vh=(e,t)=>({...Z(t),...e.dump}),yh={field:gh,augment:vh,get:_h},bh=`placeholder`,xh=ro.generate([{single:[`required`,`valueThunk`]},{multiple:[`required`,`valueThunks`]}]),Sh=e=>Re(e,`uiType`),Ch=(e,t,n,r)=>e.exists(e=>e!==n.owner)?xh.single(!0,C(n)):z(r,n.name).fold(()=>{throw Error(`Unknown placeholder component: `+n.name+`
Known: [`+Ee(r)+`]
Namespace: `+e.getOr(`none`)+`
Spec: `+JSON.stringify(n,null,2))},e=>e.replace()),wh=(e,t,n,r)=>Sh(n)&&n.uiType===bh?Ch(e,t,n,r):xh.single(!1,C(n)),Th=(e,t,n,r)=>wh(e,t,n,r).fold((i,a)=>{let o=Sh(n)?a(t,n.config,n.validated):a(t),s=he(z(o,`components`).getOr([]),n=>Th(e,t,n,r));return[{...o,components:s}]},(e,r)=>{if(Sh(n)){let e=r(t,n.config,n.validated);return n.validated.preprocess.getOr(w)(e)}else return r(t)}),Eh=(e,t,n,r)=>he(n,n=>Th(e,t,n,r)),Dh=(e,t)=>{let n=!1;return{name:C(e),required:()=>t.fold((e,t)=>e,(e,t)=>e),used:()=>n,replace:()=>{if(n)throw Error(`Trying to use the same placeholder more than once: `+e);return n=!0,t}}},Oh=(e,t,n,r)=>{let i=ke(r,(e,t)=>Dh(t,e)),a=Eh(e,t,n,i);return Oe(i,n=>{if(n.used()===!1&&n.required())throw Error(`Placeholder: `+n.name()+` was not found in components list
Namespace: `+e.getOr(`none`)+`
Components: `+JSON.stringify(t.components,null,2))}),a},kh=xh.single,Ah=xh.multiple,jh=C(bh),Mh=ro.generate([{required:[`data`]},{external:[`data`]},{optional:[`data`]},{group:[`data`]}]),Nh=q(`factory`,{sketch:w}),Ph=q(`schema`,[]),Fh=K(`name`),Ih=Ta(`pname`,`pname`,Oi(e=>`<alloy.`+rc(e.name)+`>`),oa()),Lh=Ea(`schema`,()=>[Ra(`preprocess`)]),Rh=q(`defaults`,C({})),zh=q(`overrides`,C({})),Bh=ta([Nh,Ph,Fh,Ih,Rh,zh]),Vh=ta([Nh,Ph,Fh,Rh,zh]),Hh=ta([Nh,Ph,Fh,Ih,Rh,zh]),Uh=ta([Nh,Lh,Fh,K(`unit`),Ih,Rh,zh]),Wh=e=>e.fold(A.some,A.none,A.some,A.some),Gh=e=>{let t=e=>e.name;return e.fold(t,t,t,t)},Kh=e=>e.fold(w,w,w,w),qh=(e,t)=>n=>e(xa(`Converting part type`,t,n)),Jh=qh(Mh.required,Bh),Yh=qh(Mh.external,Vh),Xh=qh(Mh.optional,Hh),Zh=qh(Mh.group,Uh),Qh=C(`entirety`);var $h=Object.freeze({__proto__:null,required:Jh,external:Yh,optional:Xh,group:Zh,asNamedPart:Wh,name:Gh,asCommon:Kh,original:Qh});let eg=(e,t,n,r)=>Ti(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r)),tg=(e,t,n)=>{let r={},i={};return I(n,e=>{e.fold(e=>{r[e.pname]=kh(!0,(t,n,r)=>e.factory.sketch(eg(t,e,n,r)))},e=>{let n=t.parts[e.name];i[e.name]=C(e.factory.sketch(eg(t,e,n[Qh()]),n))},e=>{r[e.pname]=kh(!1,(t,n,r)=>e.factory.sketch(eg(t,e,n,r)))},e=>{r[e.pname]=Ah(!0,(t,n,r)=>{let i=t[e.name];return F(i,n=>e.factory.sketch(Ti(e.defaults(t,n,r),n,e.overrides(t,n))))})})}),{internals:C(r),externals:C(i)}},ng=(e,t)=>{let n={};return I(t,t=>{Wh(t).each(t=>{let r=rg(e,t.pname);n[t.name]=n=>{let i=xa(`Part: `+t.name+` in `+e,ta(t.schema),n);return{...r,config:n,validated:i}}})}),n},rg=(e,t)=>({uiType:jh(),owner:e,name:t}),ig=(e,t,n)=>({uiType:jh(),owner:e,name:t,config:n,validated:{}}),ag=e=>he(e,e=>e.fold(A.none,A.some,A.none,A.none).map(e=>Fa(e.name,e.schema.concat([ku(Qh())]))).toArray()),og=e=>F(e,Gh),sg=(e,t,n)=>tg(e,t,n),cg=(e,t,n)=>Oh(A.some(e),t,t.components,n),lg=(e,t,n)=>{let r=t.partUids[n];return e.getSystem().getByUid(r).toOptional()},ug=(e,t,n)=>lg(e,t,n).getOrDie(`Could not find part: `+n),dg=(e,t,n)=>{let r={},i=t.partUids,a=e.getSystem();return I(n,e=>{r[e]=C(a.getByUid(i[e]))}),r},fg=(e,t)=>{let n=e.getSystem();return ke(t.partUids,(e,t)=>C(n.getByUid(e)))},pg=e=>Ee(e.partUids),mg=(e,t,n)=>{let r={},i=t.partUids,a=e.getSystem();return I(n,e=>{r[e]=C(a.getByUid(i[e]).getOrDie())}),r},hg=(e,t)=>uo(F(og(t),t=>({key:t,value:e+`-`+t}))),gg=e=>Ta(`partUids`,`partUids`,ji(t=>hg(t.uid,e)),oa());var _g=Object.freeze({__proto__:null,generate:ng,generateOne:ig,schemas:ag,names:og,substitutes:sg,components:cg,defaultUids:hg,defaultUidsSchema:gg,getAllParts:fg,getAllPartNames:pg,getPart:lg,getPartOrDie:ug,getParts:dg,getPartsOrDie:mg});let vg=(e,t)=>(e.length>0?[Fa(`parts`,e)]:[]).concat([K(`uid`),q(`dom`,{}),q(`components`,[]),ku(`originalSpec`),q(`debug.sketcher`,{})]).concat(t),yg=(e,t,n,r,i)=>{let a=vg(r,i);return xa(e+` [SpecSchema]`,ea(a.concat(t)),n)},bg=(e,t,n,r)=>{let i=Cg(r);return n(yg(e,t,i,[],[]),i)},xg=(e,t,n,r,i)=>{let a=Cg(i),o=yg(e,t,a,ag(n),[gg(n)]),s=sg(e,o,n);return r(o,cg(e,o,s.internals()),a,s.externals())},Sg=e=>Re(e,`uid`),Cg=e=>Sg(e)?e:{...e,uid:dc(`uid`)},wg=e=>e.uid!==void 0,Tg=ea([K(`name`),K(`factory`),K(`configFields`),q(`apis`,{}),q(`extraApis`,{})]),Eg=ea([K(`name`),K(`factory`),K(`configFields`),K(`partFields`),q(`apis`,{}),q(`extraApis`,{})]),Dg=e=>{let t=xa(`Sketcher for `+e.name,Tg,e),n=e=>bg(t.name,t.configFields,t.factory,e),r=ke(t.apis,Cc),i=ke(t.extraApis,(e,t)=>_c(e,t));return{name:t.name,configFields:t.configFields,sketch:n,...r,...i}},Og=e=>{let t=xa(`Sketcher for `+e.name,Eg,e),n=e=>xg(t.name,t.configFields,t.partFields,t.factory,e),r=ng(t.name,t.partFields),i=ke(t.apis,Cc),a=ke(t.extraApis,(e,t)=>_c(e,t));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:n,parts:r,...i,...a}},kg=e=>Tt(`input`)(e)&&un(e,`type`)!==`radio`||Tt(`textarea`)(e);var Ag=Object.freeze({__proto__:null,getCurrent:(e,t,n)=>t.find(e)});let jg=Od({fields:[K(`find`)],name:`composing`,apis:Ag}),Mg=[`input`,`button`,`textarea`,`select`],Ng=(e,t,n)=>{(t.disabled()?Vg:Hg)(e,t)},Pg=(e,t)=>t.useNative===!0&&ie(Mg,_t(e.element)),Fg=e=>fn(e.element,`disabled`),Ig=e=>{cn(e.element,`disabled`,`disabled`)},Lg=e=>{pn(e.element,`disabled`)},Rg=e=>un(e.element,`aria-disabled`)===`true`,zg=e=>{cn(e.element,`aria-disabled`,`true`)},Bg=e=>{cn(e.element,`aria-disabled`,`false`)},Vg=(e,t,n)=>{t.disableClass.each(t=>{ol(e.element,t)}),(Pg(e,t)?Ig:zg)(e),t.onDisabled(e)},Hg=(e,t,n)=>{t.disableClass.each(t=>{cl(e.element,t)}),(Pg(e,t)?Lg:Bg)(e),t.onEnabled(e)},Ug=(e,t)=>Pg(e,t)?Fg(e):Rg(e);var Wg=Object.freeze({__proto__:null,enable:Hg,disable:Vg,isDisabled:Ug,onLoad:Ng,set:(e,t,n,r)=>{(r?Vg:Hg)(e,t)}}),Gg=Object.freeze({__proto__:null,exhibit:(e,t)=>Ac({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>Ds([Os(Qo(),(t,n)=>Ug(t,e)),Sd(e,t,Ng)])});let Kg=Od({fields:[Qa(`disabled`,k),q(`useNative`,!0),Ra(`disableClass`),Tu(`onDisabled`),Tu(`onEnabled`)],name:`disabling`,active:Gg,apis:Wg}),qg=(e,t,n,r)=>{I(Pp(e.element,`.`+t.highlightClass),n=>{ae(r,e=>At(e.element,n))||(cl(n,t.highlightClass),e.getSystem().getByDom(n).each(n=>{t.onDehighlight(e,n),bs(n,ys())}))})},Jg=(e,t,n)=>qg(e,t,n,[]),Yg=(e,t,n,r)=>{t_(e,t,n,r)&&(cl(r.element,t.highlightClass),t.onDehighlight(e,r),bs(r,ys()))},Xg=(e,t,n,r)=>{qg(e,t,n,[r]),t_(e,t,n,r)||(ol(r.element,t.highlightClass),t.onHighlight(e,r),bs(r,vs()))},Zg=(e,t,n)=>{i_(e,t).each(r=>{Xg(e,t,n,r)})},Qg=(e,t,n)=>{a_(e,t).each(r=>{Xg(e,t,n,r)})},$g=(e,t,n,r)=>{r_(e,t,n,r).fold(e=>{throw e},r=>{Xg(e,t,n,r)})},e_=(e,t,n,r)=>{pe(l_(e,t),r).each(r=>{Xg(e,t,n,r)})},t_=(e,t,n,r)=>ul(r.element,t.highlightClass),n_=(e,t,n)=>eu(e.element,`.`+t.highlightClass).bind(t=>e.getSystem().getByDom(t).toOptional()),r_=(e,t,n,r)=>{let i=Pp(e.element,`.`+t.itemClass);return A.from(i[r]).fold(()=>ci.error(Error(`No element found with index `+r)),e.getSystem().getByDom)},i_=(e,t,n)=>eu(e.element,`.`+t.itemClass).bind(t=>e.getSystem().getByDom(t).toOptional()),a_=(e,t,n)=>{let r=Pp(e.element,`.`+t.itemClass);return(r.length>0?A.some(r[r.length-1]):A.none()).bind(t=>e.getSystem().getByDom(t).toOptional())},o_=(e,t,n,r)=>{let i=Pp(e.element,`.`+t.itemClass);return me(i,e=>ul(e,t.highlightClass)).bind(t=>{let n=Wu(t,r,0,i.length-1);return e.getSystem().getByDom(i[n]).toOptional()})},s_=(e,t,n)=>o_(e,t,n,-1),c_=(e,t,n)=>o_(e,t,n,1),l_=(e,t,n)=>He(F(Pp(e.element,`.`+t.itemClass),t=>e.getSystem().getByDom(t).toOptional()));var u_=Object.freeze({__proto__:null,dehighlightAll:Jg,dehighlight:Yg,highlight:Xg,highlightFirst:Zg,highlightLast:Qg,highlightAt:$g,highlightBy:e_,isHighlighted:t_,getHighlighted:n_,getFirst:i_,getLast:a_,getPrevious:s_,getNext:c_,getCandidates:l_});let d_=Od({fields:[K(`highlightClass`),K(`itemClass`),Tu(`onHighlight`),Tu(`onDehighlight`)],name:`highlighting`,apis:u_}),f_=[8],p_=[9],m_=[13],$=[27],h_=[32],g_=[37],__=[38],v_=[39],y_=[40],b_=(e,t,n)=>{let r=R(e.slice(0,t)),i=R(e.slice(t+1));return pe(r.concat(i),n)},x_=(e,t,n)=>pe(R(e.slice(0,t)),n),S_=(e,t,n)=>{let r=e.slice(0,t);return pe(e.slice(t+1).concat(r),n)},C_=(e,t,n)=>pe(e.slice(t+1),n),w_=e=>t=>{let n=t.raw;return ie(e,n.which)},T_=e=>t=>ge(e,e=>e(t)),E_=e=>e.raw.shiftKey===!0,D_=e=>e.raw.ctrlKey===!0,O_=D(E_),k_=(e,t)=>({matches:e,classification:t}),A_=(e,t)=>pe(e,e=>e.matches(t)).map(e=>e.classification),j_=(e,t,n)=>{t.exists(e=>n.exists(t=>At(t,e)))||xs(e,ps(),{prevFocus:t,newFocus:n})},M_=()=>{let e=e=>Rd(e.element);return{get:e,set:(t,n)=>{let r=e(t);t.getSystem().triggerFocus(n,t.element),j_(t,r,e(t))}}},N_=()=>{let e=e=>d_.getHighlighted(e).map(e=>e.element);return{get:e,set:(t,n)=>{let r=e(t);t.getSystem().getByDom(n).fold(y,e=>{d_.highlight(t,e)}),j_(t,r,e(t))}}};var P_;(function(e){e.OnFocusMode=`onFocus`,e.OnEnterOrSpaceMode=`onEnterOrSpace`,e.OnApiMode=`onApi`})(P_||={});let F_=(e,t,n,r,i)=>{let a=()=>e.concat([q(`focusManager`,M_()),qa(`focusInside`,`onFocus`,_a(e=>ie([`onFocus`,`onEnterOrSpace`,`onApi`],e)?ci.value(e):ci.error(`Invalid value for focusInside`))),Ou(`handler`,s),Ou(`state`,t),Ou(`sendFocusIn`,i)]),o=(e,t,n,r,i)=>A_(n(e,t,r,i),t.event).bind(n=>n(e,t,r,i)),s={schema:a,processKey:o,toEvents:(e,t)=>{let a=e.focusInside===P_.OnFocusMode?i(e).map(n=>J(Jo(),(r,i)=>{n(r,e,t),i.stop()})):A.none(),s=(n,r)=>{let a=w_(h_.concat(m_))(r.event);e.focusInside===P_.OnEnterOrSpaceMode&&a&&vo(n,r)&&i(e).each(i=>{i(n,e,t),r.stop()})},c=[J(Lo(),(r,i)=>{o(r,i,n,e,t).fold(()=>{s(r,i)},e=>{i.stop()})}),J(Ro(),(n,i)=>{o(n,i,r,e,t).each(e=>{i.stop()})})];return Ds(a.toArray().concat(c))}};return s},I_=e=>{let t=[Ra(`onEscape`),Ra(`onEnter`),q(`selector`,`[data-alloy-tabstop="true"]:not(:disabled)`),q(`firstTabstop`,0),q(`useTabstopAt`,te),Ra(`visibilitySelector`),e],n=(e,t)=>On(e.visibilitySelector.bind(e=>tu(t,e)).getOr(t))>0,r=(e,t)=>{let r=le(Pp(e.element,t.selector),e=>n(t,e));return A.from(r[t.firstTabstop])},i=(e,t)=>t.focusManager.get(e).bind(e=>tu(e,t.selector)),a=(e,t)=>n(e,t)&&e.useTabstopAt(t),o=(e,t,n)=>{r(e,t).each(n=>{t.focusManager.set(e,n)})},s=(e,t,n,r,i)=>i(t,n,e=>a(r,e)).fold(()=>r.cyclic?A.some(!0):A.none(),t=>(r.focusManager.set(e,t),A.some(!0))),c=(e,t,n,r)=>{let a=Pp(e.element,n.selector);return i(e,n).bind(t=>me(a,E(At,t)).bind(t=>s(e,a,t,n,r)))},l=(e,t,n)=>c(e,t,n,n.cyclic?b_:x_),u=(e,t,n)=>c(e,t,n,n.cyclic?S_:C_),d=e=>Lt(e).bind(Wt).exists(t=>At(t,e)),f=(e,t,n)=>i(e,n).filter(e=>!n.useTabstopAt(e)).bind(r=>(d(r)?l:u)(e,t,n)),p=(e,t,n)=>n.onEnter.bind(n=>n(e,t)),m=(e,t,n)=>n.onEscape.bind(n=>n(e,t)),h=C([k_(T_([E_,w_(p_)]),l),k_(w_(p_),u),k_(T_([O_,w_(m_)]),p)]),g=C([k_(w_($),m),k_(w_(p_),f)]);return F_(t,wc.init,h,g,()=>A.some(o))};var L_=I_(Ea(`cyclic`,k)),R_=I_(Ea(`cyclic`,te));let z_=(e,t,n)=>(Cs(e,n,Qo()),A.some(!0)),B_=(e,t,n)=>kg(n)&&w_(h_)(t.event)?A.none():z_(e,t,n),V_=(e,t)=>A.some(!0),H_=[q(`execute`,B_),q(`useSpace`,!1),q(`useEnter`,!0),q(`useControlEnter`,!1),q(`useDown`,!1)],U_=(e,t,n)=>n.execute(e,t,e.element);var W_=F_(H_,wc.init,(e,t,n,r)=>{let i=n.useSpace&&!kg(e.element)?h_:[],a=n.useEnter?m_:[],o=n.useDown?y_:[];return[k_(w_(i.concat(a).concat(o)),U_)].concat(n.useControlEnter?[k_(T_([D_,w_(m_)]),U_)]:[])},(e,t,n,r)=>n.useSpace&&!kg(e.element)?[k_(w_(h_),V_)]:[],()=>A.none());let G_=()=>{let e=mf();return Tc({readState:()=>e.get().map(e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)})).getOr({numRows:`?`,numColumns:`?`}),setGridSize:(t,n)=>{e.set({numRows:t,numColumns:n})},getNumRows:()=>e.get().map(e=>e.numRows),getNumColumns:()=>e.get().map(e=>e.numColumns)})};var K_=Object.freeze({__proto__:null,flatgrid:G_,init:e=>e.state(e)});let q_=e=>(t,n,r,i)=>Z_(e(t.element),t,n,r,i),J_=(e,t)=>q_(Gf(e,t)),Y_=(e,t)=>q_(Gf(t,e)),X_=e=>(t,n,r,i)=>Z_(e,t,n,r,i),Z_=(e,t,n,r,i)=>r.focusManager.get(t).bind(n=>e(t.element,n,r,i)).map(e=>(r.focusManager.set(t,e),!0)),Q_=X_,$_=X_,ev=X_,tv=e=>e.offsetWidth<=0&&e.offsetHeight<=0,nv=e=>!tv(e.dom),rv=(e,t)=>me(e,t).map(t=>({index:t,candidates:e})),iv=(e,t,n)=>rv(le(Pp(e,n),nv),e=>At(e,t)),av=(e,t)=>me(e,e=>At(t,e)),ov=(e,t,n,r)=>r(Math.floor(t/n),t%n).bind(t=>{let r=t.row*n+t.column;return r>=0&&r<e.length?A.some(e[r]):A.none()}),sv=(e,t,n,r,i)=>ov(e,t,r,(t,a)=>{let o=Wu(a,i,0,(t===n-1?e.length-t*r:r)-1);return A.some({row:t,column:o})}),cv=(e,t,n,r,i)=>ov(e,t,r,(t,a)=>{let o=Wu(t,i,0,n-1),s=Gu(a,0,(o===n-1?e.length-o*r:r)-1);return A.some({row:o,column:s})}),lv=(e,t,n,r)=>sv(e,t,n,r,1),uv=(e,t,n,r)=>sv(e,t,n,r,-1),dv=(e,t,n,r)=>cv(e,t,n,r,-1),fv=(e,t,n,r)=>cv(e,t,n,r,1),pv=[K(`selector`),q(`execute`,B_),Eu(`onEscape`),q(`captureTab`,!1),Au()],mv=(e,t,n)=>{eu(e.element,t.selector).each(n=>{t.focusManager.set(e,n)})},hv=(e,t)=>t.focusManager.get(e).bind(e=>tu(e,t.selector)),gv=(e,t,n,r)=>hv(e,n).bind(r=>n.execute(e,t,r)),_v=e=>(t,n,r,i)=>iv(t,n,r.selector).bind(t=>e(t.candidates,t.index,i.getNumRows().getOr(r.initSize.numRows),i.getNumColumns().getOr(r.initSize.numColumns))),vv=(e,t,n)=>n.captureTab?A.some(!0):A.none(),yv=(e,t,n)=>n.onEscape(e,t),bv=_v(uv),xv=_v(lv),Sv=_v(dv),Cv=_v(fv);var wv=F_(pv,G_,C([k_(w_(g_),J_(bv,xv)),k_(w_(v_),Y_(bv,xv)),k_(w_(__),Q_(Sv)),k_(w_(y_),$_(Cv)),k_(T_([E_,w_(p_)]),vv),k_(T_([O_,w_(p_)]),vv),k_(w_(h_.concat(m_)),gv)]),C([k_(w_($),yv),k_(w_(h_),V_)]),()=>A.some(mv));let Tv=(e,t,n,r,i)=>{let a=e=>_t(e)===`button`&&un(e,`disabled`)===`disabled`,o=(e,t,n)=>i(e,t,r,0,n.length-1,n[t],t=>a(n[t])?o(e,t,n):A.from(n[t]));return iv(e,n,t).bind(e=>{let t=e.index,n=e.candidates;return o(t,t,n)})},Ev=(e,t,n,r)=>Tv(e,t,n,r,(e,t,n,r,i,a,o)=>{let s=Gu(t+n,r,i);return s===e?A.from(a):o(s)}),Dv=(e,t,n,r)=>Tv(e,t,n,r,(e,t,n,r,i,a,o)=>{let s=Wu(t,n,r,i);return s===e?A.none():o(s)}),Ov=[K(`selector`),q(`getInitial`,A.none),q(`execute`,B_),Eu(`onEscape`),q(`executeOnMove`,!1),q(`allowVertical`,!0),q(`allowHorizontal`,!0),q(`cycles`,!0)],kv=(e,t)=>t.focusManager.get(e).bind(e=>tu(e,t.selector)),Av=(e,t,n)=>kv(e,n).bind(r=>n.execute(e,t,r)),jv=(e,t,n)=>{t.getInitial(e).orThunk(()=>eu(e.element,t.selector)).each(n=>{t.focusManager.set(e,n)})},Mv=(e,t,n)=>(n.cycles?Dv:Ev)(e,n.selector,t,-1),Nv=(e,t,n)=>(n.cycles?Dv:Ev)(e,n.selector,t,1),Pv=e=>(t,n,r,i)=>e(t,n,r,i).bind(()=>r.executeOnMove?Av(t,n,r):A.some(!0)),Fv=(e,t,n)=>n.onEscape(e,t),Iv=(e,t,n,r)=>{let i=[...n.allowHorizontal?g_:[]].concat(n.allowVertical?__:[]),a=[...n.allowHorizontal?v_:[]].concat(n.allowVertical?y_:[]);return[k_(w_(i),Pv(J_(Mv,Nv))),k_(w_(a),Pv(Y_(Mv,Nv))),k_(w_(m_),Av),k_(w_(h_),Av)]},Lv=C([k_(w_(h_),V_),k_(w_($),Fv)]);var Rv=F_(Ov,wc.init,Iv,Lv,()=>A.some(jv));let zv=(e,t,n)=>A.from(e[t]).bind(e=>A.from(e[n]).map(e=>({rowIndex:t,columnIndex:n,cell:e}))),Bv=(e,t,n,r)=>{let i=e[t].length;return zv(e,t,Wu(n,r,0,i-1))},Vv=(e,t,n,r)=>{let i=Wu(n,r,0,e.length-1),a=e[i].length;return zv(e,i,Gu(t,0,a-1))},Hv=(e,t,n,r)=>{let i=e[t].length;return zv(e,t,Gu(n+r,0,i-1))},Uv=(e,t,n,r)=>{let i=Gu(n+r,0,e.length-1),a=e[i].length;return zv(e,i,Gu(t,0,a-1))},Wv=(e,t,n)=>Bv(e,t,n,1),Gv=(e,t,n)=>Bv(e,t,n,-1),Kv=(e,t,n)=>Vv(e,n,t,-1),qv=(e,t,n)=>Vv(e,n,t,1),Jv=(e,t,n)=>Hv(e,t,n,-1),Yv=(e,t,n)=>Hv(e,t,n,1),Xv=(e,t,n)=>Uv(e,n,t,-1),Zv=(e,t,n)=>Uv(e,n,t,1),Qv=[Fa(`selectors`,[K(`row`),K(`cell`)]),q(`cycles`,!0),q(`previousSelector`,A.none),q(`execute`,B_)],$v=(e,t,n)=>{t.previousSelector(e).orThunk(()=>{let n=t.selectors;return eu(e.element,n.cell)}).each(n=>{t.focusManager.set(e,n)})},ey=(e,t,n)=>Rd(e.element).bind(r=>n.execute(e,t,r)),ty=(e,t)=>F(e,e=>Pp(e,t.selectors.cell)),ny=(e,t)=>(n,r,i)=>{let a=i.cycles?e:t;return tu(r,i.selectors.row).bind(e=>av(Pp(e,i.selectors.cell),r).bind(t=>{let r=Pp(n,i.selectors.row);return av(r,e).bind(e=>a(ty(r,i),e,t).map(e=>e.cell))}))},ry=ny(Gv,Jv),iy=ny(Wv,Yv),ay=ny(Kv,Xv),oy=ny(qv,Zv),sy=C([k_(w_(g_),J_(ry,iy)),k_(w_(v_),Y_(ry,iy)),k_(w_(__),Q_(ay)),k_(w_(y_),$_(oy)),k_(w_(h_.concat(m_)),ey)]),cy=C([k_(w_(h_),V_)]);var ly=F_(Qv,wc.init,sy,cy,()=>A.some($v));let uy=[K(`selector`),q(`execute`,B_),q(`moveOnTab`,!1)],dy=(e,t,n)=>n.focusManager.get(e).bind(r=>n.execute(e,t,r)),fy=(e,t,n)=>{eu(e.element,t.selector).each(n=>{t.focusManager.set(e,n)})},py=(e,t,n)=>Dv(e,n.selector,t,-1),my=(e,t,n)=>Dv(e,n.selector,t,1),hy=C([k_(w_(__),ev(py)),k_(w_(y_),ev(my)),k_(T_([E_,w_(p_)]),(e,t,n,r)=>n.moveOnTab?ev(py)(e,t,n,r):A.none()),k_(T_([O_,w_(p_)]),(e,t,n,r)=>n.moveOnTab?ev(my)(e,t,n,r):A.none()),k_(w_(m_),dy),k_(w_(h_),dy)]),gy=C([k_(w_(h_),V_)]);var _y=F_(uy,wc.init,hy,gy,()=>A.some(fy)),vy=F_([Eu(`onSpace`),Eu(`onEnter`),Eu(`onShiftEnter`),Eu(`onLeft`),Eu(`onRight`),Eu(`onTab`),Eu(`onShiftTab`),Eu(`onUp`),Eu(`onDown`),Eu(`onEscape`),q(`stopSpaceKeyup`,!1),Ra(`focusIn`)],wc.init,(e,t,n)=>[k_(w_(h_),n.onSpace),k_(T_([O_,w_(m_)]),n.onEnter),k_(T_([E_,w_(m_)]),n.onShiftEnter),k_(T_([E_,w_(p_)]),n.onShiftTab),k_(T_([O_,w_(p_)]),n.onTab),k_(w_(__),n.onUp),k_(w_(y_),n.onDown),k_(w_(g_),n.onLeft),k_(w_(v_),n.onRight),k_(w_(h_),n.onSpace)],(e,t,n)=>[...n.stopSpaceKeyup?[k_(w_(h_),V_)]:[],k_(w_($),n.onEscape)],e=>e.focusIn);let yy=L_.schema(),by=R_.schema(),xy=Rv.schema(),Sy=wv.schema(),Cy=ly.schema(),wy=W_.schema(),Ty=_y.schema(),Ey=vy.schema();var Dy=Object.freeze({__proto__:null,acyclic:yy,cyclic:by,flow:xy,flatgrid:Sy,matrix:Cy,execution:wy,menu:Ty,special:Ey});let Oy=e=>ze(e,`setGridSize`),ky=Ad({branchKey:`mode`,branches:Dy,name:`keying`,active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,n)=>{t.sendFocusIn(t).fold(()=>{e.getSystem().triggerFocus(e.element,e.element)},r=>{r(e,t,n)})},setGridSize:(e,t,n,r,i)=>{Oy(n)?n.setGridSize(r,i):console.error(`Layout does not support setGridSize`)}},state:K_}),Ay=(e,t)=>{zd(()=>{Tm(e,t,()=>F(t,e.getSystem().build))},e.element)},jy=(e,t)=>{zd(()=>{Em(e,t,()=>Cl(e.element,t,e.getSystem().buildOrPatch))},e.element)},My=(e,t,n,r)=>{Sm(t),xm(e,Sl(e.element,n,r,e.getSystem().buildOrPatch)),e.syncComponents()},Ny=(e,t,n)=>{Om(e,e.getSystem().build(n),t)},Py=(e,t,n,r)=>{Am(t),Ny(e,(e,t)=>Lr(e,t,n),r)},Fy=(e,t,n,r)=>(t.reuseDom?jy:Ay)(e,r),Iy=(e,t,n,r)=>{Ny(e,Ir,r)},Ly=(e,t,n,r)=>{Ny(e,Fr,r)},Ry=(e,t,n,r)=>{pe(zy(e),e=>At(r.element,e.element)).each(Am)},zy=(e,t)=>e.components(),By=(e,t,n,r,i)=>{let a=zy(e);return A.from(a[r]).map(n=>(i.fold(()=>Am(n),i=>{(t.reuseDom?My:Py)(e,n,r,i)}),n))};var Vy=Object.freeze({__proto__:null,append:Iy,prepend:Ly,remove:Ry,replaceAt:By,replaceBy:(e,t,n,r,i)=>me(zy(e),r).bind(r=>By(e,t,n,r,i)),set:Fy,contents:zy});let Hy=Od({fields:[Za(`reuseDom`,!0)],name:`replacing`,apis:Vy}),Uy=(e,t)=>{let n=Ds(t);return Od({fields:[K(`enabled`)],name:e,active:{events:C(n)}})},Wy=(e,t)=>({key:e,value:{config:{},me:Uy(e,t),configAsRaw:C({}),initialConfig:{},state:wc}}),Gy=(e,t)=>{t.ignore||(Pd(e.element),t.onFocus(e))};var Ky=Object.freeze({__proto__:null,focus:Gy,blur:(e,t)=>{t.ignore||Fd(e.element)},isFocused:e=>Id(e.element)}),qy=Object.freeze({__proto__:null,exhibit:(e,t)=>Ac(t.ignore?{}:{attributes:{tabindex:`-1`}}),events:e=>Ds([J(Jo(),(t,n)=>{Gy(t,e),n.stop()})].concat(e.stopMousedown?[J(Ao(),(e,t)=>{t.event.prevent()})]:[]))});let Jy=Od({fields:[Tu(`onFocus`),q(`stopMousedown`,!1),q(`ignore`,!1)],name:`focusing`,active:qy,apis:Ky}),Yy=e=>({init:()=>{let t=no(e);return{get:()=>t.get(),set:e=>t.set(e),clear:()=>t.set(e),readState:()=>t.get()}}}),Xy=(e,t,n)=>{let r=t.aria;r.update(e,r,n.get())},Zy=(e,t,n)=>{t.toggleClass.each(t=>{n.get()?ol(e.element,t):cl(e.element,t)})},Qy=(e,t,n,r)=>{let i=n.get();n.set(r),Zy(e,t,n),Xy(e,t,n),i!==r&&t.onToggled(e,r)},$y=(e,t,n)=>{Qy(e,t,n,!n.get())},eb=(e,t,n)=>{Qy(e,t,n,!0)},tb=(e,t,n)=>{Qy(e,t,n,!1)},nb=(e,t,n)=>n.get(),rb=(e,t,n)=>{Qy(e,t,n,t.selected)};var ib=Object.freeze({__proto__:null,onLoad:rb,toggle:$y,isOn:nb,on:eb,off:tb,set:Qy}),ab=Object.freeze({__proto__:null,exhibit:()=>Ac({}),events:(e,t)=>{let n=xd(e,t,$y),r=Sd(e,t,rb);return Ds(L([e.toggleOnExecute?[n]:[],[r]]))}});let ob=(e,t,n)=>{cn(e.element,`aria-pressed`,n),t.syncWithExpanded&&lb(e,t,n)},sb=(e,t,n)=>{cn(e.element,`aria-selected`,n)},cb=(e,t,n)=>{cn(e.element,`aria-checked`,n)},lb=(e,t,n)=>{cn(e.element,`aria-expanded`,n)},ub=Od({fields:[q(`selected`,!1),Ra(`toggleClass`),q(`toggleOnExecute`,!0),Tu(`onToggled`),qa(`aria`,{mode:`none`},Ca(`mode`,{pressed:[q(`syncWithExpanded`,!1),Ou(`update`,ob)],checked:[Ou(`update`,cb)],expanded:[Ou(`update`,lb)],selected:[Ou(`update`,sb)],none:[Ou(`update`,y)]}))],name:`toggling`,active:ab,apis:ib,state:Yy(!1)}),db=()=>{let e=(e,t)=>{t.stop(),Ss(e)};return[J(Vo(),e),J(es(),e),Ls(Eo()),Ls(Ao())]},fb=e=>Ds(L([e.map(e=>Us((t,n)=>{e(t),n.stop()})).toArray(),db()])),pb=`alloy.item-hover`,mb=`alloy.item-focus`,hb=`alloy.item-toggled`,gb=e=>{(Rd(e.element).isNone()||Jy.isFocused(e))&&(Jy.isFocused(e)||Jy.focus(e),xs(e,pb,{item:e}))},_b=e=>{xs(e,mb,{item:e})},vb=(e,t)=>{xs(e,hb,{item:e,state:t})},yb=C(pb),bb=C(mb),xb=C(hb),Sb=e=>e.toggling.map(e=>e.exclusive?`menuitemradio`:`menuitemcheckbox`).getOr(`menuitem`),Cb=e=>({aria:{mode:`checked`},...Pe(e,(e,t)=>t!==`exclusive`),onToggled:(t,n)=>{g(e.onToggled)&&e.onToggled(t,n),vb(t,n)}}),wb=[K(`data`),K(`components`),K(`dom`),q(`hasSubmenu`,!1),Ra(`toggling`),yh.field(`itemBehaviours`,[ub,Jy,ky,Q]),q(`ignoreFocus`,!1),q(`domModification`,{}),Ou(`builder`,e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:Sb(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:yh.augment(e.itemBehaviours,[e.toggling.fold(ub.revoke,e=>ub.config(Cb(e))),Jy.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{_b(e)}}),ky.config({mode:`execution`}),Q.config({store:{mode:`memory`,initialValue:e.data}}),Wy(`item-type-events`,[...db(),J(Po(),gb),J($o(),Jy.focus)])]),components:e.components,eventOrder:e.eventOrder})),q(`eventOrder`,{})],Tb=[K(`dom`),K(`components`),Ou(`builder`,e=>({dom:e.dom,components:e.components,events:Ds([Rs($o())])}))],Eb=C(`item-widget`),Db=C([Jh({name:`widget`,overrides:e=>({behaviours:Z([Q.config({store:{mode:`manual`,getValue:t=>e.data,setValue:y}})])})})]),Ob=Ca(`type`,{widget:[K(`uid`),K(`data`),K(`components`),K(`dom`),q(`autofocus`,!1),q(`ignoreFocus`,!1),yh.field(`widgetBehaviours`,[Q,Jy,ky]),q(`domModification`,{}),gg(Db()),Ou(`builder`,e=>{let t=sg(Eb(),e,Db()),n=cg(Eb(),e,t.internals()),r=t=>lg(t,e,`widget`).map(e=>(ky.focusIn(e),e)),i=(t,n)=>kg(n.event.target)?A.none():(()=>(e.autofocus&&n.setSource(t.element),A.none()))();return{dom:e.dom,components:n,domModification:e.domModification,events:Ds([Us((e,t)=>{r(e).each(e=>{t.stop()})}),J(Po(),gb),J($o(),(t,n)=>{e.autofocus?r(t):Jy.focus(t)})]),behaviours:yh.augment(e.widgetBehaviours,[Q.config({store:{mode:`memory`,initialValue:e.data}}),Jy.config({ignore:e.ignoreFocus,onFocus:e=>{_b(e)}}),ky.config({mode:`special`,focusIn:e.autofocus?e=>{r(e)}:jd(),onLeft:i,onRight:i,onEscape:(t,n)=>!Jy.isFocused(t)&&!e.autofocus?(Jy.focus(t),A.some(!0)):(e.autofocus&&n.setSource(t.element),A.none())})])}})],item:wb,separator:Tb}),kb=(e,t)=>({mode:`flatgrid`,selector:`.`+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}),Ab=(e,t)=>({mode:`matrix`,selectors:{row:t.rowSelector,cell:`.`+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}),jb=(e,t)=>({mode:`menu`,selector:`.`+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}),Mb=C([Zh({factory:{sketch:e=>{let t=xa(`menu.spec item`,Ob,e);return t.builder(t)}},name:`items`,unit:`item`,defaults:(e,t)=>Re(t,`uid`)?t:{...t,uid:dc(`item`)},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),Nb=C([K(`value`),K(`items`),K(`dom`),K(`components`),q(`eventOrder`,{}),gh(`menuBehaviours`,[d_,Q,jg,ky]),qa(`movement`,{mode:`menu`,moveOnTab:!0},Ca(`mode`,{grid:[Au(),Ou(`config`,kb)],matrix:[Ou(`config`,Ab),K(`rowSelector`),q(`previousSelector`,A.none)],menu:[q(`moveOnTab`,!0),Ou(`config`,jb)]})),xu(),q(`fakeFocus`,!1),q(`focusManager`,M_()),Tu(`onHighlight`),Tu(`onDehighlight`)]),Pb=C(`alloy.menu-focus`),Fb=(e,t)=>{I(Pp(e.element,`[role="menuitemradio"][aria-checked="true"]`),n=>{At(n,t.element)||e.getSystem().getByDom(n).each(e=>{ub.off(e)})})},Ib=Og({name:`Menu`,configFields:Nb(),partFields:Mb(),factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:vh(e.menuBehaviours,[d_.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),Q.config({store:{mode:`memory`,initialValue:e.value}}),jg.config({find:A.some}),ky.config(e.movement.config(e,e.movement))]),events:Ds([J(bb(),(e,t)=>{let n=t.event;e.getSystem().getByDom(n.target).each(n=>{d_.highlight(e,n),t.stop(),xs(e,Pb(),{menu:e,item:n})})}),J(yb(),(e,t)=>{let n=t.event.item;d_.highlight(e,n)}),J(xb(),(e,t)=>{let{item:n,state:r}=t.event;r&&un(n.element,`role`)===`menuitemradio`&&Fb(e,n)})]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:`menu`}}})}),Lb=e=>Ae(e,(e,t)=>({k:e,v:t})),Rb=(e,t,n,r)=>z(n,r).bind(r=>z(e,r).bind(r=>{let i=Rb(e,t,n,r);return A.some([r].concat(i))})).getOr([]),zb=(e,t)=>{let n={};Oe(e,(e,t)=>{I(e,e=>{n[e]=t})});let r=t,i=Lb(t),a=ke(i,(e,t)=>[t].concat(Rb(n,r,i,t)));return ke(n,e=>z(a,e).getOr([e]))},Bb=()=>{let e=no({}),t=no({}),n=no({}),r=mf(),i=no({}),a=()=>{e.set({}),t.set({}),n.set({}),r.clear()},o=()=>r.get().isNone(),s=(e,n)=>{t.set({...t.get(),[e]:{type:`prepared`,menu:n}})},c=(a,o,s,c)=>{r.set(a),e.set(s),t.set(o),i.set(c);let l=zb(c,s);n.set(l)},l=t=>Ie(e.get(),(e,n)=>e===t),u=(e,t,n)=>h(e).bind(r=>l(e).bind(e=>t(e).map(e=>({triggeredMenu:r,triggeringItem:e,triggeringPath:n})))),d=(e,t)=>{let i=le(_(e).toArray(),e=>h(e).isSome());return z(n.get(),e).bind(e=>{let n=R(i.concat(e));return Ue(he(n,(e,i)=>u(e,t,n.slice(0,i+1)).fold(()=>Be(r.get(),e)?[]:[A.none()],e=>[A.some(e)])))})},f=t=>z(e.get(),t).map(e=>{let r=z(n.get(),t).getOr([]);return[e].concat(r)}),p=e=>z(n.get(),e).bind(e=>e.length>1?A.some(e.slice(1)):A.none()),m=e=>z(n.get(),e),h=e=>g(e).bind(Vb),g=e=>z(t.get(),e),_=t=>z(e.get(),t);return{setMenuBuilt:s,setContents:c,expand:f,refresh:m,collapse:p,lookupMenu:g,lookupItem:_,otherMenus:e=>_e(Ee(i.get()),e),getPrimary:()=>r.get().bind(h),getMenus:()=>t.get(),clear:a,isClear:o,getTriggeringPath:d}},Vb=e=>e.type===`prepared`?A.some(e.menu):A.none(),Hb={init:Bb,extractPreparedMenu:Vb},Ub=rc(`tiered-menu-item-highlight`),Wb=rc(`tiered-menu-item-dehighlight`);var Gb;(function(e){e[e.HighlightMenuAndItem=0]=`HighlightMenuAndItem`,e[e.HighlightJustMenu=1]=`HighlightJustMenu`,e[e.HighlightNone=2]=`HighlightNone`})(Gb||={});let Kb=(e,t)=>{let n=mf(),r=(t,n,r)=>ke(r,(r,i)=>{let a=()=>Ib.sketch({...r,value:i,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{xs(e,Ub,{menuComp:e,itemComp:t})},onDehighlight:(e,t)=>{xs(e,Wb,{menuComp:e,itemComp:t})},focusManager:e.fakeFocus?N_():M_()});return i===n?{type:`prepared`,menu:t.getSystem().build(a())}:{type:`notbuilt`,nbMenu:a}}),i=Hb.init(),a=t=>{let n=r(t,e.data.primary,e.data.menus),a=c();return i.setContents(e.data.primary,n,e.data.expansions,a),i.getPrimary()},o=e=>Q.getValue(e).value,s=(e,t,n)=>Te(t,e=>e.getSystem().isConnected()?pe(d_.getCandidates(e),e=>o(e)===n):A.none()),c=t=>ke(e.data.menus,(e,t)=>he(e.items,e=>e.type===`separator`?[]:[e.data.value])),l=d_.highlight,u=(t,n)=>{l(t,n),d_.getHighlighted(n).orThunk(()=>d_.getFirst(n)).each(r=>{e.fakeFocus?d_.highlight(n,r):Cs(t,r.element,$o())})},d=(e,t)=>He(F(t,t=>e.lookupMenu(t).bind(e=>e.type===`prepared`?A.some(e.menu):A.none()))),f=(t,n,r)=>{I(d(n,n.otherMenus(r)),n=>{fl(n.element,[e.markers.backgroundMenu]),e.stayInDom||Hy.remove(t,n)})},p=t=>n.get().getOrThunk(()=>{let r={};return I(le(Pp(t.element,`.${e.markers.item}`),e=>un(e,`aria-haspopup`)===`true`),e=>{t.getSystem().getByDom(e).each(e=>{let t=o(e);r[t]=e})}),n.set(r),r}),m=(e,t)=>{Oe(p(e),(e,n)=>{let r=ie(t,n);cn(e.element,`aria-expanded`,r)})},h=(t,n,r)=>A.from(r[0]).bind(i=>n.lookupMenu(i).bind(i=>{if(i.type===`notbuilt`)return A.none();{let a=i.menu;return I(d(n,r.slice(1)),t=>{ol(t.element,e.markers.backgroundMenu)}),rn(a.element)||Hy.append(t,Gl(a)),fl(a.element,[e.markers.backgroundMenu]),u(t,a),f(t,n,r),A.some(a)}})),g;(function(e){e[e.HighlightSubmenu=0]=`HighlightSubmenu`,e[e.HighlightParent=1]=`HighlightParent`})(g||={});let _=(e,t,n)=>{if(n.type===`notbuilt`){let r=e.getSystem().build(n.nbMenu());return i.setMenuBuilt(t,r),r}else return n.menu},v=(t,n,r=g.HighlightSubmenu)=>{if(n.hasConfigured(Kg)&&Kg.isDisabled(n))return A.some(n);{let a=o(n);return i.expand(a).bind(a=>(m(t,a),A.from(a[0]).bind(o=>i.lookupMenu(o).bind(s=>{let c=_(t,o,s);return rn(c.element)||Hy.append(t,Gl(c)),e.onOpenSubmenu(t,n,c,R(a)),r===g.HighlightSubmenu?(d_.highlightFirst(c),h(t,i,a)):(d_.dehighlightAll(c),A.some(n))}))))}},b=(t,n)=>{let r=o(n);return i.collapse(r).bind(r=>(m(t,r),h(t,i,r).map(r=>(e.onCollapseMenu(t,n,r),r))))},x=(e,t)=>{let n=o(t);return i.refresh(n).bind(t=>(m(e,t),h(e,i,t)))},S=(e,t)=>kg(t.element)?A.none():v(e,t,g.HighlightSubmenu),C=(e,t)=>kg(t.element)?A.none():b(e,t),w=(t,n)=>b(t,n).orThunk(()=>e.onEscape(t,n).map(()=>t)),T=t=>(n,r)=>tu(r.getSource(),`.${e.markers.item}`).bind(e=>n.getSystem().getByDom(e).toOptional().bind(e=>t(n,e).map(te))),E=Ds([J(Pb(),(e,t)=>{let n=t.event.item;i.lookupItem(o(n)).each(()=>{let n=t.event.menu;d_.highlight(e,n);let r=o(t.event.item);i.refresh(r).each(t=>f(e,i,t))})}),Us((t,n)=>{let r=n.event.target;t.getSystem().getByDom(r).each(n=>{o(n).indexOf(`collapse-item`)===0&&b(t,n),v(t,n,g.HighlightSubmenu).fold(()=>{e.onExecute(t,n)},y)})}),Bs((t,n)=>{a(t).each(n=>{Hy.append(t,Gl(n)),e.onOpenMenu(t,n),e.highlightOnOpen===Gb.HighlightMenuAndItem?u(t,n):e.highlightOnOpen===Gb.HighlightJustMenu&&l(t,n)})}),J(Ub,(t,n)=>{e.onHighlightItem(t,n.event.menuComp,n.event.itemComp)}),J(Wb,(t,n)=>{e.onDehighlightItem(t,n.event.menuComp,n.event.itemComp)}),...e.navigateOnHover?[J(yb(),(t,n)=>{let r=n.event.item;x(t,r),v(t,r,g.HighlightParent),e.onHover(t,r)})]:[]]),D=e=>d_.getHighlighted(e).bind(d_.getHighlighted),O=e=>{D(e).each(t=>{b(e,t)})},ee=e=>{i.getPrimary().each(t=>{u(e,t)})},k=e=>A.from(e.components()[0]).filter(e=>un(e.element,`role`)===`menu`),j={collapseMenu:O,highlightPrimary:ee,repositionMenus:t=>{i.getPrimary().bind(e=>D(t).bind(e=>{let n=o(e),r=He(F(Le(i.getMenus()),Hb.extractPreparedMenu));return i.getTriggeringPath(n,e=>s(t,r,e))}).map(t=>({primary:e,triggeringPath:t}))).fold(()=>{k(t).each(n=>{e.onRepositionMenu(t,n,[])})},({primary:n,triggeringPath:r})=>{e.onRepositionMenu(t,n,r)})}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:vh(e.tmenuBehaviours,[ky.config({mode:`special`,onRight:T(S),onLeft:T(C),onEscape:T(w),focusIn:(e,t)=>{i.getPrimary().each(t=>{Cs(e,t.element,$o())})}}),d_.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),jg.config({find:e=>d_.getHighlighted(e)}),Hy.config({})]),eventOrder:e.eventOrder,apis:j,events:E}},qb=C(`collapse-item`),Jb=Dg({name:`TieredMenu`,configFields:[Du(`onExecute`),Du(`onEscape`),Y(`onOpenMenu`),Y(`onOpenSubmenu`),Tu(`onRepositionMenu`),Tu(`onCollapseMenu`),q(`highlightOnOpen`,Gb.HighlightMenuAndItem),Fa(`data`,[K(`primary`),K(`menus`),K(`expansions`)]),q(`fakeFocus`,!1),Tu(`onHighlightItem`),Tu(`onDehighlightItem`),Tu(`onHover`),Su(),K(`dom`),q(`navigateOnHover`,!0),q(`stayInDom`,!1),gh(`tmenuBehaviours`,[ky,d_,jg,Hy]),q(`eventOrder`,{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:Kb,extraApis:{tieredData:(e,t,n)=>({primary:e,menus:t,expansions:n}),singleData:(e,t)=>({primary:e,menus:lo(e,t),expansions:{}}),collapseItem:e=>({value:rc(qb()),meta:{text:e}})}}),Yb=(e,t,n,r,i)=>{let a=()=>e.lazySink(t),o=r.type===`horizontal`?{layouts:{onLtr:()=>gd(),onRtl:()=>_d()}}:{},s=e=>e.length===2,c=e=>s(e)?o:{};return Jb.sketch({dom:{tag:`div`},data:r.data,markers:r.menu.markers,highlightOnOpen:r.menu.highlightOnOpen,fakeFocus:r.menu.fakeFocus,onEscape:()=>(Zm.close(t),e.onEscape.map(e=>e(t)),A.some(!0)),onExecute:()=>A.some(!0),onOpenMenu:(e,t)=>{_m.positionWithinBounds(a().getOrDie(),t,n,i())},onOpenSubmenu:(e,t,n,r)=>{let i=a().getOrDie();_m.position(i,n,{anchor:{type:`submenu`,item:t,...c(r)}})},onRepositionMenu:(e,t,r)=>{let o=a().getOrDie();_m.positionWithinBounds(o,t,n,i()),I(r,e=>{let t=c(e.triggeringPath);_m.position(o,e.triggeredMenu,{anchor:{type:`submenu`,item:e.triggeringItem,...t}})})}})},Xb=Dg({name:`InlineView`,configFields:[K(`lazySink`),Tu(`onShow`),Tu(`onHide`),Ua(`onEscape`),gh(`inlineBehaviours`,[Zm,Q,Md]),Ga(`fireDismissalEventInstead`,[q(`event`,ds())]),Ga(`fireRepositionEventInstead`,[q(`event`,fs())]),q(`getRelated`,A.none),q(`isExtraPart`,k),q(`eventOrder`,A.none)],factory:(e,t)=>{let n=(t,n)=>e.getRelated(t).exists(e=>ou(e,n)),r=(e,t)=>{Zm.setContent(e,t)},i=(e,t,n)=>{let r=A.none;a(e,t,n,r)},a=(t,n,r,i)=>{let a=e.lazySink(t).getOrDie();Zm.openWhileCloaked(t,n,()=>_m.positionWithinBounds(a,t,r,i())),Q.setValue(t,A.some({mode:`position`,config:r,getBounds:i}))},o=(e,t,n)=>{s(e,t,n,A.none)},s=(t,n,r,i)=>{let a=Yb(e,t,n,r,i);Zm.open(t,a),Q.setValue(t,A.some({mode:`menu`,menu:a}))},c=e=>{Zm.isOpen(e)&&(Q.setValue(e,A.none()),Zm.close(e))},l=e=>Zm.getState(e),u=t=>{Zm.isOpen(t)&&Q.getValue(t).each(n=>{switch(n.mode){case`menu`:Zm.getState(t).each(Jb.repositionMenus);break;case`position`:let r=e.lazySink(t).getOrDie();_m.positionWithinBounds(r,t,n.config,n.getBounds());break}})},d={setContent:r,showAt:i,showWithinBounds:a,showMenuAt:o,showMenuWithinBounds:s,hide:c,getContent:l,reposition:u,isOpen:Zm.isOpen};return{uid:e.uid,dom:e.dom,behaviours:vh(e.inlineBehaviours,[Zm.config({isPartOf:(e,t,r)=>ou(t,r)||n(e,r),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),Q.config({store:{mode:`memory`,initialValue:A.none()}}),Md.config({channels:{...nh({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({})}),...ih({...e.fireRepositionEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({}),doReposition:u})}})]),eventOrder:e.eventOrder,apis:d}},apis:{showAt:(e,t,n,r)=>{e.showAt(t,n,r)},showWithinBounds:(e,t,n,r,i)=>{e.showWithinBounds(t,n,r,i)},showMenuAt:(e,t,n,r)=>{e.showMenuAt(t,n,r)},showMenuWithinBounds:(e,t,n,r,i)=>{e.showMenuWithinBounds(t,n,r,i)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,n)=>{e.setContent(t,n)},reposition:(e,t)=>{e.reposition(t)}}});var Zb=tinymce.util.Tools.resolve(`tinymce.util.Delay`);let Qb=Dg({name:`Button`,factory:e=>{let t=fb(e.action),n=e.dom.tag,r=t=>z(e.dom,`attributes`).bind(e=>z(e,t));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:yh.augment(e.buttonBehaviours,[Jy.config({}),ky.config({mode:`execution`,useSpace:!0,useEnter:!0})]),domModification:{attributes:(()=>n===`button`?{type:r(`type`).getOr(`button`),...r(`role`).map(e=>({role:e})).getOr({})}:{role:e.role.getOr(r(`role`).getOr(`button`))})()},eventOrder:e.eventOrder}},configFields:[q(`uid`,void 0),K(`dom`),q(`components`,[]),yh.field(`buttonBehaviours`,[Jy,ky]),Ra(`action`),Ra(`role`),q(`eventOrder`,{})]}),$b=e=>de(e.dom.attributes===void 0?[]:e.dom.attributes,(e,t)=>t.name===`class`?e:{...e,[t.name]:t.value},{}),ex=e=>Array.prototype.slice.call(e.dom.classList,0),tx=e=>{let t=V.fromHtml(e),n=Ht(t),r=$b(t),i=ex(t),a=n.length===0?{}:{innerHtml:Gs(t)};return{tag:_t(t),classes:i,attributes:r,...a}},nx=e=>{let t=wg(e)&&ze(e,`uid`)?e.uid:dc(`memento`);return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}},{entries:rx,setPrototypeOf:ix,isFrozen:ax,getPrototypeOf:ox,getOwnPropertyDescriptor:sx}=Object,{freeze:cx,seal:lx,create:ux}=Object,{apply:dx,construct:fx}=typeof Reflect<`u`&&Reflect;cx||=function(e){return e},lx||=function(e){return e},dx||=function(e,t,n){return e.apply(t,n)},fx||=function(e,t){return new e(...t)};let px=Tx(Array.prototype.forEach),mx=Tx(Array.prototype.pop),hx=Tx(Array.prototype.push),gx=Tx(String.prototype.toLowerCase),_x=Tx(String.prototype.toString),vx=Tx(String.prototype.match),yx=Tx(String.prototype.replace),bx=Tx(String.prototype.indexOf),xx=Tx(String.prototype.trim),Sx=Tx(Object.prototype.hasOwnProperty),Cx=Tx(RegExp.prototype.test),wx=Ex(TypeError);function Tx(e){return function(t){var n=[...arguments].slice(1);return dx(e,t,n)}}function Ex(e){return function(){return fx(e,[...arguments])}}function Dx(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gx;ix&&ix(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i==`string`){let e=n(i);e!==i&&(ax(t)||(t[r]=e),i=e)}e[i]=!0}return e}function Ox(e){for(let t=0;t<e.length;t++)Sx(e,t)||(e[t]=null);return e}function kx(e){let t=ux(null);for(let[n,r]of rx(e))Sx(e,n)&&(Array.isArray(r)?t[n]=Ox(r):r&&typeof r==`object`&&r.constructor===Object?t[n]=kx(r):t[n]=r);return t}function Ax(e,t){for(;e!==null;){let n=sx(e,t);if(n){if(n.get)return Tx(n.get);if(typeof n.value==`function`)return Tx(n.value)}e=ox(e)}function n(){return null}return n}let jx=cx(`a.abbr.acronym.address.area.article.aside.audio.b.bdi.bdo.big.blink.blockquote.body.br.button.canvas.caption.center.cite.code.col.colgroup.content.data.datalist.dd.decorator.del.details.dfn.dialog.dir.div.dl.dt.element.em.fieldset.figcaption.figure.font.footer.form.h1.h2.h3.h4.h5.h6.head.header.hgroup.hr.html.i.img.input.ins.kbd.label.legend.li.main.map.mark.marquee.menu.menuitem.meter.nav.nobr.ol.optgroup.option.output.p.picture.pre.progress.q.rp.rt.ruby.s.samp.section.select.shadow.small.source.spacer.span.strike.strong.style.sub.summary.sup.table.tbody.td.template.textarea.tfoot.th.thead.time.tr.track.tt.u.ul.var.video.wbr`.split(`.`)),Mx=cx(`svg.a.altglyph.altglyphdef.altglyphitem.animatecolor.animatemotion.animatetransform.circle.clippath.defs.desc.ellipse.filter.font.g.glyph.glyphref.hkern.image.line.lineargradient.marker.mask.metadata.mpath.path.pattern.polygon.polyline.radialgradient.rect.stop.style.switch.symbol.text.textpath.title.tref.tspan.view.vkern`.split(`.`)),Nx=cx([`feBlend`,`feColorMatrix`,`feComponentTransfer`,`feComposite`,`feConvolveMatrix`,`feDiffuseLighting`,`feDisplacementMap`,`feDistantLight`,`feDropShadow`,`feFlood`,`feFuncA`,`feFuncB`,`feFuncG`,`feFuncR`,`feGaussianBlur`,`feImage`,`feMerge`,`feMergeNode`,`feMorphology`,`feOffset`,`fePointLight`,`feSpecularLighting`,`feSpotLight`,`feTile`,`feTurbulence`]),Px=cx([`animate`,`color-profile`,`cursor`,`discard`,`font-face`,`font-face-format`,`font-face-name`,`font-face-src`,`font-face-uri`,`foreignobject`,`hatch`,`hatchpath`,`mesh`,`meshgradient`,`meshpatch`,`meshrow`,`missing-glyph`,`script`,`set`,`solidcolor`,`unknown`,`use`]),Fx=cx(`math.menclose.merror.mfenced.mfrac.mglyph.mi.mlabeledtr.mmultiscripts.mn.mo.mover.mpadded.mphantom.mroot.mrow.ms.mspace.msqrt.mstyle.msub.msup.msubsup.mtable.mtd.mtext.mtr.munder.munderover.mprescripts`.split(`.`)),Ix=cx([`maction`,`maligngroup`,`malignmark`,`mlongdiv`,`mscarries`,`mscarry`,`msgroup`,`mstack`,`msline`,`msrow`,`semantics`,`annotation`,`annotation-xml`,`mprescripts`,`none`]),Lx=cx([`#text`]),Rx=cx(`accept.action.align.alt.autocapitalize.autocomplete.autopictureinpicture.autoplay.background.bgcolor.border.capture.cellpadding.cellspacing.checked.cite.class.clear.color.cols.colspan.controls.controlslist.coords.crossorigin.datetime.decoding.default.dir.disabled.disablepictureinpicture.disableremoteplayback.download.draggable.enctype.enterkeyhint.face.for.headers.height.hidden.high.href.hreflang.id.inputmode.integrity.ismap.kind.label.lang.list.loading.loop.low.max.maxlength.media.method.min.minlength.multiple.muted.name.nonce.noshade.novalidate.nowrap.open.optimum.pattern.placeholder.playsinline.popover.popovertarget.popovertargetaction.poster.preload.pubdate.radiogroup.readonly.rel.required.rev.reversed.role.rows.rowspan.spellcheck.scope.selected.shape.size.sizes.span.srclang.start.src.srcset.step.style.summary.tabindex.title.translate.type.usemap.valign.value.width.wrap.xmlns.slot`.split(`.`)),zx=cx(`accent-height.accumulate.additive.alignment-baseline.amplitude.ascent.attributename.attributetype.azimuth.basefrequency.baseline-shift.begin.bias.by.class.clip.clippathunits.clip-path.clip-rule.color.color-interpolation.color-interpolation-filters.color-profile.color-rendering.cx.cy.d.dx.dy.diffuseconstant.direction.display.divisor.dur.edgemode.elevation.end.exponent.fill.fill-opacity.fill-rule.filter.filterunits.flood-color.flood-opacity.font-family.font-size.font-size-adjust.font-stretch.font-style.font-variant.font-weight.fx.fy.g1.g2.glyph-name.glyphref.gradientunits.gradienttransform.height.href.id.image-rendering.in.in2.intercept.k.k1.k2.k3.k4.kerning.keypoints.keysplines.keytimes.lang.lengthadjust.letter-spacing.kernelmatrix.kernelunitlength.lighting-color.local.marker-end.marker-mid.marker-start.markerheight.markerunits.markerwidth.maskcontentunits.maskunits.max.mask.media.method.mode.min.name.numoctaves.offset.operator.opacity.order.orient.orientation.origin.overflow.paint-order.path.pathlength.patterncontentunits.patterntransform.patternunits.points.preservealpha.preserveaspectratio.primitiveunits.r.rx.ry.radius.refx.refy.repeatcount.repeatdur.restart.result.rotate.scale.seed.shape-rendering.slope.specularconstant.specularexponent.spreadmethod.startoffset.stddeviation.stitchtiles.stop-color.stop-opacity.stroke-dasharray.stroke-dashoffset.stroke-linecap.stroke-linejoin.stroke-miterlimit.stroke-opacity.stroke.stroke-width.style.surfacescale.systemlanguage.tabindex.tablevalues.targetx.targety.transform.transform-origin.text-anchor.text-decoration.text-rendering.textlength.type.u1.u2.unicode.values.viewbox.visibility.version.vert-adv-y.vert-origin-x.vert-origin-y.width.word-spacing.wrap.writing-mode.xchannelselector.ychannelselector.x.x1.x2.xmlns.y.y1.y2.z.zoomandpan`.split(`.`)),Bx=cx(`accent.accentunder.align.bevelled.close.columnsalign.columnlines.columnspan.denomalign.depth.dir.display.displaystyle.encoding.fence.frame.height.href.id.largeop.length.linethickness.lspace.lquote.mathbackground.mathcolor.mathsize.mathvariant.maxsize.minsize.movablelimits.notation.numalign.open.rowalign.rowlines.rowspacing.rowspan.rspace.rquote.scriptlevel.scriptminsize.scriptsizemultiplier.selection.separator.separators.stretchy.subscriptshift.supscriptshift.symmetric.voffset.width.xmlns`.split(`.`)),Vx=cx([`xlink:href`,`xml:id`,`xlink:title`,`xml:space`,`xmlns:xlink`]),Hx=lx(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ux=lx(/<%[\w\W]*|[\w\W]*%>/gm),Wx=lx(/\${[\w\W]*}/gm),Gx=lx(/^data-[\-\w.\u00B7-\uFFFF]/),Kx=lx(/^aria-[\-\w]+$/),qx=lx(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Jx=lx(/^(?:\w+script|data):/i),Yx=lx(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Xx=lx(/^html$/i),Zx=lx(/^[a-z][.\w]*(-[.\w]+)+$/i);var Qx=Object.freeze({__proto__:null,MUSTACHE_EXPR:Hx,ERB_EXPR:Ux,TMPLIT_EXPR:Wx,DATA_ATTR:Gx,ARIA_ATTR:Kx,IS_ALLOWED_URI:qx,IS_SCRIPT_OR_DATA:Jx,ATTR_WHITESPACE:Yx,DOCTYPE_NAME:Xx,CUSTOM_ELEMENT:Zx});let $x={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},eS=function(){return typeof window>`u`?null:window},tS=function(e,t){if(typeof e!=`object`||typeof e.createPolicy!=`function`)return null;let n=null,r=`data-tt-policy-suffix`;t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let i=`dompurify`+(n?`#`+n:``);try{return e.createPolicy(i,{createHTML(e){return e},createScriptURL(e){return e}})}catch{return console.warn(`TrustedTypes policy `+i+` could not be created.`),null}};function nS(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eS(),t=e=>nS(e);if(t.version=`3.1.7`,t.removed=[],!e||!e.document||e.document.nodeType!==$x.document)return t.isSupported=!1,t;let{document:n}=e,r=n,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:c,NodeFilter:l,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:p}=e,m=c.prototype,h=Ax(m,`cloneNode`),g=Ax(m,`remove`),_=Ax(m,`nextSibling`),v=Ax(m,`childNodes`),y=Ax(m,`parentNode`);if(typeof o==`function`){let e=n.createElement(`template`);e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let b,x=``,{implementation:S,createNodeIterator:C,createDocumentFragment:w,getElementsByTagName:T}=n,{importNode:E}=r,D={};t.isSupported=typeof rx==`function`&&typeof y==`function`&&S&&S.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:O,ERB_EXPR:ee,TMPLIT_EXPR:k,DATA_ATTR:te,ARIA_ATTR:A,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:ne,CUSTOM_ELEMENT:re}=Qx,{IS_ALLOWED_URI:M}=Qx,N=null,ie=Dx({},[...jx,...Mx,...Nx,...Fx,...Lx]),ae=null,oe=Dx({},[...Rx,...zx,...Bx,...Vx]),P=Object.seal(ux(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),F=null,I=null,se=!0,ce=!0,le=!1,ue=!0,de=!1,fe=!0,pe=!1,me=!1,L=!1,he=!1,ge=!1,R=!1,_e=!0,ve=!1,ye=!0,be=!1,xe={},Se=null,Ce=Dx({},[`annotation-xml`,`audio`,`colgroup`,`desc`,`foreignobject`,`head`,`iframe`,`math`,`mi`,`mn`,`mo`,`ms`,`mtext`,`noembed`,`noframes`,`noscript`,`plaintext`,`script`,`style`,`svg`,`template`,`thead`,`title`,`video`,`xmp`]),we=null,Te=Dx({},[`audio`,`video`,`img`,`source`,`image`,`track`]),Ee=null,De=Dx({},[`alt`,`class`,`for`,`id`,`label`,`name`,`pattern`,`placeholder`,`role`,`summary`,`title`,`value`,`style`,`xmlns`]),Oe=`http://www.w3.org/1998/Math/MathML`,ke=`http://www.w3.org/2000/svg`,Ae=`http://www.w3.org/1999/xhtml`,je=Ae,Me=!1,Ne=null,Pe=Dx({},[Oe,ke,Ae],_x),Fe=null,Ie=[`application/xhtml+xml`,`text/html`],Le=null,z=null,Re=n.createElement(`form`),ze=function(e){return e instanceof RegExp||e instanceof Function},Be=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(z&&z===e)){if((!e||typeof e!=`object`)&&(e={}),e=kx(e),Fe=Ie.indexOf(e.PARSER_MEDIA_TYPE)===-1?`text/html`:e.PARSER_MEDIA_TYPE,Le=Fe===`application/xhtml+xml`?_x:gx,N=Sx(e,`ALLOWED_TAGS`)?Dx({},e.ALLOWED_TAGS,Le):ie,ae=Sx(e,`ALLOWED_ATTR`)?Dx({},e.ALLOWED_ATTR,Le):oe,Ne=Sx(e,`ALLOWED_NAMESPACES`)?Dx({},e.ALLOWED_NAMESPACES,_x):Pe,Ee=Sx(e,`ADD_URI_SAFE_ATTR`)?Dx(kx(De),e.ADD_URI_SAFE_ATTR,Le):De,we=Sx(e,`ADD_DATA_URI_TAGS`)?Dx(kx(Te),e.ADD_DATA_URI_TAGS,Le):Te,Se=Sx(e,`FORBID_CONTENTS`)?Dx({},e.FORBID_CONTENTS,Le):Ce,F=Sx(e,`FORBID_TAGS`)?Dx({},e.FORBID_TAGS,Le):{},I=Sx(e,`FORBID_ATTR`)?Dx({},e.FORBID_ATTR,Le):{},xe=Sx(e,`USE_PROFILES`)?e.USE_PROFILES:!1,se=e.ALLOW_ARIA_ATTR!==!1,ce=e.ALLOW_DATA_ATTR!==!1,le=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ue=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,de=e.SAFE_FOR_TEMPLATES||!1,fe=e.SAFE_FOR_XML!==!1,pe=e.WHOLE_DOCUMENT||!1,he=e.RETURN_DOM||!1,ge=e.RETURN_DOM_FRAGMENT||!1,R=e.RETURN_TRUSTED_TYPE||!1,L=e.FORCE_BODY||!1,_e=e.SANITIZE_DOM!==!1,ve=e.SANITIZE_NAMED_PROPS||!1,ye=e.KEEP_CONTENT!==!1,be=e.IN_PLACE||!1,M=e.ALLOWED_URI_REGEXP||qx,je=e.NAMESPACE||Ae,P=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ze(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(P.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ze(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(P.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==`boolean`&&(P.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),de&&(ce=!1),ge&&(he=!0),xe&&(N=Dx({},Lx),ae=[],xe.html===!0&&(Dx(N,jx),Dx(ae,Rx)),xe.svg===!0&&(Dx(N,Mx),Dx(ae,zx),Dx(ae,Vx)),xe.svgFilters===!0&&(Dx(N,Nx),Dx(ae,zx),Dx(ae,Vx)),xe.mathMl===!0&&(Dx(N,Fx),Dx(ae,Bx),Dx(ae,Vx))),e.ADD_TAGS&&(N===ie&&(N=kx(N)),Dx(N,e.ADD_TAGS,Le)),e.ADD_ATTR&&(ae===oe&&(ae=kx(ae)),Dx(ae,e.ADD_ATTR,Le)),e.ADD_URI_SAFE_ATTR&&Dx(Ee,e.ADD_URI_SAFE_ATTR,Le),e.FORBID_CONTENTS&&(Se===Ce&&(Se=kx(Se)),Dx(Se,e.FORBID_CONTENTS,Le)),ye&&(N[`#text`]=!0),pe&&Dx(N,[`html`,`head`,`body`]),N.table&&(Dx(N,[`tbody`]),delete F.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!=`function`)throw wx(`TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.`);if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!=`function`)throw wx(`TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.`);b=e.TRUSTED_TYPES_POLICY,x=b.createHTML(``)}else b===void 0&&(b=tS(p,i)),b!==null&&typeof x==`string`&&(x=b.createHTML(``));cx&&cx(e),z=e}},Ve=Dx({},[`mi`,`mo`,`mn`,`ms`,`mtext`]),He=Dx({},[`annotation-xml`]),Ue=Dx({},[`title`,`style`,`font`,`a`,`script`]),We=Dx({},[...Mx,...Nx,...Px]),Ge=Dx({},[...Fx,...Ix]),Ke=function(e){let t=y(e);(!t||!t.tagName)&&(t={namespaceURI:je,tagName:`template`});let n=gx(e.tagName),r=gx(t.tagName);return Ne[e.namespaceURI]?e.namespaceURI===ke?t.namespaceURI===Ae?n===`svg`:t.namespaceURI===Oe?n===`svg`&&(r===`annotation-xml`||Ve[r]):!!We[n]:e.namespaceURI===Oe?t.namespaceURI===Ae?n===`math`:t.namespaceURI===ke?n===`math`&&He[r]:!!Ge[n]:e.namespaceURI===Ae?t.namespaceURI===ke&&!He[r]||t.namespaceURI===Oe&&!Ve[r]?!1:!Ge[n]&&(Ue[n]||!We[n]):!!(Fe===`application/xhtml+xml`&&Ne[e.namespaceURI]):!1},qe=function(e){hx(t.removed,{element:e});try{y(e).removeChild(e)}catch{g(e)}},Je=function(e,n){try{hx(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch{hx(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),e===`is`&&!ae[e])if(he||ge)try{qe(n)}catch{}else try{n.setAttribute(e,``)}catch{}},Ye=function(e){let t=null,r=null;if(L)e=`<remove></remove>`+e;else{let t=vx(e,/^[\r\n\t ]+/);r=t&&t[0]}Fe===`application/xhtml+xml`&&je===Ae&&(e=`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>`+e+`</body></html>`);let i=b?b.createHTML(e):e;if(je===Ae)try{t=new f().parseFromString(i,Fe)}catch{}if(!t||!t.documentElement){t=S.createDocument(je,`template`,null);try{t.documentElement.innerHTML=Me?x:i}catch{}}let a=t.body||t.documentElement;return e&&r&&a.insertBefore(n.createTextNode(r),a.childNodes[0]||null),je===Ae?T.call(t,pe?`html`:`body`)[0]:pe?t.documentElement:a},Xe=function(e){return C.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},Ze=function(e){return e instanceof d&&(typeof e.nodeName!=`string`||typeof e.textContent!=`string`||typeof e.removeChild!=`function`||!(e.attributes instanceof u)||typeof e.removeAttribute!=`function`||typeof e.setAttribute!=`function`||typeof e.namespaceURI!=`string`||typeof e.insertBefore!=`function`||typeof e.hasChildNodes!=`function`)},Qe=function(e){return typeof s==`function`&&e instanceof s},$e=function(e,n,r){D[e]&&px(D[e],e=>{e.call(t,n,r,z)})},et=function(e){let n=null;if($e(`beforeSanitizeElements`,e,null),Ze(e))return qe(e),!0;let r=Le(e.nodeName);if($e(`uponSanitizeElement`,e,{tagName:r,allowedTags:N}),e.hasChildNodes()&&!Qe(e.firstElementChild)&&Cx(/<[/\w]/g,e.innerHTML)&&Cx(/<[/\w]/g,e.textContent)||e.nodeType===$x.progressingInstruction||fe&&e.nodeType===$x.comment&&Cx(/<[/\w]/g,e.data))return qe(e),!0;if(!N[r]||F[r]){if(!F[r]&&nt(r)&&(P.tagNameCheck instanceof RegExp&&Cx(P.tagNameCheck,r)||P.tagNameCheck instanceof Function&&P.tagNameCheck(r)))return!1;if(ye&&!Se[r]){let t=y(e)||e.parentNode,n=v(e)||e.childNodes;if(n&&t){let r=n.length;for(let i=r-1;i>=0;--i){let r=h(n[i],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,_(e))}}}return qe(e),!0}return e instanceof c&&!Ke(e)||(r===`noscript`||r===`noembed`||r===`noframes`)&&Cx(/<\/no(script|embed|frames)/i,e.innerHTML)?(qe(e),!0):(de&&e.nodeType===$x.text&&(n=e.textContent,px([O,ee,k],e=>{n=yx(n,e,` `)}),e.textContent!==n&&(hx(t.removed,{element:e.cloneNode()}),e.textContent=n)),$e(`afterSanitizeElements`,e,null),!1)},tt=function(e,t,r){if(_e&&(t===`id`||t===`name`)&&(r in n||r in Re))return!1;if(!(ce&&!I[t]&&Cx(te,t))&&!(se&&Cx(A,t))){if(!ae[t]||I[t]){if(!(nt(e)&&(P.tagNameCheck instanceof RegExp&&Cx(P.tagNameCheck,e)||P.tagNameCheck instanceof Function&&P.tagNameCheck(e))&&(P.attributeNameCheck instanceof RegExp&&Cx(P.attributeNameCheck,t)||P.attributeNameCheck instanceof Function&&P.attributeNameCheck(t))||t===`is`&&P.allowCustomizedBuiltInElements&&(P.tagNameCheck instanceof RegExp&&Cx(P.tagNameCheck,r)||P.tagNameCheck instanceof Function&&P.tagNameCheck(r))))return!1}else if(!Ee[t]&&!Cx(M,yx(r,ne,``))&&!((t===`src`||t===`xlink:href`||t===`href`)&&e!==`script`&&bx(r,`data:`)===0&&we[e])&&!(le&&!Cx(j,yx(r,ne,``)))&&r)return!1}return!0},nt=function(e){return e!==`annotation-xml`&&vx(e,re)},rt=function(e){$e(`beforeSanitizeAttributes`,e,null);let{attributes:n}=e;if(!n)return;let r={attrName:``,attrValue:``,keepAttr:!0,allowedAttributes:ae},i=n.length;for(;i--;){let{name:a,namespaceURI:o,value:s}=n[i],c=Le(a),l=a===`value`?s:xx(s),u=l;if(r.attrName=c,r.attrValue=l,r.keepAttr=!0,r.forceKeepAttr=void 0,$e(`uponSanitizeAttribute`,e,r),l=r.attrValue,r.forceKeepAttr)continue;if(!r.keepAttr){Je(a,e);continue}if(!ue&&Cx(/\/>/i,l)){Je(a,e);continue}de&&px([O,ee,k],e=>{l=yx(l,e,` `)});let d=Le(e.nodeName);if(!tt(d,c,l)){Je(a,e);continue}if(ve&&(c===`id`||c===`name`)&&(Je(a,e),l=`user-content-`+l),fe&&Cx(/((--!?|])>)|<\/(style|title)/i,l)){Je(a,e);continue}if(b&&typeof p==`object`&&typeof p.getAttributeType==`function`&&!o)switch(p.getAttributeType(d,c)){case`TrustedHTML`:l=b.createHTML(l);break;case`TrustedScriptURL`:l=b.createScriptURL(l);break}if(l!==u)try{o?e.setAttributeNS(o,a,l):e.setAttribute(a,l),Ze(e)?qe(e):mx(t.removed)}catch{}}$e(`afterSanitizeAttributes`,e,null)},it=function e(t){let n=null,r=Xe(t);for($e(`beforeSanitizeShadowDOM`,t,null);n=r.nextNode();)$e(`uponSanitizeShadowNode`,n,null),!et(n)&&(n.content instanceof a&&e(n.content),rt(n));$e(`afterSanitizeShadowDOM`,t,null)};return t.sanitize=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=null,o=null,c=null,l=null;if(Me=!e,Me&&(e=`<!-->`),typeof e!=`string`&&!Qe(e))if(typeof e.toString==`function`){if(e=e.toString(),typeof e!=`string`)throw wx(`dirty is not a string, aborting`)}else throw wx(`toString is not a function`);if(!t.isSupported)return e;if(me||Be(n),t.removed=[],typeof e==`string`&&(be=!1),be){if(e.nodeName){let t=Le(e.nodeName);if(!N[t]||F[t])throw wx(`root node is forbidden and cannot be sanitized in-place`)}}else if(e instanceof s)i=Ye(`<!---->`),o=i.ownerDocument.importNode(e,!0),o.nodeType===$x.element&&o.nodeName===`BODY`||o.nodeName===`HTML`?i=o:i.appendChild(o);else{if(!he&&!de&&!pe&&e.indexOf(`<`)===-1)return b&&R?b.createHTML(e):e;if(i=Ye(e),!i)return he?null:R?x:``}i&&L&&qe(i.firstChild);let u=Xe(be?e:i);for(;c=u.nextNode();)et(c)||(c.content instanceof a&&it(c.content),rt(c));if(be)return e;if(he){if(ge)for(l=w.call(i.ownerDocument);i.firstChild;)l.appendChild(i.firstChild);else l=i;return(ae.shadowroot||ae.shadowrootmode)&&(l=E.call(r,l,!0)),l}let d=pe?i.outerHTML:i.innerHTML;return pe&&N[`!doctype`]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&Cx(Xx,i.ownerDocument.doctype.name)&&(d=`<!DOCTYPE `+i.ownerDocument.doctype.name+`>
`+d),de&&px([O,ee,k],e=>{d=yx(d,e,` `)}),b&&R?b.createHTML(d):d},t.setConfig=function(){Be(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),me=!0},t.clearConfig=function(){z=null,me=!1},t.isValidAttribute=function(e,t,n){return z||Be({}),tt(Le(e),Le(t),n)},t.addHook=function(e,t){typeof t==`function`&&(D[e]=D[e]||[],hx(D[e],t))},t.removeHook=function(e){if(D[e])return mx(D[e])},t.removeHooks=function(e){D[e]&&(D[e]=[])},t.removeAllHooks=function(){D={}},t}var rS=nS();let iS=e=>rS().sanitize(e);var aS=tinymce.util.Tools.resolve(`tinymce.util.I18n`);let oS={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},sS=`temporary-placeholder`,cS=e=>()=>z(e,sS).getOr(`!not found!`),lS=(e,t)=>{let n=e.toLowerCase();if(aS.isRtl()){let e=Qe(n,`-rtl`);return Re(t,e)?e:n}else return n},uS=(e,t)=>z(t,lS(e,t)),dS=(e,t)=>{let n=t();return uS(e,n).getOrThunk(cS(n))},fS=(e,t,n)=>{let r=t();return uS(e,r).or(n).getOrThunk(cS(r))},pS=e=>aS.isRtl()?Re(oS,e):!1,mS=()=>Wy(`add-focusable`,[Bs(e=>{$l(e.element,`svg`).each(e=>cn(e,`focusable`,`false`))})]),hS=(e,t,n,r)=>{let i=pS(t)?[`tox-icon--flip`]:[],a=z(n,lS(t,n)).or(r).getOrThunk(cS(n));return{dom:{tag:e.tag,attributes:e.attributes??{},classes:e.classes.concat(i),innerHtml:a},behaviours:Z([...e.behaviours??[],mS()])}},gS=(e,t,n,r=A.none())=>hS(t,e,n(),r),_S=(e,t,n)=>{let r=n();return hS(t,pe(e,e=>Re(r,lS(e,r))).getOr(sS),r,A.none())},vS={success:`checkmark`,error:`warning`,err:`error`,warning:`warning`,warn:`warning`,info:`info`},yS=Dg({name:`Notification`,factory:e=>{let t=nx({dom:tx(`<p>${iS(e.translationProvider(e.text))}</p>`),behaviours:Z([Hy.config({})])}),n=e=>({dom:{tag:`div`,classes:[`tox-bar`],styles:{width:`${e}%`}}}),r=e=>({dom:{tag:`div`,classes:[`tox-text`],innerHtml:`${e}%`}}),i=nx({dom:{tag:`div`,classes:e.progress?[`tox-progress-bar`,`tox-progress-indicator`]:[`tox-progress-bar`]},components:[{dom:{tag:`div`,classes:[`tox-bar-container`]},components:[n(0)]},r(0)],behaviours:Z([Hy.config({})])}),a={updateProgress:(e,t)=>{e.getSystem().isConnected()&&i.getOpt(e).each(e=>{Hy.set(e,[{dom:{tag:`div`,classes:[`tox-bar-container`]},components:[n(t)]},r(t)])})},updateText:(e,n)=>{if(e.getSystem().isConnected()){let r=t.get(e);Hy.set(r,[zl(n)])}}},o=L([e.icon.toArray(),e.level.toArray(),e.level.bind(e=>A.from(vS[e])).toArray()]),s=nx(Qb.sketch({dom:{tag:`button`,classes:[`tox-notification__dismiss`,`tox-button`,`tox-button--naked`,`tox-button--icon`]},components:[gS(`close`,{tag:`span`,classes:[`tox-icon`],attributes:{"aria-label":e.translationProvider(`Close`)}},e.iconProvider)],action:t=>{e.onAction(t)}})),c=[_S(o,{tag:`div`,classes:[`tox-notification__icon`]},e.iconProvider),{dom:{tag:`div`,classes:[`tox-notification__body`]},components:[t.asSpec()],behaviours:Z([Hy.config({})])}];return{uid:e.uid,dom:{tag:`div`,attributes:{role:`alert`},classes:e.level.map(e=>[`tox-notification`,`tox-notification--in`,`tox-notification--${e}`]).getOr([`tox-notification`,`tox-notification--in`])},behaviours:Z([Jy.config({}),Wy(`notification-events`,[J(Fo(),e=>{s.getOpt(e).each(Jy.focus)})])]),components:c.concat(e.progress?[i.asSpec()]:[]).concat(e.closeButton?[s.asSpec()]:[]),apis:a}},configFields:[Ra(`level`),K(`progress`),Ra(`icon`),K(`onAction`),K(`text`),K(`iconProvider`),K(`translationProvider`),Za(`closeButton`,!0)],apis:{updateProgress:(e,t,n)=>{e.updateProgress(t,n)},updateText:(e,t,n)=>{e.updateText(t,n)}}});var bS=(e,t,n)=>{let r=t.backstage.shared,i=()=>{let t=ei(V.fromDom(e.getContentAreaContainer())),n=ii(),r=Gu(n.x,t.x,t.right),i=Gu(n.y,t.y,t.bottom),a=Math.max(t.right,n.right),o=Math.max(t.bottom,n.bottom);return A.some($r(r,i,a-r,o-i))};return{open:(t,a)=>{let o=()=>{a(),Xb.hide(c)},s=Wl(yS.sketch({text:t.text,level:ie([`success`,`error`,`warning`,`warn`,`info`],t.type)?t.type:void 0,progress:t.progressBar===!0,icon:t.icon,closeButton:t.closeButton,onAction:o,iconProvider:r.providers.icons,translationProvider:r.providers.translate})),c=Wl(Xb.sketch({dom:{tag:`div`,classes:[`tox-notifications-container`]},lazySink:r.getSink,fireDismissalEventInstead:{},...r.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));n.add(c),_(t.timeout)&&t.timeout>0&&Zb.setEditorTimeout(e,()=>{o()},t.timeout);let l={close:o,reposition:()=>{let t=Gl(s),n={maxHeightFunction:Lf()},a=e.notificationManager.getNotifications();if(a[0]===l){let e={...r.anchors.banner(),overrides:n};Xb.showWithinBounds(c,t,{anchor:e},i)}else N(a,l).each(e=>{let r=a[e-1].getEl(),o={type:`node`,root:an(),node:A.some(V.fromDom(r)),overrides:n,layouts:{onRtl:()=>[ld],onLtr:()=>[ld]}};Xb.showWithinBounds(c,t,{anchor:o},i)})},text:e=>{yS.updateText(s,e)},settings:t,getEl:()=>s.element.dom,progressBar:{value:e=>{yS.updateProgress(s,e)}}};return l},close:e=>{e.close()},getArgs:e=>e.settings}},xS=tinymce.util.Tools.resolve(`tinymce.dom.DOMUtils`),SS=tinymce.util.Tools.resolve(`tinymce.EditorManager`),CS=tinymce.util.Tools.resolve(`tinymce.Env`),wS;(function(e){e.default=`wrap`,e.floating=`floating`,e.sliding=`sliding`,e.scrolling=`scrolling`})(wS||={});var TS;(function(e){e.auto=`auto`,e.top=`top`,e.bottom=`bottom`})(TS||={});let ES=e=>t=>t.options.get(e),DS=e=>t=>A.from(e(t)),OS=e=>{let t=CS.deviceType.isPhone(),n=CS.deviceType.isTablet()||t,r=e.options.register,i=e=>s(e)||e===!1,a=e=>s(e)||_(e);r(`skin`,{processor:e=>s(e)||e===!1,default:`oxide`}),r(`skin_url`,{processor:`string`}),r(`height`,{processor:a,default:Math.max(e.getElement().offsetHeight,400)}),r(`width`,{processor:a,default:xS.DOM.getStyle(e.getElement(),`width`)}),r(`min_height`,{processor:`number`,default:100}),r(`min_width`,{processor:`number`}),r(`max_height`,{processor:`number`}),r(`max_width`,{processor:`number`}),r(`style_formats`,{processor:`object[]`}),r(`style_formats_merge`,{processor:`boolean`,default:!1}),r(`style_formats_autohide`,{processor:`boolean`,default:!1}),r(`line_height_formats`,{processor:`string`,default:`1 1.1 1.2 1.3 1.4 1.5 2`}),r(`font_family_formats`,{processor:`string`,default:`Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats`}),r(`font_size_formats`,{processor:`string`,default:`8pt 10pt 12pt 14pt 18pt 24pt 36pt`}),r(`font_size_input_default_unit`,{processor:`string`,default:`pt`}),r(`block_formats`,{processor:`string`,default:`Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre`}),r(`content_langs`,{processor:`object[]`}),r(`removed_menuitems`,{processor:`string`,default:``}),r(`menubar`,{processor:e=>s(e)||f(e),default:!t}),r(`menu`,{processor:`object`,default:{}}),r(`toolbar`,{processor:e=>f(e)||s(e)||u(e)?{value:e,valid:!0}:{valid:!1,message:`Must be a boolean, string or array.`},default:!0}),oe(9,e=>{r(`toolbar`+(e+1),{processor:`string`})}),r(`toolbar_mode`,{processor:`string`,default:n?`scrolling`:`floating`}),r(`toolbar_groups`,{processor:`object`,default:{}}),r(`toolbar_location`,{processor:`string`,default:TS.auto}),r(`toolbar_persist`,{processor:`boolean`,default:!1}),r(`toolbar_sticky`,{processor:`boolean`,default:e.inline}),r(`toolbar_sticky_offset`,{processor:`number`,default:0}),r(`fixed_toolbar_container`,{processor:`string`,default:``}),r(`fixed_toolbar_container_target`,{processor:`object`}),r(`ui_mode`,{processor:`string`,default:`combined`}),r(`file_picker_callback`,{processor:`function`}),r(`file_picker_validator_handler`,{processor:`function`}),r(`file_picker_types`,{processor:`string`}),r(`typeahead_urls`,{processor:`boolean`,default:!0}),r(`anchor_top`,{processor:i,default:`#top`}),r(`anchor_bottom`,{processor:i,default:`#bottom`}),r(`draggable_modal`,{processor:`boolean`,default:!1}),r(`statusbar`,{processor:`boolean`,default:!0}),r(`elementpath`,{processor:`boolean`,default:!0}),r(`branding`,{processor:`boolean`,default:!0}),r(`promotion`,{processor:`boolean`,default:!0}),r(`resize`,{processor:e=>e===`both`||f(e),default:!CS.deviceType.isTouch()}),r(`sidebar_show`,{processor:`string`}),r(`help_accessibility`,{processor:`boolean`,default:e.hasPlugin(`help`)}),r(`default_font_stack`,{processor:`string[]`,default:[]})},kS=ES(`readonly`),AS=ES(`height`),jS=ES(`width`),MS=DS(ES(`min_width`)),NS=DS(ES(`min_height`)),PS=DS(ES(`max_width`)),FS=DS(ES(`max_height`)),IS=DS(ES(`style_formats`)),LS=ES(`style_formats_merge`),RS=ES(`style_formats_autohide`),zS=ES(`content_langs`),BS=ES(`removed_menuitems`),VS=ES(`toolbar_mode`),HS=ES(`toolbar_groups`),US=ES(`toolbar_location`),WS=ES(`fixed_toolbar_container`),GS=ES(`fixed_toolbar_container_target`),KS=ES(`toolbar_persist`),qS=ES(`toolbar_sticky_offset`),JS=ES(`menubar`),YS=ES(`toolbar`),XS=ES(`file_picker_callback`),ZS=ES(`file_picker_validator_handler`),QS=ES(`font_size_input_default_unit`),$S=ES(`file_picker_types`),eC=ES(`typeahead_urls`),tC=ES(`anchor_top`),nC=ES(`anchor_bottom`),rC=ES(`draggable_modal`),iC=ES(`statusbar`),aC=ES(`elementpath`),oC=ES(`branding`),sC=ES(`resize`),cC=ES(`paste_as_text`),lC=ES(`sidebar_show`),uC=ES(`promotion`),dC=ES(`help_accessibility`),fC=ES(`default_font_stack`),pC=e=>e.options.get(`skin`)===!1,mC=e=>e.options.get(`menubar`)!==!1,hC=e=>{let t=e.options.get(`skin_url`);if(pC(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{let t=e.options.get(`skin`);return SS.baseURL+`/skins/ui/`+t}},gC=e=>A.from(e.options.get(`skin_url`)),_C=e=>e.options.get(`line_height_formats`).split(` `),vC=e=>{let t=YS(e),n=s(t),r=u(t)&&t.length>0;return!bC(e)&&(r||n||t===!0)},yC=e=>{let t=le(oe(9,t=>e.options.get(`toolbar`+(t+1))),s);return qe(t.length>0,t)},bC=e=>yC(e).fold(()=>{let t=YS(e);return v(t,s)&&t.length>0},te),xC=e=>US(e)===TS.bottom,SC=e=>{if(!e.inline)return A.none();let t=WS(e)??``;if(t.length>0)return eu(an(),t);let n=GS(e);return h(n)?A.some(V.fromDom(n)):A.none()},CC=e=>e.inline&&SC(e).isSome(),wC=e=>SC(e).getOrThunk(()=>Zt(Xt(V.fromDom(e.getElement())))),TC=e=>e.inline&&!mC(e)&&!vC(e)&&!bC(e),EC=e=>(e.options.get(`toolbar_sticky`)||e.inline)&&!CC(e)&&!TC(e),DC=e=>!CC(e)&&e.options.get(`ui_mode`)===`split`,OC=e=>ke(e.options.get(`menu`),e=>({...e,items:e.items}));var kC=Object.freeze({__proto__:null,get ToolbarMode(){return wS},get ToolbarLocation(){return TS},register:OS,getSkinUrl:hC,getSkinUrlOption:gC,isReadOnly:kS,isSkinDisabled:pC,getHeightOption:AS,getWidthOption:jS,getMinWidthOption:MS,getMinHeightOption:NS,getMaxWidthOption:PS,getMaxHeightOption:FS,getUserStyleFormats:IS,shouldMergeStyleFormats:LS,shouldAutoHideStyleFormats:RS,getLineHeightFormats:_C,getContentLanguages:zS,getRemovedMenuItems:BS,isMenubarEnabled:mC,isMultipleToolbars:bC,isToolbarEnabled:vC,isToolbarPersist:KS,getMultipleToolbarsOption:yC,getUiContainer:wC,useFixedContainer:CC,isSplitUiMode:DC,getToolbarMode:VS,isDraggableModal:rC,isDistractionFree:TC,isStickyToolbar:EC,getStickyToolbarOffset:qS,getToolbarLocation:US,isToolbarLocationBottom:xC,getToolbarGroups:HS,getMenus:OC,getMenubar:JS,getToolbar:YS,getFilePickerCallback:XS,getFilePickerTypes:$S,useTypeaheadUrls:eC,getAnchorTop:tC,getAnchorBottom:nC,getFilePickerValidatorHandler:ZS,getFontSizeInputDefaultUnit:QS,useStatusBar:iC,useElementPath:aC,promotionEnabled:uC,useBranding:oC,getResize:sC,getPasteAsText:cC,getSidebarShow:lC,useHelpAccessibility:dC,getDefaultFontStack:fC});let AC=`[data-mce-autocompleter]`,jC=e=>tu(e,AC),MC=e=>eu(e,AC),NC={setup:(e,t)=>{let n=(e,t)=>{xs(e,Lo(),{raw:t})},r=()=>e.getMenu().bind(d_.getHighlighted);t.on(`keydown`,t=>{let i=t.which;e.isActive()&&(e.isMenuOpen()?i===13?(r().each(Ss),t.preventDefault()):i===40?(r().fold(()=>{e.getMenu().each(d_.highlightFirst)},e=>{n(e,t)}),t.preventDefault(),t.stopImmediatePropagation()):(i===37||i===38||i===39)&&r().each(e=>{n(e,t),t.preventDefault(),t.stopImmediatePropagation()}):(i===13||i===38||i===40)&&e.cancelIfNecessary())}),t.on(`NodeChange`,t=>{e.isActive()&&!e.isProcessingAction()&&jC(V.fromDom(t.element)).isNone()&&e.cancelIfNecessary()})}};var PC;(function(e){e[e.CLOSE_ON_EXECUTE=0]=`CLOSE_ON_EXECUTE`,e[e.BUBBLE_TO_SANDBOX=1]=`BUBBLE_TO_SANDBOX`})(PC||={});var FC=PC;let IC=`tox-menu-nav__js`,LC=`tox-collection__item`,RC=`tox-swatch`,zC={normal:IC,color:RC},BC=`tox-collection__item--enabled`,VC=`tox-collection__item-icon`,HC=`tox-collection__item-label`,UC=`tox-collection__item-caret`,WC=`tox-collection__item--active`,GC=`tox-collection__item-container`,KC=`tox-collection__item-container--row`,qC=e=>z(zC,e).getOr(IC),JC=e=>e===`color`?`tox-swatches`:`tox-menu`,YC=e=>({backgroundMenu:`tox-background-menu`,selectedMenu:`tox-selected-menu`,selectedItem:`tox-collection__item--active`,hasIcons:`tox-menu--has-icons`,menu:JC(e),tieredMenu:`tox-tiered-menu`}),XC=e=>{let t=YC(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:qC(e)}},ZC=(e,t,n)=>{let r=YC(n);return{tag:`div`,classes:L([[r.menu,`tox-menu-${t}-column`],e?[r.hasIcons]:[]])}},QC=[Ib.parts.items({})],$C=(e,t,n)=>({dom:{tag:`div`,classes:L([[YC(n).tieredMenu]])},markers:XC(n)}),ew=C([Ra(`data`),q(`inputAttributes`,{}),q(`inputStyles`,{}),q(`tag`,`input`),q(`inputClasses`,[]),Tu(`onSetValue`),q(`styles`,{}),q(`eventOrder`,{}),gh(`inputBehaviours`,[Q,Jy]),q(`selectOnFocus`,!0)]),tw=e=>Z([Jy.config({onFocus:e.selectOnFocus?e=>{let t=e.element,n=_l(t);t.dom.setSelectionRange(0,n.length)}:y})]),nw=e=>({...tw(e),...vh(e.inputBehaviours,[Q.config({store:{mode:`manual`,...e.data.map(e=>({initialValue:e})).getOr({}),getValue:e=>_l(e.element),setValue:(e,t)=>{_l(e.element)!==t&&vl(e.element,t)}},onSetValue:e.onSetValue})])}),rw=e=>({tag:e.tag,attributes:{type:`text`,...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),iw=Dg({name:`Input`,configFields:ew(),factory:(e,t)=>({uid:e.uid,dom:rw(e),components:[],behaviours:nw(e),eventOrder:e.eventOrder})}),aw=rc(`refetch-trigger-event`),ow=rc(`redirect-menu-item-interaction`),sw=`tox-menu__searcher`,cw=e=>eu(e.element,`.${sw}`).bind(t=>e.getSystem().getByDom(t).toOptional()),lw=cw,uw=(e,t)=>{Q.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd},dw=e=>({fetchPattern:Q.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),fw=(e,t)=>{dn(t.element,`id`).each(t=>cn(e.element,`aria-activedescendant`,t))},pw=e=>{let t=(e,t)=>(t.cut(),A.none()),n=(e,t)=>(xs(e,ow,{interactionEvent:t.event,eventType:t.event.raw.type}),A.some(!0)),r=`searcher-events`;return{dom:{tag:`div`,classes:[LC]},components:[iw.sketch({inputClasses:[sw,`tox-textfield`],inputAttributes:{...e.placeholder.map(t=>({placeholder:e.i18n(t)})).getOr({}),type:`search`,"aria-autocomplete":`list`},inputBehaviours:Z([Wy(r,[J(zo(),e=>{bs(e,aw)}),J(Lo(),(e,t)=>{t.event.raw.key===`Escape`&&t.stop()})]),ky.config({mode:`special`,onLeft:t,onRight:t,onSpace:t,onEnter:n,onEscape:n,onUp:n,onDown:n})]),eventOrder:{keydown:[r,ky.name()]}})]}},mw=`tox-collection--results__js`,hw=e=>e.dom?{...e,dom:{...e.dom,attributes:{...e.dom.attributes??{},id:rc(`aria-item-search-result-id`),"aria-selected":`false`}}}:e,gw=(e,t)=>n=>F(P(n,t),t=>({dom:e,components:t})),_w=e=>({dom:{tag:`div`,classes:[`tox-menu`,`tox-swatches-menu`]},components:[{dom:{tag:`div`,classes:[`tox-swatches`]},components:[Ib.parts.items({preprocess:e===`auto`?w:gw({tag:`div`,classes:[`tox-swatches__row`]},e)})]}]}),vw=e=>({dom:{tag:`div`,classes:[`tox-menu`,`tox-collection`,`tox-collection--toolbar`,`tox-collection--toolbar-lg`]},components:[Ib.parts.items({preprocess:gw({tag:`div`,classes:[`tox-collection__group`]},e)})]}),yw=(e,t)=>{let n=[],r=[];return I(e,(e,i)=>{t(e,i)?(r.length>0&&n.push(r),r=[],(Re(e.dom,`innerHtml`)||e.components&&e.components.length>0)&&r.push(e)):r.push(e)}),r.length>0&&n.push(r),F(n,e=>({dom:{tag:`div`,classes:[`tox-collection__group`]},components:e}))},bw=(e,t,n)=>Ib.parts.items({preprocess:r=>{let i=F(r,n);return e!==`auto`&&e>1?gw({tag:`div`,classes:[`tox-collection__group`]},e)(i):yw(i,(e,n)=>t[n].type===`separator`)}}),xw=(e,t,n=!0)=>({dom:{tag:`div`,classes:[`tox-menu`,`tox-collection`].concat(e===1?[`tox-collection--list`]:[`tox-collection--grid`])},components:[bw(e,t,w)]}),Sw=(e,t,n=!0)=>{let r=rc(`aria-controls-search-results`);return{dom:{tag:`div`,classes:[`tox-menu`,`tox-collection`,mw].concat(e===1?[`tox-collection--list`]:[`tox-collection--grid`]),attributes:{id:r}},components:[bw(e,t,hw)]}},Cw=(e,t,n)=>{let r=rc(`aria-controls-search-results`);return{dom:{tag:`div`,classes:[`tox-menu`,`tox-collection`].concat(e===1?[`tox-collection--list`]:[`tox-collection--grid`])},components:[pw({i18n:aS.translate,placeholder:n.placeholder}),{dom:{tag:`div`,classes:[...e===1?[`tox-collection--list`]:[`tox-collection--grid`],mw],attributes:{id:r}},components:[bw(e,t,hw)]}]}},ww=(e,t=!0)=>({dom:{tag:`div`,classes:[`tox-collection`,`tox-collection--horizontal`]},components:[Ib.parts.items({preprocess:t=>yw(t,(t,n)=>e[n].type===`separator`)})]}),Tw=e=>ae(e,e=>`icon`in e&&e.icon!==void 0),Ew=e=>(console.error(Sa(e)),console.log(e),A.none()),Dw=(e,t,n,r,i)=>{let a=ww(n);return{value:e,dom:a.dom,components:a.components,items:n}},Ow=(e,t,n,r,i)=>{let a=()=>i.menuType===`searchable`?i.searchMode.searchMode===`search-with-field`?Cw(r,n,i.searchMode):Sw(r,n):xw(r,n);if(i.menuType===`color`){let t=_w(r);return{value:e,dom:t.dom,components:t.components,items:n}}else if(i.menuType===`normal`&&r===`auto`){let t=xw(r,n);return{value:e,dom:t.dom,components:t.components,items:n}}else if(i.menuType===`normal`||i.menuType===`searchable`){let t=a();return{value:e,dom:t.dom,components:t.components,items:n}}else if(i.menuType===`listpreview`&&r!==`auto`){let t=vw(r);return{value:e,dom:t.dom,components:t.components,items:n}}else return{value:e,dom:ZC(t,r,i.menuType),components:QC,items:n}},kw=Aa(`type`),Aw=Aa(`name`),jw=Aa(`label`),Mw=Aa(`text`),Nw=Aa(`title`),Pw=Aa(`icon`),Fw=Aa(`value`),Iw=Na(`fetch`),Lw=Na(`getSubmenuItems`),Rw=Na(`onAction`),zw=Na(`onItemAction`),Bw=Qa(`onSetup`,()=>y),Vw=Va(`name`),Hw=Va(`text`),Uw=Va(`icon`),Ww=Va(`tooltip`),Gw=Va(`label`),Kw=Va(`shortcut`),qw=Ua(`select`),Jw=Za(`active`,!1),Yw=Za(`borderless`,!1),Xw=Za(`enabled`,!0),Zw=Za(`primary`,!1),Qw=e=>q(`columns`,e),$w=q(`meta`,{}),eT=Qa(`onAction`,y),tT=e=>Ya(`type`,e),nT=e=>Ta(`name`,`name`,Oi(()=>rc(`${e}-name`)),la),rT=e=>Ta(`value`,`value`,Oi(()=>rc(`${e}-value`)),oa()),iT=ta([kw,Hw]),aT=e=>ya(`separatormenuitem`,iT,e),oT=ta([tT(`autocompleteitem`),Jw,Xw,$w,Fw,Hw,Uw]),sT=e=>ya(`Autocompleter.Separator`,iT,e),cT=e=>ya(`Autocompleter.Item`,oT,e),lT=[Xw,Ww,Uw,Hw,Bw],uT=ta([kw,Rw].concat(lT)),dT=e=>ya(`toolbarbutton`,uT,e),fT=[Jw].concat(lT),pT=ta(fT.concat([kw,Rw])),mT=e=>ya(`ToggleButton`,pT,e),hT=[Qa(`predicate`,k),Xa(`scope`,`node`,[`node`,`editor`]),Xa(`position`,`selection`,[`node`,`selection`,`line`])],gT=lT.concat([tT(`contextformbutton`),Zw,Rw,Ea(`original`,w)]),_T=fT.concat([tT(`contextformbutton`),Zw,Rw,Ea(`original`,w)]),vT=lT.concat([tT(`contextformbutton`)]),yT=fT.concat([tT(`contextformtogglebutton`)]),bT=Ca(`type`,{contextformbutton:gT,contextformtogglebutton:_T}),xT=ta([tT(`contextform`),Qa(`initValue`,C(``)),Gw,La(`commands`,bT),za(`launch`,Ca(`type`,{contextformbutton:vT,contextformtogglebutton:yT}))].concat(hT)),ST=e=>ya(`ContextForm`,xT,e),CT=ta([tT(`contexttoolbar`),Aa(`items`)].concat(hT)),wT=e=>ya(`ContextToolbar`,CT,e),TT=ta([kw,Aa(`src`),Va(`alt`),eo(`classes`,[],la)]),ET=ta([kw,Mw,Vw,eo(`classes`,[`tox-collection__item-label`],la)]),DT=Qi(()=>ha(`type`,{cardimage:TT,cardtext:ET,cardcontainer:OT})),OT=ta([kw,Ya(`direction`,`horizontal`),Ya(`align`,`left`),Ya(`valign`,`middle`),La(`items`,DT)]),kT=[Xw,Hw,Kw,rT(`menuitem`),$w],AT=ta([kw,Gw,La(`items`,DT),Bw,eT].concat(kT)),jT=e=>ya(`cardmenuitem`,AT,e),MT=ta([kw,Jw,Uw].concat(kT)),NT=e=>ya(`choicemenuitem`,MT,e),PT=[kw,Aa(`fancytype`),eT],FT=Ca(`fancytype`,{inserttable:[q(`initData`,{})].concat(PT),colorswatch:[Ua(`select`),to(`initData`,{},[Za(`allowCustomColors`,!0),Ya(`storageKey`,`default`),Wa(`colors`,oa())])].concat(PT)}),IT=e=>ya(`fancymenuitem`,FT,e),LT=ta([kw,Bw,eT,Uw].concat(kT)),RT=e=>ya(`menuitem`,LT,e),zT=ta([kw,Lw,Bw,Uw].concat(kT)),BT=e=>ya(`nestedmenuitem`,zT,e),VT=ta([kw,Uw,Jw,Bw,Rw].concat(kT)),HT=e=>ya(`togglemenuitem`,VT,e),UT=(e,t,n)=>{let r=Pp(e.element,`.`+n);if(r.length>0){let e=me(r,e=>{let n=e.dom.getBoundingClientRect().top,i=r[0].dom.getBoundingClientRect().top;return Math.abs(n-i)>t}).getOr(r.length);return A.some({numColumns:e,numRows:Math.ceil(r.length/e)})}else return A.none()},WT=(e,t)=>Z([Wy(e,t)]),GT={namedEvents:WT,unnamedEvents:e=>WT(rc(`unnamed-events`),e)},KT=rc(`tooltip.exclusive`),qT=rc(`tooltip.show`),JT=rc(`tooltip.hide`),YT=(e,t,n)=>{e.getSystem().broadcastOn([KT],{})};var XT=Object.freeze({__proto__:null,hideAllExclusive:YT,setComponents:(e,t,n,r)=>{n.getTooltip().each(e=>{e.getSystem().isConnected()&&Hy.set(e,r)})}}),ZT=Object.freeze({__proto__:null,events:(e,t)=>{let n=n=>{t.getTooltip().each(r=>{Am(r),e.onHide(n,r),t.clearTooltip()}),t.clearTimer()},r=n=>{if(!t.isShowing()){YT(n);let r=e.lazySink(n).getOrDie(),i=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Ds(e.mode===`normal`?[J(Po(),e=>{bs(n,qT)}),J(Mo(),e=>{bs(n,JT)})]:[]),behaviours:Z([Hy.config({})])});t.setTooltip(i),Dm(r,i),e.onShow(n,i),_m.position(r,i,{anchor:e.anchor(n)})}};return Ds(L([[J(qT,n=>{t.resetTimer(()=>{r(n)},e.delay)}),J(JT,r=>{t.resetTimer(()=>{n(r)},e.delay)}),J(Zo(),(e,t)=>{let r=t;r.universal||ie(r.channels,KT)&&n(e)}),Vs(e=>{n(e)})],e.mode===`normal`?[J(Fo(),e=>{bs(e,qT)}),J(Yo(),e=>{bs(e,JT)}),J(Po(),e=>{bs(e,qT)}),J(Mo(),e=>{bs(e,JT)})]:[J(vs(),(e,t)=>{bs(e,qT)}),J(ys(),e=>{bs(e,JT)})]]))}});let QT=Od({fields:[K(`lazySink`),K(`tooltipDom`),q(`exclusive`,!0),q(`tooltipComponents`,[]),q(`delay`,300),Xa(`mode`,`normal`,[`normal`,`follow-highlight`]),q(`anchor`,e=>({type:`hotspot`,hotspot:e,layouts:{onLtr:C([ld,cd,id,od,ad,sd]),onRtl:C([ld,cd,id,od,ad,sd])}})),Tu(`onHide`),Tu(`onShow`)],name:`tooltipping`,active:ZT,state:Object.freeze({__proto__:null,init:()=>{let e=mf(),t=mf(),n=()=>{e.on(clearTimeout)},r=(t,r)=>{n(),e.set(setTimeout(t,r))},i=C(`not-implemented`);return Tc({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:n,resetTimer:r,readState:i})}}),apis:XT}),$T=e=>e.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`),eE=`silver.readonly`,tE=ta([Ma(`readonly`)]),nE=(e,t)=>{let n=e.mainUi.outerContainer.element,r=[e.mainUi.mothership,...e.uiMotherships];t&&I(r,e=>{e.broadcastOn([Qm()],{target:n})}),I(r,e=>{e.broadcastOn([eE],{readonly:t})})},rE=(e,t)=>{e.on(`init`,()=>{e.mode.isReadOnly()&&nE(t,!0)}),e.on(`SwitchMode`,()=>nE(t,e.mode.isReadOnly())),kS(e)&&e.mode.set(`readonly`)},iE=()=>Md.config({channels:{[eE]:{schema:tE,onReceive:(e,t)=>{Kg.set(e,t.readonly)}}}}),aE={item:e=>Kg.config({disabled:e,disableClass:`tox-collection__item--state-disabled`}),button:e=>Kg.config({disabled:e}),splitButton:e=>Kg.config({disabled:e,disableClass:`tox-tbtn--disabled`}),toolbarButton:e=>Kg.config({disabled:e,disableClass:`tox-tbtn--disabled`,useNative:!1})},oE=(e,t)=>{let n=e.getApi(t);return e=>{e(n)}},sE=(e,t)=>Bs(n=>{oE(e,n)(n=>{let r=e.onSetup(n);g(r)&&t.set(r)})}),cE=(e,t)=>Vs(n=>oE(e,n)(t.get())),lE=(e,t)=>Us((n,r)=>{oE(e,n)(e.onAction),!e.triggersSubmenu&&t===FC.CLOSE_ON_EXECUTE&&(n.getSystem().isConnected()&&bs(n,ns()),r.stop())}),uE={[Qo()]:[`disabling`,`alloy.base.behaviour`,`toggling`,`item-events`]},dE=He,fE=(e,t,n,r)=>{let i=no(y);return{type:`item`,dom:t.dom,components:dE(t.optComponents),data:e.data,eventOrder:uE,hasSubmenu:e.triggersSubmenu,itemBehaviours:Z([Wy(`item-events`,[lE(e,n),sE(e,i),cE(e,i)]),aE.item(()=>!e.enabled||r.isDisabled()),iE(),Hy.config({})].concat(e.itemBehaviours))}},pE=e=>({value:e.value,meta:{text:e.text.getOr(``),...e.meta}}),mE=e=>{let t=CS.os.isMacOS()||CS.os.isiOS(),n=t?{alt:`⌥`,ctrl:`⌃`,shift:`⇧`,meta:`⌘`,access:`⌃⌥`}:{meta:`Ctrl`,access:`Shift+Alt`},r=F(e.split(`+`),e=>{let t=e.toLowerCase().trim();return Re(n,t)?n[t]:e});return t?r.join(``):r.join(`+`)},hE=(e,t,n=[VC])=>gS(e,{tag:`div`,classes:n},t),gE=e=>({dom:{tag:`div`,classes:[HC]},components:[zl(aS.translate(e))]}),_E=(e,t)=>({dom:{tag:`div`,classes:t,innerHtml:e}}),vE=(e,t)=>({dom:{tag:`div`,classes:[HC]},components:[{dom:{tag:e.tag,styles:e.styles},components:[zl(aS.translate(t))]}]}),yE=e=>({dom:{tag:`div`,classes:[`tox-collection__item-accessory`]},components:[zl(mE(e))]}),bE=e=>hE(`checkmark`,e,[`tox-collection__item-checkmark`]),xE=e=>hE(`chevron-right`,e,[UC]),SE=e=>hE(`chevron-down`,e,[UC]),CE=(e,t)=>({dom:{tag:`div`,classes:[GC,e.direction===`vertical`?`tox-collection__item-container--column`:KC,e.align===`left`?`tox-collection__item-container--align-left`:`tox-collection__item-container--align-right`,(()=>{switch(e.valign){case`top`:return`tox-collection__item-container--valign-top`;case`middle`:return`tox-collection__item-container--valign-middle`;case`bottom`:return`tox-collection__item-container--valign-bottom`}})()]},components:t}),wE=(e,t,n)=>({dom:{tag:`img`,classes:t,attributes:{src:e,alt:n.getOr(``)}}}),TE=(e,t,n)=>{let r=e.ariaLabel,i=e.value,a=e.iconContent.map(e=>fS(e,t.icons,n));return{dom:(()=>{let e=a.getOr(``),n={tag:`div`,attributes:r.map(e=>({title:t.translate(e)})).getOr({}),classes:[`tox-swatch`]};return i===`custom`?{...n,tag:`button`,classes:[...n.classes,`tox-swatches__picker-btn`],innerHtml:e}:i===`remove`?{...n,classes:[...n.classes,`tox-swatch--remove`],innerHtml:e}:h(i)?{...n,attributes:{...n.attributes,"data-mce-color":i},styles:{"background-color":i},innerHtml:e}:n})(),optComponents:[]}},EE=e=>{let t=e.map(e=>({attributes:{title:aS.translate(e),id:rc(`menu-item`)}})).getOr({});return{tag:`div`,classes:[IC,LC],...t}},DE=(e,t,n,r)=>{let i={tag:`div`,classes:[VC]},a=n?e.iconContent.map(e=>gS(e,i,t.icons,r)).orThunk(()=>A.some({dom:i})):A.none(),o=e.checkMark,s=A.from(e.meta).fold(()=>gE,e=>Re(e,`style`)?E(vE,e.style):gE),c=e.htmlContent.fold(()=>e.textContent.map(s),e=>A.some(_E(e,[HC])));return{dom:EE(e.ariaLabel),optComponents:[a,c,e.shortcutContent.map(yE),o,e.caret]}},OE=(e,t,n,r=A.none())=>e.presets===`color`?TE(e,t,r):DE(e,t,n,r),kE=(e,t)=>z(e,`tooltipWorker`).map(e=>[QT.config({lazySink:t.getSink,tooltipDom:{tag:`div`,classes:[`tox-tooltip-worker-container`]},tooltipComponents:[],anchor:e=>({type:`submenu`,item:e,overrides:{maxHeightFunction:Lf}}),mode:`follow-highlight`,onShow:(t,n)=>{e(e=>{QT.setComponents(t,[Bl({element:V.fromDom(e)})])})}})]).getOr([]),AE=e=>xS.DOM.encode(e),jE=(e,t)=>{let n=AE(aS.translate(e));if(t.length>0){let e=new RegExp($T(t),`gi`);return n.replace(e,e=>`<span class="tox-autocompleter-highlight">${e}</span>`)}else return n},ME=(e,t,n,r,i,a,o,s=!0)=>{let c=OE({presets:r,textContent:A.none(),htmlContent:n?e.text.map(e=>jE(e,t)):A.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:A.none(),checkMark:A.none(),caret:A.none(),value:e.value},o.providers,s,e.icon);return fE({data:pE(e),enabled:e.enabled,getApi:C({}),onAction:t=>i(e.value,e.meta),onSetup:C(y),triggersSubmenu:!1,itemBehaviours:kE(e.meta,o)},c,a,o.providers)},NE=(e,t)=>F(e,e=>{switch(e.type){case`cardcontainer`:return CE(e,NE(e.items,t));case`cardimage`:return wE(e.src,e.classes,e.alt);case`cardtext`:let n=e.name.exists(e=>ie(t.cardText.highlightOn,e))?A.from(t.cardText.matchText).getOr(``):``;return _E(jE(e.text,n),e.classes)}}),PE=(e,t,n,r)=>{let i=e=>({isEnabled:()=>!Kg.isDisabled(e),setEnabled:t=>{Kg.set(e,!t),I(Pp(e.element,`*`),n=>{e.getSystem().getByDom(n).each(e=>{e.hasConfigured(Kg)&&Kg.set(e,!t)})})}}),a={dom:EE(e.label),optComponents:[A.some({dom:{tag:`div`,classes:[GC,KC]},components:NE(e.items,r)})]};return fE({data:pE({text:A.none(),...e}),enabled:e.enabled,getApi:i,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:A.from(r.itemBehaviours).getOr([])},a,t,n.providers)},FE=(e,t,n,r,i,a,o,s=!0)=>{let c=e=>({setActive:t=>{ub.set(e,t)},isActive:()=>ub.isOn(e),isEnabled:()=>!Kg.isDisabled(e),setEnabled:t=>Kg.set(e,!t)}),l=OE({presets:n,textContent:t?e.text:A.none(),htmlContent:A.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:A.none(),checkMark:t?A.some(bE(o.icons)):A.none(),caret:A.none(),value:e.value},o,s);return Ti(fE({data:pE(e),enabled:e.enabled,getApi:c,onAction:t=>r(e.value),onSetup:e=>(e.setActive(i),y),triggersSubmenu:!1,itemBehaviours:[]},l,a,o),{toggling:{toggleClass:BC,toggleOnExecute:!1,selected:e.active,exclusive:!0}})},IE=ng(Eb(),Db()),LE=e=>({value:VE(e)}),RE=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,zE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,BE=e=>RE.test(e)||zE.test(e),VE=e=>Ze(e,`#`).toUpperCase(),HE=e=>BE(e)?A.some({value:VE(e)}):A.none(),UE=e=>({value:e.value.replace(RE,(e,t,n,r)=>t+t+n+n+r+r)}),WE=e=>{let t=UE(e),n=zE.exec(t.value);return n===null?[`FFFFFF`,`FF`,`FF`,`FF`]:n},GE=e=>{let t=e.toString(16);return(t.length===1?`0`+t:t).toUpperCase()},KE=e=>LE(GE(e.red)+GE(e.green)+GE(e.blue)),qE=Math.min,JE=Math.max,YE=Math.round,XE=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,ZE=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,QE=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),$E=e=>{let t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},eD=e=>{let t,n,r,i=(e.hue||0)%360,a=e.saturation/100,o=e.value/100;if(a=JE(0,qE(a,1)),o=JE(0,qE(o,1)),a===0)return t=n=r=YE(255*o),QE(t,n,r,1);let s=i/60,c=o*a,l=c*(1-Math.abs(s%2-1)),u=o-c;switch(Math.floor(s)){case 0:t=c,n=l,r=0;break;case 1:t=l,n=c,r=0;break;case 2:t=0,n=c,r=l;break;case 3:t=0,n=l,r=c;break;case 4:t=l,n=0,r=c;break;case 5:t=c,n=0,r=l;break;default:t=n=r=0}return t=YE(255*(t+u)),n=YE(255*(n+u)),r=YE(255*(r+u)),QE(t,n,r,1)},tD=e=>{let t=WE(e);return QE(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1)},nD=(e,t,n,r)=>QE(parseInt(e,10),parseInt(t,10),parseInt(n,10),parseFloat(r)),rD=e=>{if(e===`transparent`)return A.some(QE(0,0,0,0));let t=XE.exec(e);if(t!==null)return A.some(nD(t[1],t[2],t[3],`1`));let n=ZE.exec(e);return n===null?A.none():A.some(nD(n[1],n[2],n[3],n[4]))},iD=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,aD=QE(255,0,0,1),oD=e=>{e.dispatch(`SkinLoaded`)},sD=(e,t)=>{e.dispatch(`SkinLoadError`,t)},cD=e=>{e.dispatch(`ResizeEditor`)},lD=(e,t)=>{e.dispatch(`ResizeContent`,t)},uD=(e,t)=>{e.dispatch(`ScrollContent`,t)},dD=(e,t)=>{e.dispatch(`TextColorChange`,t)},fD=(e,t)=>{e.dispatch(`AfterProgressState`,{state:t})},pD=(e,t)=>e.dispatch(`ResolveName`,{name:t.nodeName.toLowerCase(),target:t}),mD=(e,t)=>{e.dispatch(`ToggleToolbarDrawer`,{state:t})},hD=(e,t)=>{e.dispatch(`StylesTextUpdate`,t)},gD=(e,t)=>{e.dispatch(`AlignTextUpdate`,t)},_D=(e,t)=>{e.dispatch(`FontSizeTextUpdate`,t)},vD=(e,t)=>{e.dispatch(`FontSizeInputTextUpdate`,t)},yD=(e,t)=>{e.dispatch(`BlocksTextUpdate`,t)},bD=(e,t)=>{e.dispatch(`FontFamilyTextUpdate`,t)},xD=(e,t)=>()=>{e(),t()},SD=e=>TD(e,`NodeChange`,t=>{t.setEnabled(e.selection.isEditable())}),CD=(e,t)=>n=>{let r=pf(),i=()=>{n.setActive(e.formatter.match(t));let i=e.formatter.formatChanged(t,n.setActive);r.set(i)};return e.initialized?i():e.once(`init`,i),()=>{e.off(`init`,i),r.clear()}},wD=(e,t)=>n=>{let r=SD(e)(n),i=CD(e,t)(n);return()=>{r(),i()}},TD=(e,t,n)=>r=>{let i=()=>n(r),a=()=>{n(r),e.on(t,i)};return e.initialized?a():e.once(`init`,a),()=>{e.off(`init`,a),e.off(t,i)}},ED=e=>t=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand(`mceToggleFormat`,!1,t.format)})},DD=(e,t)=>()=>e.execCommand(t);var OD=tinymce.util.Tools.resolve(`tinymce.util.LocalStorage`);let kD={},AD=(e,t=10)=>{let n=OD.getItem(e),r=(e=>t-e.length<0?e.slice(0,t):e)(s(n)?JSON.parse(n):[]),i=n=>{N(r,n).each(a),r.unshift(n),r.length>t&&r.pop(),OD.setItem(e,JSON.stringify(r))},a=e=>{r.splice(e,1)};return{add:i,state:()=>r.slice(0)}},jD=e=>z(kD,e).getOrThunk(()=>{let t=`tinymce-custom-colors-${e}`;if(m(OD.getItem(t))){let e=OD.getItem(`tinymce-custom-colors`);OD.setItem(t,h(e)?e:`[]`)}let n=AD(t,10);return kD[e]=n,n}),MD=e=>F(jD(e).state(),e=>({type:`choiceitem`,text:e,icon:`checkmark`,value:e})),ND=(e,t)=>{jD(e).add(t)},PD=(e,t,n)=>({hue:e,saturation:t,value:n}),FD=e=>{let t=0,n=0,r=0,i=e.red/255,a=e.green/255,o=e.blue/255,s=Math.min(i,Math.min(a,o)),c=Math.max(i,Math.max(a,o));if(s===c)return r=s,PD(0,0,r*100);let l=i===s?a-o:o===s?i-a:o-i;return t=i===s?3:o===s?1:5,t=60*(t-l/(c-s)),n=(c-s)/c,r=c,PD(Math.round(t),Math.round(n*100),Math.round(r*100))},ID=e=>FD(tD(e)),LD=e=>KE(eD(e)),RD=e=>HE(e).orThunk(()=>rD(e).map(KE)).getOrThunk(()=>{let t=document.createElement(`canvas`);t.height=1,t.width=1;let n=t.getContext(`2d`);n.clearRect(0,0,t.width,t.height),n.fillStyle=`#FFFFFF`,n.fillStyle=e,n.fillRect(0,0,1,1);let r=n.getImageData(0,0,1,1).data,i=r[0],a=r[1],o=r[2],s=r[3];return KE(QE(i,a,o,s))}),zD=`forecolor`,BD=`hilitecolor`,VD=e=>{let t=[];for(let n=0;n<e.length;n+=2)t.push({text:e[n+1],value:`#`+RD(e[n]).value,icon:`checkmark`,type:`choiceitem`});return t},HD=e=>t=>t.options.get(e),UD=`#000000`,WD=e=>{let t=e.options.register,n=e=>v(e,s)?{value:VD(e),valid:!0}:{valid:!1,message:`Must be an array of strings.`},r=e=>_(e)&&e>0?{value:e,valid:!0}:{valid:!1,message:`Must be a positive number.`};t(`color_map`,{processor:n,default:`#BFEDD2.Light Green.#FBEEB8.Light Yellow.#F8CAC6.Light Red.#ECCAFA.Light Purple.#C2E0F4.Light Blue.#2DC26B.Green.#F1C40F.Yellow.#E03E2D.Red.#B96AD9.Purple.#3598DB.Blue.#169179.Dark Turquoise.#E67E23.Orange.#BA372A.Dark Red.#843FA1.Dark Purple.#236FA1.Dark Blue.#ECF0F1.Light Gray.#CED4D9.Medium Gray.#95A5A6.Gray.#7E8C8D.Dark Gray.#34495E.Navy Blue.#000000.Black.#ffffff.White`.split(`.`)}),t(`color_map_background`,{processor:n}),t(`color_map_foreground`,{processor:n}),t(`color_cols`,{processor:r,default:KD(e)}),t(`color_cols_foreground`,{processor:r,default:qD(e,zD)}),t(`color_cols_background`,{processor:r,default:qD(e,BD)}),t(`custom_colors`,{processor:`boolean`,default:!0}),t(`color_default_foreground`,{processor:`string`,default:UD}),t(`color_default_background`,{processor:`string`,default:UD})},GD=(e,t)=>t===zD&&e.options.isSet(`color_map_foreground`)?HD(`color_map_foreground`)(e):t===BD&&e.options.isSet(`color_map_background`)?HD(`color_map_background`)(e):HD(`color_map`)(e),KD=(e,t=`default`)=>Math.max(5,Math.ceil(Math.sqrt(GD(e,t).length))),qD=(e,t)=>{let n=HD(`color_cols`)(e),r=KD(e,t);return n===KD(e)?r:n},JD=(e,t=`default`)=>Math.round((()=>t===zD?HD(`color_cols_foreground`)(e):t===BD?HD(`color_cols_background`)(e):HD(`color_cols`)(e))()),YD=HD(`custom_colors`),XD=HD(`color_default_foreground`),ZD=HD(`color_default_background`),QD=e=>rD(e).exists(e=>e.alpha!==0),$D=e=>_o(e,e=>{if(xt(e)){let t=yn(e,`background-color`);return qe(QD(t),t)}else return A.none()}).getOr(`rgba(0, 0, 0, 0)`),eO=(e,t)=>{let n=V.fromDom(e.selection.getStart());return rD(t===`hilitecolor`?$D(n):yn(n,`color`)).map(e=>`#`+KE(e).value)},tO=(e,t,n)=>{e.undoManager.transact(()=>{e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()})},nO=(e,t)=>{e.undoManager.transact(()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()})},rO=e=>{e.addCommand(`mceApplyTextcolor`,(t,n)=>{tO(e,t,n)}),e.addCommand(`mceRemoveTextcolor`,t=>{nO(e,t)})},iO=e=>{let t=`choiceitem`,n={type:t,text:`Remove color`,icon:`color-swatch-remove-color`,value:`remove`};return e?[n,{type:t,text:`Custom color`,icon:`color-picker`,value:`custom`}]:[n]},aO=(e,t,n,r)=>{n===`custom`?mO(e)(n=>{n.each(n=>{ND(t,n),e.execCommand(`mceApplyTextcolor`,t,n),r(n)})},eO(e,t).getOr(UD)):n===`remove`?(r(``),e.execCommand(`mceRemoveTextcolor`,t)):(r(n),e.execCommand(`mceApplyTextcolor`,t,n))},oO=(e,t,n)=>e.concat(MD(t).concat(iO(n))),sO=(e,t,n)=>r=>{r(oO(e,t,n))},cO=(e,t,n)=>{let r=t===`forecolor`?`tox-icon-text-color__color`:`tox-icon-highlight-bg-color__color`;e.setIconFill(r,n)},lO=(e,t)=>{e.setTooltip(t)},uO=(e,t)=>n=>Be(eO(e,t),n.toUpperCase()),dO=(e,t,n)=>{if(it(n))return t===`forecolor`?`Text color`:`Background color`;let r=t===`forecolor`?`Text color {0}`:`Background color {0}`,i=pe(oO(GD(e,t),t,!1),e=>e.value===n).getOr({text:``}).text;return e.translate([r,e.translate(i)])},fO=(e,t,n,r)=>{e.ui.registry.addSplitButton(t,{tooltip:dO(e,n,r.get()),presets:`color`,icon:t===`forecolor`?`text-color`:`highlight-bg-color`,select:uO(e,n),columns:JD(e,n),fetch:sO(GD(e,n),n,YD(e)),onAction:t=>{aO(e,n,r.get(),y)},onItemAction:(i,a)=>{aO(e,n,a,n=>{r.set(n),dD(e,{name:t,color:n})})},onSetup:i=>{cO(i,t,r.get());let a=r=>{r.name===t&&(cO(i,r.name,r.color),lO(i,dO(e,n,r.color)))};return e.on(`TextColorChange`,a),xD(SD(e)(i),()=>{e.off(`TextColorChange`,a)})}})},pO=(e,t,n,r,i)=>{e.ui.registry.addNestedMenuItem(t,{text:r,icon:t===`forecolor`?`text-color`:`highlight-bg-color`,onSetup:r=>(lO(r,dO(e,n,i.get())),cO(r,t,i.get()),SD(e)(r)),getSubmenuItems:()=>[{type:`fancymenuitem`,fancytype:`colorswatch`,select:uO(e,n),initData:{storageKey:n},onAction:r=>{aO(e,n,r.value,n=>{i.set(n),dD(e,{name:t,color:n})})}}]})},mO=e=>(t,n)=>{let r=!1,i=n=>{let i=n.getData().colorpicker;r?(t(A.from(i)),n.close()):e.windowManager.alert(e.translate([`Invalid hex color code: {0}`,i]))},a=(e,t)=>{t.name===`hex-valid`&&(r=t.value)},o={colorpicker:n};e.windowManager.open({title:`Color Picker`,size:`normal`,body:{type:`panel`,items:[{type:`colorpicker`,name:`colorpicker`,label:`Color`}]},buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],initialData:o,onAction:a,onSubmit:i,onClose:y,onCancel:()=>{t(A.none())}})},hO=e=>{rO(e);let t=XD(e),n=ZD(e),r=no(t),i=no(n);fO(e,`forecolor`,`forecolor`,r),fO(e,`backcolor`,`hilitecolor`,i),pO(e,`forecolor`,`forecolor`,`Text color`,r),pO(e,`backcolor`,`hilitecolor`,`Background color`,i)},gO=(e,t,n,r,i,a,o,s)=>Ow(e,Tw(t),_O(t,n,r,i===`color`?`color`:`normal`,a,o,s),r,{menuType:i}),_O=(e,t,n,r,i,a,o)=>He(F(e,s=>s.type===`choiceitem`?NT(s).fold(Ew,s=>A.some(FE(s,n===1,r,t,a(s.value),i,o,Tw(e)))):A.none())),vO=(e,t)=>{let n=XC(t);return e===1?{mode:`menu`,moveOnTab:!0}:e===`auto`?{mode:`grid`,selector:`.`+n.item,initSize:{numColumns:1,numRows:1}}:{mode:`matrix`,rowSelector:`.`+(t===`color`?`tox-swatches__row`:`tox-collection__group`),previousSelector:e=>t===`color`?eu(e.element,`[aria-checked=true]`):A.none()}},yO=(e,t)=>e===1?{mode:`menu`,moveOnTab:!1,selector:`.tox-collection__item`}:e===`auto`?{mode:`flatgrid`,selector:`.tox-collection__item`,initSize:{numColumns:1,numRows:1}}:{mode:`matrix`,selectors:{row:t===`color`?`.tox-swatches__row`:`.tox-collection__group`,cell:t===`color`?`.${RC}`:`.${LC}`}},bO=(e,t)=>{let n=xO(e,t),r=t.colorinput.getColorCols(e.initData.storageKey),i=`color`,a={...gO(rc(`menu-value`),n,t=>{e.onAction({value:t})},r,i,FC.CLOSE_ON_EXECUTE,e.select.getOr(k),t.shared.providers),markers:XC(i),movement:vO(r,i)};return{type:`widget`,data:{value:rc(`widget-id`)},dom:{tag:`div`,classes:[`tox-fancymenuitem`]},autofocus:!0,components:[IE.widget(Ib.sketch(a))]}},xO=(e,t)=>{let n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold(()=>oO(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,n),e=>e.concat(iO(n)))},SO=rc(`cell-over`),CO=rc(`cell-execute`),wO=e=>(t,n)=>e.shared.providers.translate([`{0} columns, {1} rows`,n,t]),TO=(e,t,n)=>{let r=n=>xs(n,SO,{row:e,col:t}),i=n=>xs(n,CO,{row:e,col:t}),a=(e,t)=>{t.stop(),i(e)};return Wl({dom:{tag:`div`,attributes:{role:`button`,"aria-label":n}},behaviours:Z([Wy(`insert-table-picker-cell`,[J(Po(),Jy.focus),J(Qo(),i),J(Vo(),a),J(es(),a)]),ub.config({toggleClass:`tox-insert-table-picker__selected`,toggleOnExecute:!1}),Jy.config({onFocus:r})])})},EO=(e,t,n)=>{let r=[];for(let i=0;i<t;i++){let t=[];for(let r=0;r<n;r++){let n=e(i+1,r+1);t.push(TO(i,r,n))}r.push(t)}return r},DO=(e,t,n,r,i)=>{for(let a=0;a<r;a++)for(let r=0;r<i;r++)ub.set(e[a][r],a<=t&&r<=n)},OO=e=>he(e,e=>F(e,Gl)),kO=(e,t)=>zl(`${t}x${e}`),AO={inserttable:(e,t)=>{let n=EO(wO(t),10,10),r=kO(0,0),i=nx({dom:{tag:`span`,classes:[`tox-insert-table-picker__label`]},components:[r],behaviours:Z([Hy.config({})])});return{type:`widget`,data:{value:rc(`widget-id`)},dom:{tag:`div`,classes:[`tox-fancymenuitem`]},autofocus:!0,components:[IE.widget({dom:{tag:`div`,classes:[`tox-insert-table-picker`]},components:OO(n).concat(i.asSpec()),behaviours:Z([Wy(`insert-table-picker`,[Bs(e=>{Hy.set(i.get(e),[r])}),Is(SO,(e,t,r)=>{let{row:a,col:o}=r.event;DO(n,a,o,10,10),Hy.set(i.get(e),[kO(a+1,o+1)])}),Is(CO,(t,n,r)=>{let{row:i,col:a}=r.event;e.onAction({numRows:i+1,numColumns:a+1}),bs(t,ns())})]),ky.config({initSize:{numRows:10,numColumns:10},mode:`flatgrid`,selector:`[role="button"]`})])})]}},colorswatch:bO},jO=(e,t)=>z(AO,e.fancytype).map(n=>n(e,t)),MO=(e,t,n,r=!0,i=!1)=>{let a=i?SE(n.icons):xE(n.icons),o=e=>({isEnabled:()=>!Kg.isDisabled(e),setEnabled:t=>Kg.set(e,!t),setIconFill:(t,n)=>{eu(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each(e=>{cn(e,`fill`,n)})},setTooltip:t=>{let r=n.translate(t);ln(e.element,{"aria-label":r,title:r})}}),s=OE({presets:`normal`,iconContent:e.icon,textContent:e.text,htmlContent:A.none(),ariaLabel:e.text,caret:A.some(a),checkMark:A.none(),shortcutContent:e.shortcut},n,r);return fE({data:pE(e),getApi:o,enabled:e.enabled,onAction:y,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},s,t,n)},NO=(e,t,n,r=!0)=>{let i=e=>({isEnabled:()=>!Kg.isDisabled(e),setEnabled:t=>Kg.set(e,!t)}),a=OE({presets:`normal`,iconContent:e.icon,textContent:e.text,htmlContent:A.none(),ariaLabel:e.text,caret:A.none(),checkMark:A.none(),shortcutContent:e.shortcut},n,r);return fE({data:pE(e),getApi:i,enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},a,t,n)},PO=e=>({type:`separator`,dom:{tag:`div`,classes:[LC,`tox-collection__group-heading`]},components:e.text.map(zl).toArray()}),FO=(e,t,n,r=!0)=>{let i=e=>({setActive:t=>{ub.set(e,t)},isActive:()=>ub.isOn(e),isEnabled:()=>!Kg.isDisabled(e),setEnabled:t=>Kg.set(e,!t)}),a=OE({iconContent:e.icon,textContent:e.text,htmlContent:A.none(),ariaLabel:e.text,checkMark:A.some(bE(n.icons)),caret:A.none(),shortcutContent:e.shortcut,presets:`normal`,meta:e.meta},n,r);return Ti(fE({data:pE(e),enabled:e.enabled,getApi:i,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},a,t,n),{toggling:{toggleClass:BC,toggleOnExecute:!1,selected:e.active}})},IO=ME,LO=PO,RO=NO,zO=MO,BO=FO,VO=jO,HO=PE;var UO=Object.freeze({__proto__:null,getCoupled:(e,t,n,r)=>n.getOrCreate(e,t,r),getExistingCoupled:(e,t,n,r)=>n.getExisting(e,t,r)});let WO=Od({fields:[Oa(`others`,G(ci.value,oa()))],name:`coupling`,apis:UO,state:Object.freeze({__proto__:null,init:()=>{let e={},t=(t,n)=>{if(Ee(t.others).length===0)throw Error(`Cannot find any known coupled components`);return z(e,n)};return Tc({readState:C({}),getExisting:(e,n,r)=>t(n,r).orThunk(()=>(z(n.others,r).getOrDie(`No information found for coupled component: `+r),A.none())),getOrCreate:(n,r,i)=>t(r,i).getOrThunk(()=>{let t=z(r.others,i).getOrDie(`No information found for coupled component: `+i)(n),a=n.getSystem().build(t);return e[i]=a,a})})}})}),GO=e=>{let t=A.none(),n=[],r=e=>GO(t=>{i(n=>{t(e(n))})}),i=e=>{o()?c(e):n.push(e)},a=e=>{o()||(t=A.some(e),s(n),n=[])},o=()=>t.isSome(),s=e=>{I(e,c)},c=e=>{t.each(t=>{setTimeout(()=>{e(t)},0)})};return e(a),{get:i,map:r,isReady:o}},KO={nu:GO,pure:e=>GO(t=>{t(e)})},qO=e=>{setTimeout(()=>{throw e},0)},JO=e=>{let t=t=>{e().then(t,qO)};return{map:t=>JO(()=>e().then(t)),bind:t=>JO(()=>e().then(e=>t(e).toPromise())),anonBind:t=>JO(()=>e().then(()=>t.toPromise())),toLazy:()=>KO.nu(t),toCached:()=>{let t=null;return JO(()=>(t===null&&(t=e()),t))},toPromise:e,get:t}},YO={nu:e=>JO(()=>new Promise(e)),pure:e=>JO(()=>Promise.resolve(e))},XO=C(`sink`),ZO=C(Xh({name:XO(),overrides:C({dom:{tag:`div`},behaviours:Z([_m.config({useFixed:te})]),events:Ds([Ls(Lo()),Ls(Ao()),Ls(Vo())])})})),QO=(e,t)=>{let n=e.getHotspot(t).getOr(t),r=`hotspot`,i=e.getAnchorOverrides();return e.layouts.fold(()=>({type:r,hotspot:n,overrides:i}),e=>({type:r,hotspot:n,overrides:i,layouts:e}))},$O=(e,t,n)=>{let r=e.fetch;return r(n).map(t)},ek=(e,t,n,r,i,a,o)=>{let s=$O(e,t,r),c=ak(r,e);return s.map(e=>e.bind(e=>A.from(Jb.sketch({...a.menu(),uid:dc(``),data:e,highlightOnOpen:o,onOpenMenu:(e,t)=>{let r=c().getOrDie();_m.position(r,t,{anchor:n}),Zm.decloak(i)},onOpenSubmenu:(e,t,n)=>{let r=c().getOrDie();_m.position(r,n,{anchor:{type:`submenu`,item:t}}),Zm.decloak(i)},onRepositionMenu:(e,t,r)=>{let i=c().getOrDie();_m.position(i,t,{anchor:n}),I(r,e=>{_m.position(i,e.triggeredMenu,{anchor:{type:`submenu`,item:e.triggeringItem}})})},onEscape:()=>(Jy.focus(r),Zm.close(i),A.some(!0))}))))},tk=(e,t,n,r,i,a,o)=>ek(e,t,QO(e,n),n,r,i,o).map(e=>(e.fold(()=>{Zm.isOpen(r)&&Zm.close(r)},e=>{Zm.cloak(r),Zm.open(r,e),a(r)}),r)),nk=(e,t,n,r,i,a,o)=>(Zm.close(r),YO.pure(r)),rk=(e,t,n,r,i,a)=>{let o=WO.getCoupled(n,`sandbox`);return(Zm.isOpen(o)?nk:tk)(e,t,n,o,r,i,a)},ik=(e,t,n)=>{let r=jg.getCurrent(t).getOr(t),i=zn(e.element);n?_n(r.element,`min-width`,i+`px`):Rn(r.element,i)},ak=(e,t)=>e.getSystem().getByUid(t.uid+`-`+XO()).map(e=>()=>ci.value(e)).getOrThunk(()=>t.lazySink.fold(()=>()=>ci.error(Error(`No internal sink is specified, nor could an external sink be found`)),t=>()=>t(e))),ok=e=>{Zm.getState(e).each(e=>{Jb.repositionMenus(e)})},sk=(e,t,n)=>{let r=iu(),i=(i,a)=>{let o=QO(e,t);r.link(t.element),e.matchWidth&&ik(o.hotspot,a,e.useMinWidth),e.onOpen(o,i,a),n!==void 0&&n.onOpen!==void 0&&n.onOpen(i,a)},a=(e,i)=>{r.unlink(t.element),n!==void 0&&n.onClose!==void 0&&n.onClose(e,i)},o=ak(t,e);return{dom:{tag:`div`,classes:e.sandboxClasses,attributes:{id:r.id,role:`listbox`}},behaviours:yh.augment(e.sandboxBehaviours,[Q.config({store:{mode:`memory`,initialValue:t}}),Zm.config({onOpen:i,onClose:a,isPartOf:(e,n,r)=>ou(n,r)||ou(t,r),getAttachPoint:()=>o().getOrDie()}),jg.config({find:e=>Zm.getState(e).bind(e=>jg.getCurrent(e))}),Md.config({channels:{...nh({isExtraPart:k}),...ih({doReposition:ok})}})])}},ck=e=>{ok(WO.getCoupled(e,`sandbox`))},lk=()=>[q(`sandboxClasses`,[]),yh.field(`sandboxBehaviours`,[jg,Md,Zm,Q])],uk=C([K(`dom`),K(`fetch`),Tu(`onOpen`),Eu(`onExecute`),q(`getHotspot`,A.some),q(`getAnchorOverrides`,C({})),Xf(),gh(`dropdownBehaviours`,[ub,WO,ky,Jy]),K(`toggleClass`),q(`eventOrder`,{}),Ra(`lazySink`),q(`matchWidth`,!1),q(`useMinWidth`,!1),Ra(`role`)].concat(lk())),dk=C([Yh({schema:[Su(),q(`fakeFocus`,!1)],name:`menu`,defaults:e=>({onExecute:e.onExecute})}),ZO()]),fk=Og({name:`Dropdown`,configFields:uk(),partFields:dk(),factory:(e,t,n,r)=>{let i=t=>z(e.dom,`attributes`).bind(e=>z(e,t)),a=e=>{Zm.getState(e).each(e=>{Jb.highlightPrimary(e)})},o=(t,n,i)=>rk(e,w,t,r,n,i),s=e=>{o(e,a,Gb.HighlightMenuAndItem).get(y)},c={expand:e=>{ub.isOn(e)||o(e,y,Gb.HighlightNone).get(y)},open:e=>{ub.isOn(e)||o(e,y,Gb.HighlightMenuAndItem).get(y)},refetch:t=>WO.getExistingCoupled(t,`sandbox`).fold(()=>o(t,y,Gb.HighlightMenuAndItem).map(y),n=>tk(e,w,t,n,r,y,Gb.HighlightMenuAndItem).map(y)),isOpen:ub.isOn,close:e=>{ub.isOn(e)&&o(e,y,Gb.HighlightMenuAndItem).get(y)},repositionMenus:e=>{ub.isOn(e)&&ck(e)}},l=(e,t)=>(Ss(e),A.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:vh(e.dropdownBehaviours,[ub.config({toggleClass:e.toggleClass,aria:{mode:`expanded`}}),WO.config({others:{sandbox:t=>sk(e,t,{onOpen:()=>ub.on(t),onClose:()=>ub.off(t)})}}),ky.config({mode:`special`,onSpace:l,onEnter:l,onDown:(e,t)=>(fk.isOpen(e)?a(WO.getCoupled(e,`sandbox`)):fk.open(e),A.some(!0)),onEscape:(e,t)=>fk.isOpen(e)?(fk.close(e),A.some(!0)):A.none()}),Jy.config({})]),events:fb(A.some(s)),eventOrder:{...e.eventOrder,[Qo()]:[`disabling`,`toggling`,`alloy.base.behaviour`]},apis:c,domModification:{attributes:{"aria-haspopup":`true`,...e.role.fold(()=>({}),e=>({role:e})),...e.dom.tag===`button`?{type:i(`type`).getOr(`button`)}:{}}}}},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),pk=e=>{switch(e.searchMode){case`no-search`:return{menuType:`normal`};default:return{menuType:`searchable`,searchMode:e}}},mk=e=>{let t=Q.getValue(e),n=cw(e).map(dw);fk.refetch(t).get(()=>{let e=WO.getCoupled(t,`sandbox`);n.each(t=>cw(e).each(e=>uw(e,t)))})},hk=(e,t)=>{gk(e).each(n=>{Ts(e,n.element,t.event.eventType,t.event.interactionEvent)})},gk=e=>Zm.getState(e).bind(d_.getHighlighted).bind(d_.getHighlighted),_k=e=>ul(e.element,mw)?A.some(e.element):eu(e.element,`.`+mw),vk=(e,t,n)=>{lw(e).each(e=>{fw(e,n),_k(t).each(t=>{dn(t,`id`).each(t=>cn(e.element,`aria-controls`,t))})}),cn(n.element,`aria-selected`,`true`)},yk=(e,t,n)=>{cn(n.element,`aria-selected`,`false`)},bk=e=>{lw(e).each(e=>Jy.focus(e))},xk=e=>WO.getExistingCoupled(e,`sandbox`).bind(cw).map(dw).map(e=>e.fetchPattern).getOr(``);var Sk;(function(e){e[e.ContentFocus=0]=`ContentFocus`,e[e.UiFocus=1]=`UiFocus`})(Sk||={});let Ck=(e,t,n,r,i)=>{let a=n.shared.providers,o=e=>i?{...e,shortcut:A.none(),icon:e.text.isSome()?A.none():e.icon}:e;switch(e.type){case`menuitem`:return RT(e).fold(Ew,e=>A.some(RO(o(e),t,a,r)));case`nestedmenuitem`:return BT(e).fold(Ew,e=>A.some(zO(o(e),t,a,r,i)));case`togglemenuitem`:return HT(e).fold(Ew,e=>A.some(BO(o(e),t,a,r)));case`separator`:return aT(e).fold(Ew,e=>A.some(LO(e)));case`fancymenuitem`:return IT(e).fold(Ew,e=>VO(e,n));default:return console.error(`Unknown item in general menu`,e),A.none()}},wk=(e,t,n,r,i,a,o)=>{let s=r===1,c=!s||Tw(e);return He(F(e,e=>{switch(e.type){case`separator`:return sT(e).fold(Ew,e=>A.some(LO(e)));case`cardmenuitem`:return jT(e).fold(Ew,e=>A.some(HO({...e,onAction:t=>{e.onAction(t),n(e.value,e.meta)}},i,a,{itemBehaviours:kE(e.meta,a),cardText:{matchText:t,highlightOn:o}})));case`autocompleteitem`:default:return cT(e).fold(Ew,e=>A.some(IO(e,t,s,`normal`,n,i,a,c)))}}))},Tk=(e,t,n,r,i,a)=>{let o=Tw(t),s=He(F(t,e=>{let t=e=>i?!Re(e,`text`):o,a=e=>Ck(e,n,r,t(e),i);return e.type===`nestedmenuitem`&&e.getSubmenuItems().length<=0?a({...e,enabled:!1}):a(e)})),c=pk(a);return(i?Dw:Ow)(e,o,s,1,c)},Ek=e=>Jb.singleData(e.value,e),Dk=(e,t,n,r)=>{let i=vO(t,r),a=XC(r);return{data:Ek({...e,movement:i,menuBehaviours:GT.unnamedEvents(t===`auto`?[Bs((e,t)=>{UT(e,4,a.item).each(({numColumns:t,numRows:n})=>{ky.setGridSize(e,n,t)})})]:[])}),menu:{markers:XC(r),fakeFocus:n===Sk.ContentFocus}}},Ok=(e,t)=>jC(V.fromDom(t.startContainer)).map(t=>{let n=e.createRng();return n.selectNode(t.dom),n}),kk={register:(e,t)=>{let n=rc(`autocompleter`),r=no(!1),i=no(!1),a=Wl(Xb.sketch({dom:{tag:`div`,classes:[`tox-autocompleter`],attributes:{id:n}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Z([Wy(`dismissAutocompleter`,[J(ds(),()=>u()),J(vs(),(t,n)=>{dn(n.event.target,`id`).each(t=>cn(V.fromDom(e.getBody()),`aria-activedescendant`,t))})])]),lazySink:t.getSink})),o=()=>Xb.isOpen(a),s=i.get,c=()=>{if(o()){Xb.hide(a),e.dom.remove(n,!1);let t=V.fromDom(e.getBody());dn(t,`aria-owns`).filter(e=>e===n).each(()=>{pn(t,`aria-owns`),pn(t,`aria-activedescendant`)})}},l=()=>Xb.getContent(a).bind(e=>xe(e.components(),0)),u=()=>e.execCommand(`mceAutocompleterClose`),d=n=>{let i=Te(n,e=>A.from(e.columns)).getOr(1);return he(n,n=>{let a=n.items;return wk(a,n.matchText,(t,i)=>{let a=e.selection.getRng();Ok(e.dom,a).each(a=>{r.set(!0),n.onAction({hide:()=>u(),reload:t=>{c(),e.execCommand(`mceAutocompleterReload`,!1,{fetchOptions:t})}},a,t,i),r.set(!1)})},i,FC.BUBBLE_TO_SANDBOX,t,n.highlightOn)})},f=(t,n)=>{MC(V.fromDom(e.getBody())).each(r=>{let i=Te(t,e=>A.from(e.columns)).getOr(1);Xb.showMenuAt(a,{anchor:{type:`node`,root:V.fromDom(e.getBody()),node:A.from(r)}},Dk(Ow(`autocompleter-value`,!0,n,i,{menuType:`normal`}),i,Sk.ContentFocus,`normal`))}),l().each(d_.highlightFirst)},p=t=>{let r=d(t);r.length>0?(f(t,r),cn(V.fromDom(e.getBody()),`aria-owns`,n),e.inline||m()):c()},m=()=>{e.dom.get(n)&&e.dom.remove(n,!1);let t=e.getDoc().documentElement,r=e.selection.getNode(),i=Xs(a.element);H(i,{border:`0`,clip:`rect(0 0 0 0)`,height:`1px`,margin:`-1px`,overflow:`hidden`,padding:`0`,position:`absolute`,width:`1px`,top:`${r.offsetTop}px`,left:`${r.offsetLeft}px`}),e.dom.add(t,i.dom),eu(i,`[role="menu"]`).each(e=>{wn(e,`position`),wn(e,`max-height`)})};e.on(`AutocompleterStart`,({lookupData:e})=>{i.set(!0),r.set(!1),p(e)}),e.on(`AutocompleterUpdate`,({lookupData:e})=>p(e)),e.on(`AutocompleterEnd`,()=>{c(),i.set(!1),r.set(!1)});let h={cancelIfNecessary:u,isMenuOpen:o,isActive:s,isProcessingAction:r.get,getMenu:l};NC.setup(h,e)}},Ak=[`visible`,`hidden`,`clip`],jk=e=>nt(e).length>0&&!ie(Ak,e),Mk=e=>{if(bt(e)){let t=yn(e,`overflow-x`),n=yn(e,`overflow-y`);return jk(t)||jk(n)}else return!1},Nk=e=>{let t=Np(e,Mk),n=t.length===0?$t(e).map(en).map(e=>Np(e,Mk)).getOr([]):t;return Se(n).map(e=>({element:e,others:n.slice(1)}))},Pk=(e,t)=>DC(e)?Nk(t):A.none(),Fk=e=>{let t=[...F(e.others,ei),ii()];return ri(ei(e.element),t)},Ik=(e,t,n)=>tu(e,t,n).isSome(),Lk=(e,t)=>{let n=null;return{cancel:()=>{n!==null&&(clearTimeout(n),n=null)},schedule:(...r)=>{n=setTimeout(()=>{e.apply(null,r),n=null},t)}}},Rk=e=>{let t=e.raw;return t.touches===void 0||t.touches.length!==1?A.none():A.some(t.touches[0])},zk=(e,t)=>{let n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5},Bk=e=>{let t=mf(),n=no(!1),r=Lk(t=>{e.triggerEvent(ts(),t),n.set(!0)},400),i=uo([{key:Eo(),value:e=>(Rk(e).each(i=>{r.cancel();let a={x:i.clientX,y:i.clientY,target:e.target};r.schedule(e),n.set(!1),t.set(a)}),A.none())},{key:Do(),value:e=>(r.cancel(),Rk(e).each(e=>{t.on(n=>{zk(e,n)&&t.clear()})}),A.none())},{key:Oo(),value:i=>(r.cancel(),t.get().filter(e=>At(e.target,i.target)).map(t=>n.get()?(i.prevent(),!1):e.triggerEvent(es(),i)))}]);return{fireIfReady:(e,t)=>z(i,t).bind(t=>t(e))}},Vk=e=>e.raw.which===f_[0]&&!ie([`input`,`textarea`],_t(e.target))&&!Ik(e.target,`[contenteditable="true"]`),Hk=(e,t)=>{let n={stopBackspace:!0,...t},r=[`touchstart`,`touchmove`,`touchend`,`touchcancel`,`gesturestart`,`mousedown`,`mouseup`,`mouseover`,`mousemove`,`mouseout`,`click`],i=Bk(n),a=F(r.concat([`selectstart`,`input`,`contextmenu`,`change`,`transitionend`,`transitioncancel`,`drag`,`dragstart`,`dragend`,`dragenter`,`dragleave`,`dragover`,`drop`,`keyup`]),t=>gf(e,t,e=>{i.fireIfReady(e,t).each(t=>{t&&e.kill()}),n.triggerEvent(t,e)&&e.kill()})),o=mf(),s=gf(e,`paste`,e=>{i.fireIfReady(e,`paste`).each(t=>{t&&e.kill()}),n.triggerEvent(`paste`,e)&&e.kill(),o.set(setTimeout(()=>{n.triggerEvent(Xo(),e)},0))}),c=gf(e,`keydown`,e=>{n.triggerEvent(`keydown`,e)?e.kill():n.stopBackspace&&Vk(e)&&e.prevent()}),l=gf(e,`focusin`,e=>{n.triggerEvent(`focusin`,e)&&e.kill()}),u=mf(),d=gf(e,`focusout`,e=>{n.triggerEvent(`focusout`,e)&&e.kill(),u.set(setTimeout(()=>{n.triggerEvent(Yo(),e)},0))});return{unbind:()=>{I(a,e=>{e.unbind()}),c.unbind(),l.unbind(),d.unbind(),s.unbind(),o.on(clearTimeout),u.on(clearTimeout)}}},Uk=(e,t)=>no(z(e,`target`).getOr(t)),Wk=(e,t)=>{let n=no(!1),r=no(!1);return{stop:()=>{n.set(!0)},cut:()=>{r.set(!0)},isStopped:n.get,isCut:r.get,event:e,setSource:t.set,getSource:t.get}},Gk=e=>{let t=no(!1);return{stop:()=>{t.set(!0)},cut:y,isStopped:t.get,isCut:k,event:e,setSource:O(`Cannot set source of a broadcasted event`),getSource:O(`Cannot get source of a broadcasted event`)}},Kk=ro.generate([{stopped:[]},{resume:[`element`]},{complete:[]}]),qk=(e,t,n,r,i,a)=>{let o=e(t,r),s=Wk(n,i);return o.fold(()=>(a.logEventNoHandlers(t,r),Kk.complete()),e=>{let n=e.descHandler;return Lc(n)(s),s.isStopped()?(a.logEventStopped(t,e.element,n.purpose),Kk.stopped()):s.isCut()?(a.logEventCut(t,e.element,n.purpose),Kk.complete()):It(e.element).fold(()=>(a.logNoParent(t,e.element,n.purpose),Kk.complete()),r=>(a.logEventResponse(t,e.element,n.purpose),Kk.resume(r)))})},Jk=(e,t,n,r,i,a)=>qk(e,t,n,r,i,a).fold(te,r=>Jk(e,t,n,r,i,a),k),Yk=(e,t,n,r,i)=>qk(e,t,n,r,Uk(n,r),i),Xk=(e,t,n)=>{let r=Gk(t);return I(e,e=>{let t=e.descHandler;Lc(t)(r)}),r.isStopped()},Zk=(e,t,n,r)=>Qk(e,t,n,n.target,r),Qk=(e,t,n,r,i)=>Jk(e,t,n,r,Uk(n,r),i),$k=(e,t)=>({element:e,descHandler:t}),eA=(e,t)=>({id:e,descHandler:t}),tA=()=>{let e={},t=(t,n,r)=>{Oe(r,(r,i)=>{let a=e[i]===void 0?{}:e[i];a[n]=Ic(r,t),e[i]=a})},n=(e,t)=>uc(t).bind(t=>z(e,t)).map(e=>$k(t,e));return{registerId:t,unregisterId:t=>{Oe(e,(e,n)=>{Re(e,t)&&delete e[t]})},filterByType:t=>z(e,t).map(e=>Fe(e,(e,t)=>eA(t,e))).getOr([]),find:(t,r,i)=>z(e,r).bind(e=>_o(i,t=>n(e,t),t))}},nA=()=>{let e=tA(),t={},n=e=>{let t=e.element;return uc(t).getOrThunk(()=>cc(`uid-`,e.element))},r=(e,n)=>{let r=t[n];if(r===e)a(e);else throw Error(`The tagId "`+n+`" is already used by: `+Qs(r.element)+`
Cannot use it for: `+Qs(e.element)+`
The conflicting element is`+(rn(r.element)?` `:` not `)+`already in the DOM`)},i=i=>{let a=n(i);ze(t,a)&&r(i,a);let o=[i];e.registerId(o,a,i.events),t[a]=i},a=n=>{uc(n.element).each(n=>{delete t[n],e.unregisterId(n)})};return{find:(t,n,r)=>e.find(t,n,r),filter:t=>e.filterByType(t),register:i,unregister:a,getById:e=>z(t,e)}},rA=Dg({name:`Container`,factory:e=>{let{attributes:t,...n}=e.dom;return{uid:e.uid,dom:{tag:`div`,attributes:{role:`presentation`,...t},...n},components:e.components,behaviours:_h(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[q(`components`,[]),gh(`containerBehaviours`,[]),q(`events`,{}),q(`domModification`,{}),q(`eventOrder`,{})]}),iA=e=>{let t=t=>It(e.element).fold(te,e=>At(t,e)),n=nA(),r=(e,r)=>n.find(t,e,r),i=Hk(e.element,{triggerEvent:(e,t)=>hu(e,t.target,n=>Zk(r,e,t,n))}),a={debugInfo:C(`real`),triggerEvent:(e,t,n)=>{hu(e,t,i=>Qk(r,e,n,t,i))},triggerFocus:(e,t)=>{uc(e).fold(()=>{Pd(e)},n=>{hu(Jo(),e,n=>(Yk(r,Jo(),{originator:t,kill:y,prevent:y,target:e},e,n),!1))})},triggerEscape:(e,t)=>{a.triggerEvent(`keydown`,e.element,t.event)},getByUid:e=>h(e),getByDom:e=>g(e),build:Wl,buildOrPatch:Ul,addToGui:e=>{c(e)},removeFromGui:e=>{l(e)},addToWorld:e=>{o(e)},removeFromWorld:e=>{s(e)},broadcast:e=>{f(e)},broadcastOn:(e,t)=>{p(e,t)},broadcastEvent:(e,t)=>{m(e,t)},isConnected:te},o=e=>{e.connect(a),St(e.element)||(n.register(e),I(e.components(),o),a.triggerEvent(is(),e.element,{target:e.element}))},s=e=>{St(e.element)||(I(e.components(),s),n.unregister(e)),e.disconnect()},c=t=>{Dm(e,t)},l=e=>{Am(e)},u=()=>{i.unbind(),Br(e.element)},d=e=>{I(n.filter(Zo()),t=>{let n=t.descHandler;Lc(n)(e)})},f=e=>{d({universal:!0,data:e})},p=(e,t)=>{d({universal:!1,channels:e,data:t})},m=(e,t)=>Xk(n.filter(e),t),h=e=>n.getById(e).fold(()=>ci.error(Error(`Could not find component with uid: "`+e+`" in system.`)),ci.value),g=e=>h(uc(e).getOr(`not found`));return o(e),{root:e,element:e.element,destroy:u,add:c,remove:l,getByUid:h,getByDom:g,addToWorld:o,removeFromWorld:s,broadcast:f,broadcastOn:p,broadcastEvent:m}},aA=(e,t)=>({dom:{tag:`div`,classes:[`tox-bar`,`tox-form__controls-h-stack`]},components:F(e.items,t.interpreter)}),oA=C([q(`prefix`,`form-field`),gh(`fieldBehaviours`,[jg,Q])]),sA=C([Xh({schema:[K(`dom`)],name:`label`}),Xh({factory:{sketch:e=>({uid:e.uid,dom:{tag:`span`,styles:{display:`none`},attributes:{"aria-hidden":`true`},innerHtml:e.text}})},schema:[K(`text`)],name:`aria-descriptor`}),Jh({factory:{sketch:e=>{let t=co(e,[`factory`]);return e.factory.sketch(t)}},schema:[K(`factory`)],name:`field`})]),cA=Og({name:`FormField`,configFields:oA(),partFields:sA(),factory:(e,t,n,r)=>{let i=vh(e.fieldBehaviours,[jg.config({find:t=>lg(t,e,`field`)}),Q.config({store:{mode:`manual`,getValue:e=>jg.getCurrent(e).bind(Q.getValue),setValue:(e,t)=>{jg.getCurrent(e).each(e=>{Q.setValue(e,t)})}}})]),a=Ds([Bs((t,n)=>{let r=dg(t,e,[`label`,`field`,`aria-descriptor`]);r.field().each(t=>{let n=rc(e.prefix);r.label().each(e=>{cn(e.element,`for`,n),cn(t.element,`id`,n)}),r[`aria-descriptor`]().each(n=>{let r=rc(e.prefix);cn(n.element,`id`,r),cn(t.element,`aria-describedby`,r)})})})]);return{uid:e.uid,dom:e.dom,components:t,behaviours:i,events:a,apis:{getField:t=>lg(t,e,`field`),getLabel:t=>lg(t,e,`label`)}}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});var lA=Object.freeze({__proto__:null,exhibit:(e,t)=>Ac({attributes:uo([{key:t.tabAttr,value:`true`}])})});let uA=Od({fields:[q(`tabAttr`,`data-alloy-tabstop`)],name:`tabstopping`,active:lA});var dA=tinymce.util.Tools.resolve(`tinymce.html.Entities`);let fA=(e,t,n,r)=>{let i=mA(e,t,n,r);return cA.sketch(i)},pA=(e,t)=>fA(e,t,[],[]),mA=(e,t,n,r)=>({dom:gA(n),components:e.toArray().concat([t]),fieldBehaviours:Z(r)}),hA=()=>gA([]),gA=e=>({tag:`div`,classes:[`tox-form__group`].concat(e)}),_A=(e,t)=>cA.parts.label({dom:{tag:`label`,classes:[`tox-label`]},components:[zl(t.translate(e))]}),vA=rc(`form-component-change`),yA=rc(`form-close`),bA=rc(`form-cancel`),xA=rc(`form-action`),SA=rc(`form-submit`),CA=rc(`form-block`),wA=rc(`form-unblock`),TA=rc(`form-tabchange`),EA=rc(`form-resize`),DA=(e,t,n)=>{let r=e.label.map(e=>_A(e,t)),i=t.icons(),a=e=>i[e]??e,o=e=>(t,n)=>{tu(n.event.target,`[data-collection-item-value]`).each(r=>{e(t,n,r,un(r,`data-collection-item-value`))})},s=(n,r)=>{let i=F(r,n=>{let r=aS.translate(n.text),i=e.columns===1?`<div class="tox-collection__item-label">${r}</div>`:``,o=`<div class="tox-collection__item-icon">${a(n.icon)}</div>`,s={_:` `," - ":` `,"-":` `},c=r.replace(/\_| \- |\-/g,e=>s[e]);return`<div class="tox-collection__item${t.isDisabled()?` tox-collection__item--state-disabled`:``}" tabindex="-1" data-collection-item-value="${dA.encodeAllRaw(n.value)}" title="${c}" aria-label="${c}">${o}${i}</div>`}),o=F(e.columns!==`auto`&&e.columns>1?P(i,e.columns):[i],e=>`<div class="tox-collection__group">${e.join(``)}</div>`);Ks(n.element,o.join(``))},c=o((n,r,i,a)=>{r.stop(),t.isDisabled()||xs(n,xA,{name:e.name,value:a})}),l=[J(Po(),o((e,t,n)=>{Pd(n)})),J(Vo(),c),J(es(),c),J(Fo(),o((e,t,n)=>{eu(e.element,`.`+WC).each(e=>{cl(e,WC)}),ol(n,WC)})),J(Io(),o(e=>{eu(e.element,`.`+WC).each(e=>{cl(e,WC)})})),Us(o((t,n,r,i)=>{xs(t,xA,{name:e.name,value:i})}))],u=(e,t)=>F(Pp(e.element,`.tox-collection__item`),t);return fA(r,cA.parts.field({dom:{tag:`div`,classes:[`tox-collection`].concat(e.columns===1?[`tox-collection--list`]:[`tox-collection--grid`])},components:[],factory:{sketch:w},behaviours:Z([Kg.config({disabled:t.isDisabled,onDisabled:e=>{u(e,e=>{ol(e,`tox-collection__item--state-disabled`),cn(e,`aria-disabled`,!0)})},onEnabled:e=>{u(e,e=>{cl(e,`tox-collection__item--state-disabled`),pn(e,`aria-disabled`)})}}),iE(),Hy.config({}),Q.config({store:{mode:`memory`,initialValue:n.getOr([])},onSetValue:(t,n)=>{s(t,n),e.columns===`auto`&&UT(t,5,`tox-collection__item`).each(({numRows:e,numColumns:n})=>{ky.setGridSize(t,e,n)}),bs(t,EA)}}),uA.config({}),ky.config(yO(e.columns,`normal`)),Wy(`collection-events`,l)]),eventOrder:{[Qo()]:[`disabling`,`alloy.base.behaviour`,`collection-events`]}}),[`tox-form__group--collection`],[])},OA=[`input`,`textarea`],kA=e=>ie(OA,_t(e)),AA=(e,t)=>{cl(t.getRoot(e).getOr(e.element),t.invalidClass),t.notify.each(t=>{kA(e.element)&&cn(e.element,`aria-invalid`,!1),t.getContainer(e).each(e=>{Ks(e,t.validHtml)}),t.onValid(e)})},jA=(e,t,n,r)=>{ol(t.getRoot(e).getOr(e.element),t.invalidClass),t.notify.each(t=>{kA(e.element)&&cn(e.element,`aria-invalid`,!0),t.getContainer(e).each(e=>{Ks(e,r)}),t.onInvalid(e,r)})},MA=(e,t,n)=>t.validator.fold(()=>YO.pure(ci.value(!0)),t=>t.validate(e)),NA=(e,t,n)=>(t.notify.each(t=>{t.onValidate(e)}),MA(e,t).map(r=>e.getSystem().isConnected()?r.fold(r=>(jA(e,t,n,r),ci.error(r)),n=>(AA(e,t),ci.value(n))):ci.error(`No longer in system`)));var PA=Object.freeze({__proto__:null,markValid:AA,markInvalid:jA,query:MA,run:NA,isInvalid:(e,t)=>ul(t.getRoot(e).getOr(e.element),t.invalidClass)}),FA=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map(n=>Ds([J(n.onEvent,n=>{NA(n,e,t).get(w)})].concat(n.validateOnLoad?[Bs(n=>{NA(n,e,t).get(y)})]:[]))).getOr({})});let IA=Od({fields:[K(`invalidClass`),q(`getRoot`,A.none),Ga(`notify`,[q(`aria`,`alert`),q(`getContainer`,A.none),q(`validHtml`,``),Tu(`onValid`),Tu(`onInvalid`),Tu(`onValidate`)]),Ga(`validator`,[K(`validate`),q(`onEvent`,`input`),q(`validateOnLoad`,!0)])],name:`invalidating`,active:FA,apis:PA,extra:{validation:e=>t=>{let n=Q.getValue(t);return YO.pure(e(n))}}}),LA=Od({fields:[],name:`unselecting`,active:Object.freeze({__proto__:null,events:()=>Ds([Os(Go(),te)]),exhibit:()=>Ac({styles:{"-webkit-user-select":`none`,"user-select":`none`,"-ms-user-select":`none`,"-moz-user-select":`-moz-none`},attributes:{unselectable:`on`}})})}),RA=(e,t)=>fk.sketch({dom:e.dom,components:e.components,toggleClass:`mce-active`,dropdownBehaviours:Z([aE.button(t.providers.isDisabled),iE(),LA.config({}),uA.config({})]),layouts:e.layouts,sandboxClasses:[`tox-dialog__popups`],lazySink:t.getSink,fetch:n=>YO.nu(t=>e.fetch(t)).map(r=>A.from(Ek(Ti(gO(rc(`menu-value`),r,t=>{e.onItemAction(n,t)},e.columns,e.presets,FC.CLOSE_ON_EXECUTE,k,t.providers),{movement:vO(e.columns,e.presets)})))),parts:{menu:$C(!1,1,e.presets)}}),zA=rc(`color-input-change`),BA=rc(`color-swatch-change`),VA=rc(`color-picker-cancel`),HA=(e,t,n,r)=>{let i=cA.parts.field({factory:iw,inputClasses:[`tox-textfield`],data:r,onSetValue:e=>IA.run(e).get(y),inputBehaviours:Z([Kg.config({disabled:t.providers.isDisabled}),iE(),uA.config({}),IA.config({invalidClass:`tox-textbox-field-invalid`,getRoot:e=>Rt(e.element),notify:{onValid:e=>{xs(e,zA,{color:Q.getValue(e)})}},validator:{validateOnLoad:!1,validate:e=>{let t=Q.getValue(e);if(t.length===0)return YO.pure(ci.value(!0));{let e=V.fromTag(`span`);_n(e,`background-color`,t);let n=xn(e,`background-color`).fold(()=>ci.error(`blah`),e=>ci.value(t));return YO.pure(n)}}}})]),selectOnFocus:!1}),a=e.label.map(e=>_A(e,t.providers)),o=(e,t)=>{xs(e,BA,{value:t})},s=(t,r)=>{c.getOpt(t).each(t=>{r===`custom`?n.colorPicker(n=>{n.fold(()=>bs(t,VA),n=>{o(t,n),ND(e.storageKey,n)})},`#ffffff`):r===`remove`?o(t,``):o(t,r)})},c=nx(RA({dom:{tag:`span`,attributes:{"aria-label":t.providers.translate(`Color swatch`)}},layouts:{onRtl:()=>[ad,id,ld],onLtr:()=>[id,ad,ld]},components:[],fetch:sO(n.getColors(e.storageKey),e.storageKey,n.hasCustomColors()),columns:n.getColorCols(e.storageKey),presets:`color`,onItemAction:s},t));return cA.sketch({dom:{tag:`div`,classes:[`tox-form__group`]},components:a.toArray().concat([{dom:{tag:`div`,classes:[`tox-color-input`]},components:[i,c.asSpec()]}]),fieldBehaviours:Z([Wy(`form-field-events`,[J(zA,(t,n)=>{c.getOpt(t).each(e=>{_n(e.element,`background-color`,n.event.color)}),xs(t,vA,{name:e.name})}),J(BA,(e,t)=>{cA.getField(e).each(n=>{Q.setValue(n,t.event.value),jg.getCurrent(e).each(Jy.focus)})}),J(VA,(e,t)=>{cA.getField(e).each(t=>{jg.getCurrent(e).each(Jy.focus)})})])])})},UA=Xh({schema:[K(`dom`)],name:`label`}),WA=e=>Xh({name:``+e+`-edge`,overrides:t=>t.model.manager.edgeActions[e].fold(()=>({}),e=>({events:Ds([js(Eo(),(t,n,r)=>e(t,r),[t]),js(Ao(),(t,n,r)=>e(t,r),[t]),js(jo(),(t,n,r)=>{r.mouseIsDown.get()&&e(t,r)},[t])])}))}),GA=WA(`top-left`),KA=WA(`top`),qA=WA(`top-right`),JA=WA(`right`),YA=WA(`bottom-right`),XA=WA(`bottom`),ZA=WA(`bottom-left`),QA=WA(`left`),$A=Jh({name:`thumb`,defaults:C({dom:{styles:{position:`absolute`}}}),overrides:e=>({events:Ds([Fs(Eo(),e,`spectrum`),Fs(Do(),e,`spectrum`),Fs(Oo(),e,`spectrum`),Fs(Ao(),e,`spectrum`),Fs(jo(),e,`spectrum`),Fs(No(),e,`spectrum`)])})}),ej=e=>E_(e.event);var tj=[UA,QA,JA,KA,XA,GA,qA,ZA,YA,$A,Jh({schema:[Ea(`mouseIsDown`,()=>no(!1))],name:`spectrum`,overrides:e=>{let t=e.model.manager,n=(n,r)=>t.getValueFromEvent(r).map(r=>t.setValueFrom(n,e,r));return{behaviours:Z([ky.config({mode:`special`,onLeft:(n,r)=>t.onLeft(n,e,ej(r)),onRight:(n,r)=>t.onRight(n,e,ej(r)),onUp:(n,r)=>t.onUp(n,e,ej(r)),onDown:(n,r)=>t.onDown(n,e,ej(r))}),uA.config({}),Jy.config({})]),events:Ds([J(Eo(),n),J(Do(),n),J(Ao(),n),J(jo(),(t,r)=>{e.mouseIsDown.get()&&n(t,r)})])}}})];let nj=C(`slider.change.value`),rj=e=>e.type.indexOf(`touch`)!==-1,ij=e=>{let t=e.event.raw;if(rj(t)){let e=t;return e.touches!==void 0&&e.touches.length===1?A.some(e.touches[0]).map(e=>Mn(e.clientX,e.clientY)):A.none()}else{let e=t;return e.clientX===void 0?A.none():A.some(e).map(e=>Mn(e.clientX,e.clientY))}},aj=e=>e.model.minX,oj=e=>e.model.minY,sj=e=>e.model.minX-1,cj=e=>e.model.minY-1,lj=e=>e.model.maxX,uj=e=>e.model.maxY,dj=e=>e.model.maxX+1,fj=e=>e.model.maxY+1,pj=(e,t,n)=>t(e)-n(e),mj=e=>pj(e,lj,aj),hj=e=>pj(e,uj,oj),gj=e=>mj(e)/2,_j=e=>hj(e)/2,vj=(e,t)=>t?e.stepSize*e.speedMultiplier:e.stepSize,yj=e=>e.snapToGrid,bj=e=>e.snapStart,xj=e=>e.rounded,Sj=(e,t)=>e[t+`-edge`]!==void 0,Cj=e=>Sj(e,`left`),wj=e=>Sj(e,`right`),Tj=e=>Sj(e,`top`),Ej=e=>Sj(e,`bottom`),Dj=e=>e.model.value.get(),Oj=(e,t)=>({x:e,y:t}),kj=(e,t)=>{xs(e,nj(),{value:t})},Aj=(e,t)=>{kj(e,Oj(sj(t),cj(t)))},jj=(e,t)=>{kj(e,cj(t))},Mj=(e,t)=>{kj(e,Oj(gj(t),cj(t)))},Nj=(e,t)=>{kj(e,Oj(dj(t),cj(t)))},Pj=(e,t)=>{kj(e,dj(t))},Fj=(e,t)=>{kj(e,Oj(dj(t),_j(t)))},Ij=(e,t)=>{kj(e,Oj(dj(t),fj(t)))},Lj=(e,t)=>{kj(e,fj(t))},Rj=(e,t)=>{kj(e,Oj(gj(t),fj(t)))},zj=(e,t)=>{kj(e,Oj(sj(t),fj(t)))},Bj=(e,t)=>{kj(e,sj(t))},Vj=(e,t)=>{kj(e,Oj(sj(t),_j(t)))},Hj=(e,t,n,r)=>e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r),Uj=(e,t,n,r)=>e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r),Wj=(e,t,n)=>Math.max(t,Math.min(n,e)),Gj=(e,t,n,r,i)=>i.fold(()=>{let i=e-t;return Wj(t+Math.round(i/r)*r,t-1,n+1)},t=>{let i=(e-t)%r,a=Math.round(i/r),o=Math.floor((e-t)/r),s=Math.floor((n-t)/r),c=t+Math.min(s,o+a)*r;return Math.max(t,c)}),Kj=(e,t,n)=>Math.min(n,Math.max(e,t))-t,qj=e=>{let{min:t,max:n,range:r,value:i,step:a,snap:o,snapStart:s,rounded:c,hasMinEdge:l,hasMaxEdge:u,minBound:d,maxBound:f,screenRange:p}=e,m=l?t-1:t,h=u?n+1:n;if(i<d)return m;if(i>f)return h;{let e=Wj(Kj(i,d,f)/p*r+t,m,h);return o&&e>=t&&e<=n?Gj(e,t,n,a,s):c?Math.round(e):e}},Jj=e=>{let{min:t,max:n,range:r,value:i,hasMinEdge:a,hasMaxEdge:o,maxBound:s,maxOffset:c,centerMinEdge:l,centerMaxEdge:u}=e;return i<t?a?0:l:i>n?o?s:u:(i-t)/r*c},Yj=`right`,Xj=`bottom`,Zj=`left`,Qj=e=>e.element.dom.getBoundingClientRect(),$j=(e,t)=>e[t],eM=e=>$j(Qj(e),Zj),tM=e=>$j(Qj(e),Yj),nM=e=>$j(Qj(e),`top`),rM=e=>$j(Qj(e),Xj),iM=e=>$j(Qj(e),`width`),aM=e=>$j(Qj(e),`height`),oM=(e,t,n)=>(e+t)/2-n,sM=(e,t)=>{let n=Qj(e),r=Qj(t);return oM($j(n,Zj),$j(n,Yj),$j(r,Zj))},cM=(e,t)=>{let n=Qj(e),r=Qj(t);return oM($j(n,`top`),$j(n,Xj),$j(r,`top`))},lM=(e,t)=>{xs(e,nj(),{value:t})},uM=(e,t,n)=>qj({min:aj(t),max:lj(t),range:mj(t),value:n,step:vj(t),snap:yj(t),snapStart:bj(t),rounded:xj(t),hasMinEdge:Cj(t),hasMaxEdge:wj(t),minBound:eM(e),maxBound:tM(e),screenRange:iM(e)}),dM=(e,t,n)=>{let r=uM(e,t,n);return lM(e,r),r},fM=(e,t)=>{lM(e,aj(t))},pM=(e,t)=>{lM(e,lj(t))},mM=(e,t,n,r)=>{let i=(e>0?Uj:Hj)(Dj(n),aj(n),lj(n),vj(n,r));return lM(t,i),A.some(i)},hM=e=>(t,n,r)=>mM(e,t,n,r).map(te),gM=e=>ij(e).map(e=>e.left),_M=(e,t,n,r,i)=>{let a=iM(e),o=r.bind(t=>A.some(sM(t,e))).getOr(0),s=i.bind(t=>A.some(sM(t,e))).getOr(a);return Jj({min:aj(t),max:lj(t),range:mj(t),value:n,hasMinEdge:Cj(t),hasMaxEdge:wj(t),minBound:eM(e),minOffset:0,maxBound:tM(e),maxOffset:a,centerMinEdge:o,centerMaxEdge:s})},vM=(e,t,n,r,i,a)=>{let o=_M(t,a,n,r,i);return eM(t)-eM(e)+o},yM=(e,t,n,r)=>{let i=Dj(n),a=vM(e,r.getSpectrum(e),i,r.getLeftEdge(e),r.getRightEdge(e),n),o=zn(t.element)/2;_n(t.element,`left`,a-o+`px`)},bM=hM(-1),xM=hM(1),SM=A.none,CM=A.none,wM={"top-left":A.none(),top:A.none(),"top-right":A.none(),right:A.some(Pj),"bottom-right":A.none(),bottom:A.none(),"bottom-left":A.none(),left:A.some(Bj)};var TM=Object.freeze({__proto__:null,setValueFrom:dM,setToMin:fM,setToMax:pM,findValueOfOffset:uM,getValueFromEvent:gM,findPositionOfValue:vM,setPositionFromValue:yM,onLeft:bM,onRight:xM,onUp:SM,onDown:CM,edgeActions:wM});let EM=(e,t)=>{xs(e,nj(),{value:t})},DM=(e,t,n)=>qj({min:oj(t),max:uj(t),range:hj(t),value:n,step:vj(t),snap:yj(t),snapStart:bj(t),rounded:xj(t),hasMinEdge:Tj(t),hasMaxEdge:Ej(t),minBound:nM(e),maxBound:rM(e),screenRange:aM(e)}),OM=(e,t,n)=>{let r=DM(e,t,n);return EM(e,r),r},kM=(e,t)=>{EM(e,oj(t))},AM=(e,t)=>{EM(e,uj(t))},jM=(e,t,n,r)=>{let i=(e>0?Uj:Hj)(Dj(n),oj(n),uj(n),vj(n,r));return EM(t,i),A.some(i)},MM=e=>(t,n,r)=>jM(e,t,n,r).map(te),NM=e=>ij(e).map(e=>e.top),PM=(e,t,n,r,i)=>{let a=aM(e),o=r.bind(t=>A.some(cM(t,e))).getOr(0),s=i.bind(t=>A.some(cM(t,e))).getOr(a);return Jj({min:oj(t),max:uj(t),range:hj(t),value:n,hasMinEdge:Tj(t),hasMaxEdge:Ej(t),minBound:nM(e),minOffset:0,maxBound:rM(e),maxOffset:a,centerMinEdge:o,centerMaxEdge:s})},FM=(e,t,n,r,i,a)=>{let o=PM(t,a,n,r,i);return nM(t)-nM(e)+o},IM=(e,t,n,r)=>{let i=Dj(n),a=FM(e,r.getSpectrum(e),i,r.getTopEdge(e),r.getBottomEdge(e),n),o=On(t.element)/2;_n(t.element,`top`,a-o+`px`)},LM=A.none,RM=A.none,zM=MM(-1),BM=MM(1),VM={"top-left":A.none(),top:A.some(jj),"top-right":A.none(),right:A.none(),"bottom-right":A.none(),bottom:A.some(Lj),"bottom-left":A.none(),left:A.none()};var HM=Object.freeze({__proto__:null,setValueFrom:OM,setToMin:kM,setToMax:AM,findValueOfOffset:DM,getValueFromEvent:NM,findPositionOfValue:FM,setPositionFromValue:IM,onLeft:LM,onRight:RM,onUp:zM,onDown:BM,edgeActions:VM});let UM=(e,t)=>{xs(e,nj(),{value:t})},WM=(e,t)=>({x:e,y:t}),GM=(e,t,n)=>{let r=WM(uM(e,t,n.left),DM(e,t,n.top));return UM(e,r),r},KM=(e,t,n,r,i)=>{let a=e>0?Uj:Hj,o=t?Dj(r).x:a(Dj(r).x,aj(r),lj(r),vj(r,i));return UM(n,WM(o,t?a(Dj(r).y,oj(r),uj(r),vj(r,i)):Dj(r).y)),A.some(o)},qM=(e,t)=>(n,r,i)=>KM(e,t,n,r,i).map(te),JM=(e,t)=>{UM(e,WM(aj(t),oj(t)))},YM=(e,t)=>{UM(e,WM(lj(t),uj(t)))},XM=e=>ij(e),ZM=(e,t,n,r)=>{let i=Dj(n),a=vM(e,r.getSpectrum(e),i.x,r.getLeftEdge(e),r.getRightEdge(e),n),o=FM(e,r.getSpectrum(e),i.y,r.getTopEdge(e),r.getBottomEdge(e),n),s=zn(t.element)/2,c=On(t.element)/2;_n(t.element,`left`,a-s+`px`),_n(t.element,`top`,o-c+`px`)},QM=qM(-1,!1),$M=qM(1,!1),eN=qM(-1,!0),tN=qM(1,!0),nN={"top-left":A.some(Aj),top:A.some(Mj),"top-right":A.some(Nj),right:A.some(Fj),"bottom-right":A.some(Ij),bottom:A.some(Rj),"bottom-left":A.some(zj),left:A.some(Vj)};var rN=Object.freeze({__proto__:null,setValueFrom:GM,setToMin:JM,setToMax:YM,getValueFromEvent:XM,setPositionFromValue:ZM,onLeft:QM,onRight:$M,onUp:eN,onDown:tN,edgeActions:nN});let iN=Og({name:`Slider`,configFields:[q(`stepSize`,1),q(`speedMultiplier`,10),q(`onChange`,y),q(`onChoose`,y),q(`onInit`,y),q(`onDragStart`,y),q(`onDragEnd`,y),q(`snapToGrid`,!1),q(`rounded`,!0),Ra(`snapStart`),Oa(`model`,Ca(`mode`,{x:[q(`minX`,0),q(`maxX`,100),Ea(`value`,e=>no(e.mode.minX)),K(`getInitialValue`),Ou(`manager`,TM)],y:[q(`minY`,0),q(`maxY`,100),Ea(`value`,e=>no(e.mode.minY)),K(`getInitialValue`),Ou(`manager`,HM)],xy:[q(`minX`,0),q(`maxX`,100),q(`minY`,0),q(`maxY`,100),Ea(`value`,e=>no({x:e.mode.minX,y:e.mode.minY})),K(`getInitialValue`),Ou(`manager`,rN)]})),gh(`sliderBehaviours`,[ky,Q]),Ea(`mouseIsDown`,()=>no(!1))],partFields:tj,factory:(e,t,n,r)=>{let i=t=>ug(t,e,`thumb`),a=t=>ug(t,e,`spectrum`),o=t=>lg(t,e,`left-edge`),s=t=>lg(t,e,`right-edge`),c=t=>lg(t,e,`top-edge`),l=t=>lg(t,e,`bottom-edge`),u=e.model,d=u.manager,f=(t,n)=>{d.setPositionFromValue(t,n,e,{getLeftEdge:o,getRightEdge:s,getTopEdge:c,getBottomEdge:l,getSpectrum:a})},p=(e,t)=>{u.value.set(t),f(e,i(e))},m=(t,n)=>{p(t,n);let r=i(t);return e.onChange(t,r,n),A.some(!0)},h=t=>{d.setToMin(t,e)},g=t=>{d.setToMax(t,e)},_=t=>{let n=()=>{lg(t,e,`thumb`).each(n=>{let r=u.value.get();e.onChoose(t,n,r)})},r=e.mouseIsDown.get();e.mouseIsDown.set(!1),r&&n()},v=(t,n)=>{n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,i(t))},y=(t,n)=>{n.stop(),e.onDragEnd(t,i(t)),_(t)},b=t=>{lg(t,e,`spectrum`).map(ky.focusIn)};return{uid:e.uid,dom:e.dom,components:t,behaviours:vh(e.sliderBehaviours,[ky.config({mode:`special`,focusIn:b}),Q.config({store:{mode:`manual`,getValue:e=>u.value.get(),setValue:p}}),Md.config({channels:{[eh()]:{onReceive:_}}})]),events:Ds([J(nj(),(e,t)=>{m(e,t.event.value)}),Bs((t,n)=>{let r=u.getInitialValue();u.value.set(r);let o=i(t);f(t,o);let s=a(t);e.onInit(t,o,s,u.value.get())}),J(Eo(),v),J(Oo(),y),J(Ao(),(e,t)=>{b(e),v(e,t)}),J(No(),y)]),apis:{resetToMin:h,resetToMax:g,setValue:p,refresh:f},domModification:{styles:{position:`relative`}}}},apis:{setValue:(e,t,n)=>{e.setValue(t,n)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),aN=rc(`rgb-hex-update`),oN=rc(`slider-update`),sN=rc(`palette-update`),cN=(e,t)=>{let n=iN.parts.spectrum({dom:{tag:`div`,classes:[t(`hue-slider-spectrum`)],attributes:{role:`presentation`}}}),r=iN.parts.thumb({dom:{tag:`div`,classes:[t(`hue-slider-thumb`)],attributes:{role:`presentation`}}});return iN.sketch({dom:{tag:`div`,classes:[t(`hue-slider`)],attributes:{role:`slider`,"aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:`y`,getInitialValue:C(0)},components:[n,r],sliderBehaviours:Z([Jy.config({})]),onChange:(e,t,n)=>{cn(e.element,`aria-valuenow`,Math.floor(360-n*3.6)),xs(e,oN,{value:n})}})},lN=`form`,uN=[gh(`formBehaviours`,[Q])],dN=e=>`<alloy.field.`+e+`>`,fN=e=>{let t=(()=>{let e=[];return{field:(t,n)=>(e.push(t),ig(lN,dN(t),n)),record:C(e)}})(),n=e(t);return xg(lN,uN,F(t.record(),e=>Jh({name:e,pname:dN(e)})),mN,n)},pN=(e,t)=>e.fold(()=>ci.error(t),ci.value),mN=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:vh(e.formBehaviours,[Q.config({store:{mode:`manual`,getValue:t=>ke(fg(t,e),(e,t)=>e().bind(e=>pN(jg.getCurrent(e),Error(`Cannot find a current component to extract the value from for form part '${t}': `+Qs(e.element)))).map(Q.getValue)),setValue:(t,n)=>{Oe(n,(n,r)=>{lg(t,e,r).each(e=>{jg.getCurrent(e).each(e=>{Q.setValue(e,n)})})})}}})]),apis:{getField:(t,n)=>lg(t,e,n).bind(jg.getCurrent)}}),hN={getField:Cc((e,t,n)=>e.getField(t,n)),sketch:fN},gN=rc(`valid-input`),_N=rc(`invalid-input`),vN=rc(`validating-input`),yN=`colorcustom.rgb.`,bN=(e,t,n,r)=>{let i=(n,r)=>IA.config({invalidClass:t(`invalid`),notify:{onValidate:e=>{xs(e,vN,{type:n})},onValid:e=>{xs(e,gN,{type:n,value:Q.getValue(e)})},onInvalid:e=>{xs(e,_N,{type:n,value:Q.getValue(e)})}},validator:{validate:t=>{let n=r(Q.getValue(t))?ci.value(!0):ci.error(e(`aria.input.invalid`));return YO.pure(n)},validateOnLoad:!1}}),a=(n,r,a,o,s)=>{let c=e(yN+`range`),l=[cA.parts.label({dom:{tag:`label`,attributes:{"aria-label":o}},components:[zl(a)]}),cA.parts.field({data:s,factory:iw,inputAttributes:{type:`text`,...r===`hex`?{"aria-live":`polite`}:{}},inputClasses:[t(`textfield`)],inputBehaviours:Z([i(r,n),uA.config({})]),onSetValue:e=>{IA.isInvalid(e)&&IA.run(e).get(y)}})],u=r===`hex`?[]:[cA.parts[`aria-descriptor`]({text:c})];return{dom:{tag:`div`,attributes:{role:`presentation`}},components:l.concat(u)}},o=(e,t)=>{let n=KE(t);return hN.getField(e,`hex`).each(t=>{Jy.isFocused(t)||Q.setValue(e,{hex:n.value})}),n},s=(e,t)=>{let n=t.red,r=t.green,i=t.blue;Q.setValue(e,{red:n,green:r,blue:i})},c=nx({dom:{tag:`div`,classes:[t(`rgba-preview`)],styles:{"background-color":`white`},attributes:{role:`presentation`}}}),l=(e,t)=>{c.getOpt(e).each(e=>{_n(e.element,`background-color`,`#`+t.value)})};return Dg({factory:()=>{let i={red:no(A.some(255)),green:no(A.some(255)),blue:no(A.some(255)),hex:no(A.some(`ffffff`))},u=(e,t)=>{let n=tD(t);s(e,n),m(n)},d=e=>i[e].get(),f=(e,t)=>{i[e].set(t)},p=()=>d(`red`).bind(e=>d(`green`).bind(t=>d(`blue`).map(n=>QE(e,t,n,1)))),m=e=>{let t=e.red,n=e.green,r=e.blue;f(`red`,A.some(t)),f(`green`,A.some(n)),f(`blue`,A.some(r))},h=(e,t)=>{let n=t.event;n.type===`hex`?r(e):f(n.type,A.none())},g=(e,t)=>{n(e);let r=LE(t);f(`hex`,A.some(r.value));let i=tD(r);s(e,i),m(i),xs(e,aN,{hex:r}),l(e,r)},_=(e,t,n)=>{let r=parseInt(n,10);f(t,A.some(r)),p().each(t=>{let n=o(e,t);xs(e,aN,{hex:n}),l(e,n)})},v=e=>e.type===`hex`,y=(e,t)=>{let n=t.event;v(n)?g(e,n.value):_(e,n.type,n.value)},b=t=>({label:e(yN+t+`.label`),description:e(yN+t+`.description`)}),x=b(`red`),S=b(`green`),C=b(`blue`),w=b(`hex`);return Ti(hN.sketch(n=>({dom:{tag:`form`,classes:[t(`rgb-form`)],attributes:{"aria-label":e(`aria.color.picker`)}},components:[n.field(`red`,cA.sketch(a($E,`red`,x.label,x.description,255))),n.field(`green`,cA.sketch(a($E,`green`,S.label,S.description,255))),n.field(`blue`,cA.sketch(a($E,`blue`,C.label,C.description,255))),n.field(`hex`,cA.sketch(a(BE,`hex`,w.label,w.description,`ffffff`))),c.asSpec()],formBehaviours:Z([IA.config({invalidClass:t(`form-invalid`)}),Wy(`rgb-form-events`,[J(gN,y),J(_N,h),J(vN,h)])])})),{apis:{updateHex:(e,t)=>{Q.setValue(e,{hex:t.value}),u(e,t),l(e,t)}}})},name:`RgbForm`,configFields:[],apis:{updateHex:(e,t,n)=>{e.updateHex(t,n)}},extraApis:{}})},xN=(e,t)=>{let n=iN.parts.spectrum({dom:{tag:`canvas`,attributes:{role:`presentation`},classes:[t(`sv-palette-spectrum`)]}}),r=iN.parts.thumb({dom:{tag:`div`,attributes:{role:`presentation`},classes:[t(`sv-palette-thumb`)],innerHtml:`<div class=${t(`sv-palette-inner-thumb`)} role="presentation"></div>`}}),i=(e,t)=>{let{width:n,height:r}=e,i=e.getContext(`2d`);if(i===null)return;i.fillStyle=t,i.fillRect(0,0,n,r);let a=i.createLinearGradient(0,0,n,0);a.addColorStop(0,`rgba(255,255,255,1)`),a.addColorStop(1,`rgba(255,255,255,0)`),i.fillStyle=a,i.fillRect(0,0,n,r);let o=i.createLinearGradient(0,0,0,r);o.addColorStop(0,`rgba(0,0,0,0)`),o.addColorStop(1,`rgba(0,0,0,1)`),i.fillStyle=o,i.fillRect(0,0,n,r)},a=(e,t)=>{let n=e.components()[0].element.dom;i(n,iD(eD(PD(t,100,100))))},o=(t,n)=>{let r=FD(tD(n));iN.setValue(t,{x:r.saturation,y:100-r.value}),cn(t.element,`aria-valuetext`,e([`Saturation {0}%, Brightness {1}%`,r.saturation,r.value]))};return Dg({factory:a=>{let o=C({x:0,y:0}),s=(t,n,r)=>{_(r)||cn(t.element,`aria-valuetext`,e([`Saturation {0}%, Brightness {1}%`,Math.floor(r.x),Math.floor(100-r.y)])),xs(t,sN,{value:r})},c=(e,t,n,r)=>{i(n.element.dom,iD(aD))},l=Z([jg.config({find:A.some}),Jy.config({})]);return iN.sketch({dom:{tag:`div`,attributes:{role:`slider`,"aria-valuetext":e([`Saturation {0}%, Brightness {1}%`,0,0])},classes:[t(`sv-palette`)]},model:{mode:`xy`,getInitialValue:o},rounded:!1,components:[n,r],onChange:s,onInit:c,sliderBehaviours:l})},name:`SaturationBrightnessPalette`,configFields:[],apis:{setHue:(e,t,n)=>{a(t,n)},setThumb:(e,t,n)=>{o(t,n)}},extraApis:{}})},SN=(e,t)=>Dg({name:`ColourPicker`,configFields:[K(`dom`),q(`onValidHex`,y),q(`onInvalidHex`,y)],factory:n=>{let r=bN(e,t,n.onValidHex,n.onInvalidHex),i=xN(e,t),a=e=>(100-e)/100*360,o=e=>100-e/360*100,s={paletteRgba:no(aD),paletteHue:no(0)},c=nx(cN(e,t)),l=nx(i.sketch({})),u=nx(r.sketch({})),d=(e,t,n)=>{l.getOpt(e).each(e=>{i.setHue(e,n)})},f=(e,t)=>{u.getOpt(e).each(e=>{r.updateHex(e,t)})},p=(e,t,n)=>{c.getOpt(e).each(e=>{iN.setValue(e,o(n))})},m=(e,t)=>{l.getOpt(e).each(e=>{i.setThumb(e,t)})},h=(e,t)=>{let n=tD(e);s.paletteRgba.set(n),s.paletteHue.set(t)},g=(e,t,n,r)=>{h(t,n),I(r,r=>{r(e,t,n)})};return{uid:n.uid,dom:n.dom,components:[l.asSpec(),c.asSpec(),u.asSpec()],behaviours:Z([Wy(`colour-picker-events`,[J(aN,(()=>{let e=[d,p,m];return(t,n)=>{let r=n.event.hex;g(t,r,ID(r).hue,e)}})()),J(sN,(()=>{let e=[f];return(t,n)=>{let r=n.event.value,i=s.paletteHue.get();g(t,LD(PD(i,r.x,100-r.y)),i,e)}})()),J(oN,(()=>{let e=[d,f];return(t,n)=>{let r=a(n.event.value),i=FD(s.paletteRgba.get());g(t,LD(PD(r,i.saturation,i.value)),r,e)}})())]),jg.config({find:e=>u.getOpt(e)}),ky.config({mode:`acyclic`})])}}}),CN={self:()=>jg.config({find:A.some}),memento:e=>jg.config({find:e.getOpt}),childAt:e=>jg.config({find:t=>Ut(t.element,e).bind(e=>t.getSystem().getByDom(e).toOptional())})},wN=ta([q(`preprocess`,w),q(`postprocess`,w)]),TN=(e,t)=>{let n=xa(`RepresentingConfigs.memento processors`,wN,t);return Q.config({store:{mode:`manual`,getValue:t=>{let r=e.get(t),i=Q.getValue(r);return n.postprocess(i)},setValue:(t,r)=>{let i=n.preprocess(r),a=e.get(t);Q.setValue(a,i)}}})},EN=(e,t,n)=>Q.config({store:{mode:`manual`,...e.map(e=>({initialValue:e})).getOr({}),getValue:t,setValue:n}}),DN=(e,t,n)=>EN(e,e=>t(e.element),(e,t)=>n(e.element,t)),ON=e=>DN(e,Gs,Ks),kN=e=>Q.config({store:{mode:`memory`,initialValue:e}}),AN={"colorcustom.rgb.red.label":`R`,"colorcustom.rgb.red.description":`Red component`,"colorcustom.rgb.green.label":`G`,"colorcustom.rgb.green.description":`Green component`,"colorcustom.rgb.blue.label":`B`,"colorcustom.rgb.blue.description":`Blue component`,"colorcustom.rgb.hex.label":`#`,"colorcustom.rgb.hex.description":`Hex color code`,"colorcustom.rgb.range":`Range 0 to 255`,"aria.color.picker":`Color Picker`,"aria.input.invalid":`Invalid input`},jN=e=>t=>s(t)?e.translate(AN[t]):e.translate(t),MN=(e,t,n)=>{let r=e=>`tox-`+e,i=nx(SN(jN(t),r).sketch({dom:{tag:`div`,classes:[r(`color-picker-container`)],attributes:{role:`presentation`}},onValidHex:e=>{xs(e,xA,{name:`hex-valid`,value:!0})},onInvalidHex:e=>{xs(e,xA,{name:`hex-valid`,value:!1})}}));return{dom:{tag:`div`},components:[i.asSpec()],behaviours:Z([EN(n,e=>{let t=i.get(e);return jg.getCurrent(t).bind(e=>Q.getValue(e).hex).map(e=>`#`+Ze(e,`#`)).getOr(``)},(e,t)=>{let n=A.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind(e=>xe(e,1)),r=i.get(e);jg.getCurrent(r).fold(()=>{console.log(`Can not find form`)},e=>{Q.setValue(e,{hex:n.getOr(``)}),hN.getField(e,`hex`).each(e=>{bs(e,zo())})})}),CN.self()])}};var NN=tinymce.util.Tools.resolve(`tinymce.Resource`);let PN=e=>Re(e,`init`),FN=e=>{let t=mf(),n=nx({dom:{tag:e.tag}}),r=mf();return{dom:{tag:`div`,classes:[`tox-custom-editor`]},behaviours:Z([Wy(`custom-editor-events`,[Bs(i=>{n.getOpt(i).each(n=>{(PN(e)?e.init(n.element.dom):NN.load(e.scriptId,e.scriptUrl).then(t=>t(n.element.dom,e.settings))).then(e=>{r.on(t=>{e.setValue(t)}),r.clear(),t.set(e)})})})]),EN(A.none(),()=>t.get().fold(()=>r.get().getOr(``),e=>e.getValue()),(e,n)=>{t.get().fold(()=>r.set(n),e=>e.setValue(n))}),CN.self()]),components:[n.asSpec()]}};var IN=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let LN=(e,t)=>{let n=IN.explode(t.getOption(`images_file_types`));return le(we(e),e=>ae(n,t=>tt(e.name.toLowerCase(),`.${t.toLowerCase()}`)))},RN=(e,t,n)=>{let r=(e,t)=>{t.stop()},i=e=>(t,n)=>{I(e,e=>{e(t,n)})},a=(e,t)=>{if(!Kg.isDisabled(e)){let n=t.event.raw;s(e,n.dataTransfer?.files)}},o=(e,t)=>{let n=t.event.raw.target;s(e,n.files)},s=(n,r)=>{r&&(Q.setValue(n,LN(r,t)),xs(n,vA,{name:e.name}))},c=nx({dom:{tag:`input`,attributes:{type:`file`,accept:`image/*`},styles:{display:`none`}},behaviours:Z([Wy(`input-file-events`,[Ls(Vo()),Ls(es())])])});return fA(e.label.map(e=>_A(e,t)),cA.parts.field({factory:{sketch:e=>({uid:e.uid,dom:{tag:`div`,classes:[`tox-dropzone-container`]},behaviours:Z([kN(n.getOr([])),CN.self(),Kg.config({}),ub.config({toggleClass:`dragenter`,toggleOnExecute:!1}),Wy(`dropzone-events`,[J(`dragenter`,i([r,ub.toggle])),J(`dragleave`,i([r,ub.toggle])),J(`dragover`,r),J(`drop`,i([r,a])),J(Bo(),o)])]),components:[{dom:{tag:`div`,classes:[`tox-dropzone`],styles:{}},components:[{dom:{tag:`p`},components:[zl(t.translate(`Drop an image here`))]},Qb.sketch({dom:{tag:`button`,styles:{position:`relative`},classes:[`tox-button`,`tox-button--secondary`]},components:[zl(t.translate(`Browse for an image`)),c.asSpec()],action:e=>{c.get(e).element.dom.click()},buttonBehaviours:Z([uA.config({}),aE.button(t.isDisabled),iE()])})]}]})}}),[`tox-form__group--stretched`],[])},zN=(e,t)=>({dom:{tag:`div`,classes:[`tox-form__grid`,`tox-form__grid--${e.columns}col`]},components:F(e.items,t.interpreter)}),BN=(e,t)=>{let n=null,r=null;return{cancel:()=>{d(n)||(clearTimeout(n),n=null,r=null)},throttle:(...i)=>{r=i,d(n)&&(n=setTimeout(()=>{let t=r;n=null,r=null,e.apply(null,t)},t))}}},VN=(e,t)=>{let n=null;return{cancel:()=>{d(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{d(n)&&(n=setTimeout(()=>{n=null,e.apply(null,r)},t))}}},HN=(e,t)=>{let n=null,r=()=>{d(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...i)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,i)},t)}}},UN=rc(`alloy-fake-before-tabstop`),WN=rc(`alloy-fake-after-tabstop`),GN=e=>({dom:{tag:`div`,styles:{width:`1px`,height:`1px`,outline:`none`},attributes:{tabindex:`0`},classes:e},behaviours:Z([Jy.config({ignore:!0}),uA.config({})])}),KN=(e,t)=>({dom:{tag:`div`,classes:[`tox-navobj`,...e.getOr([])]},components:[GN([UN]),t,GN([WN])],behaviours:Z([CN.childAt(1)])}),qN=(e,t)=>{xs(e,Lo(),{raw:{which:9,shiftKey:t}})},JN=(e,t)=>{let n=t.element;ul(n,UN)?qN(e,!0):ul(n,WN)&&qN(e,!1)},YN=e=>Ik(e,[`.`+UN,`.`+WN].join(`,`),k),XN=rc(`update-dialog`),ZN=rc(`update-title`),QN=rc(`update-body`),$N=rc(`update-footer`),eP=rc(`body-send-message`),tP=rc(`dialog-focus-shifted`),nP=Tr().browser,rP=nP.isSafari(),iP=nP.isFirefox(),aP=rP||iP,oP=nP.isChromium(),sP=({scrollTop:e,scrollHeight:t,clientHeight:n})=>Math.ceil(e)+n>=t,cP=(e,t)=>e.scrollTo(0,t===`bottom`?99999999:t),lP=(e,t)=>{let n=e.body;return A.from(!/^<!DOCTYPE (html|HTML)/.test(t)&&(!oP&&!rP||h(n)&&(n.scrollTop!==0||Math.abs(n.scrollHeight-n.clientHeight)>1))?n:e.documentElement)},uP=(e,t,n)=>{let r=e.dom;A.from(r.contentDocument).fold(n,e=>{let n=0,i=lP(e,t).map(e=>(n=e.scrollTop,e)).forall(sP),a=()=>{let e=r.contentWindow;h(e)&&(i?cP(e,`bottom`):!i&&aP&&n!==0&&cP(e,n))};rP&&r.addEventListener(`load`,a,{once:!0}),e.open(),e.write(t),e.close(),rP||a()})},dP=qe(aP,rP?500:200).map(e=>BN(uP,e)),fP=(e,t)=>{let n=no(e.getOr(``));return{getValue:e=>n.get(),setValue:(e,r)=>{if(n.get()!==r){let n=e.element,i=()=>cn(n,`srcdoc`,r);t?dP.fold(C(uP),e=>e.throttle)(n,r,i):i()}n.set(r)}}},pP=(e,t,n)=>{let r=`tox-dialog__iframe`,i=e.transparent?[]:[`${r}--opaque`],a=e.border?[`tox-navobj-bordered`]:[],o={...e.label.map(e=>({title:e})).getOr({}),...n.map(e=>({srcdoc:e})).getOr({}),...e.sandboxed?{sandbox:`allow-scripts allow-same-origin`}:{}},s=fP(n,e.streamContent);return fA(e.label.map(e=>_A(e,t)),cA.parts.field({factory:{sketch:e=>KN(A.from(a),{uid:e.uid,dom:{tag:`iframe`,attributes:o,classes:[r,...i]},behaviours:Z([uA.config({}),Jy.config({}),EN(n,s.getValue,s.setValue),Md.config({channels:{[tP]:{onReceive:(e,t)=>{t.newFocus.each(t=>{Rt(e.element).each(n=>{(At(e.element,t)?ol:cl)(n,`tox-navobj-bordered-focus`)})})}}}})])})}}),[`tox-form__group--stretched`],[])},mP=e=>new Promise((t,n)=>{let r=()=>{a(),t(e)},i=[gf(e,`load`,r),gf(e,`error`,()=>{a(),n(`Unable to load data from image: `+e.dom.src)})],a=()=>I(i,e=>e.unbind());e.dom.complete&&r()}),hP=(e,t,n,r,i)=>{let a=n*i,o=r*i,s=Math.max(0,e/2-a/2),c=Math.max(0,t/2-o/2);return{left:s.toString()+`px`,top:c.toString()+`px`,width:a.toString()+`px`,height:o.toString()+`px`}},gP=(e,t,n)=>{let r=zn(e),i=On(e);return Math.min(r/t,i/n,1)},_P=(e,t)=>{let n=no(t.getOr({url:``})),r=nx({dom:{tag:`img`,classes:[`tox-imagepreview__image`],attributes:t.map(e=>({src:e.url})).getOr({})}}),i=nx({dom:{tag:`div`,classes:[`tox-imagepreview__container`],attributes:{role:`presentation`}},components:[r.asSpec()]}),a=(e,t)=>{let a={url:t.url};t.zoom.each(e=>a.zoom=e),t.cachedWidth.each(e=>a.cachedWidth=e),t.cachedHeight.each(e=>a.cachedHeight=e),n.set(a);let o=()=>{let{cachedWidth:t,cachedHeight:n,zoom:r}=a;if(!p(t)&&!p(n)){p(r)&&(a.zoom=gP(e.element,t,n));let o=hP(zn(e.element),On(e.element),t,n,a.zoom);i.getOpt(e).each(e=>{H(e.element,o)})}};r.getOpt(e).each(n=>{let r=n.element;t.url!==un(r,`src`)&&(cn(r,`src`,t.url),cl(e.element,`tox-imagepreview__loaded`)),o(),mP(r).then(t=>{e.getSystem().isConnected()&&(ol(e.element,`tox-imagepreview__loaded`),a.cachedWidth=t.dom.naturalWidth,a.cachedHeight=t.dom.naturalHeight,o())})})},o={};e.height.each(e=>o.height=e);let s=t.map(e=>({url:e.url,zoom:A.from(e.zoom),cachedWidth:A.from(e.cachedWidth),cachedHeight:A.from(e.cachedHeight)}));return{dom:{tag:`div`,classes:[`tox-imagepreview`],styles:o,attributes:{role:`presentation`}},components:[i.asSpec()],behaviours:Z([CN.self(),EN(s,()=>n.get(),a)])}},vP=(e,t)=>{let n=`tox-label`,r=e.align===`center`?[`${n}--center`]:[],i=e.align===`end`?[`${n}--end`]:[];return{dom:{tag:`div`,classes:[`tox-form__group`]},components:[{dom:{tag:`label`,classes:[n,...r,...i]},components:[zl(t.providers.translate(e.label))]},...F(e.items,t.interpreter)],behaviours:Z([CN.self(),Hy.config({}),ON(A.none()),ky.config({mode:`acyclic`})])}},yP=rc(`toolbar.button.execute`),bP=e=>Us((t,n)=>{oE(e,t)(n=>{xs(t,yP,{buttonApi:n}),e.onAction(n)})}),xP=rc(`common-button-display-events`),SP={[Qo()]:[`disabling`,`alloy.base.behaviour`,`toggling`,`toolbar-button-events`],[ls()]:[`toolbar-button-events`,xP],[Ao()]:[`focusing`,`alloy.base.behaviour`,xP]},CP=e=>_n(e.element,`width`,yn(e.element,`width`)),wP=(e,t,n)=>gS(e,{tag:`span`,classes:[`tox-icon`,`tox-tbtn__icon-wrap`],behaviours:n},t),TP=(e,t)=>wP(e,t,[]),EP=(e,t)=>wP(e,t,[Hy.config({})]),DP=(e,t,n)=>({dom:{tag:`span`,classes:[`${t}__select-label`]},components:[zl(n.translate(e))],behaviours:Z([Hy.config({})])}),OP=rc(`update-menu-text`),kP=rc(`update-menu-icon`),AP=(e,t,n)=>{let r=no(y),i=e.text.map(e=>nx(DP(e,t,n.providers))),a=e.icon.map(e=>nx(EP(e,n.providers.icons))),o=(e,t)=>{let n=Q.getValue(e);return Jy.focus(n),xs(n,`keydown`,{raw:t.event.raw}),fk.close(n),A.some(!0)},s=e.role.fold(()=>({}),e=>({role:e})),c=e.tooltip.fold(()=>({}),e=>{let t=n.providers.translate(e);return{title:t,"aria-label":t}}),l=gS(`chevron-down`,{tag:`div`,classes:[`${t}__select-chevron`]},n.providers.icons),u=rc(`common-button-display-events`);return nx(fk.sketch({...e.uid?{uid:e.uid}:{},...s,dom:{tag:`button`,classes:[t,`${t}--select`].concat(F(e.classes,e=>`${t}--${e}`)),attributes:{...c}},components:dE([a.map(e=>e.asSpec()),i.map(e=>e.asSpec()),A.some(l)]),matchWidth:!0,useMinWidth:!0,onOpen:(t,n,r)=>{e.searchable&&bk(r)},dropdownBehaviours:Z([...e.dropdownBehaviours,aE.button(()=>e.disabled||n.providers.isDisabled()),iE(),LA.config({}),Hy.config({}),Wy(`dropdown-events`,[sE(e,r),cE(e,r)]),Wy(u,[Bs((e,t)=>CP(e))]),Wy(`menubutton-update-display-text`,[J(OP,(e,t)=>{i.bind(t=>t.getOpt(e)).each(e=>{Hy.set(e,[zl(n.providers.translate(t.event.text))])})}),J(kP,(e,t)=>{a.bind(t=>t.getOpt(e)).each(e=>{Hy.set(e,[EP(t.event.icon,n.providers.icons)])})})])]),eventOrder:Ti(SP,{mousedown:[`focusing`,`alloy.base.behaviour`,`item-type-events`,`normal-dropdown-events`],[ls()]:[`toolbar-button-events`,`dropdown-events`,u]}),sandboxBehaviours:Z([ky.config({mode:`special`,onLeft:o,onRight:o}),Wy(`dropdown-sandbox-events`,[J(aw,(e,t)=>{mk(e),t.stop()}),J(ow,(e,t)=>{hk(e,t),t.stop()})])]),lazySink:n.getSink,toggleClass:`${t}--active`,parts:{menu:{...$C(!1,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:vk,onCollapseMenu:(e,t,n)=>{d_.getHighlighted(n).each(t=>{vk(e,n,t)})},onDehighlightItem:yk}},getAnchorOverrides:()=>({maxHeightFunction:(e,t)=>{If()(e,t-10)}}),fetch:t=>YO.nu(E(e.fetch,t))})).asSpec()},jP=e=>s(e),MP=e=>e.type===`separator`,NP=e=>Re(e,`getSubmenuItems`),PP={type:`separator`},FP=(e,t)=>{let n=de(e,(e,n)=>jP(n)?n===``?e:n===`|`?e.length>0&&!MP(e[e.length-1])?e.concat([PP]):e:Re(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n]),[]);return n.length>0&&MP(n[n.length-1])&&n.pop(),n},IP=(e,t)=>{let n=RP(e.getSubmenuItems(),t);return{item:e,menus:Ti(n.menus,{[e.value]:n.items}),expansions:Ti(n.expansions,{[e.value]:e.value})}},LP=e=>Ti({value:z(e,`value`).getOrThunk(()=>rc(`generated-menu-item`))},e),RP=(e,t)=>ue(FP(s(e)?e.split(` `):e,t),(e,n)=>{if(NP(n)){let r=IP(LP(n),t);return{menus:Ti(e.menus,r.menus),items:[r.item,...e.items],expansions:Ti(e.expansions,r.expansions)}}else return{...e,items:[n,...e.items]}},{menus:{},expansions:{},items:[]}),zP=e=>e.search.fold(()=>({searchMode:`no-search`}),e=>({searchMode:`search-with-field`,placeholder:e.placeholder})),BP=e=>e.search.fold(()=>({searchMode:`no-search`}),e=>({searchMode:`search-with-results`})),VP=(e,t,n,r)=>{let i=rc(`primary-menu`),a=RP(e,n.shared.providers.menuItems());if(a.items.length===0)return A.none();let o=zP(r),s=Tk(i,a.items,t,n,r.isHorizontalMenu,o),c=BP(r),l=Ti(ke(a.menus,(e,r)=>Tk(r,e,t,n,!1,c)),lo(i,s));return A.from(Jb.tieredData(i,l,a.expansions))},HP=e=>!Re(e,`items`),UP=`data-value`,WP=(e,t,n,r)=>F(n,n=>HP(n)?{type:`togglemenuitem`,text:n.text,value:n.value,active:n.value===r,onAction:()=>{Q.setValue(e,n.value),xs(e,vA,{name:t}),Jy.focus(e)}}:{type:`nestedmenuitem`,text:n.text,getSubmenuItems:()=>WP(e,t,n.items,r)}),GP=(e,t)=>Te(e,e=>HP(e)?qe(e.value===t,e):GP(e.items,t)),KP=(e,t,n)=>{let r=t.shared.providers,i=n.bind(t=>GP(e.items,t)).orThunk(()=>Se(e.items).filter(HP)),a=e.label.map(e=>_A(e,r)),o={dom:{tag:`div`,classes:[`tox-listboxfield`]},components:[cA.parts.field({dom:{},factory:{sketch:n=>AP({uid:n.uid,text:i.map(e=>e.text),icon:A.none(),tooltip:e.label,role:A.none(),fetch:(n,r)=>{r(VP(WP(n,e.name,e.items,Q.getValue(n)),FC.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:A.none()}))},onSetup:C(y),getApi:C({}),columns:1,presets:`normal`,classes:[],dropdownBehaviours:[uA.config({}),EN(i.map(e=>e.value),e=>un(e.element,UP),(t,n)=>{GP(e.items,n).each(e=>{cn(t.element,UP,e.value),xs(t,OP,{text:e.text})})})]},`tox-listbox`,t.shared)}})]};return cA.sketch({dom:{tag:`div`,classes:[`tox-form__group`]},components:L([a.toArray(),[o]]),fieldBehaviours:Z([Kg.config({disabled:C(!e.enabled),onDisabled:e=>{cA.getField(e).each(Kg.disable)},onEnabled:e=>{cA.getField(e).each(Kg.enable)}})])})},qP=(e,t)=>({dom:{tag:`div`,classes:e.classes},components:F(e.items,t.shared.interpreter)}),JP=Dg({name:`HtmlSelect`,configFields:[K(`options`),gh(`selectBehaviours`,[Jy,Q]),q(`selectClasses`,[]),q(`selectAttributes`,{}),Ra(`data`)],factory:(e,t)=>{let n=F(e.options,e=>({dom:{tag:`option`,value:e.value,innerHtml:e.text}})),r=e.data.map(e=>lo(`initialValue`,e)).getOr({});return{uid:e.uid,dom:{tag:`select`,classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:vh(e.selectBehaviours,[Jy.config({}),Q.config({store:{mode:`manual`,getValue:e=>_l(e.element),setValue:(t,n)=>{let r=Se(e.options);pe(e.options,e=>e.value===n).isSome()?vl(t.element,n):t.element.dom.selectedIndex===-1&&n===``&&r.each(e=>vl(t.element,e.value))},...r}})])}}}),YP=(e,t,n)=>{let r=F(e.items,e=>({text:t.translate(e.text),value:e.value})),i=e.label.map(e=>_A(e,t)),a=cA.parts.field({dom:{},...n.map(e=>({data:e})).getOr({}),selectAttributes:{size:e.size},options:r,factory:JP,selectBehaviours:Z([Kg.config({disabled:()=>!e.enabled||t.isDisabled()}),uA.config({}),Wy(`selectbox-change`,[J(Bo(),(t,n)=>{xs(t,vA,{name:e.name})})])])}),o=e.size>1?A.none():A.some(gS(`chevron-down`,{tag:`div`,classes:[`tox-selectfield__icon-js`]},t.icons)),s={dom:{tag:`div`,classes:[`tox-selectfield`]},components:L([[a],o.toArray()])};return cA.sketch({dom:{tag:`div`,classes:[`tox-form__group`]},components:L([i.toArray(),[s]]),fieldBehaviours:Z([Kg.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{cA.getField(e).each(Kg.disable)},onEnabled:e=>{cA.getField(e).each(Kg.enable)}}),iE()])})},XP=C([q(`field1Name`,`field1`),q(`field2Name`,`field2`),Y(`onLockedChange`),Cu([`lockClass`]),q(`locked`,!1),yh.field(`coupledFieldBehaviours`,[jg,Q])]),ZP=(e,t,n)=>lg(e,t,n).bind(jg.getCurrent),QP=(e,t)=>Jh({factory:cA,name:e,overrides:e=>({fieldBehaviours:Z([Wy(`coupled-input-behaviour`,[J(zo(),n=>{ZP(n,e,t).each(t=>{lg(n,e,`lock`).each(r=>{ub.isOn(r)&&e.onLockedChange(n,t,r)})})})])])})}),$P=C([QP(`field1`,`field2`),QP(`field2`,`field1`),Jh({factory:Qb,schema:[K(`dom`)],name:`lock`,overrides:e=>({buttonBehaviours:Z([ub.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:`pressed`}})])})})]),eF=Og({name:`FormCoupledInputs`,configFields:XP(),partFields:$P(),factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,components:t,behaviours:yh.augment(e.coupledFieldBehaviours,[jg.config({find:A.some}),Q.config({store:{mode:`manual`,getValue:t=>{let n=mg(t,e,[`field1`,`field2`]);return{[e.field1Name]:Q.getValue(n.field1()),[e.field2Name]:Q.getValue(n.field2())}},setValue:(t,n)=>{let r=mg(t,e,[`field1`,`field2`]);ze(n,e.field1Name)&&Q.setValue(r.field1(),n[e.field1Name]),ze(n,e.field2Name)&&Q.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:t=>lg(t,e,`field1`),getField2:t=>lg(t,e,`field2`),getLock:t=>lg(t,e,`lock`)}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),tF=e=>{let t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=e.value.toFixed((e=>e in t?t[e]:1)(e.unit));return n.indexOf(`.`)!==-1&&(n=n.replace(/\.?0*$/,``)),n+e.unit},nF=e=>{let t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(t!==null){let e=parseFloat(t[1]),n=t[2];return ci.value({value:e,unit:n})}else return ci.error(e)},rF=(e,t)=>{let n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=e=>Re(n,e);return e.unit===t?A.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?A.some(e.value):A.some(e.value/n[e.unit]*n[t]):A.none()},iF=e=>A.none(),aF=(e,t)=>n=>rF(n,t).map(n=>({value:n*e,unit:t})),oF=(e,t)=>We(nF(e).toOptional(),nF(t).toOptional(),(e,t)=>rF(e,t.unit).map(e=>t.value/e).map(e=>aF(e,t.unit)).getOr(iF)).getOr(iF),sF=(e,t)=>{let n=iF,r=rc(`ratio-event`),i=e=>gS(e,{tag:`span`,classes:[`tox-icon`,`tox-lock-icon__`+e]},t.icons),a=eF.parts.lock({dom:{tag:`button`,classes:[`tox-lock`,`tox-button`,`tox-button--naked`,`tox-button--icon`],attributes:{title:t.translate(e.label.getOr(`Constrain proportions`))}},components:[i(`lock`),i(`unlock`)],buttonBehaviours:Z([Kg.config({disabled:()=>!e.enabled||t.isDisabled()}),iE(),uA.config({})])}),o=e=>({dom:{tag:`div`,classes:[`tox-form__group`]},components:e}),s=n=>cA.parts.field({factory:iw,inputClasses:[`tox-textfield`],inputBehaviours:Z([Kg.config({disabled:()=>!e.enabled||t.isDisabled()}),iE(),uA.config({}),Wy(`size-input-events`,[J(Fo(),(e,t)=>{xs(e,r,{isField1:n})}),J(Bo(),(t,n)=>{xs(t,vA,{name:e.name})})])]),selectOnFocus:!1}),c=e=>({dom:{tag:`label`,classes:[`tox-label`]},components:[zl(t.translate(e))]}),l=eF.parts.field1(o([cA.parts.label(c(`Width`)),s(!0)])),u=eF.parts.field2(o([cA.parts.label(c(`Height`)),s(!1)]));return eF.sketch({dom:{tag:`div`,classes:[`tox-form__group`]},components:[{dom:{tag:`div`,classes:[`tox-form__controls-h-stack`]},components:[l,u,o([c(`\xA0`),a])]}],field1Name:`width`,field2Name:`height`,locked:!0,markers:{lockClass:`tox-locked`},onLockedChange:(e,t,r)=>{nF(Q.getValue(e)).each(e=>{n(e).each(e=>{Q.setValue(t,tF(e))})})},coupledFieldBehaviours:Z([Kg.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{eF.getField1(e).bind(cA.getField).each(Kg.disable),eF.getField2(e).bind(cA.getField).each(Kg.disable),eF.getLock(e).each(Kg.disable)},onEnabled:e=>{eF.getField1(e).bind(cA.getField).each(Kg.enable),eF.getField2(e).bind(cA.getField).each(Kg.enable),eF.getLock(e).each(Kg.enable)}}),iE(),Wy(`size-input-events2`,[J(r,(e,t)=>{let r=t.event.isField1,i=r?eF.getField1(e):eF.getField2(e),a=r?eF.getField2(e):eF.getField1(e);n=oF(i.map(Q.getValue).getOr(``),a.map(Q.getValue).getOr(``))})])])})},cF=(e,t,n)=>{let r=iN.parts.label({dom:{tag:`label`,classes:[`tox-label`]},components:[zl(t.translate(e.label))]}),i=iN.parts.spectrum({dom:{tag:`div`,classes:[`tox-slider__rail`],attributes:{role:`presentation`}}}),a=iN.parts.thumb({dom:{tag:`div`,classes:[`tox-slider__handle`],attributes:{role:`presentation`}}});return iN.sketch({dom:{tag:`div`,classes:[`tox-slider`],attributes:{role:`presentation`}},model:{mode:`x`,minX:e.min,maxX:e.max,getInitialValue:C(n.getOrThunk(()=>(Math.abs(e.max)-Math.abs(e.min))/2))},components:[r,i,a],sliderBehaviours:Z([CN.self(),Jy.config({})]),onChoose:(t,n,r)=>{xs(t,vA,{name:e.name,value:r})}})},lF=(e,t)=>{let n=e=>({dom:{tag:`th`,innerHtml:t.translate(e)}}),r=e=>({dom:{tag:`thead`},components:[{dom:{tag:`tr`},components:F(e,n)}]}),i=e=>({dom:{tag:`td`,innerHtml:t.translate(e)}}),a=e=>({dom:{tag:`tr`},components:F(e,i)});return{dom:{tag:`table`,classes:[`tox-dialog__table`]},components:[r(e.header),(e=>({dom:{tag:`tbody`},components:F(e,a)}))(e.cells)],behaviours:Z([uA.config({}),Jy.config({})])}},uF=(e,t)=>{let n=e.label.map(e=>_A(e,t)),r=[Kg.config({disabled:()=>e.disabled||t.isDisabled()}),iE(),ky.config({mode:`execution`,useEnter:e.multiline!==!0,useControlEnter:e.multiline===!0,execute:e=>(bs(e,SA),A.some(!0))}),Wy(`textfield-change`,[J(zo(),(t,n)=>{xs(t,vA,{name:e.name})}),J(Xo(),(t,n)=>{xs(t,vA,{name:e.name})})]),uA.config({})],i=e.validation.map(e=>IA.config({getRoot:e=>Rt(e.element),invalidClass:`tox-invalid`,validator:{validate:t=>{let n=Q.getValue(t),r=e.validator(n);return YO.pure(r===!0?ci.value(n):ci.error(r))},validateOnLoad:e.validateOnLoad}})).toArray(),a=e.placeholder.fold(C({}),e=>({placeholder:t.translate(e)})),o=e.inputMode.fold(C({}),e=>({inputmode:e})),s={...a,...o},c=cA.parts.field({tag:e.multiline===!0?`textarea`:`input`,...e.data.map(e=>({data:e})).getOr({}),inputAttributes:s,inputClasses:[e.classname],inputBehaviours:Z(L([r,i])),selectOnFocus:!1,factory:iw});return fA(n,e.multiline?{dom:{tag:`div`,classes:[`tox-textarea-wrap`]},components:[c]}:c,(e.flex?[`tox-form__group--stretched`]:[]).concat(e.maximized?[`tox-form-group--maximize`]:[]),[Kg.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{cA.getField(e).each(Kg.disable)},onEnabled:e=>{cA.getField(e).each(Kg.enable)}}),iE()])},dF=(e,t,n)=>uF({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:`tox-textfield`,validation:A.none(),maximized:e.maximized,data:n},t),fF=(e,t,n)=>uF({name:e.name,multiline:!0,label:e.label,inputMode:A.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:`tox-textarea`,validation:A.none(),maximized:e.maximized,data:n},t),pF=(e,t)=>t.getAnimationRoot.fold(()=>e.element,t=>t(e)),mF=e=>e.dimension.property,hF=(e,t)=>e.dimension.getDimension(t),gF=(e,t)=>{fl(pF(e,t),[t.shrinkingClass,t.growingClass])},_F=(e,t)=>{cl(e.element,t.openClass),ol(e.element,t.closedClass),_n(e.element,mF(t),`0px`),Tn(e.element)},vF=(e,t)=>{cl(e.element,t.closedClass),ol(e.element,t.openClass),wn(e.element,mF(t))},yF=(e,t,n,r)=>{n.setCollapsed(),_n(e.element,mF(t),hF(t,e.element)),gF(e,t),_F(e,t),t.onStartShrink(e),t.onShrunk(e)},bF=(e,t,n,r)=>{let i=r.getOrThunk(()=>hF(t,e.element));n.setCollapsed(),_n(e.element,mF(t),i),Tn(e.element);let a=pF(e,t);cl(a,t.growingClass),ol(a,t.shrinkingClass),_F(e,t),t.onStartShrink(e)},xF=(e,t,n)=>{let r=hF(t,e.element);(r===`0px`?yF:bF)(e,t,n,A.some(r))},SF=(e,t,n)=>{let r=pF(e,t),i=ul(r,t.shrinkingClass),a=hF(t,e.element);vF(e,t);let o=hF(t,e.element);(i?()=>{_n(e.element,mF(t),a),Tn(e.element)}:()=>{_F(e,t)})(),cl(r,t.shrinkingClass),ol(r,t.growingClass),vF(e,t),_n(e.element,mF(t),o),n.setExpanded(),t.onStartGrow(e)},CF=(e,t,n)=>{if(n.isExpanded()){wn(e.element,mF(t));let n=hF(t,e.element);_n(e.element,mF(t),n)}},wF=(e,t,n)=>{n.isExpanded()||SF(e,t,n)},TF=(e,t,n)=>{n.isExpanded()&&xF(e,t,n)},EF=(e,t,n)=>{n.isExpanded()&&yF(e,t,n)},DF=(e,t,n)=>n.isExpanded(),OF=(e,t,n)=>n.isCollapsed(),kF=(e,t,n)=>ul(pF(e,t),t.growingClass)===!0,AF=(e,t,n)=>ul(pF(e,t),t.shrinkingClass)===!0;var jF=Object.freeze({__proto__:null,refresh:CF,grow:wF,shrink:TF,immediateShrink:EF,hasGrown:DF,hasShrunk:OF,isGrowing:kF,isShrinking:AF,isTransitioning:(e,t,n)=>kF(e,t)||AF(e,t),toggleGrow:(e,t,n)=>{(n.isExpanded()?xF:SF)(e,t,n)},disableTransitions:gF,immediateGrow:(e,t,n)=>{n.isExpanded()||(vF(e,t),_n(e.element,mF(t),hF(t,e.element)),gF(e,t),n.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),MF=Object.freeze({__proto__:null,exhibit:(e,t,n)=>t.expanded?Ac({classes:[t.openClass],styles:{}}):Ac({classes:[t.closedClass],styles:lo(t.dimension.property,`0px`)}),events:(e,t)=>Ds([zs(Uo(),(n,r)=>{r.event.raw.propertyName===e.dimension.property&&(gF(n,e),t.isExpanded()&&wn(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))})])});let NF=Od({fields:[K(`closedClass`),K(`openClass`),K(`shrinkingClass`),K(`growingClass`),Ra(`getAnimationRoot`),Tu(`onShrunk`),Tu(`onStartShrink`),Tu(`onGrown`),Tu(`onStartGrow`),q(`expanded`,!1),Oa(`dimension`,Ca(`property`,{width:[Ou(`property`,`width`),Ou(`getDimension`,e=>zn(e)+`px`)],height:[Ou(`property`,`height`),Ou(`getDimension`,e=>On(e)+`px`)]}))],name:`sliding`,active:MF,apis:jF,state:Object.freeze({__proto__:null,init:e=>{let t=no(e.expanded);return Tc({isExpanded:()=>t.get()===!0,isCollapsed:()=>t.get()===!1,setCollapsed:E(t.set,!1),setExpanded:E(t.set,!0),readState:()=>`expanded: `+t.get()})}})}),PF=e=>({isEnabled:()=>!Kg.isDisabled(e),setEnabled:t=>Kg.set(e,!t),setActive:t=>{let n=e.element;t?(ol(n,`tox-tbtn--enabled`),cn(n,`aria-pressed`,!0)):(cl(n,`tox-tbtn--enabled`),pn(n,`aria-pressed`))},isActive:()=>ul(e.element,`tox-tbtn--enabled`),setText:t=>{xs(e,OP,{text:t})},setIcon:t=>xs(e,kP,{icon:t})}),FF=(e,t,n,r,i=!0)=>AP({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:r,fetch:(t,r)=>{let i={pattern:e.search.isSome()?xk(t):``};e.fetch(t=>{r(VP(t,FC.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:e.search}))},i,PF(t))},onSetup:e.onSetup,getApi:PF,columns:1,presets:`normal`,classes:[],dropdownBehaviours:[...i?[uA.config({})]:[]]},t,n.shared),IF=(e,t,n)=>{let r=e=>r=>{let i=!r.isActive();r.setActive(i),e.storage.set(i),n.shared.getSink().each(n=>{t().getOpt(n).each(t=>{Pd(t.element),xs(t,xA,{name:e.name,value:e.storage.get()})})})},i=e=>t=>{t.setActive(e.storage.get())};return t=>{t(F(e,e=>{let t=e.text.fold(()=>({}),e=>({text:e}));return{type:e.type,active:!1,...t,onAction:r(e),onSetup:i(e)}}))}},LF=e=>({dom:{tag:`span`,classes:[`tox-tree__label`],attributes:{title:e,"aria-label":e}},components:[zl(e)]}),RF=rc(`leaf-label-event-id`),zF=({leaf:e,onLeafAction:t,visible:n,treeId:r,selectedId:i,backstage:a})=>{let o=e.menu.map(e=>FF(e,`tox-mbtn`,a,A.none(),n)),s=[LF(e.title)];return o.each(e=>s.push(e)),Qb.sketch({dom:{tag:`div`,classes:[`tox-tree--leaf__label`,`tox-trbtn`].concat(n?[`tox-tree--leaf__label--visible`]:[])},components:s,role:`treeitem`,action:n=>{t(e.id),n.getSystem().broadcastOn([`update-active-item-${r}`],{value:e.id})},eventOrder:{[Lo()]:[RF,`keying`]},buttonBehaviours:Z([...n?[uA.config({})]:[],ub.config({toggleClass:`tox-trbtn--enabled`,toggleOnExecute:!1,aria:{mode:`selected`}}),Md.config({channels:{[`update-active-item-${r}`]:{onReceive:(t,n)=>{(n.value===e.id?ub.on:ub.off)(t)}}}}),Wy(RF,[Bs((t,n)=>{i.each(n=>{(n===e.id?ub.on:ub.off)(t)})}),J(Lo(),(e,t)=>{let n=t.event.raw.code===`ArrowLeft`,r=t.event.raw.code===`ArrowRight`;n?(Ql(e.element,`.tox-tree--directory`).each(t=>{e.getSystem().getByDom(t).each(e=>{$l(t,`.tox-tree--directory__label`).each(t=>{e.getSystem().getByDom(t).each(Jy.focus)})})}),t.stop()):r&&t.stop()})])])})},BF=(e,t,n)=>gS(e,{tag:`span`,classes:[`tox-tree__icon-wrap`,`tox-icon`],behaviours:n},t),VF=(e,t)=>BF(e,t,[]),HF=rc(`directory-label-event-id`),UF=({directory:e,visible:t,noChildren:n,backstage:r})=>{let i=e.menu.map(e=>FF(e,`tox-mbtn`,r,A.none())),a=[{dom:{tag:`div`,classes:[`tox-chevron`]},components:[VF(`chevron-right`,r.shared.providers.icons)]},LF(e.title)];i.each(e=>{a.push(e)});let o=t=>{Ql(t.element,`.tox-tree--directory`).each(n=>{t.getSystem().getByDom(n).each(n=>{let r=!ub.isOn(n);ub.toggle(n),xs(t,`expand-tree-node`,{expanded:r,node:e.id})})})};return Qb.sketch({dom:{tag:`div`,classes:[`tox-tree--directory__label`,`tox-trbtn`].concat(t?[`tox-tree--directory__label--visible`]:[])},components:a,action:o,eventOrder:{[Lo()]:[HF,`keying`]},buttonBehaviours:Z([...t?[uA.config({})]:[],Wy(HF,[J(Lo(),(e,t)=>{let r=t.event.raw.code===`ArrowRight`,i=t.event.raw.code===`ArrowLeft`;r&&n&&t.stop(),(r||i)&&Ql(e.element,`.tox-tree--directory`).each(n=>{e.getSystem().getByDom(n).each(n=>{!ub.isOn(n)&&r||ub.isOn(n)&&i?(o(e),t.stop()):i&&!ub.isOn(n)&&(Ql(n.element,`.tox-tree--directory`).each(e=>{$l(e,`.tox-tree--directory__label`).each(e=>{n.getSystem().getByDom(e).each(Jy.focus)})}),t.stop())})})})])])})},WF=({children:e,onLeafAction:t,visible:n,treeId:r,expandedIds:i,selectedId:a,backstage:o})=>({dom:{tag:`div`,classes:[`tox-tree--directory__children`]},components:e.map(e=>e.type===`leaf`?zF({leaf:e,selectedId:a,onLeafAction:t,visible:n,treeId:r,backstage:o}):KF({directory:e,expandedIds:i,selectedId:a,onLeafAction:t,labelTabstopping:n,treeId:r,backstage:o})),behaviours:Z([NF.config({dimension:{property:`height`},closedClass:`tox-tree--directory__children--closed`,openClass:`tox-tree--directory__children--open`,growingClass:`tox-tree--directory__children--growing`,shrinkingClass:`tox-tree--directory__children--shrinking`,expanded:n}),Hy.config({})])}),GF=rc(`directory-event-id`),KF=({directory:e,onLeafAction:t,labelTabstopping:n,treeId:r,backstage:i,expandedIds:a,selectedId:o})=>{let{children:s}=e,c=no(a),l=e=>s.map(n=>n.type===`leaf`?zF({leaf:n,selectedId:o,onLeafAction:t,visible:e,treeId:r,backstage:i}):KF({directory:n,expandedIds:c.get(),selectedId:o,onLeafAction:t,labelTabstopping:e,treeId:r,backstage:i})),u=a.includes(e.id);return{dom:{tag:`div`,classes:[`tox-tree--directory`],attributes:{role:`treeitem`}},components:[UF({directory:e,visible:n,noChildren:e.children.length===0,backstage:i}),WF({children:s,expandedIds:a,selectedId:o,onLeafAction:t,visible:u,treeId:r,backstage:i})],behaviours:Z([Wy(GF,[Bs((e,t)=>{ub.set(e,u)}),J(`expand-tree-node`,(e,t)=>{let{expanded:n,node:r}=t.event;c.set(n?[...c.get(),r]:c.get().filter(e=>e!==r))})]),ub.config({...e.children.length>0?{aria:{mode:`expanded`}}:{},toggleClass:`tox-tree--directory--expanded`,onToggled:(e,t)=>{let n=e.components()[1],r=l(t);t?NF.grow(n):NF.shrink(n),Hy.set(n,r)}})])}},qF=rc(`tree-event-id`),JF=(e,t)=>{let n=e.onLeafAction.getOr(y),r=e.onToggleExpand.getOr(y),i=e.defaultExpandedIds,a=no(i),o=no(e.defaultSelectedId),s=rc(`tree-id`),c=(r,i)=>e.items.map(e=>e.type===`leaf`?zF({leaf:e,selectedId:r,onLeafAction:n,visible:!0,treeId:s,backstage:t}):KF({directory:e,selectedId:r,onLeafAction:n,expandedIds:i,labelTabstopping:!0,treeId:s,backstage:t}));return{dom:{tag:`div`,classes:[`tox-tree`],attributes:{role:`tree`}},components:c(o.get(),a.get()),behaviours:Z([ky.config({mode:`flow`,selector:`.tox-tree--leaf__label--visible, .tox-tree--directory__label--visible`,cycles:!1}),Wy(qF,[J(`expand-tree-node`,(e,t)=>{let{expanded:n,node:i}=t.event;a.set(n?[...a.get(),i]:a.get().filter(e=>e!==i)),r(a.get(),{expanded:n,node:i})})]),Md.config({channels:{[`update-active-item-${s}`]:{onReceive:(e,t)=>{o.set(A.some(t.value)),Hy.set(e,c(A.some(t.value),a.get()))}}}}),Hy.config({})])}};var YF=Object.freeze({__proto__:null,events:(e,t)=>{let n=e.stream.streams.setup(e,t);return Ds([J(e.event,n),Vs(()=>t.cancel())].concat(e.cancelEvent.map(e=>[J(e,()=>t.cancel())]).getOr([])))}});let XF=e=>{let t=no(null);return Tc({readState:()=>({timer:t.get()===null?`unset`:`set`}),setTimer:e=>{t.set(e)},cancel:()=>{let e=t.get();e!==null&&e.cancel()}})};var ZF=Object.freeze({__proto__:null,throttle:XF,init:e=>e.stream.streams.state(e)});let QF=Od({fields:[Oa(`stream`,Ca(`mode`,{throttle:[K(`delay`),q(`stopEvent`,!0),Ou(`streams`,{setup:(e,t)=>{let n=e.stream,r=HN(e.onStream,n.delay);return t.setTimer(r),(e,t)=>{r.throttle(e,t),n.stopEvent&&t.stop()}},state:XF})]})),q(`event`,`input`),Ra(`cancelEvent`),Y(`onStream`)],name:`streaming`,active:YF,state:ZF}),$F=(e,t,n)=>{let r=Q.getValue(n);Q.setValue(t,r),tI(t)},eI=(e,t)=>{let n=e.element,r=_l(n),i=n.dom;un(n,`type`)!==`number`&&t(i,r)},tI=e=>{eI(e,(e,t)=>e.setSelectionRange(t.length,t.length))},nI=(e,t)=>{eI(e,(e,n)=>e.setSelectionRange(t,n.length))},rI=(e,t,n)=>{if(e.selectsOver){let r=Q.getValue(t),i=e.getDisplayText(r),a=Q.getValue(n);return e.getDisplayText(a).indexOf(i)===0?A.some(()=>{$F(e,t,n),nI(t,i.length)}):A.none()}else return A.none()},iI=C(`alloy.typeahead.itemexecute`),aI=(e,t,n,r)=>{let i=(t,n,i)=>{e.previewing.set(!1);let a=WO.getCoupled(t,`sandbox`);Zm.isOpen(a)?jg.getCurrent(a).each(e=>{d_.getHighlighted(e).fold(()=>{i(e)},()=>{Es(a,e.element,`keydown`,n)})}):tk(e,o(t),t,a,r,e=>{jg.getCurrent(e).each(i)},Gb.HighlightMenuAndItem).get(y)},a=tw(e),o=e=>t=>t.map(t=>{let n=he(Le(t.menus),e=>le(e.items,e=>e.type===`item`));return Q.getState(e).update(F(n,e=>e.data)),t}),s=e=>jg.getCurrent(e),c=`typeaheadevents`,l=[Jy.config({}),Q.config({onSetValue:e.onSetValue,store:{mode:`dataset`,getDataKey:e=>_l(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,n)=>{vl(t.element,e.model.getDisplayText(n))},...e.initialData.map(e=>lo(`initialValue`,e)).getOr({})}}),QF.config({stream:{mode:`throttle`,delay:e.responseTime,stopEvent:!1},onStream:(t,n)=>{let i=WO.getCoupled(t,`sandbox`);if(Jy.isFocused(t)&&_l(t.element).length>=e.minChars){let n=s(i).bind(e=>d_.getHighlighted(e).map(Q.getValue));e.previewing.set(!0),tk(e,o(t),t,i,r,t=>{s(i).each(t=>{n.fold(()=>{e.model.selectsOver&&d_.highlightFirst(t)},e=>{d_.highlightBy(t,t=>Q.getValue(t).value===e.value),d_.getHighlighted(t).orThunk(()=>(d_.highlightFirst(t),A.none()))})})},Gb.HighlightJustMenu).get(y)}},cancelEvent:rs()}),ky.config({mode:`special`,onDown:(e,t)=>(i(e,t,d_.highlightFirst),A.some(!0)),onEscape:e=>{let t=WO.getCoupled(e,`sandbox`);return Zm.isOpen(t)?(Zm.close(t),A.some(!0)):A.none()},onUp:(e,t)=>(i(e,t,d_.highlightLast),A.some(!0)),onEnter:t=>{let n=WO.getCoupled(t,`sandbox`),r=Zm.isOpen(n);if(r&&!e.previewing.get())return s(n).bind(e=>d_.getHighlighted(e)).map(e=>(xs(t,iI(),{item:e}),!0));{let i=Q.getValue(t);return bs(t,rs()),e.onExecute(n,t,i),r&&Zm.close(n),A.some(!0)}}}),ub.config({toggleClass:e.markers.openClass,aria:{mode:`expanded`}}),WO.config({others:{sandbox:t=>sk(e,t,{onOpen:()=>ub.on(t),onClose:()=>{e.lazyTypeaheadComp.get().each(e=>pn(e.element,`aria-activedescendant`)),ub.off(t)}})}}),Wy(c,[Bs(t=>{e.lazyTypeaheadComp.set(A.some(t))}),Vs(t=>{e.lazyTypeaheadComp.set(A.none())}),Us(t=>{let n=y;rk(e,o(t),t,r,n,Gb.HighlightMenuAndItem).get(y)}),J(iI(),(t,n)=>{let r=WO.getCoupled(t,`sandbox`);$F(e.model,t,n.event.item),bs(t,rs()),e.onItemExecute(t,r,n.event.item,Q.getValue(t)),Zm.close(r),tI(t)})].concat(e.dismissOnBlur?[J(Yo(),e=>{let t=WO.getCoupled(e,`sandbox`);Rd(t.element).isNone()&&Zm.close(t)})]:[]))],u={[us()]:[Q.name(),QF.name(),c],...e.eventOrder};return{uid:e.uid,dom:rw(Ti(e,{inputAttributes:{role:`combobox`,"aria-autocomplete":`list`,"aria-haspopup":`true`}})),behaviours:{...a,...vh(e.typeaheadBehaviours,l)},eventOrder:u}},oI=C([Ra(`lazySink`),K(`fetch`),q(`minChars`,5),q(`responseTime`,1e3),Tu(`onOpen`),q(`getHotspot`,A.some),q(`getAnchorOverrides`,C({})),q(`layouts`,A.none()),q(`eventOrder`,{}),to(`model`,{},[q(`getDisplayText`,e=>e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.value),q(`selectsOver`,!0),q(`populateFromBrowse`,!0)]),Tu(`onSetValue`),Eu(`onExecute`),Tu(`onItemExecute`),q(`inputClasses`,[]),q(`inputAttributes`,{}),q(`inputStyles`,{}),q(`matchWidth`,!0),q(`useMinWidth`,!1),q(`dismissOnBlur`,!0),Cu([`openClass`]),Ra(`initialData`),gh(`typeaheadBehaviours`,[Jy,Q,QF,ky,ub,WO]),Ea(`lazyTypeaheadComp`,()=>no(A.none)),Ea(`previewing`,()=>no(!0))].concat(ew(),lk())),sI=C([Yh({schema:[Su()],name:`menu`,overrides:e=>({fakeFocus:!0,onHighlightItem:(t,n,r)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each(t=>{rI(e.model,t,r).fold(()=>{e.model.selectsOver?(d_.dehighlight(n,r),e.previewing.set(!0)):e.previewing.set(!1)},t=>{t(),e.previewing.set(!1)})}):e.lazyTypeaheadComp.get().each(t=>{e.model.populateFromBrowse&&$F(e.model,t,r),dn(r.element,`id`).each(e=>cn(t.element,`aria-activedescendant`,e))})},onExecute:(t,n)=>e.lazyTypeaheadComp.get().map(e=>(xs(e,iI(),{item:n}),!0)),onHover:(t,n)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each(t=>{e.model.populateFromBrowse&&$F(e.model,t,n)})}})})]),cI=Og({name:`Typeahead`,configFields:oI(),partFields:sI(),factory:aI}),lI=e=>{let t=()=>lI(e.toCached()),n=t=>lI(e.bind(e=>e.fold(e=>YO.pure(ci.error(e)),e=>t(e)))),r=t=>lI(e.map(e=>e.bind(t))),i=t=>lI(e.map(e=>e.map(t))),a=t=>lI(e.map(e=>e.mapError(t))),o=(t,n)=>e.map(e=>e.fold(t,n)),s=(t,n)=>lI(YO.nu(r=>{let i=!1,a=setTimeout(()=>{i=!0,r(ci.error(n()))},t);e.get(e=>{i||(clearTimeout(a),r(e))})}));return{...e,toCached:t,bindFuture:n,bindResult:r,mapResult:i,mapError:a,foldResult:o,withTimeout:s}},uI=e=>lI(YO.nu(e)),dI=e=>lI(YO.pure(ci.value(e))),fI={nu:uI,wrap:lI,pure:dI,value:dI,error:e=>lI(YO.pure(ci.error(e))),fromResult:e=>lI(YO.pure(e)),fromFuture:e=>lI(e.map(ci.value)),fromPromise:e=>uI(t=>{e.then(e=>{t(ci.value(e))},e=>{t(ci.error(e))})})},pI=(e,t,n=[],r,i,a)=>{let o=t.fold(()=>({}),e=>({action:e}));return Ti(Ti({buttonBehaviours:Z([aE.button(()=>!e.enabled||a.isDisabled()),iE(),uA.config({}),Wy(`button press`,[As(`click`),As(`mousedown`)])].concat(n)),eventOrder:{click:[`button press`,`alloy.base.behaviour`],mousedown:[`button press`,`alloy.base.behaviour`]},...o},{dom:r}),{components:i})},mI=(e,t,n,r=[])=>pI(e,t,r,{tag:`button`,classes:[`tox-tbtn`],attributes:e.tooltip.map(e=>({"aria-label":n.translate(e),title:n.translate(e)})).getOr({})},dE([e.icon.map(e=>TP(e,n.icons))]),n),hI=e=>{switch(e){case`primary`:return[`tox-button`];case`toolbar`:return[`tox-tbtn`];case`secondary`:default:return[`tox-button`,`tox-button--secondary`]}},gI=(e,t,n,r=[],i=[])=>{let a=n.translate(e.text),o=e.icon.map(e=>TP(e,n.icons)),s=[o.getOrThunk(()=>zl(a))];return pI(e,t,r,{tag:`button`,classes:[...hI(e.buttonType.getOr(!e.primary&&!e.borderless?`secondary`:`primary`)),...o.isSome()?[`tox-button--icon`]:[],...e.borderless?[`tox-button--naked`]:[],...i],attributes:{title:a}},s,n)},_I=(e,t,n,r=[],i=[])=>{let a=gI(e,A.some(t),n,r,i);return Qb.sketch(a)},vI=(e,t)=>n=>{t===`custom`?xs(n,xA,{name:e,value:{}}):t===`submit`?bs(n,SA):t===`cancel`?bs(n,bA):console.error(`Unknown button type: `,t)},yI=(e,t)=>t===`menu`,bI=(e,t)=>t===`custom`||t===`cancel`||t===`submit`,xI=(e,t)=>t===`togglebutton`,SI=(e,t)=>{let n=e.icon.map(e=>EP(e,t.icons)).map(nx),r=r=>{xs(r,xA,{name:e.name,value:{setIcon:e=>{n.map(n=>n.getOpt(r).each(n=>{Hy.set(n,[EP(e,t.icons)])}))}}})},i=e.buttonType.getOr(e.primary?`primary`:`secondary`),a={...e,name:e.name??``,primary:i===`primary`,tooltip:A.from(e.tooltip),enabled:e.enabled??!1,borderless:!1},o=a.tooltip.map(e=>({"aria-label":t.translate(e),title:t.translate(e)})).getOr({}),s=hI(i??`secondary`),c=e.icon.isSome()&&e.text.isSome(),l={tag:`button`,classes:[...s.concat(e.icon.isSome()?[`tox-button--icon`]:[]),...e.active?[`tox-button--enabled`]:[],...c?[`tox-button--icon-and-text`]:[]],attributes:o},u=[],d=zl(t.translate(e.text.getOr(``))),f=[...dE([n.map(e=>e.asSpec())]),...e.text.isSome()?[d]:[]],p=pI(a,A.some(r),u,l,f,t);return Qb.sketch(p)},CI=(e,t,n)=>{if(yI(e,t)){let t=()=>i,r=e,i=nx(FF({...e,type:`menubutton`,search:A.none(),onSetup:t=>(t.setEnabled(e.enabled),y),fetch:IF(r.items,t,n)},`tox-tbtn`,n,A.none()));return i.asSpec()}else if(bI(e,t)){let r=vI(e.name,t);return _I({...e,borderless:!1},r,n.shared.providers,[])}else if(xI(e,t))return SI(e,n.shared.providers);else throw console.error(`Unknown footer button type: `,t),Error(`Unknown footer button type`)},wI=(e,t)=>{let n=vI(e.name,`custom`);return pA(A.none(),cA.parts.field({factory:Qb,...gI(e,A.some(n),t,[kN(``),CN.self()])}))},TI={type:`separator`},EI=e=>({type:`menuitem`,value:e.url,text:e.title,meta:{attach:e.attach},onAction:y}),DI=(e,t)=>({type:`menuitem`,value:t,text:e,meta:{attach:void 0},onAction:y}),OI=e=>F(e,EI),kI=(e,t)=>le(t,t=>t.type===e),AI=(e,t)=>OI(kI(e,t)),jI=e=>AI(`header`,e.targets),MI=e=>AI(`anchor`,e.targets),NI=e=>A.from(e.anchorTop).map(e=>DI(`<top>`,e)).toArray(),PI=e=>A.from(e.anchorBottom).map(e=>DI(`<bottom>`,e)).toArray(),FI=e=>F(e,e=>DI(e,e)),II=e=>de(e,(e,t)=>e.length===0||t.length===0?e.concat(t):e.concat(TI,t),[]),LI=(e,t)=>{let n=e.toLowerCase();return le(t,e=>{let t=e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.text,r=e.value??``;return $e(t.toLowerCase(),n)||$e(r.toLowerCase(),n)})},RI=(e,t,n)=>{let r=Q.getValue(t),i=r?.meta?.text??r.value;return n.getLinkInformation().fold(()=>[],t=>{let r=LI(i,FI(n.getHistory(e)));return e===`file`?II([r,LI(i,jI(t)),LI(i,L([NI(t),MI(t),PI(t)]))]):r})},zI=rc(`aria-invalid`),BI=(e,t,n,r)=>{let i=t.shared.providers,a=t=>{let r=Q.getValue(t);n.addToHistory(r.value,e.filetype)},o={...r.map(e=>({initialData:e})).getOr({}),dismissOnBlur:!0,inputClasses:[`tox-textfield`],sandboxClasses:[`tox-dialog__popups`],inputAttributes:{"aria-errormessage":zI,type:`url`},minChars:0,responseTime:0,fetch:r=>{let i=VP(RI(e.filetype,r,n),FC.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:A.none()});return YO.pure(i)},getHotspot:e=>p.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(IA)&&IA.run(e).get(y)},typeaheadBehaviours:Z([...n.getValidationHandler().map(t=>IA.config({getRoot:e=>Rt(e.element),invalidClass:`tox-control-wrap--status-invalid`,notify:{onInvalid:(e,t)=>{l.getOpt(e).each(e=>{cn(e.element,`title`,i.translate(t))})}},validator:{validate:n=>{let r=Q.getValue(n);return fI.nu(n=>{t({type:e.filetype,url:r.value},e=>{e.status===`invalid`?n(ci.error(e.message)):n(ci.value(e.message))})})},validateOnLoad:!1}})).toArray(),Kg.config({disabled:()=>!e.enabled||i.isDisabled()}),uA.config({}),Wy(`urlinput-events`,[J(zo(),t=>{let n=_l(t.element),r=n.trim();r!==n&&vl(t.element,r),e.filetype===`file`&&xs(t,vA,{name:e.name})}),J(Bo(),t=>{xs(t,vA,{name:e.name}),a(t)}),J(Xo(),t=>{xs(t,vA,{name:e.name}),a(t)})])]),eventOrder:{[zo()]:[`streaming`,`urlinput-events`,`invalidating`]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:`tox-textfield--popup-open`},lazySink:t.shared.getSink,parts:{menu:$C(!1,1,`normal`)},onExecute:(e,t,n)=>{xs(t,SA,{})},onItemExecute:(t,n,r,i)=>{a(t),xs(t,vA,{name:e.name})}},s=cA.parts.field({...o,factory:cI}),c=e.label.map(e=>_A(e,i)),l=nx(((e,t,n=e,r=e)=>gS(n,{tag:`div`,classes:[`tox-icon`,`tox-control-wrap__status-icon-`+e],attributes:{title:i.translate(r),"aria-live":`polite`,...t.fold(()=>({}),e=>({id:e}))}},i.icons))(`invalid`,A.some(zI),`warning`)),u=nx({dom:{tag:`div`,classes:[`tox-control-wrap__status-icon-wrap`]},components:[l.asSpec()]}),d=n.getUrlPicker(e.filetype),f=rc(`browser.url.event`),p=nx({dom:{tag:`div`,classes:[`tox-control-wrap`]},components:[s,u.asSpec()],behaviours:Z([Kg.config({disabled:()=>!e.enabled||i.isDisabled()})])}),m=nx(_I({name:e.name,icon:A.some(`browse`),text:e.picker_text.or(e.label).getOr(``),enabled:e.enabled,primary:!1,buttonType:A.none(),borderless:!0},e=>bs(e,f),i,[],[`tox-browse-url`]));return cA.sketch({dom:hA(),components:c.toArray().concat([(()=>({dom:{tag:`div`,classes:[`tox-form__controls-h-stack`]},components:L([[p.asSpec()],d.map(()=>m.asSpec()).toArray()])}))()]),fieldBehaviours:Z([Kg.config({disabled:()=>!e.enabled||i.isDisabled(),onDisabled:e=>{cA.getField(e).each(Kg.disable),m.getOpt(e).each(Kg.disable)},onEnabled:e=>{cA.getField(e).each(Kg.enable),m.getOpt(e).each(Kg.enable)}}),iE(),Wy(`url-input-events`,[J(f,t=>{jg.getCurrent(t).each(n=>{let r=Q.getValue(n),i={fieldname:e.name,...r};d.each(r=>{r(i).get(r=>{Q.setValue(n,r),xs(t,vA,{name:e.name})})})})})])])})},VI=(e,t)=>{let n=dS(e.icon,t.icons);return rA.sketch({dom:{tag:`div`,attributes:{role:`alert`},classes:[`tox-notification`,`tox-notification--in`,`tox-notification--${e.level}`]},components:[{dom:{tag:`div`,classes:[`tox-notification__icon`],innerHtml:e.url?void 0:n},components:e.url?[Qb.sketch({dom:{tag:`button`,classes:[`tox-button`,`tox-button--naked`,`tox-button--icon`],innerHtml:n,attributes:{title:t.translate(e.iconTooltip)}},action:t=>xs(t,xA,{name:`alert-banner`,value:e.url}),buttonBehaviours:Z([mS()])})]:void 0},{dom:{tag:`div`,classes:[`tox-notification__body`],innerHtml:t.translate(e.text)}}]})},HI=(e,t)=>{e.dom.checked=t},UI=e=>e.dom.checked,WI=(e,t,n)=>{let r=e=>(e.element.dom.click(),A.some(!0)),i=cA.parts.field({factory:{sketch:w},dom:{tag:`input`,classes:[`tox-checkbox__input`],attributes:{type:`checkbox`}},behaviours:Z([CN.self(),Kg.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{Rt(e.element).each(e=>ol(e,`tox-checkbox--disabled`))},onEnabled:e=>{Rt(e.element).each(e=>cl(e,`tox-checkbox--disabled`))}}),uA.config({}),Jy.config({}),DN(n,UI,HI),ky.config({mode:`special`,onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Wy(`checkbox-events`,[J(Bo(),(t,n)=>{xs(t,vA,{name:e.name})})])])}),a=cA.parts.label({dom:{tag:`span`,classes:[`tox-checkbox__label`]},components:[zl(t.translate(e.label))],behaviours:Z([LA.config({})])}),o=e=>gS(e===`checked`?`selected`:`unselected`,{tag:`span`,classes:[`tox-icon`,`tox-checkbox-icon__`+e]},t.icons),s=nx({dom:{tag:`div`,classes:[`tox-checkbox__icons`]},components:[o(`checked`),o(`unchecked`)]});return cA.sketch({dom:{tag:`label`,classes:[`tox-checkbox`]},components:[i,s.asSpec(),a],fieldBehaviours:Z([Kg.config({disabled:()=>!e.enabled||t.isDisabled()}),iE()])})},GI=e=>e.presets===`presentation`?rA.sketch({dom:{tag:`div`,classes:[`tox-form__group`],innerHtml:e.html}}):rA.sketch({dom:{tag:`div`,classes:[`tox-form__group`],innerHtml:e.html,attributes:{role:`document`}},containerBehaviours:Z([uA.config({}),Jy.config({})])}),KI=e=>(t,n,r,i)=>z(n,`name`).fold(()=>e(n,i,A.none()),a=>t.field(a,e(n,i,z(r,a)))),qI={bar:KI((e,t)=>aA(e,t.shared)),collection:KI((e,t,n)=>DA(e,t.shared.providers,n)),alertbanner:KI((e,t)=>VI(e,t.shared.providers)),input:KI((e,t,n)=>dF(e,t.shared.providers,n)),textarea:KI((e,t,n)=>fF(e,t.shared.providers,n)),label:KI((e,t)=>vP(e,t.shared)),iframe:(e=>(t,n,r,i)=>{let a=Ti(n,{source:`dynamic`});return KI(e)(t,a,r,i)})((e,t,n)=>pP(e,t.shared.providers,n)),button:KI((e,t)=>wI(e,t.shared.providers)),checkbox:KI((e,t,n)=>WI(e,t.shared.providers,n)),colorinput:KI((e,t,n)=>HA(e,t.shared,t.colorinput,n)),colorpicker:KI((e,t,n)=>MN(e,t.shared.providers,n)),dropzone:KI((e,t,n)=>RN(e,t.shared.providers,n)),grid:KI((e,t)=>zN(e,t.shared)),listbox:KI((e,t,n)=>KP(e,t,n)),selectbox:KI((e,t,n)=>YP(e,t.shared.providers,n)),sizeinput:KI((e,t)=>sF(e,t.shared.providers)),slider:KI((e,t,n)=>cF(e,t.shared.providers,n)),urlinput:KI((e,t,n)=>BI(e,t,t.urlinput,n)),customeditor:KI(FN),htmlpanel:KI(GI),imagepreview:KI((e,t,n)=>_P(e,n)),table:KI((e,t)=>lF(e,t.shared.providers)),tree:KI((e,t)=>JF(e,t)),panel:KI((e,t)=>qP(e,t))},JI={field:(e,t)=>t,record:C([])},YI=(e,t,n,r)=>{let i=Ti(r,{shared:{interpreter:t=>XI(e,t,n,i)}});return XI(e,t,n,i)},XI=(e,t,n,r)=>z(qI,t.type).fold(()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t),i=>i(e,t,n,r)),ZI=(e,t,n)=>XI(JI,e,t,n),QI=`layout-inset`,$I=e=>e.x,eL=(e,t)=>e.x+e.width/2-t.width/2,tL=(e,t)=>e.x+e.width-t.width,nL=e=>e.y,rL=(e,t)=>e.y+e.height-t.height,iL=(e,t)=>e.y+e.height/2-t.height/2,aL=(e,t,n)=>ju(tL(e,t),rL(e,t),n.insetSouthwest(),zu(),`southwest`,qu(e,{right:0,bottom:3}),QI),oL=(e,t,n)=>ju($I(e),rL(e,t),n.insetSoutheast(),Ru(),`southeast`,qu(e,{left:1,bottom:3}),QI),sL=(e,t,n)=>ju(tL(e,t),nL(e),n.insetNorthwest(),Lu(),`northwest`,qu(e,{right:0,top:2}),QI),cL=(e,t,n)=>ju($I(e),nL(e),n.insetNortheast(),Iu(),`northeast`,qu(e,{left:1,top:2}),QI),lL=(e,t,n)=>ju(eL(e,t),nL(e),n.insetNorth(),Bu(),`north`,qu(e,{top:2}),QI),uL=(e,t,n)=>ju(eL(e,t),rL(e,t),n.insetSouth(),Vu(),`south`,qu(e,{bottom:3}),QI),dL=(e,t,n)=>ju(tL(e,t),iL(e,t),n.insetEast(),Uu(),`east`,qu(e,{right:0}),QI),fL=(e,t,n)=>ju($I(e),iL(e,t),n.insetWest(),Hu(),`west`,qu(e,{left:1}),QI),pL=e=>{switch(e){case`north`:return lL;case`northeast`:return cL;case`northwest`:return sL;case`south`:return uL;case`southeast`:return oL;case`southwest`:return aL;case`east`:return dL;case`west`:return fL}},mL=(e,t,n,r,i)=>nf(r).map(pL).getOr(lL)(e,t,n,r,i),hL=e=>{switch(e){case`north`:return uL;case`northeast`:return oL;case`northwest`:return aL;case`south`:return lL;case`southeast`:return cL;case`southwest`:return sL;case`east`:return fL;case`west`:return dL}},gL=(e,t,n,r,i)=>nf(r).map(hL).getOr(lL)(e,t,n,r,i),_L={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},vL=(e,t,n)=>{let r={maxHeightFunction:Lf()},i=()=>({type:`node`,root:Zt(Xt(e())),node:A.from(e()),bubble:Hf(12,12,_L),layouts:{onRtl:()=>[cL],onLtr:()=>[sL]},overrides:r}),a=()=>({type:`hotspot`,hotspot:t(),bubble:Hf(-12,12,_L),layouts:{onRtl:()=>[id,ad,ld],onLtr:()=>[ad,id,ld]},overrides:r});return()=>n()?i():a()},yL=(e,t,n,r)=>{let i={maxHeightFunction:Lf()},a=()=>({type:`node`,root:Zt(Xt(t())),node:A.from(t()),bubble:Hf(12,12,_L),layouts:{onRtl:()=>[lL],onLtr:()=>[lL]},overrides:i}),o=()=>e?{type:`node`,root:Zt(Xt(t())),node:A.from(t()),bubble:Hf(0,-kn(t()),_L),layouts:{onRtl:()=>[cd],onLtr:()=>[cd]},overrides:i}:{type:`hotspot`,hotspot:n(),bubble:Hf(0,0,_L),layouts:{onRtl:()=>[cd],onLtr:()=>[cd]},overrides:i};return()=>r()?a():o()},bL=(e,t,n)=>{let r=()=>({type:`node`,root:Zt(Xt(e())),node:A.from(e()),layouts:{onRtl:()=>[lL],onLtr:()=>[lL]}}),i=()=>({type:`hotspot`,hotspot:t(),layouts:{onRtl:()=>[ld],onLtr:()=>[ld]}});return()=>n()?r():i()},xL=(e,t)=>()=>({type:`selection`,root:t(),getSelection:()=>{let t=e.selection.getRng(),n=e.model.table.getSelectedCells();if(n.length>1){let e=n[0],t=n[n.length-1],r={firstCell:V.fromDom(e),lastCell:V.fromDom(t)};return A.some(r)}return A.some(yp.range(V.fromDom(t.startContainer),t.startOffset,V.fromDom(t.endContainer),t.endOffset))}}),SL=e=>t=>({type:`node`,root:e(),node:t}),CL=(e,t,n,r)=>{let i=CC(e),a=()=>V.fromDom(e.getBody()),o=()=>V.fromDom(e.getContentAreaContainer()),s=()=>i||!r();return{inlineDialog:vL(o,t,s),inlineBottomDialog:yL(e.inline,o,n,s),banner:bL(o,t,s),cursor:xL(e,a),node:SL(a)}},wL=e=>(t,n)=>{mO(e)(t,n)},TL=e=>()=>YD(e),EL=e=>t=>GD(e,t),DL=e=>t=>JD(e,t),OL=e=>({colorPicker:wL(e),hasCustomColors:TL(e),getColors:EL(e),getColorCols:DL(e)}),kL=e=>()=>rC(e),AL=e=>({isDraggableModal:kL(e)}),jL=e=>{let t=no(xC(e)?`bottom`:`top`);return{isPositionedAtTop:()=>t.get()===`top`,getDockingMode:t.get,setDockingMode:t.set}},ML=e=>ze(e,`items`),NL=e=>ze(e,`format`),PL=[{title:`Headings`,items:[{title:`Heading 1`,format:`h1`},{title:`Heading 2`,format:`h2`},{title:`Heading 3`,format:`h3`},{title:`Heading 4`,format:`h4`},{title:`Heading 5`,format:`h5`},{title:`Heading 6`,format:`h6`}]},{title:`Inline`,items:[{title:`Bold`,format:`bold`},{title:`Italic`,format:`italic`},{title:`Underline`,format:`underline`},{title:`Strikethrough`,format:`strikethrough`},{title:`Superscript`,format:`superscript`},{title:`Subscript`,format:`subscript`},{title:`Code`,format:`code`}]},{title:`Blocks`,items:[{title:`Paragraph`,format:`p`},{title:`Blockquote`,format:`blockquote`},{title:`Div`,format:`div`},{title:`Pre`,format:`pre`}]},{title:`Align`,items:[{title:`Left`,format:`alignleft`},{title:`Center`,format:`aligncenter`},{title:`Right`,format:`alignright`},{title:`Justify`,format:`alignjustify`}]}],FL=e=>Re(e,`items`),IL=e=>Re(e,`block`),LL=e=>Re(e,`inline`),RL=e=>Re(e,`selector`),zL=e=>de(e,(e,t)=>{if(FL(t)){let n=zL(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}else if(LL(t)||IL(t)||RL(t)){let n=`custom-${s(t.name)?t.name:t.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:n,format:t}]),formats:e.formats.concat([{title:t.title,format:n,icon:t.icon}])}}else return{...e,formats:e.formats.concat(t)}},{customFormats:[],formats:[]}),BL=(e,t)=>{let n=zL(t),r=t=>{I(t,t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)})};return e.formatter?r(n.customFormats):e.on(`init`,()=>{r(n.customFormats)}),n.formats},VL=e=>IS(e).map(t=>{let n=BL(e,t);return LS(e)?PL.concat(n):n}).getOr(PL),HL=e=>{let t=Ee(e);return t.length===1&&ie(t,`title`)},UL=(e,t,n)=>({...e,type:`formatter`,isSelected:t(e.format),getStylePreview:n(e.format)}),WL=(e,t,n,r)=>{let i=e=>UL(e,n,r),a=e=>{let t=c(e.items);return{...e,type:`submenu`,getStyleItems:C(t)}},o=t=>{let i=s(t.name)?t.name:rc(t.title),a=`custom-${i}`,o={...t,type:`formatter`,format:a,isSelected:n(a),getStylePreview:r(a)};return e.formatter.register(i,o),o},c=e=>F(e,e=>ML(e)?a(e):NL(e)?i(e):HL(e)?{...e,type:`separator`}:o(e));return c(t)},GL=e=>{let t=t=>()=>e.formatter.match(t),n=t=>()=>{let n=e.formatter.get(t);return n===void 0?A.none():A.some({tag:n.length>0&&(n[0].inline||n[0].block)||`div`,styles:e.dom.parseStyle(e.formatter.getCssText(t))})},r=no([]),i=no([]),a=no(!1);return e.on(`PreInit`,i=>{let a=WL(e,VL(e),t,n);r.set(a)}),e.on(`addStyleModifications`,r=>{let o=WL(e,r.items,t,n);i.set(o),a.set(r.replace)}),{getData:()=>{let e=a.get()?[]:r.get(),t=i.get();return e.concat(t)}}},KL=e=>h(e)&&e.nodeType===1,qL=IN.trim,JL=e=>t=>!!(KL(t)&&(t.contentEditable===e||t.getAttribute(`data-mce-contenteditable`)===e)),YL=JL(`true`),XL=JL(`false`),ZL=(e,t,n,r,i)=>({type:e,title:t,url:n,level:r,attach:i}),QL=e=>{let t=e;for(;t=t.parentNode;){let e=t.contentEditable;if(e&&e!==`inherit`)return YL(t)}return!1},$L=(e,t)=>F(Pp(V.fromDom(t),e),e=>e.dom),eR=e=>e.innerText||e.textContent,tR=e=>e.id?e.id:rc(`h`),nR=e=>e&&e.nodeName===`A`&&(e.id||e.name)!==void 0,rR=e=>nR(e)&&aR(e),iR=e=>e&&/^(H[1-6])$/.test(e.nodeName),aR=e=>QL(e)&&!XL(e),oR=e=>iR(e)&&aR(e),sR=e=>iR(e)?parseInt(e.nodeName.substr(1),10):0,cR=e=>{let t=tR(e);return ZL(`header`,eR(e)??``,`#`+t,sR(e),()=>{e.id=t})},lR=e=>{let t=e.id||e.name;return ZL(`anchor`,eR(e)||`#`+t,`#`+t,0,y)},uR=e=>F(le(e,oR),cR),dR=e=>F(le(e,rR),lR),fR=e=>$L(`h1,h2,h3,h4,h5,h6,a:not([href])`,e),pR=e=>qL(e.title).length>0,mR={find:e=>{let t=fR(e);return le(uR(t).concat(dR(t)),pR)}},hR=`tinymce-url-history`,gR=e=>s(e)&&/^https?/.test(e),_R=e=>u(e)&&e.length<=5&&ge(e,gR),vR=e=>c(e)&&Ie(e,e=>!_R(e)).isNone(),yR=()=>{let e=OD.getItem(hR);if(e===null)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log(`Local storage `+hR+` was not valid JSON`,e),{};throw e}return vR(t)?t:(console.log(`Local storage `+hR+` was not valid format`,t),{})},bR=e=>{if(!vR(e))throw Error(`Bad format for history:
`+JSON.stringify(e));OD.setItem(hR,JSON.stringify(e))},xR=e=>z(yR(),e).getOr([]),SR=(e,t)=>{if(!gR(e))return;let n=yR(),r=le(z(n,t).getOr([]),t=>t!==e);n[t]=[e].concat(r).slice(0,5),bR(n)},CR=e=>!!e,wR=e=>ke(IN.makeMap(e,/[, ]/),CR),TR=e=>A.from(XS(e)),ER=e=>{let t=A.from($S(e)).filter(CR).map(wR);return TR(e).fold(k,e=>t.fold(te,e=>Ee(e).length>0?e:!1))},DR=(e,t)=>{let n=ER(e);return f(n)?n?TR(e):A.none():n[t]?TR(e):A.none()},OR=(e,t)=>DR(e,t).map(n=>r=>YO.nu(i=>{let a=(e,t)=>{if(!s(e))throw Error(`Expected value to be string`);if(t!==void 0&&!c(t))throw Error(`Expected meta to be a object`);i({value:e,meta:t})},o={filetype:t,fieldname:r.fieldname,...A.from(r.meta).getOr({})};n.call(e,a,r.value,o)})),kR=e=>A.from(e).filter(s).getOrUndefined(),AR=e=>eC(e)?A.some({targets:mR.find(e.getBody()),anchorTop:kR(tC(e)),anchorBottom:kR(nC(e))}):A.none(),jR=e=>A.from(ZS(e)),MR=e=>({getHistory:xR,addToHistory:SR,getLinkInformation:()=>AR(e),getValidationHandler:()=>jR(e),getUrlPicker:t=>OR(e,t)}),NR=(e,t,n,r)=>{let i=no(!1),a=jL(t),o={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:aS.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},s=MR(t),c=GL(t),l=OL(t),u=AL(t),d={shared:{providers:o,anchors:CL(t,n,r,a.isPositionedAtTop),header:a},urlinput:s,styles:c,colorinput:l,dialog:u,isContextMenuOpen:()=>i.get(),setContextMenuState:e=>i.set(e)},f={...d,shared:{...d.shared,interpreter:e=>ZI(e,{},f),getSink:e.popup}},p={...d,shared:{...d.shared,interpreter:e=>ZI(e,{},p),getSink:e.dialog}};return{popup:f,dialog:p}},PR=(e,t,n)=>{let r=(e,r)=>{I([t,...n],t=>{t.broadcastEvent(e,r)})},i=(e,r)=>{I([t,...n],t=>{t.broadcastOn([e],r)})},a=e=>i(Qm(),{target:e.target}),o=Kr(),s=gf(o,`touchstart`,a),c=gf(o,`touchmove`,e=>r(as(),e)),l=gf(o,`touchend`,e=>r(os(),e)),u=gf(o,`mousedown`,a),d=gf(o,`mouseup`,e=>{e.raw.button===0&&i(eh(),{target:e.target})}),f=e=>i(Qm(),{target:V.fromDom(e.target)}),p=e=>{e.button===0&&i(eh(),{target:V.fromDom(e.target)})},m=()=>{I(e.editorManager.get(),t=>{e!==t&&t.dispatch(`DismissPopups`,{relatedTarget:e})})},h=e=>r(ss(),vf(e)),g=e=>{i($m(),{}),r(cs(),vf(e))},_=_f(Xt(V.fromDom(e.getElement())),`scroll`,n=>{requestAnimationFrame(()=>{e.getContainer()!=null&&ae(Pk(e,t.element).map(e=>[e.element,...e.others]).getOr([]),e=>At(e,n.target))&&(e.dispatch(`ElementScroll`,{target:n.target.dom}),r(hs(),n))})}),v=()=>i($m(),{}),y=t=>{t.state&&i(Qm(),{target:V.fromDom(e.getContainer())})},b=e=>{i(Qm(),{target:V.fromDom(e.relatedTarget.getContainer())})};e.on(`PostRender`,()=>{e.on(`click`,f),e.on(`tap`,f),e.on(`mouseup`,p),e.on(`mousedown`,m),e.on(`ScrollWindow`,h),e.on(`ResizeWindow`,g),e.on(`ResizeEditor`,v),e.on(`AfterProgressState`,y),e.on(`DismissPopups`,b)}),e.on(`remove`,()=>{e.off(`click`,f),e.off(`tap`,f),e.off(`mouseup`,p),e.off(`mousedown`,m),e.off(`ScrollWindow`,h),e.off(`ResizeWindow`,g),e.off(`ResizeEditor`,v),e.off(`AfterProgressState`,y),e.off(`DismissPopups`,b),u.unbind(),s.unbind(),c.unbind(),l.unbind(),d.unbind(),_.unbind()}),e.on(`detach`,()=>{I([t,...n],Fm),I([t,...n],e=>e.destroy())})},FR=_g,IR=$h,LR=C([q(`shell`,!1),K(`makeItem`),q(`setupItem`,y),yh.field(`listBehaviours`,[Hy])]),RR=C([Xh({name:`items`,overrides:()=>({behaviours:Z([Hy.config({})])})})]),zR=Og({name:C(`CustomList`)(),configFields:LR(),partFields:RR(),factory:(e,t,n,r)=>{let i=(t,n)=>{o(t).fold(()=>{throw console.error(`Custom List was defined to not be a shell, but no item container was specified in components`),Error(`Custom List was defined to not be a shell, but no item container was specified in components`)},r=>{let i=Hy.contents(r),a=n.length,o=a-i.length,s=o>0?oe(o,()=>e.makeItem()):[];I(i.slice(a),e=>Hy.remove(r,e)),I(s,e=>Hy.append(r,e)),I(Hy.contents(r),(r,i)=>{e.setupItem(t,r,n[i],i)})})},a=e.shell?{behaviours:[Hy.config({})],components:[]}:{behaviours:[],components:t},o=t=>e.shell?A.some(t):lg(t,e,`items`);return{uid:e.uid,dom:e.dom,components:a.components,behaviours:vh(e.listBehaviours,a.behaviours),apis:{setItems:i}}},apis:{setItems:(e,t,n)=>{e.setItems(t,n)}}}),BR=C([K(`dom`),q(`shell`,!0),gh(`toolbarBehaviours`,[Hy])]),VR=C([Xh({name:`groups`,overrides:()=>({behaviours:Z([Hy.config({})])})})]),HR=Og({name:`Toolbar`,configFields:BR(),partFields:VR(),factory:(e,t,n,r)=>{let i=(e,t)=>{a(e).fold(()=>{throw console.error(`Toolbar was defined to not be a shell, but no groups container was specified in components`),Error(`Toolbar was defined to not be a shell, but no groups container was specified in components`)},e=>{Hy.set(e,t)})},a=t=>e.shell?A.some(t):lg(t,e,`groups`),o=e.shell?{behaviours:[Hy.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:o.components,behaviours:vh(e.toolbarBehaviours,o.behaviours),apis:{setGroups:i,refresh:y},domModification:{attributes:{role:`group`}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)}}}),UR=y,WR=k,GR=C([]);var KR=Object.freeze({__proto__:null,setup:UR,isDocked:WR,getBehaviours:GR});let qR=e=>(Be(xn(e,`position`),`fixed`)?A.none():Bt(e)).orThunk(()=>{let t=V.fromTag(`span`);return It(e).bind(e=>{Ir(e,t);let n=Bt(t);return Br(t),n})}),JR=e=>qR(e).map(Fn).getOrThunk(()=>Mn(0,0)),YR=(e,t)=>{let n=e.element;ol(n,t.transitionClass),cl(n,t.fadeOutClass),ol(n,t.fadeInClass),t.onShow(e)},XR=(e,t)=>{let n=e.element;ol(n,t.transitionClass),cl(n,t.fadeInClass),ol(n,t.fadeOutClass),t.onHide(e)},ZR=(e,t)=>e.y<t.bottom&&e.bottom>t.y,QR=(e,t)=>e.y>=t.y,$R=(e,t)=>e.bottom<=t.bottom,ez=(e,t,n)=>({location:`top`,leftX:t,topY:n.bounds.y-e.y}),tz=(e,t,n)=>({location:`bottom`,leftX:t,bottomY:e.bottom-n.bounds.bottom}),nz=e=>e.box.x-e.win.x,rz=(e,t,n)=>{let r=t.win,i=t.box,a=nz(t);return Te(e,e=>{switch(e){case`bottom`:return $R(i,n.bounds)?A.none():A.some(tz(r,a,n));case`top`:return QR(i,n.bounds)?A.none():A.some(ez(r,a,n));default:return A.none()}}).getOr({location:`no-dock`})},iz=(e,t,n)=>ge(e,e=>{switch(e){case`bottom`:return $R(t,n.bounds);case`top`:return QR(t,n.bounds)}}),az=(e,t)=>{let n=t.optScrollEnv.fold(C(e.bounds.y),t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop));return Mn(e.bounds.x,n)},oz=(e,t)=>{let n=t.optScrollEnv.fold(C(e.y),t=>e.y+t.currentScrollTop-t.scrollElmTop);return Mn(e.x,n)},sz=(e,t,n)=>n.getInitialPos().map(n=>{let r=az(n,t);return{box:$r(r.left,r.top,zn(e),On(e)),location:n.location}}),cz=(e,t,n,r,i)=>{let a=oz(t,n),o=$r(a.left,a.top,t.width,t.height);r.setInitialPos({style:Sn(e),position:yn(e,`position`)||`static`,bounds:o,location:i.location})},lz=(e,t,n,r,i)=>{r.getInitialPos().fold(()=>cz(e,t,n,r,i),()=>y)},uz=(e,t,n)=>n.getInitialPos().bind(r=>{switch(n.clearInitialPos(),r.position){case`static`:return A.some({morph:`static`});case`absolute`:let n=qR(e).getOr(an()),i=ei(n),a=n.dom.scrollTop??0;return A.some({morph:`absolute`,positionCss:Bd(`absolute`,z(r.style,`left`).map(e=>t.x-i.x),z(r.style,`top`).map(e=>t.y-i.y+a),z(r.style,`right`).map(e=>i.right-t.right),z(r.style,`bottom`).map(e=>i.bottom-t.bottom))});default:return A.none()}}),dz=(e,t,n)=>sz(e,t,n).filter(({box:e})=>iz(n.getModes(),e,t)).bind(({box:t})=>uz(e,t,n)),fz=e=>{switch(e.location){case`top`:return A.some({morph:`fixed`,positionCss:Bd(`fixed`,A.some(e.leftX),A.some(e.topY),A.none(),A.none())});case`bottom`:return A.some({morph:`fixed`,positionCss:Bd(`fixed`,A.some(e.leftX),A.none(),A.none(),A.some(e.bottomY))});default:return A.none()}},pz=(e,t,n)=>{let r=ei(e),i=ii(),a=rz(n.getModes(),{win:i,box:r},t);return a.location===`top`||a.location===`bottom`?(cz(e,r,t,n,a),fz(a)):A.none()},mz=(e,t,n)=>dz(e,t,n).orThunk(()=>t.optScrollEnv.bind(r=>sz(e,t,n)).bind(({box:e,location:n})=>{let r=ii(),i=nz({win:r,box:e});return fz(n===`top`?ez(r,i,t):tz(r,i,t))})),hz=(e,t,n)=>{let r=e.element;return Be(xn(r,`position`),`fixed`)?mz(r,t,n):pz(r,t,n)},gz=(e,t,n)=>{let r=e.element;return sz(r,t,n).bind(({box:e})=>uz(r,e,n))},_z=(e,t,n,r)=>{let i=ei(e),a=ii(),o=r(a,nz({win:a,box:i}),t);return o.location===`bottom`||o.location===`top`?(lz(e,i,t,n,o),fz(o)):A.none()},vz=(e,t,n)=>{n.setDocked(!1),I([`left`,`right`,`top`,`bottom`,`position`],t=>wn(e.element,t)),t.onUndocked(e)},yz=(e,t,n,r)=>{let i=r.position===`fixed`;n.setDocked(i),Hd(e.element,r),(i?t.onDocked:t.onUndocked)(e)},bz=(e,t,n,r,i=!1)=>{t.contextual.each(t=>{t.lazyContext(e).each(a=>{let o=ZR(a,r.bounds);o!==n.isVisible()&&(n.setVisible(o),i&&!o?(dl(e.element,[t.fadeOutClass]),t.onHide(e)):(o?YR:XR)(e,t))})})},xz=(e,t,n,r,i)=>{bz(e,t,n,r,!0),yz(e,t,n,i.positionCss)},Sz=(e,t,n,r,i)=>{switch(i.morph){case`static`:return vz(e,t,n);case`absolute`:return yz(e,t,n,i.positionCss);case`fixed`:return xz(e,t,n,r,i)}},Cz=(e,t,n)=>{let r=t.lazyViewport(e);bz(e,t,n,r),hz(e,r,n).each(i=>{Sz(e,t,n,r,i)})},wz=(e,t,n)=>{let r=e.element;n.setDocked(!1),gz(e,t.lazyViewport(e),n).each(r=>{switch(r.morph){case`static`:vz(e,t,n);break;case`absolute`:yz(e,t,n,r.positionCss);break}}),n.setVisible(!0),t.contextual.each(t=>{fl(r,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)}),Tz(e,t,n)},Tz=(e,t,n)=>{e.getSystem().isConnected()&&Cz(e,t,n)},Ez=(e,t,n)=>{n.isDocked()&&wz(e,t,n)},Dz=e=>(t,n,r)=>{let i=n.lazyViewport(t);_z(t.element,i,r,e).each(e=>{xz(t,n,r,i,e)})},Oz=Dz(ez),kz=Dz(tz);var Az=Object.freeze({__proto__:null,refresh:Tz,reset:Ez,isDocked:(e,t,n)=>n.isDocked(),getModes:(e,t,n)=>n.getModes(),setModes:(e,t,n,r)=>n.setModes(r),forceDockToTop:Oz,forceDockToBottom:kz}),jz=Object.freeze({__proto__:null,events:(e,t)=>Ds([zs(Uo(),(n,r)=>{e.contextual.each(e=>{ul(n.element,e.transitionClass)&&(fl(n.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n)),r.stop()})}),J(ss(),(n,r)=>{Tz(n,e,t)}),J(hs(),(n,r)=>{Tz(n,e,t)}),J(cs(),(n,r)=>{Ez(n,e,t)})])});let Mz=Od({fields:[Ga(`contextual`,[Aa(`fadeInClass`),Aa(`fadeOutClass`),Aa(`transitionClass`),Na(`lazyContext`),Tu(`onShow`),Tu(`onShown`),Tu(`onHide`),Tu(`onHidden`)]),Qa(`lazyViewport`,()=>({bounds:ii(),optScrollEnv:A.none()})),eo(`modes`,[`top`,`bottom`],la),Tu(`onDocked`),Tu(`onUndocked`)],name:`docking`,active:jz,apis:Az,state:Object.freeze({__proto__:null,init:e=>{let t=no(!1),n=no(!0),r=mf(),i=no(e.modes);return Tc({isDocked:t.get,setDocked:t.set,getInitialPos:r.get,setInitialPos:r.set,clearInitialPos:r.clear,isVisible:n.get,setVisible:n.set,getModes:i.get,setModes:i.set,readState:()=>`docked:  ${t.get()}, visible: ${n.get()}, modes: ${i.get().join(`,`)}`})}})}),Nz=C(rc(`toolbar-height-change`)),Pz={fadeInClass:`tox-editor-dock-fadein`,fadeOutClass:`tox-editor-dock-fadeout`,transitionClass:`tox-editor-dock-transition`},Fz=`tox-tinymce--toolbar-sticky-on`,Iz=`tox-tinymce--toolbar-sticky-off`,Lz=(e,t)=>{let n=Mt(t),r=Ft(t).dom.innerHeight,i=Vr(n),a=V.fromDom(e.elm),o=ti(a),s=On(a),c=o.y,l=c+s,u=Fn(t),d=On(t),f=u.top,p=f+d,m=Math.abs(f-i.top)<2,h=Math.abs(p-(i.top+r))<2;if(m&&c<p)Hr(i.left,c-d,n);else if(h&&l>f){let e=c-r+s+d;Hr(i.left,e,n)}},Rz=(e,t)=>ie(Mz.getModes(e),t),zz=e=>{let t=e=>kn(e)+(parseInt(yn(e,`margin-top`),10)||0)+(parseInt(yn(e,`margin-bottom`),10)||0),n=e.element;Rt(n).each(r=>{let i=`padding-`+Mz.getModes(e)[0];Mz.isDocked(e)?(_n(n,`width`,zn(r)+`px`),_n(r,i,t(n)+`px`)):(wn(n,`width`),wn(r,i))})},Bz=(e,t)=>{t?(cl(e,Pz.fadeOutClass),dl(e,[Pz.transitionClass,Pz.fadeInClass])):(cl(e,Pz.fadeInClass),dl(e,[Pz.fadeOutClass,Pz.transitionClass]))},Vz=(e,t)=>{let n=V.fromDom(e.getContainer());t?(ol(n,Fz),cl(n,Iz)):(ol(n,Iz),cl(n,Fz))},Hz=(e,t)=>{let n=Mt(t);Ld(n).filter(e=>!At(t,e)).filter(t=>At(t,V.fromDom(n.dom.body))||jt(e,t)).each(()=>Pd(t))},Uz=(e,t)=>Rd(e).orThunk(()=>t().toOptional().bind(e=>Rd(e.element))),Wz=(e,t,n)=>{e.inline||(t.header.isPositionedAtTop()||e.on(`ResizeEditor`,()=>{n().each(Mz.reset)}),e.on(`ResizeWindow ResizeEditor`,()=>{n().each(zz)}),e.on(`SkinLoaded`,()=>{n().each(e=>{Mz.isDocked(e)?Mz.reset(e):Mz.refresh(e)})}),e.on(`FullscreenStateChanged`,()=>{n().each(Mz.reset)})),e.on(`AfterScrollIntoView`,e=>{n().each(t=>{Mz.refresh(t);let n=t.element;nv(n)&&Lz(e,n)})}),e.on(`PostRender`,()=>{Vz(e,!1)})},Gz=e=>e().map(Mz.isDocked).getOr(!1),Kz=()=>[Md.config({channels:{[Nz()]:{onReceive:zz}}})],qz=(e,t)=>{let n=mf(),r=t.getSink,i=e=>{r().each(t=>e(t.element))},a=t=>{e.inline||zz(t),Vz(e,Mz.isDocked(t)),t.getSystem().broadcastOn([$m()],{}),r().each(e=>e.getSystem().broadcastOn([$m()],{}))},o=e.inline?[]:Kz();return[Jy.config({}),Mz.config({contextual:{lazyContext:t=>{let n=kn(t.element),r=e.inline?e.getContentAreaContainer():e.getContainer();return A.from(r).map(r=>{let i=ei(V.fromDom(r));return Pk(e,t.element).fold(()=>{let e=i.height-n,r=i.y+(Rz(t,`top`)?0:n);return $r(i.x,r,i.width,e)},e=>{let r=ni(i,Fk(e)),a=Rz(t,`top`)?r.y:r.y+n;return $r(r.x,a,r.width,r.height-n)})})},onShow:()=>{i(e=>Bz(e,!0))},onShown:e=>{i(e=>fl(e,[Pz.transitionClass,Pz.fadeInClass])),n.get().each(t=>{Hz(e.element,t),n.clear()})},onHide:e=>{Uz(e.element,r).fold(n.clear,n.set),i(e=>Bz(e,!1))},onHidden:()=>{i(e=>fl(e,[Pz.transitionClass]))},...Pz},lazyViewport:t=>Pk(e,t.element).fold(()=>{let n=ii(),r=qS(e),i=n.y+(Rz(t,`top`)?r:0),a=n.height-(Rz(t,`bottom`)?r:0);return{bounds:$r(n.x,i,n.width,a),optScrollEnv:A.none()}},e=>({bounds:Fk(e),optScrollEnv:A.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Fn(e.element).top})})),modes:[t.header.getDockingMode()],onDocked:a,onUndocked:a}),...o]};var Jz=Object.freeze({__proto__:null,setup:Wz,isDocked:Gz,getBehaviours:qz});let Yz=e=>{let t=e.editor,n=e.sticky?qz:GR;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Z(n(t,e.sharedBackstage))}},Xz=ta([kw,Oa(`items`,ra([W([Aw,La(`items`,la)]),la]))].concat(lT)),Zz=e=>ya(`GroupToolbarButton`,Xz,e),Qz=ta([kw,...[Va(`text`),Va(`tooltip`),Va(`icon`),qa(`search`,!1,ra([ua,ta([Va(`placeholder`)])],e=>f(e)?e?A.some({placeholder:A.none()}):A.none():A.some(e))),Na(`fetch`),Qa(`onSetup`,()=>y)]]),$z=e=>ya(`menubutton`,Qz,e),eB=ta([kw,Ww,Uw,Hw,qw,Iw,Bw,Xa(`presets`,`normal`,[`normal`,`color`,`listpreview`]),Qw(1),Rw,zw]),tB=e=>ya(`SplitButton`,eB,e);var nB=Dg({factory:(e,t)=>{let n={focus:ky.focusIn,setMenus:(e,n)=>{let r=F(n,e=>FF($z({type:`menubutton`,text:e.text,fetch:t=>{t(e.getItems())}}).mapError(e=>Sa(e)).getOrDie(),`tox-mbtn`,t.backstage,A.some(`menuitem`)));Hy.set(e,r)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:Z([Hy.config({}),Wy(`menubar-events`,[Bs(t=>{e.onSetup(t)}),J(Po(),(e,t)=>{eu(e.element,`.tox-mbtn--active`).each(n=>{tu(t.event.target,`.tox-mbtn`).each(t=>{At(n,t)||e.getSystem().getByDom(n).each(n=>{e.getSystem().getByDom(t).each(e=>{fk.expand(e),fk.close(n),Jy.focus(e)})})})})}),J(ps(),(e,t)=>{t.event.prevFocus.bind(t=>e.getSystem().getByDom(t).toOptional()).each(n=>{t.event.newFocus.bind(t=>e.getSystem().getByDom(t).toOptional()).each(e=>{fk.isOpen(n)&&(fk.expand(e),fk.close(n))})})})]),ky.config({mode:`flow`,selector:`.tox-mbtn`,onEscape:t=>(e.onEscape(t),A.some(!0))}),uA.config({})]),apis:n,domModification:{attributes:{role:`menubar`}}}},name:`silver.Menubar`,configFields:[K(`dom`),K(`uid`),K(`onEscape`),K(`backstage`),q(`onSetup`,y)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,n)=>{e.setMenus(t,n)}}});let rB=e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:`a`,attributes:{href:`https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral`,rel:`noopener`,target:`_blank`,"aria-hidden":`true`},classes:[`tox-promotion-link`],innerHtml:`⚡️Upgrade`}}]}),iB=`container`,aB=[gh(`slotBehaviours`,[])],oB=e=>`<alloy.field.`+e+`>`,sB=e=>{let t=(()=>{let e=[];return{slot:(t,n)=>(e.push(t),ig(iB,oB(t),n)),record:C(e)}})(),n=e(t);return xg(iB,aB,F(t.record(),e=>Jh({name:e,pname:oB(e)})),cB,n)},cB=(e,t)=>{let n=t=>pg(e),r=(t,n)=>lg(t,e,n),i=(t,n)=>(r,i)=>lg(r,e,i).map(e=>t(e,i)).getOr(n),a=e=>(t,n)=>{I(n,n=>e(t,n))},o=(e,t)=>un(e.element,`aria-hidden`)!==`true`,s=(e,t)=>{if(!o(e)){let n=e.element;wn(n,`display`),pn(n,`aria-hidden`),xs(e,ms(),{name:t,visible:!0})}},c=(e,t)=>{if(o(e)){let n=e.element;_n(n,`display`,`none`),cn(n,`aria-hidden`,`true`),xs(e,ms(),{name:t,visible:!1})}},l=i(o,!1),u=i(c),d=a(u),f={getSlotNames:n,getSlot:r,isShowing:l,hideSlot:u,hideAllSlots:e=>d(e,n()),showSlot:i(s)};return{uid:e.uid,dom:e.dom,components:t,behaviours:_h(e.slotBehaviours),apis:f}},lB={...ke({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,n)=>e.getSlot(t,n),isShowing:(e,t,n)=>e.isShowing(t,n),hideSlot:(e,t,n)=>e.hideSlot(t,n),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,n)=>e.showSlot(t,n)},e=>Cc(e)),sketch:sB},uB=ta([Uw,Ww,Qa(`onShow`,y),Qa(`onHide`,y),Bw]),dB=e=>ya(`sidebar`,uB,e),fB=e=>{let{sidebars:t}=e.ui.registry.getAll();I(Ee(t),n=>{let r=t[n],i=()=>Be(A.from(e.queryCommandValue(`ToggleSidebar`)),n);e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:t=>{e.execCommand(`ToggleSidebar`,!1,n),t.setActive(i())},onSetup:t=>{t.setActive(i());let n=()=>t.setActive(i());return e.on(`ToggleSidebar`,n),()=>{e.off(`ToggleSidebar`,n)}}})})},pB=e=>({element:()=>e.element.dom}),mB=(e,t)=>{let n=F(Ee(t),e=>{let n=t[e],r=ba(dB(n));return{name:e,getApi:pB,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}});return F(n,t=>{let r=no(y);return e.slot(t.name,{dom:{tag:`div`,classes:[`tox-sidebar__pane`]},behaviours:GT.unnamedEvents([sE(t,r),cE(t,r),J(ms(),(e,t)=>{let r=t.event;pe(n,e=>e.name===r.name).each(t=>{(r.visible?t.onShow:t.onHide)(t.getApi(e))})})])})})},hB=e=>lB.sketch(t=>({dom:{tag:`div`,classes:[`tox-sidebar__pane-container`]},components:mB(t,e),slotBehaviours:GT.unnamedEvents([Bs(e=>lB.hideAllSlots(e))])})),gB=(e,t,n)=>{jg.getCurrent(e).each(r=>{Hy.set(r,[hB(t)]);let i=n?.toLowerCase();s(i)&&Re(t,i)&&jg.getCurrent(r).each(t=>{lB.showSlot(t,i),NF.immediateGrow(r),wn(r.element,`width`),_B(e.element,`region`)})})},_B=(e,t)=>{cn(e,`role`,t)},vB=(e,t)=>{jg.getCurrent(e).each(n=>{jg.getCurrent(n).each(r=>{NF.hasGrown(n)?lB.isShowing(r,t)?(NF.shrink(n),_B(e.element,`presentation`)):(lB.hideAllSlots(r),lB.showSlot(r,t),_B(e.element,`region`)):(lB.hideAllSlots(r),lB.showSlot(r,t),NF.grow(n),_B(e.element,`region`))})})},yB=e=>jg.getCurrent(e).bind(e=>NF.isGrowing(e)||NF.hasGrown(e)?jg.getCurrent(e).bind(e=>pe(lB.getSlotNames(e),t=>lB.isShowing(e,t))):A.none()),bB=rc(`FixSizeEvent`),xB=rc(`AutoSizeEvent`),SB=e=>({uid:e.uid,dom:{tag:`div`,classes:[`tox-sidebar`],attributes:{role:`presentation`}},components:[{dom:{tag:`div`,classes:[`tox-sidebar__slider`]},components:[],behaviours:Z([uA.config({}),Jy.config({}),NF.config({dimension:{property:`width`},closedClass:`tox-sidebar--sliding-closed`,openClass:`tox-sidebar--sliding-open`,shrinkingClass:`tox-sidebar--sliding-shrinking`,growingClass:`tox-sidebar--sliding-growing`,onShrunk:e=>{jg.getCurrent(e).each(lB.hideAllSlots),bs(e,xB)},onGrown:e=>{bs(e,xB)},onStartGrow:e=>{xs(e,bB,{width:xn(e.element,`width`).getOr(``)})},onStartShrink:e=>{xs(e,bB,{width:zn(e.element)+`px`})}}),Hy.config({}),jg.config({find:e=>Se(Hy.contents(e))})])}],behaviours:Z([CN.childAt(0),Wy(`sidebar-sliding-events`,[J(bB,(e,t)=>{_n(e.element,`width`,t.event.width)}),J(xB,(e,t)=>{wn(e.element,`width`)})])])});var CB=Object.freeze({__proto__:null,block:(e,t,n,r)=>{cn(e.element,`aria-busy`,!0);let i=t.getRoot(e).getOr(e),a=r(i,Z([ky.config({mode:`special`,onTab:()=>A.some(!0),onShiftTab:()=>A.some(!0)}),Jy.config({})])),o=i.getSystem().build(a);Hy.append(i,Gl(o)),o.hasConfigured(ky)&&t.focus&&ky.focusIn(o),n.isBlocked()||t.onBlock(e),n.blockWith(()=>Hy.remove(i,o))},unblock:(e,t,n)=>{pn(e.element,`aria-busy`),n.isBlocked()&&t.onUnblock(e),n.clear()},isBlocked:(e,t,n)=>n.isBlocked()});let wB=Od({fields:[Qa(`getRoot`,A.none),Za(`focus`,!0),Tu(`onBlock`),Tu(`onUnblock`)],name:`blocking`,apis:CB,state:Object.freeze({__proto__:null,init:()=>{let e=ff();return Tc({readState:e.isSet,blockWith:t=>{e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),TB=e=>(t,n)=>({dom:{tag:`div`,attributes:{"aria-label":e.translate(`Loading...`),tabindex:`0`},classes:[`tox-throbber__busy-spinner`]},components:[{dom:tx(`<div class="tox-spinner"><div></div><div></div><div></div></div>`)}]}),EB=e=>jg.getCurrent(e).each(e=>Pd(e.element,!0)),DB=(e,t)=>{let n=`tabindex`,r=`data-mce-${n}`;A.from(e.iframeElement).map(V.fromDom).each(e=>{t?(dn(e,n).each(t=>cn(e,r,t)),cn(e,n,-1)):(pn(e,n),dn(e,r).each(t=>{cn(e,n,t),pn(e,r)}))})},OB=(e,t,n,r)=>{let i=t.element;if(DB(e,n),n)wB.block(t,TB(r)),wn(i,`display`),pn(i,`aria-hidden`),e.hasFocus()&&EB(t);else{let n=jg.getCurrent(t).exists(e=>Id(e.element));wB.unblock(t),_n(i,`display`,`none`),cn(i,`aria-hidden`,`true`),n&&e.focus()}},kB=e=>({uid:e.uid,dom:{tag:`div`,attributes:{"aria-hidden":`true`},classes:[`tox-throbber`],styles:{display:`none`}},behaviours:Z([Hy.config({}),wB.config({focus:!1}),jg.config({find:e=>Se(e.components())})]),components:[]}),AB=e=>e.type===`focusin`,jB=e=>AB(e)?(e.composed?Se(e.composedPath()):A.from(e.target)).map(V.fromDom).filter(xt).exists(e=>ul(e,`mce-pastebin`)):!1,MB=(e,t,n)=>{let r=no(!1),i=mf(),a=n=>{r.get()&&!jB(n)&&(n.preventDefault(),EB(t()),e.editorManager.setActive(e))};e.inline||e.on(`PreInit`,()=>{e.dom.bind(e.getWin(),`focusin`,a),e.on(`BeforeExecCommand`,e=>{e.command.toLowerCase()===`mcefocus`&&e.value!==!0&&a(e)})});let o=i=>{i!==r.get()&&(r.set(i),OB(e,t(),i,n.providers),fD(e,i))};e.on(`ProgressState`,t=>{if(i.on(clearTimeout),_(t.time)){let n=Zb.setEditorTimeout(e,()=>o(t.state),t.time);i.set(n)}else o(t.state),i.clear()})},NB=(e,t)=>de(e,(e,n)=>t(n,e.len).fold(C(e),t=>({len:t.finish,list:e.list.concat([t])})),{len:0,list:[]}).list,PB=(e,t,n)=>({within:e,extra:t,withinWidth:n}),FB=(e,t,n)=>{let r=NB(e,(e,t)=>{let r=n(e);return A.some({element:e,start:t,finish:t+r,width:r})}),i=le(r,e=>e.finish<=t),a=ue(i,(e,t)=>e+t.width,0);return{within:i,extra:r.slice(i.length),withinWidth:a}},IB=e=>F(e,e=>e.element),LB=(e,t,n)=>PB(IB(e.concat(t)),[],n),RB=(e,t,n,r)=>PB(IB(e).concat([n]),IB(t),r),zB=(e,t,n)=>PB(IB(e),[],n),BB=(e,t,n)=>{let r=FB(t,e,n);return r.extra.length===0?A.some(r):A.none()},VB=(e,t,n,r)=>{let i=BB(e,t,n).getOrThunk(()=>FB(t,e-n(r),n)),a=i.within,o=i.extra,s=i.withinWidth;return o.length===1&&o[0].width<=n(r)?LB(a,o,s):o.length>=1?RB(a,o,r,s):zB(a,o,s)},HB=(e,t)=>{let n=F(t,e=>Gl(e));HR.setGroups(e,n)},UB=e=>Te(e,e=>Rd(e.element).bind(t=>e.getSystem().getByDom(t).toOptional())),WB=(e,t,n)=>{let r=t.builtGroups.get();if(r.length===0)return;let i=ug(e,t,`primary`),a=WO.getCoupled(e,`overflowGroup`);_n(i.element,`visibility`,`hidden`);let o=r.concat([a]),s=UB(o);n([]),HB(i,o);let c=VB(zn(i.element),t.builtGroups.get(),e=>zn(e.element),a);c.extra.length===0?(Hy.remove(i,a),n([])):(HB(i,c.within),n(c.extra)),wn(i.element,`visibility`),Tn(i.element),s.each(Jy.focus)},GB=C([gh(`splitToolbarBehaviours`,[WO]),Ea(`builtGroups`,()=>no([]))]),KB=C([Cu([`overflowToggledClass`]),Ua(`getOverflowBounds`),K(`lazySink`),Ea(`overflowGroups`,()=>no([])),Tu(`onOpened`),Tu(`onClosed`)].concat(GB())),qB=C([Jh({factory:HR,schema:BR(),name:`primary`}),Yh({schema:BR(),name:`overflow`}),Yh({name:`overflow-button`}),Yh({name:`overflow-group`})]),JB=C((e,t)=>{Vn(e,Math.floor(t))}),YB=C([Cu([`toggledClass`]),K(`lazySink`),Na(`fetch`),Ua(`getBounds`),Ga(`fireDismissalEventInstead`,[q(`event`,ds())]),Xf(),Tu(`onToggled`)]),XB=C([Yh({name:`button`,overrides:e=>({dom:{attributes:{"aria-haspopup":`true`}},buttonBehaviours:Z([ub.config({toggleClass:e.markers.toggledClass,aria:{mode:`expanded`},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Yh({factory:HR,schema:BR(),name:`toolbar`,overrides:e=>({toolbarBehaviours:Z([ky.config({mode:`cyclic`,onEscape:t=>(lg(t,e,`button`).each(Jy.focus),A.none())})])})})]),ZB=mf(),QB=(e,t)=>{ZB.set(!0),$B(e,t),ZB.clear()},$B=(e,t)=>{let n=WO.getCoupled(e,`toolbarSandbox`);Zm.isOpen(n)?Zm.close(n):Zm.open(n,t.toolbar())},eV=(e,t,n,r)=>{let i=n.getBounds.map(e=>e()),a=n.lazySink(e).getOrDie();_m.positionWithinBounds(a,t,{anchor:{type:`hotspot`,hotspot:e,layouts:r,overrides:{maxWidthFunction:JB()}}},i)},tV=(e,t,n,r,i)=>{HR.setGroups(t,i),eV(e,t,n,r),ub.on(e)},nV=(e,t,n)=>{let r=iu();return{dom:{tag:`div`,attributes:{id:r.id}},behaviours:Z([ky.config({mode:`special`,onEscape:e=>(Zm.close(e),A.some(!0))}),Zm.config({onOpen:(i,a)=>{let o=ZB.get().getOr(!1);n.fetch().get(i=>{tV(e,a,n,t.layouts,i),r.link(e.element),o||ky.focusIn(a)})},onClose:()=>{ub.off(e),ZB.get().getOr(!1)||Jy.focus(e),r.unlink(e.element)},isPartOf:(t,n,r)=>ou(n,r)||ou(e,r),getAttachPoint:()=>n.lazySink(e).getOrDie()}),Md.config({channels:{...nh({isExtraPart:k,...n.fireDismissalEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({})}),...ih({doReposition:()=>{Zm.getState(WO.getCoupled(e,`toolbarSandbox`)).each(r=>{eV(e,r,n,t.layouts)})}})}})])}},rV=Og({name:`FloatingToolbarButton`,factory:(e,t,n,r)=>({...Qb.sketch({...r.button(),action:e=>{$B(e,r)},buttonBehaviours:yh.augment({dump:r.button().buttonBehaviours},[WO.config({others:{toolbarSandbox:t=>nV(t,n,e)}})])}),apis:{setGroups:(t,r)=>{Zm.getState(WO.getCoupled(t,`toolbarSandbox`)).each(i=>{tV(t,i,e,n.layouts,r)})},reposition:t=>{Zm.getState(WO.getCoupled(t,`toolbarSandbox`)).each(r=>{eV(t,r,e,n.layouts)})},toggle:e=>{$B(e,r)},toggleWithoutFocusing:e=>{QB(e,r)},getToolbar:e=>Zm.getState(WO.getCoupled(e,`toolbarSandbox`)),isOpen:e=>Zm.isOpen(WO.getCoupled(e,`toolbarSandbox`))}}),configFields:YB(),partFields:XB(),apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),iV=C([K(`items`),Cu([`itemSelector`]),gh(`tgroupBehaviours`,[ky])]),aV=C([Zh({name:`items`,unit:`item`})]),oV=Og({name:`ToolbarGroup`,configFields:iV(),partFields:aV(),factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,components:t,behaviours:vh(e.tgroupBehaviours,[ky.config({mode:`flow`,selector:e.markers.itemSelector})]),domModification:{attributes:{role:`toolbar`}}})}),sV=e=>F(e,e=>Gl(e)),cV=(e,t,n)=>{WB(e,n,r=>{n.overflowGroups.set(r),t.getOpt(e).each(e=>{rV.setGroups(e,sV(r))})})},lV=Og({name:`SplitFloatingToolbar`,configFields:KB(),partFields:qB(),factory:(e,t,n,r)=>{let i=nx(rV.sketch({fetch:()=>YO.nu(t=>{t(sV(e.overflowGroups.get()))}),layouts:{onLtr:()=>[ad,id],onRtl:()=>[id,ad],onBottomLtr:()=>[sd,od],onBottomRtl:()=>[od,sd]},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r[`overflow-button`](),toolbar:r.overflow()},onToggled:(t,n)=>e[n?`onOpened`:`onClosed`](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:vh(e.splitToolbarBehaviours,[WO.config({others:{overflowGroup:()=>oV.sketch({...r[`overflow-group`](),items:[i.asSpec()]})}})]),apis:{setGroups:(t,n)=>{e.builtGroups.set(F(n,t.getSystem().build)),cV(t,i,e)},refresh:t=>cV(t,i,e),toggle:e=>{i.getOpt(e).each(e=>{rV.toggle(e)})},toggleWithoutFocusing:e=>{i.getOpt(e).each(rV.toggleWithoutFocusing)},isOpen:e=>i.getOpt(e).map(rV.isOpen).getOr(!1),reposition:e=>{i.getOpt(e).each(e=>{rV.reposition(e)})},getOverflow:e=>i.getOpt(e).bind(rV.getToolbar)},domModification:{attributes:{role:`group`}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),uV=C([Cu([`closedClass`,`openClass`,`shrinkingClass`,`growingClass`,`overflowToggledClass`]),Tu(`onOpened`),Tu(`onClosed`)].concat(GB())),dV=C([Jh({factory:HR,schema:BR(),name:`primary`}),Jh({factory:HR,schema:BR(),name:`overflow`,overrides:e=>({toolbarBehaviours:Z([NF.config({dimension:{property:`height`},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{lg(t,e,`overflow-button`).each(e=>{ub.off(e),Jy.focus(e)}),e.onClosed(t)},onGrown:t=>{ky.focusIn(t),e.onOpened(t)},onStartGrow:t=>{lg(t,e,`overflow-button`).each(ub.on)}}),ky.config({mode:`acyclic`,onEscape:t=>(lg(t,e,`overflow-button`).each(Jy.focus),A.some(!0))})])})}),Yh({name:`overflow-button`,overrides:e=>({buttonBehaviours:Z([ub.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:`pressed`},toggleOnExecute:!1})])})}),Yh({name:`overflow-group`})]),fV=(e,t)=>lg(e,t,`overflow`).map(NF.hasGrown).getOr(!1),pV=(e,t)=>{lg(e,t,`overflow-button`).bind(()=>lg(e,t,`overflow`)).each(n=>{mV(e,t),NF.toggleGrow(n)})},mV=(e,t)=>{lg(e,t,`overflow`).each(n=>{WB(e,t,e=>{let t=F(e,e=>Gl(e));HR.setGroups(n,t)}),lg(e,t,`overflow-button`).each(e=>{NF.hasGrown(n)&&ub.on(e)}),NF.refresh(n)})},hV=Og({name:`SplitSlidingToolbar`,configFields:uV(),partFields:dV(),factory:(e,t,n,r)=>{let i=`alloy.toolbar.toggle`,a=(t,n)=>{let r=F(n,t.getSystem().build);e.builtGroups.set(r)};return{uid:e.uid,dom:e.dom,components:t,behaviours:vh(e.splitToolbarBehaviours,[WO.config({others:{overflowGroup:e=>oV.sketch({...r[`overflow-group`](),items:[Qb.sketch({...r[`overflow-button`](),action:t=>{bs(e,i)}})]})}}),Wy(`toolbar-toggle-events`,[J(i,t=>{pV(t,e)})])]),apis:{setGroups:(t,n)=>{a(t,n),mV(t,e)},refresh:t=>mV(t,e),toggle:t=>pV(t,e),isOpen:t=>fV(t,e)},domModification:{attributes:{role:`group`}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),gV=e=>({dom:{tag:`div`,classes:[`tox-toolbar__group`],...e.title.fold(()=>({}),e=>({attributes:{title:e}}))},components:[oV.parts.items({})],items:e.items,markers:{itemSelector:`*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])`},tgroupBehaviours:Z([uA.config({}),Jy.config({})])}),_V=e=>oV.sketch(gV(e)),vV=(e,t)=>{let n=Bs(t=>{let n=F(e.initGroups,_V);HR.setGroups(t,n)});return Z([aE.toolbarButton(e.providers.isDisabled),iE(),ky.config({mode:t,onEscape:e.onEscape,selector:`.tox-toolbar__group`}),Wy(`toolbar-events`,[n])])},yV=e=>{let t=e.cyclicKeying?`cyclic`:`acyclic`;return{uid:e.uid,dom:{tag:`div`,classes:[`tox-toolbar-overlord`]},parts:{"overflow-group":gV({title:A.none(),items:[]}),"overflow-button":mI({name:`more`,icon:A.some(`more-drawer`),enabled:!0,tooltip:A.some(`Reveal or hide additional toolbar items`),primary:!1,buttonType:A.none(),borderless:!1},A.none(),e.providers)},splitToolbarBehaviours:vV(e,t)}},bV=e=>{let t=yV(e),n=lV.parts.primary({dom:{tag:`div`,classes:[`tox-toolbar__primary`]}});return lV.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{let t=e.moreDrawerData.lazyHeader().element,n=ti(t),r=Pt(t),i=ti(r),a=Math.max(r.dom.scrollHeight,i.height);return $r(n.x+4,i.y,n.width-8,a)},parts:{...t.parts,overflow:{dom:{tag:`div`,classes:[`tox-toolbar__overflow`],attributes:e.attributes}}},components:[n],markers:{overflowToggledClass:`tox-tbtn--enabled`},onOpened:t=>e.onToggled(t,!0),onClosed:t=>e.onToggled(t,!1)})},xV=e=>{let t=hV.parts.primary({dom:{tag:`div`,classes:[`tox-toolbar__primary`]}}),n=hV.parts.overflow({dom:{tag:`div`,classes:[`tox-toolbar__overflow`]}}),r=yV(e);return hV.sketch({...r,components:[t,n],markers:{openClass:`tox-toolbar__overflow--open`,closedClass:`tox-toolbar__overflow--closed`,growingClass:`tox-toolbar__overflow--growing`,shrinkingClass:`tox-toolbar__overflow--shrinking`,overflowToggledClass:`tox-tbtn--enabled`},onOpened:t=>{t.getSystem().broadcastOn([Nz()],{type:`opened`}),e.onToggled(t,!0)},onClosed:t=>{t.getSystem().broadcastOn([Nz()],{type:`closed`}),e.onToggled(t,!1)}})},SV=e=>{let t=e.cyclicKeying?`cyclic`:`acyclic`;return HR.sketch({uid:e.uid,dom:{tag:`div`,classes:[`tox-toolbar`].concat(e.type===wS.scrolling?[`tox-toolbar--scrolling`]:[])},components:[HR.parts.groups({})],toolbarBehaviours:vV(e,t)})},CV=[Hw,Uw,Va(`tooltip`),Xa(`buttonType`,`secondary`,[`primary`,`secondary`]),Za(`borderless`,!1),Na(`onAction`)],wV={button:[...CV,Mw,ja(`type`,[`button`])],togglebutton:[...CV,Za(`active`,!1),ja(`type`,[`togglebutton`])]},TV=[ja(`type`,[`group`]),eo(`buttons`,[],Ca(`type`,wV))],EV=ta([eo(`buttons`,[],Ca(`type`,{...wV,group:TV})),Na(`onShow`),Na(`onHide`)]),DV=e=>ya(`view`,EV,e),OV=(e,t)=>{let n=e.type===`togglebutton`,r=e.icon.map(e=>EP(e,t.icons)).map(nx),i=(()=>i=>{let a=e=>{r.map(n=>n.getOpt(i).each(n=>{Hy.set(n,[EP(e,t.icons)])}))},o=e=>{let t=i.element;e?(ol(t,`tox-button--enabled`),cn(t,`aria-pressed`,!0)):(cl(t,`tox-button--enabled`),pn(t,`aria-pressed`))},s=()=>ul(i.element,`tox-button--enabled`);if(n)return e.onAction({setIcon:a,setActive:o,isActive:s});if(e.type===`button`)return e.onAction({setIcon:a})})(),a={...e,name:n?e.text.getOr(e.icon.getOr(``)):e.text??e.icon.getOr(``),primary:e.buttonType===`primary`,buttonType:A.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},o=hI(e.buttonType??`secondary`),s=n?e.text.map(t.translate):A.some(t.translate(e.text)),c=s.map(zl),l=a.tooltip.or(s).map(e=>({"aria-label":t.translate(e),title:t.translate(e)})).getOr({}),u=dE([r.map(e=>e.asSpec()),c]),d=e.icon.isSome()&&c.isSome(),f={tag:`button`,classes:o.concat(...e.icon.isSome()&&!d?[`tox-button--icon`]:[]).concat(...d?[`tox-button--icon-and-text`]:[]).concat(...e.borderless?[`tox-button--naked`]:[]).concat(...e.type===`togglebutton`&&e.active?[`tox-button--enabled`]:[]),attributes:l},p=pI(a,A.some(i),[],f,u,t);return Qb.sketch(p)},kV=(e,t)=>OV(e,t),AV=(e,t)=>({dom:{tag:`div`,classes:[`tox-view__toolbar__group`]},components:F(e.buttons,e=>kV(e,t))}),jV=Tr().deviceType,MV=jV.isPhone(),NV=jV.isTablet();var PV=Og({name:`silver.View`,configFields:[K(`viewConfig`)],partFields:[Xh({factory:{sketch:e=>{let t=!1,n=F(e.buttons,n=>n.type===`group`?(t=!0,AV(n,e.providers)):kV(n,e.providers));return{uid:e.uid,dom:{tag:`div`,classes:[t?`tox-view__toolbar`:`tox-view__header`,...MV||NV?[`tox-view--mobile`,`tox-view--scrolling`]:[]]},behaviours:Z([Jy.config({}),ky.config({mode:`flow`,selector:`button, .tox-button`,focusInside:P_.OnEnterOrSpaceMode})]),components:t?n:[rA.sketch({dom:{tag:`div`,classes:[`tox-view__header-start`]},components:[]}),rA.sketch({dom:{tag:`div`,classes:[`tox-view__header-end`]},components:n})]}}},schema:[K(`buttons`),K(`providers`)],name:`header`}),Xh({factory:{sketch:e=>({uid:e.uid,dom:{tag:`div`,classes:[`tox-view__pane`]}})},schema:[],name:`pane`})],factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,components:t,apis:{getPane:t=>FR.getPart(t,e,`pane`),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide}}),apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});let FV=(e,t,n)=>Fe(t,(t,r)=>{let i=ba(DV(t));return e.slot(r,PV.sketch({dom:{tag:`div`,classes:[`tox-view`]},viewConfig:i,components:[...i.buttons.length>0?[PV.parts.header({buttons:i.buttons,providers:n})]:[],PV.parts.pane({})]}))}),IV=(e,t)=>lB.sketch(n=>({dom:{tag:`div`,classes:[`tox-view-wrap__slot-container`]},components:FV(n,e,t),slotBehaviours:GT.unnamedEvents([Bs(e=>lB.hideAllSlots(e))])})),LV=e=>pe(lB.getSlotNames(e),t=>lB.isShowing(e,t)),RV=e=>{let t=e.element;_n(t,`display`,`none`),cn(t,`aria-hidden`,`true`)},zV=e=>{let t=e.element;wn(t,`display`),pn(t,`aria-hidden`)},BV=e=>({getContainer:C(e)}),VV=(e,t,n)=>{lB.getSlot(e,t).each(e=>{PV.getPane(e).each(t=>{n(e)(BV(t.element.dom))})})},HV=(e,t)=>VV(e,t,PV.getOnShow),UV=(e,t)=>VV(e,t,PV.getOnHide);var WV=Dg({factory:(e,t)=>{let n={setViews:(e,n)=>{Hy.set(e,[IV(n,t.backstage.shared.providers)])},whichView:e=>jg.getCurrent(e).bind(LV),toggleView:(e,t,n,r)=>jg.getCurrent(e).exists(i=>{let a=LV(i),o=a.exists(e=>r===e),s=lB.getSlot(i,r).isSome();return s&&(lB.hideAllSlots(i),o?(RV(e),t()):(n(),zV(e),lB.showSlot(i,r),HV(i,r)),a.each(e=>UV(i,e))),s})};return{uid:e.uid,dom:{tag:`div`,classes:[`tox-view-wrap`],attributes:{"aria-hidden":`true`},styles:{display:`none`}},components:[],behaviours:Z([Hy.config({}),jg.config({find:e=>Se(Hy.contents(e))})]),apis:n}},name:`silver.ViewWrapper`,configFields:[K(`backstage`)],apis:{setViews:(e,t,n)=>e.setViews(t,n),toggleView:(e,t,n,r,i)=>e.toggleView(t,n,r,i),whichView:(e,t)=>e.whichView(t)}});let GV=(e,t,n)=>{let r=!1,i={getSocket:t=>FR.getPart(t,e,`socket`),setSidebar:(t,n,r)=>{FR.getPart(t,e,`sidebar`).each(e=>gB(e,n,r))},toggleSidebar:(t,n)=>{FR.getPart(t,e,`sidebar`).each(e=>vB(e,n))},whichSidebar:t=>FR.getPart(t,e,`sidebar`).bind(yB).getOrNull(),getHeader:t=>FR.getPart(t,e,`header`),getToolbar:t=>FR.getPart(t,e,`toolbar`),setToolbar:(t,n)=>{FR.getPart(t,e,`toolbar`).each(e=>{let t=F(n,_V);e.getApis().setGroups(e,t)})},setToolbars:(t,n)=>{FR.getPart(t,e,`multiple-toolbar`).each(e=>{let t=F(n,e=>F(e,_V));zR.setItems(e,t)})},refreshToolbar:t=>{FR.getPart(t,e,`toolbar`).each(e=>e.getApis().refresh(e))},toggleToolbarDrawer:t=>{FR.getPart(t,e,`toolbar`).each(e=>{Ke(e.getApis().toggle,t=>t(e))})},toggleToolbarDrawerWithoutFocusing:t=>{FR.getPart(t,e,`toolbar`).each(e=>{Ke(e.getApis().toggleWithoutFocusing,t=>t(e))})},isToolbarDrawerToggled:t=>FR.getPart(t,e,`toolbar`).bind(e=>A.from(e.getApis().isOpen).map(t=>t(e))).getOr(!1),getThrobber:t=>FR.getPart(t,e,`throbber`),focusToolbar:t=>{FR.getPart(t,e,`toolbar`).orThunk(()=>FR.getPart(t,e,`multiple-toolbar`)).each(e=>{ky.focusIn(e)})},setMenubar:(t,n)=>{FR.getPart(t,e,`menubar`).each(e=>{nB.setMenus(e,n)})},focusMenubar:t=>{FR.getPart(t,e,`menubar`).each(e=>{nB.focus(e)})},setViews:(t,n)=>{FR.getPart(t,e,`viewWrapper`).each(e=>{WV.setViews(e,n)})},toggleView:(t,n)=>FR.getPart(t,e,`viewWrapper`).exists(e=>WV.toggleView(e,()=>i.showMainView(t),()=>i.hideMainView(t),n)),whichView:t=>FR.getPart(t,e,`viewWrapper`).bind(WV.whichView).getOrNull(),hideMainView:t=>{r=i.isToolbarDrawerToggled(t),r&&i.toggleToolbarDrawer(t),FR.getPart(t,e,`editorContainer`).each(e=>{let t=e.element;_n(t,`display`,`none`),cn(t,`aria-hidden`,`true`)})},showMainView:t=>{r&&i.toggleToolbarDrawer(t),FR.getPart(t,e,`editorContainer`).each(e=>{let t=e.element;wn(t,`display`),pn(t,`aria-hidden`)})}};return{uid:e.uid,dom:e.dom,components:t,apis:i,behaviours:e.behaviours}},KV=IR.optional({factory:nB,name:`menubar`,schema:[K(`backstage`)]}),qV=e=>e.type===wS.sliding?xV:e.type===wS.floating?bV:SV,JV=IR.optional({factory:{sketch:e=>zR.sketch({uid:e.uid,dom:e.dom,listBehaviours:Z([ky.config({mode:`acyclic`,selector:`.tox-toolbar`})]),makeItem:()=>SV({type:e.type,uid:rc(`multiple-toolbar-item`),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),A.some(!0))}),setupItem:(e,t,n,r)=>{HR.setGroups(t,n)},shell:!0})},name:`multiple-toolbar`,schema:[K(`dom`),K(`onEscape`)]}),YV=IR.optional({factory:{sketch:e=>qV(e)({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),A.some(!0)),onToggled:(t,n)=>e.onToolbarToggled(n),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})},name:`toolbar`,schema:[K(`dom`),K(`onEscape`),K(`getSink`)]}),XV=IR.optional({factory:{sketch:Yz},name:`header`,schema:[K(`dom`)]}),ZV=IR.optional({factory:{sketch:rB},name:`promotion`,schema:[K(`dom`)]}),QV=IR.optional({name:`socket`,schema:[K(`dom`)]}),$V=IR.optional({factory:{sketch:SB},name:`sidebar`,schema:[K(`dom`)]}),eH=IR.optional({factory:{sketch:kB},name:`throbber`,schema:[K(`dom`)]}),tH=IR.optional({factory:WV,name:`viewWrapper`,schema:[K(`backstage`)]}),nH=IR.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:`div`,classes:[`tox-editor-container`]},components:e.components})},name:`editorContainer`,schema:[]});var rH=Og({name:`OuterContainer`,factory:GV,configFields:[K(`dom`),K(`behaviours`)],partFields:[XV,KV,YV,JV,QV,$V,ZV,eH,tH,nH],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,n,r)=>{e.setSidebar(t,n,r)},toggleSidebar:(e,t,n)=>{e.toggleSidebar(t,n)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,n)=>{e.setToolbar(t,n)},setToolbars:(e,t,n)=>{e.setToolbars(t,n)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,n)=>{e.setMenubar(t,n)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,n)=>{e.setViews(t,n)},toggleView:(e,t,n)=>e.toggleView(t,n),whichView:(e,t)=>e.whichView(t)}});let iH={file:{title:`File`,items:`newdocument restoredraft | preview | export print | deleteallconversations`},edit:{title:`Edit`,items:`undo redo | cut copy paste pastetext | selectall | searchreplace`},view:{title:`View`,items:`code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments`},insert:{title:`Insert`,items:`image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime`},format:{title:`Format`,items:`bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat`},tools:{title:`Tools`,items:`aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate`},table:{title:`Table`,items:`inserttable | cell row column | advtablesort | tableprops deletetable`},help:{title:`Help`,items:`help`}},aH=(e,t,n)=>{let r=BS(n).split(/[ ,]/);return{text:e.title,getItems:()=>he(e.items,e=>{let n=e.toLowerCase();return n.trim().length===0||ae(r,e=>e===n)?[]:n===`separator`||n===`|`?[{type:`separator`}]:t.menuItems[n]?[t.menuItems[n]]:[]})}},oH=e=>e.split(` `),sH=(e,t)=>{let n={...iH,...t.menus},r=Ee(t.menus).length>0;return le(F(le(t.menubar===void 0||t.menubar===!0?oH(`file edit view insert format tools table help`):oH(t.menubar===!1?``:t.menubar),e=>{let n=Re(iH,e);return r?n||z(t.menus,e).exists(e=>Re(e,`items`)):n}),r=>{let i=n[r];return aH({title:i.title,items:oH(i.items)},t,e)}),e=>e.getItems().length>0&&ae(e.getItems(),e=>s(e)||e.type!==`separator`))},cH=e=>{let t=()=>{e._skinLoaded=!0,oD(e)};return()=>{e.initialized?t():e.on(`init`,t)}},lH=(e,t)=>()=>sD(e,{message:t}),uH=(e,t,n)=>(e.on(`remove`,()=>n.unload(t)),n.load(t)),dH=(e,t,n,r)=>(e.on(`remove`,()=>r.unloadRawCss(t)),r.loadRawCss(t,n)),fH=async(e,t)=>{let n=`ui/`+gC(e).getOr(`default`)+`/skin.css`,r=tinymce.Resource.get(n);return s(r)?Promise.resolve(dH(e,n,r,e.ui.styleSheetLoader)):uH(e,t+`/skin.min.css`,e.ui.styleSheetLoader)},pH=async(e,t)=>{if(Qt(V.fromDom(e.getElement()))){let n=`ui/`+gC(e).getOr(`default`)+`/skin.shadowdom.css`,r=tinymce.Resource.get(n);return s(r)?(dH(e,n,r,xS.DOM.styleSheetLoader),Promise.resolve()):uH(e,t+`/skin.shadowdom.min.css`,xS.DOM.styleSheetLoader)}},mH=async(e,t)=>{gC(t).fold(()=>{let n=hC(t);n&&t.contentCSS.push(n+(e?`/content.inline`:`/content`)+`.min.css`)},n=>{let r=`ui/`+n+(e?`/content.inline`:`/content`)+`.css`,i=tinymce.Resource.get(r);if(s(i))dH(t,r,i,t.ui.styleSheetLoader);else{let n=hC(t);n&&t.contentCSS.push(n+(e?`/content.inline`:`/content`)+`.min.css`)}});let n=hC(t);if(!pC(t)&&s(n))return Promise.all([fH(t,n),pH(t,n)]).then()},hH=(e,t)=>mH(e,t).then(cH(t),lH(t,`Skin could not be loaded`)),gH=E(hH,!1),_H=E(hH,!0),vH=(e,t,n)=>e.translate([t,e.translate(n)]),yH=(e,t)=>{let n=(n,i,a,o)=>{let s=e.shared.providers.translate(n.title);if(n.type===`separator`)return A.some({type:`separator`,text:s});if(n.type===`submenu`){let e=he(n.getStyleItems(),e=>r(e,i,o));return i===0&&e.length<=0?A.none():A.some({type:`nestedmenuitem`,text:s,enabled:e.length>0,getSubmenuItems:()=>he(n.getStyleItems(),e=>r(e,i,o))})}else return A.some({type:`togglemenuitem`,text:s,icon:n.icon,active:n.isSelected(o),enabled:!a,onAction:t.onAction(n),...n.getStylePreview().fold(()=>({}),e=>({meta:{style:e}}))})},r=(e,r,i)=>{let a=e.type===`formatter`&&t.isInvalid(e);return r===0?a?[]:n(e,r,!1,i).toArray():n(e,r,a,i).toArray()},i=e=>{let n=t.getCurrentValue(),i=t.shouldHide?0:1;return he(e,e=>r(e,i,n))};return{validateItems:i,getFetch:(e,t)=>(n,r)=>{r(VP(i(t()),FC.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:A.none()}))}}},bH=(e,t,n)=>{let r=n.dataset,i=r.type===`basic`?()=>F(r.data,e=>UL(e,n.isSelectedFor,n.getPreviewFor)):r.getData;return{items:yH(t,n),getStyleItems:i}},xH=(e,t,n,r,i)=>{let{items:a,getStyleItems:o}=bH(e,t,n);return AP({text:n.icon.isSome()?A.none():n.text,icon:n.icon,tooltip:A.from(n.tooltip),role:A.none(),fetch:a.getFetch(t,o),onSetup:t=>{let a=n=>t.setTooltip(vH(e,r,n.value));return e.on(i,a),xD(TD(e,`NodeChange`,t=>{let r=t.getComponent();n.updateText(r),Kg.set(t.getComponent(),!e.selection.isEditable())})(t),()=>e.off(i,a))},getApi:e=>({getComponent:C(e),setTooltip:n=>{let r=t.shared.providers.translate(n);ln(e.element,{"aria-label":r,title:r})}}),columns:1,presets:`normal`,classes:n.icon.isSome()?[]:[`bespoke`],dropdownBehaviours:[]},`tox-tbtn`,t.shared)},SH=e=>F(e,e=>{let t=e,n=e,r=e.split(`=`);return r.length>1&&(t=r[0],n=r[1]),{title:t,format:n}}),CH=e=>({type:`basic`,data:e});var wH;(function(e){e[e.SemiColon=0]=`SemiColon`,e[e.Space=1]=`Space`})(wH||={});let TH=(e,t)=>t===wH.SemiColon?e.replace(/;$/,``).split(`;`):e.split(` `),EH=(e,t,n)=>({type:`basic`,data:SH(TH(e.options.get(t),n))}),DH=`Alignment {0}`,OH=`left`,kH=[{title:`Left`,icon:`align-left`,format:`alignleft`,command:`JustifyLeft`},{title:`Center`,icon:`align-center`,format:`aligncenter`,command:`JustifyCenter`},{title:`Right`,icon:`align-right`,format:`alignright`,command:`JustifyRight`},{title:`Justify`,icon:`align-justify`,format:`alignjustify`,command:`JustifyFull`}],AH=e=>{let t=()=>pe(kH,t=>e.formatter.match(t.format)),n=t=>()=>e.formatter.match(t),r=e=>A.none,i=n=>{let r=t().fold(C(OH),e=>e.title.toLowerCase());xs(n,kP,{icon:`align-${r}`}),gD(e,{value:r})},a=CH(kH);return{tooltip:vH(e,DH,OH),text:A.none(),icon:A.some(`align-left`),isSelectedFor:n,getCurrentValue:A.none,getPreviewFor:r,onAction:t=>()=>pe(kH,e=>e.format===t.format).each(t=>e.execCommand(t.command)),updateText:i,dataset:a,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},jH=(e,t)=>xH(e,t,AH(e),DH,`AlignTextUpdate`),MH=(e,t)=>{let n=bH(e,t,AH(e));e.ui.registry.addNestedMenuItem(`align`,{text:t.shared.providers.translate(`Align`),onSetup:SD(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},NH=(e,t)=>{let n=t(),r=F(n,e=>e.format);return A.from(e.formatter.closest(r)).bind(e=>pe(n,t=>t.format===e)).orThunk(()=>qe(e.formatter.match(`p`),{title:`Paragraph`,format:`p`}))},PH=`Block {0}`,FH=`Paragraph`,IH=e=>{let t=t=>()=>e.formatter.match(t),n=t=>()=>{let n=e.formatter.get(t);return n?A.some({tag:n.length>0&&(n[0].inline||n[0].block)||`div`,styles:e.dom.parseStyle(e.formatter.getCssText(t))}):A.none()},r=t=>{let n=NH(e,()=>i.data).fold(C(FH),e=>e.title);xs(t,OP,{text:n}),yD(e,{value:n})},i=EH(e,`block_formats`,wH.SemiColon);return{tooltip:vH(e,PH,FH),text:A.some(FH),icon:A.none(),isSelectedFor:t,getCurrentValue:A.none,getPreviewFor:n,onAction:ED(e),updateText:r,dataset:i,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},LH=(e,t)=>xH(e,t,IH(e),PH,`BlocksTextUpdate`),RH=(e,t)=>{let n=bH(e,t,IH(e));e.ui.registry.addNestedMenuItem(`blocks`,{text:`Blocks`,onSetup:SD(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},zH=`Font {0}`,BH=`System Font`,VH=[`-apple-system`,`Segoe UI`,`Roboto`,`Helvetica Neue`,`sans-serif`],HH=e=>F(e.split(/\s*,\s*/),e=>e.replace(/^['"]+|['"]+$/g,``)),UH=(e,t)=>t.length>0&&ge(t,t=>e.indexOf(t.toLowerCase())>-1),WH=(e,t)=>{if(e.indexOf(`-apple-system`)===0||t.length>0){let n=HH(e.toLowerCase());return UH(n,VH)||UH(n,t)}else return!1},GH=e=>{let t=()=>{let t=e=>e?HH(e)[0]:``,n=e.queryCommandValue(`FontName`),r=s.data,i=n?n.toLowerCase():``,a=fC(e);return{matchOpt:pe(r,e=>{let n=e.format;return n.toLowerCase()===i||t(n).toLowerCase()===t(i).toLowerCase()}).orThunk(()=>qe(WH(i,a),{title:BH,format:i})),font:n}},n=e=>t=>t.exists(t=>t.format===e),r=()=>{let{matchOpt:e}=t();return e},i=e=>()=>A.some({tag:`div`,styles:e.indexOf(`dings`)===-1?{"font-family":e}:{}}),a=t=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand(`FontName`,!1,t.format)})},o=n=>{let{matchOpt:r,font:i}=t(),a=r.fold(C(i),e=>e.title);xs(n,OP,{text:a}),bD(e,{value:a})},s=EH(e,`font_family_formats`,wH.SemiColon);return{tooltip:vH(e,zH,BH),text:A.some(BH),icon:A.none(),isSelectedFor:n,getCurrentValue:r,getPreviewFor:i,onAction:a,updateText:o,dataset:s,shouldHide:!1,isInvalid:k}},KH=(e,t)=>xH(e,t,GH(e),zH,`FontFamilyTextUpdate`),qH=(e,t)=>{let n=bH(e,t,GH(e));e.ui.registry.addNestedMenuItem(`fontfamily`,{text:t.shared.providers.translate(`Fonts`),onSetup:SD(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},JH={unsupportedLength:[`em`,`ex`,`cap`,`ch`,`ic`,`rem`,`lh`,`rlh`,`vw`,`vh`,`vi`,`vb`,`vmin`,`vmax`,`cm`,`mm`,`Q`,`in`,`pc`,`pt`,`px`],fixed:[`px`,`pt`],relative:[`%`],empty:[``]},YH=(()=>{let e=`[0-9]+`,t=`[eE]`+(`[+-]?`+e),n=e=>`(?:${e})?`,r=`[+-]?(?:${[`Infinity`,e+`\\.`+n(e)+n(t),`\\.`+e+n(t),e+n(t)].join(`|`)})`;return RegExp(`^(${r})(.*)$`)})(),XH=(e,t)=>ae(t,t=>ae(JH[t],t=>e===t)),ZH=(e,t)=>A.from(YH.exec(e)).bind(e=>{let n=Number(e[1]),r=e[2];return XH(r,t)?A.some({value:n,unit:r}):A.none()}),QH=(e,t)=>ZH(e,t).map(({value:e,unit:t})=>e+t),$H={tab:C(9),escape:C(27),enter:C(13),backspace:C(8),delete:C(46),left:C(37),up:C(38),right:C(39),down:C(40),space:C(32),home:C(36),end:C(35),pageUp:C(33),pageDown:C(34)},eU=(e,t,n)=>{let r=A.none(),i=e=>e.map(e=>Q.getValue(e)).getOr(``),a=TD(e,`NodeChange SwitchMode`,t=>{let i=t.getComponent();r=A.some(i),n.updateInputValue(i),Kg.set(i,!e.selection.isEditable())}),o=e=>({getComponent:C(e)}),s=no(y),c=rc(`custom-number-input-events`),l=(e,t,a)=>{let o=i(r),s=n.getNewValue(o,e),c=o.length-`${s}`.length,l=r.map(e=>e.element.dom.selectionStart-c),u=r.map(e=>e.element.dom.selectionEnd-c);n.onAction(s,a),r.each(e=>{Q.setValue(e,s),t&&(l.each(t=>e.element.dom.selectionStart=t),u.each(t=>e.element.dom.selectionEnd=t))})},u=(e,t)=>l((e,t)=>e-t,e,t),d=(e,t)=>l((e,t)=>e+t,e,t),f=e=>Rt(e.element).fold(A.none,e=>(Pd(e),A.some(!0))),p=e=>Id(e.element)?(Wt(e.element).each(e=>Pd(e)),A.some(!0)):A.none(),m=(n,r,i,a)=>{let s=no(y),c=t.shared.providers.translate(i),l=rc(`altExecuting`),u=TD(e,`NodeChange SwitchMode`,t=>{Kg.set(t.getComponent(),!e.selection.isEditable())}),d=e=>{Kg.isDisabled(e)||n(!0)};return Qb.sketch({dom:{tag:`button`,attributes:{title:c,"aria-label":c},classes:a.concat(r)},components:[TP(r,t.shared.providers.icons)],buttonBehaviours:Z([Kg.config({}),Wy(l,[sE({onSetup:u,getApi:o},s),cE({getApi:o},s),J(Lo(),(e,t)=>{(t.event.raw.keyCode===$H.space()||t.event.raw.keyCode===$H.enter())&&(Kg.isDisabled(e)||n(!1))}),J(Vo(),d),J(Oo(),d)])]),eventOrder:{[Lo()]:[l,`keying`],[Vo()]:[l,`alloy.base.behaviour`],[Oo()]:[l,`alloy.base.behaviour`]}})},h=nx(m(e=>u(!1,e),`minus`,`Decrease font size`,[])),g=nx(m(e=>d(!1,e),`plus`,`Increase font size`,[])),_=nx({dom:{tag:`div`,classes:[`tox-input-wrapper`]},components:[iw.sketch({inputBehaviours:Z([Kg.config({}),Wy(c,[sE({onSetup:a,getApi:o},s),cE({getApi:o},s)]),Wy(`input-update-display-text`,[J(OP,(e,t)=>{Q.setValue(e,t.event.text)}),J(Io(),e=>{n.onAction(Q.getValue(e))}),J(Bo(),e=>{n.onAction(Q.getValue(e))})]),ky.config({mode:`special`,onEnter:e=>(l(w,!0,!0),A.some(!0)),onEscape:f,onUp:e=>(d(!0,!1),A.some(!0)),onDown:e=>(u(!0,!1),A.some(!0)),onLeft:(e,t)=>(t.cut(),A.none()),onRight:(e,t)=>(t.cut(),A.none())})])})],behaviours:Z([Jy.config({}),ky.config({mode:`special`,onEnter:p,onSpace:p,onEscape:f}),Wy(`input-wrapper-events`,[J(Po(),e=>{I([h,g],t=>{let n=V.fromDom(t.get(e).element.dom);Id(n)&&Fd(n)})})])])});return{dom:{tag:`div`,classes:[`tox-number-input`]},components:[h.asSpec(),_.asSpec(),g.asSpec()],behaviours:Z([Jy.config({}),ky.config({mode:`flow`,focusInside:P_.OnEnterOrSpaceMode,cycles:!1,selector:`button, .tox-input-wrapper`,onEscape:e=>Id(e.element)?A.none():(Pd(e.element),A.some(!0))})])}},tU=`Font size {0}`,nU=`12pt`,rU={"8pt":`1`,"10pt":`2`,"12pt":`3`,"14pt":`4`,"18pt":`5`,"24pt":`6`,"36pt":`7`},iU={"xx-small":`7pt`,"x-small":`8pt`,small:`10pt`,medium:`12pt`,large:`14pt`,"x-large":`18pt`,"xx-large":`24pt`},aU=(e,t)=>{let n=10**t;return Math.round(e*n)/n},oU=(e,t)=>/[0-9.]+px$/.test(e)?aU(parseInt(e,10)*72/96,t||0)+`pt`:z(iU,e).getOr(e),sU=e=>z(rU,e).getOr(``),cU=e=>{let t=()=>{let t=A.none(),n=s.data,r=e.queryCommandValue(`FontSize`);if(r)for(let e=3;t.isNone()&&e>=0;e--){let i=oU(r,e),a=sU(i);t=pe(n,e=>e.format===r||e.format===i||e.format===a)}return{matchOpt:t,size:r}},n=e=>t=>t.exists(t=>t.format===e),r=()=>{let{matchOpt:e}=t();return e},i=C(A.none),a=t=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand(`FontSize`,!1,t.format)})},o=n=>{let{matchOpt:r,size:i}=t(),a=r.fold(C(i),e=>e.title);xs(n,OP,{text:a}),_D(e,{value:a})},s=EH(e,`font_size_formats`,wH.Space);return{tooltip:vH(e,tU,nU),text:A.some(nU),icon:A.none(),isSelectedFor:n,getPreviewFor:i,getCurrentValue:r,onAction:a,updateText:o,dataset:s,shouldHide:!1,isInvalid:k}},lU=(e,t)=>xH(e,t,cU(e),tU,`FontSizeTextUpdate`),uU=e=>({em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}})[e]??{step:1},dU=e=>e>=0,fU=e=>{let t=()=>e.queryCommandValue(`FontSize`);return{updateInputValue:e=>xs(e,OP,{text:t()}),onAction:(t,n)=>e.execCommand(`FontSize`,!1,t,{skip_focus:!n}),getNewValue:(n,r)=>{ZH(n,[`unsupportedLength`,`empty`]);let i=t(),a=ZH(n,[`unsupportedLength`,`empty`]).or(ZH(i,[`unsupportedLength`,`empty`])),o=a.map(e=>e.value).getOr(16),s=QS(e),c=a.map(e=>e.unit).filter(e=>e!==``).getOr(s),l=r(o,uU(c).step),u=`${dU(l)?l:o}${c}`;return u!==i&&vD(e,{value:u}),u}}},pU=(e,t)=>eU(e,t,fU(e)),mU=(e,t)=>{let n=bH(e,t,cU(e));e.ui.registry.addNestedMenuItem(`fontsize`,{text:`Font sizes`,onSetup:SD(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},hU=`Format {0}`,gU=(e,t)=>{let n=`Paragraph`;return{tooltip:vH(e,hU,n),text:A.some(n),icon:A.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:A.none,getPreviewFor:t=>()=>{let n=e.formatter.get(t);return n===void 0?A.none():A.some({tag:n.length>0&&(n[0].inline||n[0].block)||`div`,styles:e.dom.parseStyle(e.formatter.getCssText(t))})},onAction:ED(e),updateText:t=>{let r=e=>ML(e)?he(e.items,r):NL(e)?[{title:e.title,format:e.format}]:[],i=NH(e,C(he(VL(e),r))).fold(C(n),e=>e.title);xs(t,OP,{text:i}),hD(e,{value:i})},shouldHide:RS(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}},_U=(e,t)=>xH(e,t,gU(e,{type:`advanced`,...t.styles}),hU,`StylesTextUpdate`),vU=(e,t)=>{let n=bH(e,t,gU(e,{type:`advanced`,...t.styles}));e.ui.registry.addNestedMenuItem(`styles`,{text:`Formats`,onSetup:SD(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},yU=C([K(`toggleClass`),K(`fetch`),Y(`onExecute`),q(`getHotspot`,A.some),q(`getAnchorOverrides`,C({})),Xf(),Y(`onItemExecute`),Ra(`lazySink`),K(`dom`),Tu(`onOpen`),gh(`splitDropdownBehaviours`,[WO,ky,Jy]),q(`matchWidth`,!1),q(`useMinWidth`,!1),q(`eventOrder`,{}),Ra(`role`)].concat(lk())),bU=C([Jh({factory:Qb,schema:[K(`dom`)],name:`arrow`,defaults:()=>({buttonBehaviours:Z([Jy.revoke()])}),overrides:e=>({dom:{tag:`span`,attributes:{role:`presentation`}},action:t=>{t.getSystem().getByUid(e.uid).each(Ss)},buttonBehaviours:Z([ub.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),Jh({factory:Qb,schema:[K(`dom`)],name:`button`,defaults:()=>({buttonBehaviours:Z([Jy.revoke()])}),overrides:e=>({dom:{tag:`span`,attributes:{role:`presentation`}},action:t=>{t.getSystem().getByUid(e.uid).each(n=>{e.onExecute(n,t)})}})}),Xh({factory:{sketch:e=>({uid:e.uid,dom:{tag:`span`,styles:{display:`none`},attributes:{"aria-hidden":`true`},innerHtml:e.text}})},schema:[K(`text`)],name:`aria-descriptor`}),Yh({schema:[Su()],name:`menu`,defaults:e=>({onExecute:(t,n)=>{t.getSystem().getByUid(e.uid).each(r=>{e.onItemExecute(r,t,n)})}})}),ZO()]),xU=Og({name:`SplitDropdown`,configFields:yU(),partFields:bU(),factory:(e,t,n,r)=>{let i=e=>{jg.getCurrent(e).each(e=>{d_.highlightFirst(e),ky.focusIn(e)})},a=t=>{rk(e,w,t,r,i,Gb.HighlightMenuAndItem).get(y)},o=e=>(a(e),A.some(!0)),s=t=>(Ss(ug(t,e,`button`)),A.some(!0)),c={...Ds([Bs((t,n)=>{lg(t,e,`aria-descriptor`).each(e=>{let n=rc(`aria`);cn(e.element,`id`,n),cn(t.element,`aria-describedby`,n)})})]),...fb(A.some(a))};return{uid:e.uid,dom:e.dom,components:t,apis:{repositionMenus:e=>{ub.isOn(e)&&ck(e)}},eventOrder:{...e.eventOrder,[Qo()]:[`disabling`,`toggling`,`alloy.base.behaviour`]},events:c,behaviours:vh(e.splitDropdownBehaviours,[WO.config({others:{sandbox:t=>{let n=ug(t,e,`arrow`);return sk(e,t,{onOpen:()=>{ub.on(n),ub.on(t)},onClose:()=>{ub.off(n),ub.off(t)}})}}}),ky.config({mode:`special`,onSpace:s,onEnter:s,onDown:o}),Jy.config({}),ub.config({toggleOnExecute:!1,aria:{mode:`expanded`}})]),domModification:{attributes:{role:e.role.getOr(`button`),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),SU=e=>({isEnabled:()=>!Kg.isDisabled(e),setEnabled:t=>Kg.set(e,!t),setText:t=>xs(e,OP,{text:t}),setIcon:t=>xs(e,kP,{icon:t})}),CU=e=>({setActive:t=>{ub.set(e,t)},isActive:()=>ub.isOn(e),isEnabled:()=>!Kg.isDisabled(e),setEnabled:t=>Kg.set(e,!t),setText:t=>xs(e,OP,{text:t}),setIcon:t=>xs(e,kP,{icon:t})}),wU=(e,t)=>e.map(e=>({"aria-label":t.translate(e),title:t.translate(e)})).getOr({}),TU=rc(`focus-button`),EU=(e,t,n,r,i)=>{let a=t.map(e=>nx(DP(e,`tox-tbtn`,i))),o=e.map(e=>nx(EP(e,i.icons)));return{dom:{tag:`button`,classes:[`tox-tbtn`].concat(t.isSome()?[`tox-tbtn--select`]:[]),attributes:wU(n,i)},components:dE([o.map(e=>e.asSpec()),a.map(e=>e.asSpec())]),eventOrder:{[Ao()]:[`focusing`,`alloy.base.behaviour`,xP],[ls()]:[xP,`toolbar-group-button-events`]},buttonBehaviours:Z([aE.toolbarButton(i.isDisabled),iE(),Wy(xP,[Bs((e,t)=>CP(e)),J(OP,(e,t)=>{a.bind(t=>t.getOpt(e)).each(e=>{Hy.set(e,[zl(i.translate(t.event.text))])})}),J(kP,(e,t)=>{o.bind(t=>t.getOpt(e)).each(e=>{Hy.set(e,[EP(t.event.icon,i.icons)])})}),J(Ao(),(e,t)=>{t.event.prevent(),bs(e,TU)})])].concat(r.getOr([])))}},DU=(e,t,n,r)=>{let i=t.shared,a=no(y),o={toolbarButtonBehaviours:[],getApi:SU,onSetup:e.onSetup},s=[Wy(`toolbar-group-button-events`,[sE(o,a),cE(o,a)])];return rV.sketch({lazySink:i.getSink,fetch:()=>YO.nu(t=>{t(F(n(e.items),_V))}),markers:{toggledClass:`tox-tbtn--enabled`},parts:{button:EU(e.icon,e.text,e.tooltip,A.some(s),i.providers),toolbar:{dom:{tag:`div`,classes:[`tox-toolbar__overflow`],attributes:r}}}})},OU=(e,t,n)=>{let r=no(y),i=EU(e.icon,e.text,e.tooltip,A.none(),n);return Qb.sketch({dom:i.dom,components:i.components,eventOrder:SP,buttonBehaviours:{...Z([Wy(`toolbar-button-events`,[bP({onAction:e.onAction,getApi:t.getApi}),sE(t,r),cE(t,r)]),aE.toolbarButton(()=>!e.enabled||n.isDisabled()),iE()].concat(t.toolbarButtonBehaviours)),[xP]:i.buttonBehaviours?.[xP]}})},kU=(e,t)=>AU(e,t,[]),AU=(e,t,n)=>OU(e,{toolbarButtonBehaviours:n.length>0?[Wy(`toolbarButtonWith`,n)]:[],getApi:SU,onSetup:e.onSetup},t),jU=(e,t)=>MU(e,t,[]),MU=(e,t,n)=>OU(e,{toolbarButtonBehaviours:[Hy.config({}),ub.config({toggleClass:`tox-tbtn--enabled`,aria:{mode:`pressed`},toggleOnExecute:!1})].concat(n.length>0?[Wy(`toolbarToggleButtonWith`,n)]:[]),getApi:CU,onSetup:e.onSetup},t),NU=(e,t,n)=>r=>YO.nu(e=>t.fetch(e)).map(i=>A.from(Ek(Ti(gO(rc(`menu-value`),i,n=>{t.onItemAction(e(r),n)},t.columns,t.presets,FC.CLOSE_ON_EXECUTE,t.select.getOr(k),n),{movement:vO(t.columns,t.presets),menuBehaviours:GT.unnamedEvents(t.columns===`auto`?[Bs((e,n)=>{UT(e,4,qC(t.presets)).each(({numRows:t,numColumns:n})=>{ky.setGridSize(e,t,n)})})]:[])})))),PU=(e,t)=>{let n=e=>({isEnabled:()=>!Kg.isDisabled(e),setEnabled:t=>Kg.set(e,!t),setIconFill:(t,n)=>{eu(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each(e=>{cn(e,`fill`,n)})},setActive:t=>{cn(e.element,`aria-pressed`,t),eu(e.element,`span`).each(n=>{e.getSystem().getByDom(n).each(e=>ub.set(e,t))})},isActive:()=>eu(e.element,`span`).exists(t=>e.getSystem().getByDom(t).exists(ub.isOn)),setText:t=>eu(e.element,`span`).each(n=>e.getSystem().getByDom(n).each(e=>xs(e,OP,{text:t}))),setIcon:t=>eu(e.element,`span`).each(n=>e.getSystem().getByDom(n).each(e=>xs(e,kP,{icon:t}))),setTooltip:n=>{let r=t.providers.translate(n);ln(e.element,{"aria-label":r,title:r})}}),r=no(y),i={getApi:n,onSetup:e.onSetup};return xU.sketch({dom:{tag:`div`,classes:[`tox-split-button`],attributes:{"aria-pressed":!1,...wU(e.tooltip,t.providers)}},onExecute:t=>{let r=n(t);r.isEnabled()&&e.onAction(r)},onItemExecute:(e,t,n)=>{},splitDropdownBehaviours:Z([aE.splitButton(t.providers.isDisabled),iE(),Wy(`split-dropdown-events`,[Bs((e,t)=>CP(e)),J(TU,Jy.focus),sE(i,r),cE(i,r)]),LA.config({})]),eventOrder:{[ls()]:[`alloy.base.behaviour`,`split-dropdown-events`]},toggleClass:`tox-tbtn--enabled`,lazySink:t.getSink,fetch:NU(n,e,t.providers),parts:{menu:$C(!1,e.columns,e.presets)},components:[xU.parts.button(EU(e.icon,e.text,A.none(),A.some([ub.config({toggleClass:`tox-tbtn--enabled`,toggleOnExecute:!1})]),t.providers)),xU.parts.arrow({dom:{tag:`button`,classes:[`tox-tbtn`,`tox-split-button__chevron`],innerHtml:dS(`chevron-down`,t.providers.icons)},buttonBehaviours:Z([aE.splitButton(t.providers.isDisabled),iE(),mS()])}),xU.parts[`aria-descriptor`]({text:t.providers.translate(`To open the popup, press Shift+Enter`)})]})},FU=[{name:`history`,items:[`undo`,`redo`]},{name:`ai`,items:[`aidialog`,`aishortcuts`]},{name:`styles`,items:[`styles`]},{name:`formatting`,items:[`bold`,`italic`]},{name:`alignment`,items:[`alignleft`,`aligncenter`,`alignright`,`alignjustify`]},{name:`indentation`,items:[`outdent`,`indent`]},{name:`permanent pen`,items:[`permanentpen`]},{name:`comments`,items:[`addcomment`]}],IU=(e,t)=>(n,r,i)=>t(e(n).mapError(e=>Sa(e)).getOrDie(),r,i),LU={button:IU(dT,(e,t)=>kU(e,t.shared.providers)),togglebutton:IU(mT,(e,t)=>jU(e,t.shared.providers)),menubutton:IU($z,(e,t)=>FF(e,`tox-tbtn`,t,A.none(),!1)),splitbutton:IU(tB,(e,t)=>PU(e,t.shared)),grouptoolbarbutton:IU(Zz,(e,t,n)=>{let r=n.ui.registry.getAll().buttons,i=e=>GU(n,{buttons:r,toolbar:e,allowToolbarGroups:!1},t,A.none()),a={[Jf]:t.shared.header.isPositionedAtTop()?qf.TopToBottom:qf.BottomToTop};switch(VS(n)){case wS.floating:return DU(e,t,i,a);default:throw Error(`Toolbar groups are only supported when using floating toolbar mode`)}})},RU=(e,t,n)=>z(LU,e.type).fold(()=>(console.error(`skipping button defined by`,e),A.none()),r=>A.some(r(e,t,n))),zU={styles:_U,fontsize:lU,fontsizeinput:pU,fontfamily:KH,blocks:LH,align:jH},BU=e=>le(F(FU,t=>{let n=le(t.items,t=>Re(e,t)||Re(zU,t));return{name:t.name,items:n}}),e=>e.items.length>0),VU=e=>F(e.split(`|`),e=>({items:e.trim().split(` `)})),HU=e=>v(e,e=>Re(e,`name`)&&Re(e,`items`)),UU=e=>{let t=e.toolbar,n=e.buttons;return t===!1?[]:t===void 0||t===!0?BU(n):s(t)?VU(t):HU(t)?t:(console.error(`Toolbar type should be string, string[], boolean or ToolbarGroup[]`),[])},WU=(e,t,n,r,i,a)=>z(t,n.toLowerCase()).orThunk(()=>a.bind(e=>Te(e,e=>z(t,e+n.toLowerCase())))).fold(()=>z(zU,n.toLowerCase()).map(t=>t(e,i)),t=>t.type===`grouptoolbarbutton`&&!r?(console.warn(`Ignoring the '${n}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),A.none()):RU(t,i,e)),GU=(e,t,n,r)=>le(F(UU(t),i=>{let a=he(i.items,i=>i.trim().length===0?[]:WU(e,t.buttons,i,t.allowToolbarGroups,n,r).toArray());return{title:A.from(e.translate(i.name)),items:a}}),e=>e.items.length>0),KU=(e,t,n,r)=>{let i=t.mainUi.outerContainer,a=n.toolbar,o=n.buttons;if(v(a,s)){let t=a.map(t=>GU(e,{toolbar:t,buttons:o,allowToolbarGroups:n.allowToolbarGroups},r,A.none()));rH.setToolbars(i,t)}else rH.setToolbar(i,GU(e,n,r,A.none()))},qU=Tr(),JU=qU.os.isiOS()&&qU.os.version.major<=12,YU=(e,t)=>{let{uiMotherships:n}=t,r=e.dom,i=e.getWin(),a=e.getDoc().documentElement,o=no(Mn(i.innerWidth,i.innerHeight)),s=no(Mn(a.offsetWidth,a.offsetHeight)),c=()=>{let t=o.get();(t.left!==i.innerWidth||t.top!==i.innerHeight)&&(o.set(Mn(i.innerWidth,i.innerHeight)),lD(e))},l=()=>{let t=e.getDoc().documentElement,n=s.get();(n.left!==t.offsetWidth||n.top!==t.offsetHeight)&&(s.set(Mn(t.offsetWidth,t.offsetHeight)),lD(e))},u=t=>{uD(e,t)};r.bind(i,`resize`,c),r.bind(i,`scroll`,u);let d=_f(V.fromDom(e.getBody()),`load`,l);e.on(`hide`,()=>{I(n,e=>{_n(e.element,`display`,`none`)})}),e.on(`show`,()=>{I(n,e=>{wn(e.element,`display`)})}),e.on(`NodeChange`,l),e.on(`remove`,()=>{d.unbind(),r.unbind(i,`resize`,c),r.unbind(i,`scroll`,u),i=null})},XU=(e,t,n)=>{DC(e)&&Nm(n.mainUi.mothership.element,n.popupUi.mothership),Mm(t,n.dialogUi.mothership)};var ZU=Object.freeze({__proto__:null,render:(e,t,n,r,i)=>{let{mainUi:a,uiMotherships:o}=t,s=no(0),c=a.outerContainer;gH(e);let l=V.fromDom(i.targetNode),u=Zt(Xt(l));Nm(l,a.mothership),XU(e,u,t),e.on(`SkinLoaded`,()=>{rH.setSidebar(c,n.sidebar,lC(e)),KU(e,t,n,r),s.set(e.getWin().innerWidth),rH.setMenubar(c,sH(e,n)),rH.setViews(c,n.views),YU(e,t)});let f=rH.getSocket(c).getOrDie(`Could not find expected socket element`);if(JU){H(f.element,{overflow:`scroll`,"-webkit-overflow-scrolling":`touch`});let t=VN(()=>{e.dispatch(`ScrollContent`)},20),n=gf(f.element,`scroll`,t.throttle);e.on(`remove`,n.unbind)}rE(e,t),e.addCommand(`ToggleSidebar`,(t,n)=>{rH.toggleSidebar(c,n),e.dispatch(`ToggleSidebar`)}),e.addQueryValueHandler(`ToggleSidebar`,()=>rH.whichSidebar(c)??``),e.addCommand(`ToggleView`,(t,n)=>{if(rH.toggleView(c,n)){let t=c.element;a.mothership.broadcastOn([Qm()],{target:t}),I(o,e=>{e.broadcastOn([Qm()],{target:t})}),d(rH.whichView(c))&&(e.focus(),e.nodeChanged(),rH.refreshToolbar(c))}}),e.addQueryValueHandler(`ToggleView`,()=>rH.whichView(c)??``);let p=VS(e),m=()=>{rH.refreshToolbar(t.mainUi.outerContainer)};return(p===wS.sliding||p===wS.floating)&&e.on(`ResizeWindow ResizeEditor ResizeContent`,()=>{let t=e.getWin().innerWidth;t!==s.get()&&(m(),s.set(t))}),{iframeContainer:f.element.dom,editorContainer:c.element.dom,api:{setEnabled:e=>{nE(t,!e)},isEnabled:()=>!Kg.isDisabled(c)}}}});let QU=e=>/^[0-9\.]+(|px)$/i.test(``+e)?A.some(parseInt(``+e,10)):A.none(),$U=e=>_(e)?e+`px`:e,eW=(e,t,n)=>{let r=t.filter(t=>e<t),i=n.filter(t=>e>t);return r.or(i).getOr(e)},tW=e=>{let t=AS(e),n=NS(e),r=FS(e);return QU(t).map(e=>eW(e,n,r))},nW=e=>tW(e).getOr(AS(e)),rW=e=>{let t=jS(e),n=MS(e),r=PS(e);return QU(t).map(e=>eW(e,n,r))},iW=e=>rW(e).getOr(jS(e)),{ToolbarLocation:aW,ToolbarMode:oW}=kC,sW=(e,t,n,r,i)=>{let{mainUi:a,uiMotherships:o}=n,s=xS.DOM,c=CC(e),l=EC(e),u=PS(e).or(rW(e)),d=r.shared.header,f=d.isPositionedAtTop,p=VS(e),m=p===oW.sliding||p===oW.floating,h=no(!1),g=()=>h.get()&&!e.removed,_=e=>m?e.fold(C(0),e=>e.components().length>1?On(e.components()[1].element):0):0,v=n=>{switch(US(e)){case aW.auto:let e=_(rH.getToolbar(a.outerContainer)),r=On(n.element)-e,i=ei(t);if(i.y>r)return`top`;{let e=Pt(t),n=Math.max(e.dom.scrollHeight,On(e));return i.bottom<n-r||ii().bottom<i.bottom-r?`bottom`:`top`}case aW.bottom:return`bottom`;case aW.top:default:return`top`}},y=e=>{i.on(t=>{Mz.setModes(t,[e]),d.setDockingMode(e);let n=f()?qf.TopToBottom:qf.BottomToTop;cn(t.element,Jf,n)})},b=()=>{i.on(e=>{let n=u.getOrThunk(()=>{let e=QU(yn(an(),`margin-left`)).getOr(0);return zn(an())-Fn(t).left+e});_n(e.element,`max-width`,n+`px`)})},x=n=>{i.on(r=>{let i=_(rH.getToolbar(a.outerContainer)),o=ei(t),{top:s,left:c}=S(e,a.outerContainer.element).fold(()=>({top:f()?Math.max(o.y-On(r.element)+i,0):o.bottom,left:o.x}),e=>{let t=ei(e),n=e.dom.scrollTop??0,a=At(e,an()),s=a?Math.max(o.y-On(r.element)+i,0):o.y-t.y+n-On(r.element)+i;return{top:f()?s:o.bottom,left:a?o.x:o.x-t.x}}),l={position:`absolute`,left:Math.round(c)+`px`,top:Math.round(s)+`px`},u=n.map(e=>{let t=Vr(),n=window.innerWidth-(c-t.left);return{width:Math.max(Math.min(e,n),150)+`px`}}).getOr({});H(a.outerContainer.element,{...l,...u})})},S=(e,t)=>DC(e)?qR(t):A.none(),w=()=>{I(o,e=>{e.broadcastOn([$m()],{})})},T=()=>{if(c)return A.none();if(Fn(a.outerContainer.element).left+Bn(a.outerContainer.element)>=window.innerWidth-40||xn(a.outerContainer.element,`width`).isSome()){_n(a.outerContainer.element,`position`,`absolute`),_n(a.outerContainer.element,`left`,`0px`),wn(a.outerContainer.element,`width`);let e=Bn(a.outerContainer.element);return A.some(e)}else return A.none()},E=e=>{if(!g())return;c||b();let t=c?A.none():T();m&&rH.refreshToolbar(a.outerContainer),c||x(t),l&&i.on(e),w()},D=()=>c||!l||!g()?!1:i.get().exists(e=>{let t=d.getDockingMode(),n=v(e);return n===t?!1:(y(n),!0)});return{isVisible:g,isPositionedAtTop:f,show:()=>{h.set(!0),_n(a.outerContainer.element,`display`,`flex`),s.addClass(e.getBody(),`mce-edit-focus`),I(o,e=>{wn(e.element,`display`)}),D(),DC(e)?E(e=>Mz.isDocked(e)?Mz.reset(e):Mz.refresh(e)):E(Mz.refresh)},hide:()=>{h.set(!1),_n(a.outerContainer.element,`display`,`none`),s.removeClass(e.getBody(),`mce-edit-focus`),I(o,e=>{_n(e.element,`display`,`none`)})},update:E,updateMode:()=>{D()&&E(Mz.reset)},repositionPopups:w}},cW=(e,t)=>{let n=ei(e);return{pos:t?n.y:n.bottom,bounds:n}},lW=(e,t,n,r)=>{let i=no(cW(t,n.isPositionedAtTop())),a=r=>{let{pos:a,bounds:o}=cW(t,n.isPositionedAtTop()),{pos:s,bounds:c}=i.get(),l=o.height!==c.height||o.width!==c.width;i.set({pos:a,bounds:o}),l&&lD(e,r),n.isVisible()&&(s===a?l&&(n.updateMode(),n.repositionPopups()):n.update(Mz.reset))};r||(e.on(`activate`,n.show),e.on(`deactivate`,n.hide)),e.on(`SkinLoaded ResizeWindow`,()=>n.update(Mz.reset)),e.on(`NodeChange keydown`,e=>{requestAnimationFrame(()=>a(e))});let o=0,s=HN(()=>n.update(Mz.refresh),33);e.on(`ScrollWindow`,()=>{let e=Vr().left;e!==o&&(o=e,s.throttle()),n.updateMode()}),DC(e)&&e.on(`ElementScroll`,e=>{n.update(Mz.refresh)});let c=pf();c.set(_f(V.fromDom(e.getBody()),`load`,e=>a(e.raw))),e.on(`remove`,()=>{c.clear()})};var uW=Object.freeze({__proto__:null,render:(e,t,n,r,i)=>{let{mainUi:a}=t,o=mf(),s=V.fromDom(i.targetNode),c=sW(e,s,t,r,o),l=KS(e);_H(e);let u=()=>{if(o.isSet()){c.show();return}o.set(rH.getHeader(a.outerContainer).getOrDie());let i=wC(e);DC(e)?(Nm(s,a.mothership),Nm(s,t.popupUi.mothership)):Mm(i,a.mothership),Mm(i,t.dialogUi.mothership),KU(e,t,n,r),rH.setMenubar(a.outerContainer,sH(e,n)),c.show(),lW(e,s,c,l),e.nodeChanged()};e.on(`show`,u),e.on(`hide`,c.hide),l||(e.on(`focus`,u),e.on(`blur`,c.hide)),e.on(`init`,()=>{(e.hasFocus()||l)&&u()}),rE(e,t);let d={show:u,hide:c.hide,setEnabled:e=>{nE(t,!e)},isEnabled:()=>!Kg.isDisabled(a.outerContainer)};return{editorContainer:a.outerContainer.element.dom,api:d}}});let dW=()=>{let e=mf(),t=mf(),n=mf();return{dialogUi:e,popupUi:t,mainUi:n,getUiMotherships:()=>{let n=e.get().map(e=>e.mothership),r=t.get().map(e=>e.mothership);return n.fold(()=>r.toArray(),e=>r.fold(()=>[e],t=>At(e.element,t.element)?[e]:[e,t]))},lazyGetInOuterOrDie:(e,t)=>()=>n.get().bind(e=>t(e.outerContainer)).getOrDie(`Could not find ${e} element in OuterContainer`)}},fW=`contexttoolbar-hide`,pW=e=>({hide:()=>bs(e,ns()),getValue:()=>Q.getValue(e)}),mW=(e,t)=>J(yP,(n,r)=>{let i=pW(e.get(n));t.onAction(i,r.event.buttonApi)}),hW=(e,t,n)=>{let{primary:r,...i}=t.original;return AU(ba(dT({...i,type:`button`,onAction:y})),n,[mW(e,t)])},gW=(e,t,n)=>{let{primary:r,...i}=t.original;return MU(ba(mT({...i,type:`togglebutton`,onAction:y})),n,[mW(e,t)])},_W=e=>e.type===`contextformtogglebutton`,vW=(e,t,n)=>_W(t)?gW(e,t,n):hW(e,t,n),yW=(e,t,n)=>{let r=F(t,t=>nx(vW(e,t,n)));return{asSpecs:()=>F(r,e=>e.asSpec()),findPrimary:e=>Te(t,(t,n)=>t.primary?A.from(r[n]).bind(t=>t.getOpt(e)).filter(D(Kg.isDisabled)):A.none())}},bW=(e,t)=>{let n=e.label.fold(()=>({}),e=>({"aria-label":e})),r=nx(iw.sketch({inputClasses:[`tox-toolbar-textfield`,`tox-toolbar-nav-js`],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:Z([ky.config({mode:`special`,onEnter:e=>i.findPrimary(e).map(e=>(Ss(e),!0)),onLeft:(e,t)=>(t.cut(),A.none()),onRight:(e,t)=>(t.cut(),A.none())})])})),i=yW(r,e.commands,t);return[{title:A.none(),items:[r.asSpec()]},{title:A.none(),items:i.asSpecs()}]},xW={renderContextForm:(e,t,n)=>SV({type:e,uid:rc(`context-toolbar`),initGroups:bW(t,n),onEscape:A.none,cyclicKeying:!0,providers:n}),buildInitGroups:bW},SW=(e,t,n)=>t.bottom-e.y>=n&&e.bottom-t.y>=n,CW=e=>{let t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){let n=Kt(V.fromDom(e.startContainer),e.startOffset).element;return(St(n)?It(n):A.some(n)).filter(xt).map(e=>e.dom.getBoundingClientRect()).getOr(t)}else return t},wW=e=>{let t=CW(e.selection.getRng());if(e.inline){let e=Vr();return $r(e.left+t.left,e.top+t.top,t.width,t.height)}else{let n=ti(V.fromDom(e.getBody()));return $r(n.x+t.left,n.y+t.top,t.width,t.height)}},TW=(e,t)=>t.filter(e=>rn(e)&&bt(e)).map(ti).getOrThunk(()=>wW(e)),EW=(e,t,n)=>{let r=Math.max(e.x+n,t.x);return{x:r,width:Math.min(e.right-n,t.right)-r}},DW=(e,t,n,r,i,a)=>{let o=V.fromDom(e.getContainer()),s=ei(eu(o,`.tox-editor-header`).getOr(o)),c=s.y>=t.bottom,l=r&&!c;if(e.inline&&l)return{y:Math.max(s.bottom+a,n.y),bottom:n.bottom};if(e.inline&&!l)return{y:n.y,bottom:Math.min(s.y-a,n.bottom)};let u=i===`line`?ei(o):t;return l?{y:Math.max(s.bottom+a,n.y),bottom:Math.min(u.bottom-a,n.bottom)}:{y:Math.max(u.y+a,n.y),bottom:Math.min(s.y-a,n.bottom)}},OW=(e,t,n,r=0)=>{let i=Gr(window),a=ei(V.fromDom(e.getContentAreaContainer())),o=mC(e)||vC(e)||bC(e),{x:s,width:c}=EW(a,i,r);if(e.inline&&!o)return $r(s,i.y,c,i.height);{let{y:o,bottom:l}=DW(e,a,i,t.header.isPositionedAtTop(),n,r);return $r(s,o,c,l-o)}},kW={valignCentre:[],alignCentre:[],alignLeft:[`tox-pop--align-left`],alignRight:[`tox-pop--align-right`],right:[`tox-pop--right`],left:[`tox-pop--left`],bottom:[`tox-pop--bottom`],top:[`tox-pop--top`],inset:[`tox-pop--inset`]},AW={maxHeightFunction:Lf(),maxWidthFunction:JB()},jW=(e,t)=>{let n=e.selection.getRng(),r=Kt(V.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&At(r.element,t)},MW=(e,t,n)=>{let r=xn(e,`position`);_n(e,`position`,t);let i=n(e);return r.each(t=>_n(e,`position`,t)),i},NW=e=>e===`node`,PW=(e,t,n,r,i)=>{let a=wW(e),o=r.lastElement().exists(e=>At(n,e));return jW(e,n)?o?mL:lL:o?MW(t,r.getMode(),()=>SW(a,ei(t),-20)&&!r.isReposition()?gL:mL):(r.getMode()===`fixed`?i.y+Vr().top:i.y)+(On(t)+12)<=a.y?lL:uL},FW=(e,t,n,r)=>{let i=t=>(r,i,a,o,s)=>({...PW(e,o,t,n,s)({...r,y:s.y,height:s.height},i,a,o,s),alwaysFit:!0}),a=e=>NW(r)?[i(e)]:[];return t?{onLtr:e=>[ld,id,ad,od,sd,cd].concat(a(e)),onRtl:e=>[ld,ad,id,sd,od,cd].concat(a(e))}:{onLtr:e=>[cd,ld,od,id,sd,ad].concat(a(e)),onRtl:e=>[cd,ld,sd,ad,od,id].concat(a(e))}},IW=(e,t,n,r)=>t===`line`?{bubble:Hf(12,0,kW),layouts:{onLtr:()=>[ud],onRtl:()=>[dd]},overrides:AW}:{bubble:Hf(0,12,kW,1/12),layouts:FW(e,n,r,t),overrides:AW},LW=(e,t)=>{let{pass:n,fail:r}=ce(le(t,t=>t.predicate(e.dom)),e=>e.type===`contexttoolbar`);return{contextToolbars:n,contextForms:r}},RW=e=>{if(e.length<=1)return e;{let t=t=>ae(e,e=>e.position===t),n=t=>le(e,e=>e.position===t),r=t(`selection`),i=t(`node`);if(r||i)if(i&&r){let e=n(`node`),t=F(n(`selection`),e=>({...e,position:`node`}));return e.concat(t)}else return n(r?`selection`:`node`);else return n(`line`)}},zW=e=>{if(e.length<=1)return e;{let t=t=>pe(e,e=>e.position===t);return t(`selection`).orThunk(()=>t(`node`)).orThunk(()=>t(`line`)).map(e=>e.position).fold(()=>[],t=>le(e,e=>e.position===t))}},BW=(e,t,n)=>{let r=LW(e,t);if(r.contextForms.length>0)return A.some({elem:e,toolbars:[r.contextForms[0]]});{let t=LW(e,n);if(t.contextForms.length>0)return A.some({elem:e,toolbars:[t.contextForms[0]]});if(r.contextToolbars.length>0||t.contextToolbars.length>0){let n=RW(r.contextToolbars.concat(t.contextToolbars));return A.some({elem:e,toolbars:n})}else return A.none()}},VW=(e,t,n)=>e(t)?A.none():go(t,e=>{if(xt(e)){let{contextToolbars:t,contextForms:r}=LW(e,n.inNodeScope),i=r.length>0?r:zW(t);return i.length>0?A.some({elem:e,toolbars:i}):A.none()}else return A.none()},e),HW=(e,t)=>{let n=V.fromDom(t.getBody()),r=e=>At(e,n),i=e=>!r(e)&&!jt(n,e),a=V.fromDom(t.selection.getNode());return i(a)?A.none():BW(a,e.inNodeScope,e.inEditorScope).orThunk(()=>VW(r,a,e))},UW=(e,t)=>{let n={},r=[],i=[],a={},o={},s=(e,s)=>{let c=ba(ST(s));n[e]=c,c.launch.map(n=>{a[`form:`+e]={...s.launch,type:n.type===`contextformtogglebutton`?`togglebutton`:`button`,onAction:()=>{t(c)}}}),c.scope===`editor`?i.push(c):r.push(c),o[e]=c},c=(e,t)=>{wT(t).each(n=>{t.scope===`editor`?i.push(n):r.push(n),o[e]=n})};return I(Ee(e),t=>{let n=e[t];n.type===`contextform`?s(t,n):n.type===`contexttoolbar`&&c(t,n)}),{forms:n,inNodeScope:r,inEditorScope:i,lookupTable:o,formNavigators:a}},WW=rc(`forward-slide`),GW=rc(`backward-slide`),KW=rc(`change-slide-event`),qW=`tox-pop--resizing`,JW=e=>{let t=no([]);return Xb.sketch({dom:{tag:`div`,classes:[`tox-pop`]},fireDismissalEventInstead:{event:`doNotDismissYet`},onShow:e=>{t.set([]),Xb.getContent(e).each(e=>{wn(e.element,`visibility`)}),cl(e.element,qW),wn(e.element,`width`)},inlineBehaviours:Z([Wy(`context-toolbar-events`,[zs(Uo(),(e,t)=>{t.event.raw.propertyName===`width`&&(cl(e.element,qW),wn(e.element,`width`))}),J(KW,(e,t)=>{let n=e.element;wn(n,`width`);let r=zn(n);Xb.setContent(e,t.event.contents),ol(n,qW);let i=zn(n);_n(n,`width`,r+`px`),Xb.getContent(e).each(e=>{t.event.focus.bind(e=>(Pd(e),Rd(n))).orThunk(()=>(ky.focusIn(e),Ld(Xt(n))))}),setTimeout(()=>{_n(e.element,`width`,i+`px`)},0)}),J(WW,(e,n)=>{Xb.getContent(e).each(n=>{t.set(t.get().concat([{bar:n,focus:Ld(Xt(e.element))}]))}),xs(e,KW,{contents:n.event.forwardContents,focus:A.none()})}),J(GW,(e,n)=>{Ce(t.get()).each(n=>{t.set(t.get().slice(0,t.get().length-1)),xs(e,KW,{contents:Gl(n.bar),focus:n.focus})})})]),ky.config({mode:`special`,onEscape:n=>Ce(t.get()).fold(()=>e.onEscape(),e=>(bs(n,GW),A.some(!0)))})]),lazySink:()=>ci.value(e.sink)})},YW=`tox-pop--transition`,XW=(e,t,n,r)=>{let i=r.backstage,a=i.shared,o=Tr().deviceType.isTouch,s=mf(),c=mf(),l=mf(),u=Wl(JW({sink:n,onEscape:()=>(e.focus(),A.some(!0))})),d=()=>{let t=l.get().getOr(`node`);return OW(e,a,t,NW(t)?1:0)},f=()=>!e.removed&&!(o()&&i.isContextMenuOpen()),p=e=>Be(We(e,s.get(),At),!0),m=()=>{if(f()){let t=d(),n=Be(l.get(),`node`)?TW(e,s.get()):wW(e);return t.height<=0||!SW(n,t,.01)}else return!0},h=()=>{s.clear(),c.clear(),l.clear(),Xb.hide(u)},g=()=>{if(Xb.isOpen(u)){let e=u.element;wn(e,`display`),m()?_n(e,`display`,`none`):(c.set(0),Xb.reposition(u))}},_=t=>({dom:{tag:`div`,classes:[`tox-pop__dialog`]},components:[t],behaviours:Z([ky.config({mode:`acyclic`}),Wy(`pop-dialog-wrap-events`,[Bs(t=>{e.shortcuts.add(`ctrl+F9`,`focus statusbar`,()=>ky.focusIn(t))}),Vs(t=>{e.shortcuts.remove(`ctrl+F9`)})])])}),v=Hn(()=>UW(t,e=>{xs(u,WW,{forwardContents:_(S([e]))})})),b=(t,n)=>GU(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},r.backstage,A.some([`form:`])),x=(e,t)=>xW.buildInitGroups(e,t),S=t=>{let{buttons:n}=e.ui.registry.getAll(),r=v(),i={...n,...r.formNavigators},o=VS(e)===wS.scrolling?wS.scrolling:wS.default,s=L(F(t,e=>e.type===`contexttoolbar`?b(i,e):x(e,a.providers)));return SV({type:o,uid:rc(`context-toolbar`),initGroups:s,onEscape:A.none,cyclicKeying:!0,providers:a.providers})},C=(t,r)=>Ti(t===`node`?a.anchors.node(r):a.anchors.cursor(),IW(e,t,o(),{lastElement:s.get,isReposition:()=>Be(c.get(),0),getMode:()=>_m.getMode(n)})),w=(e,t)=>{if(E.cancel(),!f())return;let r=S(e),i=e[0].position,a=C(i,t);l.set(i),c.set(1);let o=u.element;wn(o,`display`),p(t)||(cl(o,YW),_m.reset(n,u)),Xb.showWithinBounds(u,_(r),{anchor:a,transition:{classes:[YW],mode:`placement`}},()=>A.some(d())),t.fold(s.clear,s.set),m()&&_n(o,`display`,`none`)},T=!1,E=HN(()=>{!e.hasFocus()||e.removed||T||(ul(u.element,YW)?E.throttle():HW(v(),e).fold(h,e=>{w(e.toolbars,A.some(e.elem))}))},17);e.on(`init`,()=>{e.on(`remove`,h),e.on(`ScrollContent ScrollWindow ObjectResized ResizeEditor longpress`,g),e.on(`click keyup focus SetContent`,E.throttle),e.on(fW,h),e.on(`contexttoolbar-show`,t=>{z(v().lookupTable,t.toolbarKey).each(n=>{w([n],qe(t.target!==e,t.target)),Xb.getContent(u).each(ky.focusIn)})}),e.on(`focusout`,t=>{Zb.setEditorTimeout(e,()=>{Rd(n.element).isNone()&&Rd(u.element).isNone()&&h()},0)}),e.on(`SwitchMode`,()=>{e.mode.isReadOnly()&&h()}),e.on(`AfterProgressState`,t=>{t.state?h():e.hasFocus()&&E.throttle()}),e.on(`dragstart`,()=>{T=!0}),e.on(`dragend drop`,()=>{T=!1}),e.on(`NodeChange`,e=>{Rd(u.element).fold(E.throttle,y)})})},ZW=e=>{I([{name:`alignleft`,text:`Align left`,cmd:`JustifyLeft`,icon:`align-left`},{name:`aligncenter`,text:`Align center`,cmd:`JustifyCenter`,icon:`align-center`},{name:`alignright`,text:`Align right`,cmd:`JustifyRight`,icon:`align-right`},{name:`alignjustify`,text:`Justify`,cmd:`JustifyFull`,icon:`align-justify`}],t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:DD(e,t.cmd),onSetup:wD(e,t.name)})}),e.ui.registry.addButton(`alignnone`,{tooltip:`No alignment`,icon:`align-none`,onSetup:SD(e),onAction:DD(e,`JustifyNone`)})},QW=(e,t)=>{let n=()=>{let n=t.getOptions(e),r=t.getCurrent(e).map(t.hash),i=mf();return F(n,n=>({type:`togglemenuitem`,text:t.display(n),onSetup:a=>{let o=e=>{e&&(i.on(e=>e.setActive(!1)),i.set(a)),a.setActive(e)};o(Be(r,t.hash(n)));let s=t.watcher(e,n,o);return()=>{i.clear(),s()}},onAction:()=>t.setCurrent(e,n)}))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(n()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:`nestedmenuitem`,text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},$W=e=>({name:`lineheight`,text:`Line height`,icon:`line-height`,getOptions:_C,hash:e=>QH(e,[`fixed`,`relative`,`empty`]).getOr(e),display:w,watcher:(e,t,n)=>e.formatter.formatChanged(`lineheight`,n,!1,{value:t}).unbind,getCurrent:e=>A.from(e.queryCommandValue(`LineHeight`)),setCurrent:(e,t)=>e.execCommand(`LineHeight`,!1,t),onToolbarSetup:SD(e),onMenuSetup:SD(e)}),eG=e=>A.from(zS(e)).map(t=>({name:`language`,text:`Language`,icon:`language`,getOptions:C(t),hash:e=>p(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,n)=>e.formatter.formatChanged(`lang`,n,!1,{value:t.code,customValue:t.customCode??null}).unbind,getCurrent:e=>_o(V.fromDom(e.selection.getNode()),e=>A.some(e).filter(xt).bind(e=>dn(e,`lang`).map(t=>({code:t,customCode:dn(e,`data-mce-lang`).getOrUndefined(),title:``})))),setCurrent:(e,t)=>e.execCommand(`Lang`,!1,t),onToolbarSetup:t=>{let n=pf();return t.setActive(e.formatter.match(`lang`,{},void 0,!0)),n.set(e.formatter.formatChanged(`lang`,t.setActive,!0)),xD(n.clear,SD(e)(t))},onMenuSetup:SD(e)})),tG=e=>{QW(e,$W(e)),eG(e).each(t=>QW(e,t))},nG=(e,t)=>{MH(e,t),qH(e,t),vU(e,t),RH(e,t),mU(e,t)},rG=e=>TD(e,`NodeChange`,t=>{t.setEnabled(e.queryCommandState(`outdent`)&&e.selection.isEditable())}),iG=e=>{e.ui.registry.addButton(`outdent`,{tooltip:`Decrease indent`,icon:`outdent`,onSetup:rG(e),onAction:DD(e,`outdent`)}),e.ui.registry.addButton(`indent`,{tooltip:`Increase indent`,icon:`indent`,onSetup:SD(e),onAction:DD(e,`indent`)})},aG=e=>{iG(e)},oG=(e,t)=>n=>{n.setActive(t.get());let r=e=>{t.set(e.state),n.setActive(e.state)};return e.on(`PastePlainTextToggle`,r),xD(()=>e.off(`PastePlainTextToggle`,r),SD(e)(n))},sG=e=>{let t=no(cC(e)),n=()=>e.execCommand(`mceTogglePlainTextPaste`);e.ui.registry.addToggleButton(`pastetext`,{active:!1,icon:`paste-text`,tooltip:`Paste as text`,onAction:n,onSetup:oG(e,t)}),e.ui.registry.addToggleMenuItem(`pastetext`,{text:`Paste as text`,icon:`paste-text`,onAction:n,onSetup:oG(e,t)})},cG=(e,t)=>()=>{e.execCommand(`mceToggleFormat`,!1,t)},lG=e=>{IN.each([{name:`bold`,text:`Bold`,icon:`bold`},{name:`italic`,text:`Italic`,icon:`italic`},{name:`underline`,text:`Underline`,icon:`underline`},{name:`strikethrough`,text:`Strikethrough`,icon:`strike-through`},{name:`subscript`,text:`Subscript`,icon:`subscript`},{name:`superscript`,text:`Superscript`,icon:`superscript`}],(t,n)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:wD(e,t.name),onAction:cG(e,t.name)})});for(let t=1;t<=6;t++){let n=`h`+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:`Heading `+t,onSetup:wD(e,n),onAction:cG(e,n)})}},uG=e=>{IN.each([{name:`copy`,text:`Copy`,action:`Copy`,icon:`copy`},{name:`help`,text:`Help`,action:`mceHelp`,icon:`help`},{name:`selectall`,text:`Select all`,action:`SelectAll`,icon:`select-all`},{name:`newdocument`,text:`New document`,action:`mceNewDocument`,icon:`new-document`},{name:`print`,text:`Print`,action:`mcePrint`,icon:`print`}],t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:DD(e,t.action)})}),IN.each([{name:`cut`,text:`Cut`,action:`Cut`,icon:`cut`},{name:`paste`,text:`Paste`,action:`Paste`,icon:`paste`},{name:`removeformat`,text:`Clear formatting`,action:`RemoveFormat`,icon:`remove-formatting`},{name:`remove`,text:`Remove`,action:`Delete`,icon:`remove`},{name:`hr`,text:`Horizontal line`,action:`InsertHorizontalRule`,icon:`horizontal-rule`}],t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:SD(e),onAction:DD(e,t.action)})})},dG=e=>{IN.each([{name:`blockquote`,text:`Blockquote`,action:`mceBlockQuote`,icon:`quote`}],t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:DD(e,t.action),onSetup:wD(e,t.name)})})},fG=e=>{lG(e),uG(e),dG(e)},pG=e=>{IN.each([{name:`newdocument`,text:`New document`,action:`mceNewDocument`,icon:`new-document`},{name:`copy`,text:`Copy`,action:`Copy`,icon:`copy`,shortcut:`Meta+C`},{name:`selectall`,text:`Select all`,action:`SelectAll`,icon:`select-all`,shortcut:`Meta+A`},{name:`print`,text:`Print...`,action:`mcePrint`,icon:`print`,shortcut:`Meta+P`}],t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:DD(e,t.action)})}),IN.each([{name:`bold`,text:`Bold`,action:`Bold`,icon:`bold`,shortcut:`Meta+B`},{name:`italic`,text:`Italic`,action:`Italic`,icon:`italic`,shortcut:`Meta+I`},{name:`underline`,text:`Underline`,action:`Underline`,icon:`underline`,shortcut:`Meta+U`},{name:`strikethrough`,text:`Strikethrough`,action:`Strikethrough`,icon:`strike-through`},{name:`subscript`,text:`Subscript`,action:`Subscript`,icon:`subscript`},{name:`superscript`,text:`Superscript`,action:`Superscript`,icon:`superscript`},{name:`removeformat`,text:`Clear formatting`,action:`RemoveFormat`,icon:`remove-formatting`},{name:`cut`,text:`Cut`,action:`Cut`,icon:`cut`,shortcut:`Meta+X`},{name:`paste`,text:`Paste`,action:`Paste`,icon:`paste`,shortcut:`Meta+V`},{name:`hr`,text:`Horizontal line`,action:`InsertHorizontalRule`,icon:`horizontal-rule`}],t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onSetup:SD(e),onAction:DD(e,t.action)})}),e.ui.registry.addMenuItem(`codeformat`,{text:`Code`,icon:`sourcecode`,onSetup:SD(e),onAction:cG(e,`code`)})},mG=e=>{fG(e),pG(e)},hG=(e,t)=>TD(e,`Undo Redo AddUndo TypingUndo ClearUndos SwitchMode`,n=>{n.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())}),gG=e=>{e.ui.registry.addMenuItem(`undo`,{text:`Undo`,icon:`undo`,shortcut:`Meta+Z`,onSetup:hG(e,`hasUndo`),onAction:DD(e,`undo`)}),e.ui.registry.addMenuItem(`redo`,{text:`Redo`,icon:`redo`,shortcut:`Meta+Y`,onSetup:hG(e,`hasRedo`),onAction:DD(e,`redo`)})},_G=e=>{e.ui.registry.addButton(`undo`,{tooltip:`Undo`,icon:`undo`,enabled:!1,onSetup:hG(e,`hasUndo`),onAction:DD(e,`undo`)}),e.ui.registry.addButton(`redo`,{tooltip:`Redo`,icon:`redo`,enabled:!1,onSetup:hG(e,`hasRedo`),onAction:DD(e,`redo`)})},vG=e=>{gG(e),_G(e)},yG=e=>TD(e,`VisualAid`,t=>{t.setActive(e.hasVisual)}),bG=e=>{e.ui.registry.addToggleMenuItem(`visualaid`,{text:`Visual aids`,onSetup:yG(e),onAction:DD(e,`mceToggleVisualAid`)})},xG=e=>{e.ui.registry.addButton(`visualaid`,{tooltip:`Visual aids`,text:`Visual aids`,onAction:DD(e,`mceToggleVisualAid`)})},SG=e=>{xG(e),bG(e)},CG=(e,t)=>{ZW(e),mG(e),nG(e,t),vG(e),hO(e),SG(e),aG(e),tG(e),sG(e)},wG=e=>s(e)?e.split(/[ ,]/):e,TG=e=>t=>t.options.get(e),EG=e=>{let t=e.options.register;t(`contextmenu_avoid_overlap`,{processor:`string`,default:``}),t(`contextmenu_never_use_native`,{processor:`boolean`,default:!1}),t(`contextmenu`,{processor:e=>e===!1?{value:[],valid:!0}:s(e)||v(e,s)?{value:wG(e),valid:!0}:{valid:!1,message:`Must be false or a string.`},default:`link linkchecker image editimage table spellchecker configurepermanentpen`})},DG=TG(`contextmenu_never_use_native`),OG=TG(`contextmenu_avoid_overlap`),kG=e=>AG(e).length===0,AG=e=>{let t=e.ui.registry.getAll().contextMenus,n=e.options.get(`contextmenu`);return e.options.isSet(`contextmenu`)?n:le(n,e=>Re(t,e))},jG=(e,t)=>({type:`makeshift`,x:e,y:t}),MG=(e,t,n)=>jG(e.x+t,e.y+n),NG=e=>e.type===`longpress`||e.type.indexOf(`touch`)===0,PG=e=>{if(NG(e)){let t=e.touches[0];return jG(t.pageX,t.pageY)}else return jG(e.pageX,e.pageY)},FG=e=>{if(NG(e)){let t=e.touches[0];return jG(t.clientX,t.clientY)}else return jG(e.clientX,e.clientY)},IG=(e,t)=>{let n=xS.DOM.getPos(e);return MG(t,n.x,n.y)},LG=(e,t)=>t.type===`contextmenu`||t.type===`longpress`?e.inline?PG(t):IG(e.getContentAreaContainer(),FG(t)):RG(e),RG=e=>({type:`selection`,root:V.fromDom(e.selection.getNode())}),zG=e=>({type:`node`,node:A.some(V.fromDom(e.selection.getNode())),root:V.fromDom(e.getBody())}),BG=(e,t,n)=>{switch(n){case`node`:return zG(e);case`point`:return LG(e,t);case`selection`:return RG(e)}},VG=(e,t,n,r,i,a)=>{let o=n(),s=BG(e,t,a);VP(o,FC.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:A.none()}).map(e=>{t.preventDefault(),Xb.showMenuAt(i,{anchor:s},{menu:{markers:XC(`normal`)},data:e})})},HG={onLtr:()=>[ld,id,ad,od,sd,cd,lL,uL,cL,oL,sL,aL],onRtl:()=>[ld,ad,id,sd,od,cd,lL,uL,sL,aL,cL,oL]},UG={valignCentre:[],alignCentre:[],alignLeft:[`tox-pop--align-left`],alignRight:[`tox-pop--align-right`],right:[`tox-pop--right`],left:[`tox-pop--left`],bottom:[`tox-pop--bottom`],top:[`tox-pop--top`]},WG=(e,t)=>{let n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;{let r=t.touches[0],i=n.getRng();return Vp(e.getWin(),yp.domRange(i)).exists(e=>e.left<=r.clientX&&e.right>=r.clientX&&e.top<=r.clientY&&e.bottom>=r.clientY)}},GG=e=>{let t=e.selection.getRng(),n=()=>{Zb.setEditorTimeout(e,()=>{e.selection.setRng(t)},10),a()};e.once(`touchend`,n);let r=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on(`mousedown`,r,!0);let i=()=>a();e.once(`longpresscancel`,i);let a=()=>{e.off(`touchend`,n),e.off(`longpresscancel`,i),e.off(`mousedown`,r)}},KG=(e,t,n)=>{let r=BG(e,t,n);return{bubble:Hf(0,n===`point`?12:0,UG),layouts:HG,overrides:{maxWidthFunction:JB(),maxHeightFunction:Lf()},...r}},qG=(e,t,n,r,i,a,o)=>{let s=KG(e,t,a);VP(n,FC.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!0,search:A.none()}).map(n=>{t.preventDefault();let c=o?Gb.HighlightMenuAndItem:Gb.HighlightNone;Xb.showMenuWithinBounds(i,{anchor:s},{menu:{markers:XC(`normal`),highlightOnOpen:c},data:n,type:`horizontal`},()=>A.some(OW(e,r.shared,a===`node`?`node`:`selection`))),e.dispatch(fW)})},JG=(e,t,n,r,i,a)=>{let o=Tr(),s=o.os.isiOS(),c=o.os.isMacOS(),l=o.os.isAndroid(),u=o.deviceType.isTouch(),d=()=>!(l||s||c&&u),f=()=>{qG(e,t,n(),r,i,a,d())};if((c||s)&&a!==`node`){let n=()=>{GG(e),f()};WG(e,t)?n():(e.once(`selectionchange`,n),e.once(`touchend`,()=>e.off(`selectionchange`,n)))}else f()},YG=e=>s(e)?e===`|`:e.type===`separator`,XG={type:`separator`},ZG=e=>{let t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(s(e))return e;switch(e.type){case`separator`:return XG;case`submenu`:return{type:`nestedmenuitem`,...t(e),getSubmenuItems:()=>{let t=e.getSubmenuItems();return s(t)?t:F(t,ZG)}};default:let n=e;return{type:`menuitem`,...t(n),onAction:b(n.onAction)}}},QG=(e,t)=>{if(t.length===0)return e;let n=Ce(e).filter(e=>!YG(e)).fold(()=>[],e=>[XG]);return e.concat(n).concat(t).concat([XG])},$G=(e,t,n)=>{let r=de(t,(t,r)=>z(e,r.toLowerCase()).map(e=>{let r=e.update(n);return s(r)&&rt(nt(r))?QG(t,r.split(` `)):u(r)&&r.length>0?QG(t,F(r,ZG)):t}).getOrThunk(()=>t.concat([r])),[]);return r.length>0&&YG(r[r.length-1])&&r.pop(),r},eK=(e,t)=>t.ctrlKey&&!DG(e),tK=e=>e.type===`longpress`||Re(e,`touches`),nK=(e,t)=>!tK(t)&&(t.button!==2||t.target===e.getBody()&&t.pointerType===``),rK=(e,t)=>nK(e,t)?e.selection.getStart(!0):t.target,iK=(e,t)=>{let n=OG(e),r=nK(e,t)?`selection`:`point`;if(rt(n)){let i=rK(e,t);return Ik(V.fromDom(i),n)?`node`:r}else return r},aK=(e,t,n)=>{let r=Tr().deviceType.isTouch,i=Wl(Xb.sketch({dom:{tag:`div`},lazySink:t,onEscape:()=>e.focus(),onShow:()=>n.setContextMenuState(!0),onHide:()=>n.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Z([Wy(`dismissContextMenu`,[J(ds(),(t,n)=>{Zm.close(t),e.focus()})])])})),a=()=>Xb.hide(i),o=t=>{if(DG(e)&&t.preventDefault(),eK(e,t)||kG(e))return;let a=iK(e,t);(r()?JG:VG)(e,t,()=>{let n=rK(e,t),r=e.ui.registry.getAll(),i=AG(e);return $G(r.contextMenus,i,n)},n,i,a)};e.on(`init`,()=>{let t=`ResizeEditor ScrollContent ScrollWindow longpresscancel`+(r()?``:` ResizeWindow`);e.on(t,a),e.on(`longpress contextmenu`,o)})},oK=ro.generate([{offset:[`x`,`y`]},{absolute:[`x`,`y`]},{fixed:[`x`,`y`]}]),sK=e=>t=>t.translate(-e.left,-e.top),cK=e=>t=>t.translate(e.left,e.top),lK=e=>(t,n)=>de(e,(e,t)=>t(e),Mn(t,n)),uK=(e,t,n)=>e.fold(lK([cK(n),sK(t)]),lK([sK(t)]),lK([])),dK=(e,t,n)=>e.fold(lK([cK(n)]),lK([]),lK([cK(t)])),fK=(e,t,n)=>e.fold(lK([]),lK([sK(n)]),lK([cK(t),sK(n)])),pK=(e,t,n,r,i,a)=>{let o=dK(e,i,a),s=dK(t,i,a);return Math.abs(o.left-s.left)<=n&&Math.abs(o.top-s.top)<=r},mK=(e,t,n,r,i,a)=>{let o=dK(e,i,a),s=dK(t,i,a);return Mn(Math.abs(o.left-s.left),Math.abs(o.top-s.top))},hK=(e,t,n)=>{let r=e.fold((e,t)=>({position:A.some(`absolute`),left:A.some(e+`px`),top:A.some(t+`px`)}),(e,t)=>({position:A.some(`absolute`),left:A.some(e-n.left+`px`),top:A.some(t-n.top+`px`)}),(e,t)=>({position:A.some(`fixed`),left:A.some(e+`px`),top:A.some(t+`px`)}));return{right:A.none(),bottom:A.none(),...r}},gK=(e,t,n)=>e.fold((e,r)=>vK(e+t,r+n),(e,r)=>yK(e+t,r+n),(e,r)=>bK(e+t,r+n)),_K=(e,t,n,r)=>{let i=(e,i)=>(a,o)=>{let s=e(t,n,r);return i(a.getOr(s.left),o.getOr(s.top))};return e.fold(i(fK,vK),i(dK,yK),i(uK,bK))},vK=oK.offset,yK=oK.absolute,bK=oK.fixed,xK=(e,t)=>{let n=un(e,t);return p(n)?NaN:parseInt(n,10)},SK=(e,t)=>{let n=e.element,r=xK(n,t.leftAttr),i=xK(n,t.topAttr);return isNaN(r)||isNaN(i)?A.none():A.some(Mn(r,i))},CK=(e,t,n)=>{let r=e.element;cn(r,t.leftAttr,n.left+`px`),cn(r,t.topAttr,n.top+`px`)},wK=(e,t)=>{let n=e.element;pn(n,t.leftAttr),pn(n,t.topAttr)},TK=(e,t,n,r)=>SK(e,t).fold(()=>n,e=>bK(e.left+r.left,e.top+r.top)),EK=(e,t,n,r,i,a)=>{let o=TK(e,t,n,r),s=t.mustSnap?kK(e,t,o,i,a):AK(e,t,o,i,a),c=uK(o,i,a);return CK(e,t,c),s.fold(()=>({coord:bK(c.left,c.top),extra:A.none()}),e=>({coord:e.output,extra:e.extra}))},DK=(e,t)=>{wK(e,t)},OK=(e,t,n,r)=>Te(e,e=>{let i=e.sensor;return pK(t,i,e.range.left,e.range.top,n,r)?A.some({output:_K(e.output,t,n,r),extra:e.extra}):A.none()}),kK=(e,t,n,r,i)=>{let a=t.getSnapPoints(e);return OK(a,n,r,i).orThunk(()=>de(a,(e,t)=>{let a=t.sensor,o=mK(n,a,t.range.left,t.range.top,r,i);return e.deltas.fold(()=>({deltas:A.some(o),snap:A.some(t)}),n=>(o.left+o.top)/2<=(n.left+n.top)/2?{deltas:A.some(o),snap:A.some(t)}:e)},{deltas:A.none(),snap:A.none()}).snap.map(e=>({output:_K(e.output,n,r,i),extra:e.extra})))},AK=(e,t,n,r,i)=>OK(t.getSnapPoints(e),n,r,i),jK=(e,t,n)=>({coord:_K(e.output,e.output,t,n),extra:e.extra});var MK=Object.freeze({__proto__:null,snapTo:(e,t,n,r)=>{let i=t.getTarget(e.element);if(t.repositionTarget){let t=Vr(Mt(e.element)),n=JR(i);vn(i,hK(jK(r,t,n).coord,t,n))}}});let NK=`data-initial-z-index`,PK=e=>{It(e.element).filter(xt).each(e=>{dn(e,NK).fold(()=>wn(e,`z-index`),t=>_n(e,`z-index`,t)),pn(e,NK)})},FK=e=>{It(e.element).filter(xt).each(t=>{xn(t,`z-index`).each(e=>{cn(t,NK,e)}),_n(t,`z-index`,yn(e.element,`z-index`))})},IK=(e,t)=>{e.getSystem().addToGui(t),FK(t)},LK=e=>{PK(e),e.getSystem().removeFromGui(e)},RK=(e,t,n)=>e.getSystem().build(rA.sketch({dom:{styles:{left:`0px`,top:`0px`,width:`100%`,height:`100%`,position:`fixed`,"z-index":`1000000000000000`},classes:[t]},events:n}));var zK=Ga(`snaps`,[K(`getSnapPoints`),Tu(`onSensor`),K(`leftAttr`),K(`topAttr`),q(`lazyViewport`,ii),q(`mustSnap`,!1)]);let BK=[q(`useFixed`,k),K(`blockerClass`),q(`getTarget`,w),q(`onDrag`,y),q(`repositionTarget`,!0),q(`onDrop`,y),Qa(`getBounds`,ii),zK],VK=e=>Ge(xn(e,`left`),xn(e,`top`),xn(e,`position`),(e,t,n)=>(n===`fixed`?bK:vK)(parseInt(e,10),parseInt(t,10))).getOrThunk(()=>{let t=Fn(e);return yK(t.left,t.top)}),HK=(e,t,n,r,i)=>{let a=i.bounds,o=dK(t,n,r),s=yK(Gu(o.left,a.x,a.x+a.width-i.width),Gu(o.top,a.y,a.y+a.height-i.height));return t.fold(()=>{let e=fK(s,n,r);return vK(e.left,e.top)},C(s),()=>{let e=uK(s,n,r);return bK(e.left,e.top)})},UK=(e,t,n,r,i,a,o)=>HK(e,t.fold(()=>{let e=uK(gK(n,a.left,a.top),r,i);return bK(e.left,e.top)},t=>{let o=EK(e,t,n,a,r,i);return o.extra.each(n=>{t.onSensor(e,n)}),o.coord}),r,i,o),WK=(e,t,n,r)=>{let i=t.getTarget(e.element);if(t.repositionTarget){let a=Vr(Mt(e.element)),o=JR(i),s=VK(i);vn(i,hK(UK(e,t.snaps,s,a,o,r,n),a,o))}t.onDrag(e,i,r)},GK=(e,t)=>({bounds:e.getBounds(),height:kn(t.element),width:Bn(t.element)}),KK=(e,t,n,r,i)=>{let a=n.update(r,i),o=n.getStartData().getOrThunk(()=>GK(t,e));a.each(n=>{WK(e,t,o,n)})},qK=(e,t,n,r)=>{t.each(LK),n.snaps.each(t=>{DK(e,t)});let i=n.getTarget(e.element);r.reset(),n.onDrop(e,i)},JK=e=>(t,n)=>{let r=e=>{n.setStartData(GK(t,e))};return Ds([J(ss(),e=>{n.getStartData().each(()=>r(e))}),...e(t,n,r)])},YK=e=>Ds([J(Ao(),e.forceDrop),J(No(),e.drop),J(jo(),(t,n)=>{e.move(n.event)}),J(Mo(),e.delayDrop)]);var XK=Object.freeze({__proto__:null,getData:e=>A.from(Mn(e.x,e.y)),getDelta:(e,t)=>Mn(t.left-e.left,t.top-e.top)});let ZK=(e,t,n)=>[J(Ao(),(r,i)=>{if(i.event.raw.button!==0)return;i.stop();let a=()=>qK(r,A.some(c),e,t),o=Lk(a,200),s={drop:a,delayDrop:o.schedule,forceDrop:a,move:n=>{o.cancel(),KK(r,e,t,XK,n)}},c=RK(r,e.blockerClass,YK(s));n(r),IK(r,c)})],QK=[...BK,Ou(`dragger`,{handlers:JK(ZK)})],$K=e=>Ds([J(Eo(),e.forceDrop),J(Oo(),e.drop),J(ko(),e.drop),J(Do(),(t,n)=>{e.move(n.event)})]),eq=e=>{let t=e[0];return A.some(Mn(t.clientX,t.clientY))};var tq=Object.freeze({__proto__:null,getData:e=>{let t=e.raw.touches;return t.length===1?eq(t):A.none()},getDelta:(e,t)=>Mn(t.left-e.left,t.top-e.top)});let nq=(e,t,n)=>{let r=mf(),i=n=>{qK(n,r.get(),e,t),r.clear()};return[J(Eo(),(a,o)=>{o.stop();let s=()=>i(a),c={drop:s,delayDrop:y,forceDrop:s,move:n=>{KK(a,e,t,tq,n)}},l=RK(a,e.blockerClass,$K(c));r.set(l),n(a),IK(a,l)}),J(Do(),(n,r)=>{r.stop(),KK(n,e,t,tq,r.event)}),J(Oo(),(e,t)=>{t.stop(),i(e)}),J(ko(),i)]},rq=[...BK,Ou(`dragger`,{handlers:JK(nq)})],iq=(e,t,n)=>[...ZK(e,t,n),...nq(e,t,n)],aq=[...BK,Ou(`dragger`,{handlers:JK(iq)})],oq=QK,sq=rq,cq=aq,lq=Ad({branchKey:`mode`,branches:Object.freeze({__proto__:null,mouse:oq,touch:sq,mouseOrTouch:cq}),name:`dragging`,active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:A.from(e.extra)})},state:Object.freeze({__proto__:null,init:()=>{let e=A.none(),t=A.none(),n=()=>{e=A.none(),t=A.none()},r=(t,n)=>{let r=e.map(e=>t.getDelta(e,n));return e=A.some(n),r};return Tc({readState:C({}),reset:n,update:(e,t)=>e.getData(t).bind(t=>r(e,t)),getStartData:()=>t,setStartData:e=>{t=A.some(e)}})}}),apis:MK}),uq=(e,t,n,r,i,a)=>e.fold(()=>lq.snap({sensor:yK(n-20,r-20),range:Mn(i,a),output:yK(A.some(n),A.some(r)),extra:{td:t}}),e=>{let i=n-20,a=r-20,o=e.element.dom.getBoundingClientRect();return lq.snap({sensor:yK(i,a),range:Mn(40,40),output:yK(A.some(n-o.width/2),A.some(r-o.height/2)),extra:{td:t}})}),dq=(e,t,n)=>{let r=(e,t)=>e.exists(e=>At(e,t));return{getSnapPoints:e,leftAttr:`data-drag-left`,topAttr:`data-drag-top`,onSensor:(e,i)=>{let a=i.td;r(t.get(),a)||(t.set(a),n(a))},mustSnap:!0}},fq=e=>nx(Qb.sketch({dom:{tag:`div`,classes:[`tox-selector`]},buttonBehaviours:Z([lq.config({mode:`mouseOrTouch`,blockerClass:`blocker`,snaps:e}),LA.config({})]),eventOrder:{mousedown:[`dragging`,`alloy.base.behaviour`],touchstart:[`dragging`,`alloy.base.behaviour`]}})),pq=(e,t)=>{let n=no([]),r=no([]),i=no(!1),a=mf(),o=mf(),s=e=>{let n=ti(e);return uq(p.getOpt(t),e,n.x,n.y,n.width,n.height)},c=()=>F(n.get(),e=>s(e)),l=e=>{let n=ti(e);return uq(m.getOpt(t),e,n.right,n.bottom,n.width,n.height)},u=()=>F(r.get(),e=>l(e)),d=dq(c,a,t=>{o.get().each(n=>{e.dispatch(`TableSelectorChange`,{start:t,finish:n})})}),f=dq(u,o,t=>{a.get().each(n=>{e.dispatch(`TableSelectorChange`,{start:n,finish:t})})}),p=fq(d),m=fq(f),h=Wl(p.asSpec()),g=Wl(m.asSpec()),_=(t,n,r,i)=>{let a=n.dom.getBoundingClientRect();wn(t.element,`display`);let o=Ft(V.fromDom(e.getBody())).dom.innerHeight,s=r(a),c=i(a,o);(s||c)&&_n(t.element,`display`,`none`)},v=(e,t,n,r)=>{let i=n(t);lq.snapTo(e,i),_(e,t,e=>e[r]<0,(e,t)=>e[r]>t)},y=e=>v(h,e,s,`top`),b=()=>a.get().each(y),x=e=>v(g,e,l,`bottom`),S=()=>o.get().each(x);Tr().deviceType.isTouch()&&(e.on(`TableSelectionChange`,e=>{i.get()||(Dm(t,h),Dm(t,g),i.set(!0)),a.set(e.start),o.set(e.finish),e.otherCells.each(t=>{n.set(t.upOrLeftCells),r.set(t.downOrRightCells),y(e.start),x(e.finish)})}),e.on(`ResizeEditor ResizeWindow ScrollContent`,()=>{b(),S()}),e.on(`TableSelectionClear`,()=>{i.get()&&(Am(h),Am(g),i.set(!1)),a.clear(),o.clear()}))};var mq=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;let hq=e=>e.nodeName===`BR`||!!e.getAttribute(`data-mce-bogus`)||e.getAttribute(`data-mce-type`)===`bookmark`,gq=(e,t,n)=>{let r=t.delimiter??`›`,i=(t,r,i)=>Qb.sketch({dom:{tag:`div`,classes:[`tox-statusbar__path-item`],attributes:{"data-index":i,"aria-level":i+1}},components:[zl(t)],action:t=>{e.focus(),e.selection.select(r),e.nodeChanged()},buttonBehaviours:Z([aE.button(n.isDisabled),iE()])}),a=()=>({dom:{tag:`div`,classes:[`tox-statusbar__path-divider`],attributes:{"aria-hidden":!0}},components:[zl(` ${r} `)]}),o=e=>de(e,(e,t,n)=>{let r=i(t.name,t.element,n);return n===0?e.concat([r]):e.concat([a(),r])},[]),s=t=>{let n=[],r=t.length;for(;r-- >0;){let i=t[r];if(i.nodeType===1&&!hq(i)){let t=pD(e,i);if(t.isDefaultPrevented()||n.push({name:t.name,element:i}),t.isPropagationStopped())break}}return n};return{dom:{tag:`div`,classes:[`tox-statusbar__path`],attributes:{role:`navigation`}},behaviours:Z([ky.config({mode:`flow`,selector:`div[role=button]`}),Kg.config({disabled:n.isDisabled}),iE(),uA.config({}),Hy.config({}),Wy(`elementPathEvents`,[Bs((t,n)=>{e.shortcuts.add(`alt+F11`,`focus statusbar elementpath`,()=>ky.focusIn(t)),e.on(`NodeChange`,e=>{let n=s(e.parents),r=n.length>0?o(n):[];Hy.set(t,r)})})])]),components:[]}};var _q;(function(e){e[e.None=0]=`None`,e[e.Both=1]=`Both`,e[e.Vertical=2]=`Vertical`})(_q||={});let vq=(e,t,n,r,i)=>{let a={height:eW(r+t.top,NS(e),FS(e))};return n===_q.Both&&(a.width=eW(i+t.left,MS(e),PS(e))),a},yq=(e,t,n)=>{let r=V.fromDom(e.getContainer());Oe(vq(e,t,n,On(r),zn(r)),(e,t)=>{_(e)&&_n(r,t,$U(e))}),cD(e)},bq=e=>{let t=sC(e);return t===!1?_q.None:t===`both`?_q.Both:_q.Vertical},xq=(e,t,n,r)=>(yq(e,Mn(n*20,r*20),t),A.some(!0)),Sq=(e,t)=>{let n=bq(e);if(n===_q.None)return A.none();let r=n===_q.Both?`Press the arrow keys to resize the editor.`:`Press the Up and Down arrow keys to resize the editor.`;return A.some(gS(`resize-handle`,{tag:`div`,classes:[`tox-statusbar__resize-handle`],attributes:{title:t.translate(`Resize`),"aria-label":t.translate(r)},behaviours:[lq.config({mode:`mouse`,repositionTarget:!1,onDrag:(t,r,i)=>yq(e,i,n),blockerClass:`tox-blocker`}),ky.config({mode:`special`,onLeft:()=>xq(e,n,-1,0),onRight:()=>xq(e,n,1,0),onUp:()=>xq(e,n,0,-1),onDown:()=>xq(e,n,0,1)}),uA.config({}),Jy.config({})]},t.icons))},Cq=(e,t)=>{let n=(e,n,r)=>Hy.set(e,[zl(t.translate([`{0} `+r,n[r]]))]);return Qb.sketch({dom:{tag:`button`,classes:[`tox-statusbar__wordcount`]},components:[],buttonBehaviours:Z([aE.button(t.isDisabled),iE(),uA.config({}),Hy.config({}),Q.config({store:{mode:`memory`,initialValue:{mode:`words`,count:{words:0,characters:0}}}}),Wy(`wordcount-events`,[Us(e=>{let t=Q.getValue(e),r=t.mode===`words`?`characters`:`words`;Q.setValue(e,{mode:r,count:t.count}),n(e,t.count,r)}),Bs(t=>{e.on(`wordCountUpdate`,e=>{let{mode:r}=Q.getValue(t);Q.setValue(t,{mode:r,count:e.wordCount}),n(t,e.wordCount,r)})})])]),eventOrder:{[Qo()]:[`disabling`,`alloy.base.behaviour`,`wordcount-events`]}})},wq=(e,t)=>{let n=()=>({dom:{tag:`span`,classes:[`tox-statusbar__branding`]},components:[{dom:{tag:`a`,attributes:{href:`https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v6`,rel:`noopener`,target:`_blank`,"aria-label":aS.translate([`Powered by {0}`,`Tiny`])},innerHtml:mq.trim()},behaviours:Z([Jy.config({})])}]}),r=()=>{let e=mE(`Alt+0`);return{dom:{tag:`div`,classes:[`tox-statusbar__help-text`]},components:[zl(aS.translate([`Press {0} for help`,e]))]}},i=()=>{let r=[];return e.hasPlugin(`wordcount`)&&r.push(Cq(e,t)),oC(e)&&r.push(n()),{dom:{tag:`div`,classes:[`tox-statusbar__right-container`]},components:r}},a=()=>{let n=[],a=dC(e),o=aC(e),s=oC(e)||e.hasPlugin(`wordcount`);return o&&n.push(gq(e,{},t)),a&&n.push(r()),s&&n.push(i()),n.length>0?[{dom:{tag:`div`,classes:[`tox-statusbar__text-container`,...(()=>{let e=`tox-statusbar__text-container--flex-start`,t=`tox-statusbar__text-container--flex-end`;if(a){let n=`tox-statusbar__text-container-3-cols`;return!s&&!o?[n,`tox-statusbar__text-container--space-around`]:s&&!o?[n,t]:[n,e]}return[s&&!o?t:e]})()]},components:n}]:[]};return{dom:{tag:`div`,classes:[`tox-statusbar`]},components:(()=>{let n=a(),r=Sq(e,t);return n.concat(r.toArray())})()}},Tq=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),Eq=(e,t)=>{let n=e.inline,r=n?uW:ZU,i=EC(e)?Jz:KR,a=dW(),o=mf(),s=mf(),c=mf(),l=Tr().deviceType.isTouch()?[`tox-platform-touch`]:[],u=xC(e),d=VS(e),f=nx({dom:{tag:`div`,classes:[`tox-anchorbar`]}}),p=nx({dom:{tag:`div`,classes:[`tox-bottom-anchorbar`]}}),m=()=>a.mainUi.get().map(e=>e.outerContainer).bind(rH.getHeader),h=()=>ci.fromOption(a.dialogUi.get().map(e=>e.sink),`UI has not been rendered`),g=()=>ci.fromOption(a.popupUi.get().map(e=>e.sink),`(popup) UI has not been rendered`),_=a.lazyGetInOuterOrDie(`anchor bar`,f.getOpt),v=a.lazyGetInOuterOrDie(`bottom anchor bar`,p.getOpt),y=a.lazyGetInOuterOrDie(`toolbar`,rH.getToolbar),b=a.lazyGetInOuterOrDie(`throbber`,rH.getThrobber),x=NR({popup:g,dialog:h},e,_,v),S=()=>{let t={attributes:{[Jf]:u?qf.BottomToTop:qf.TopToBottom}},n=rH.parts.menubar({dom:{tag:`div`,classes:[`tox-menubar`]},backstage:x.popup,onEscape:()=>{e.focus()}}),r=rH.parts.toolbar({dom:{tag:`div`,classes:[`tox-toolbar`]},getSink:x.popup.shared.getSink,providers:x.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{mD(e,t)},type:d,lazyToolbar:y,lazyHeader:()=>m().getOrDie(`Could not find header element`),...t}),i=rH.parts[`multiple-toolbar`]({dom:{tag:`div`,classes:[`tox-toolbar-overlord`]},providers:x.popup.shared.providers,onEscape:()=>{e.focus()},type:d}),a=bC(e),o=vC(e),s=mC(e),c=uC(e),l=C(),p=a||o||s,h=()=>a?[i]:o?[r]:[],g=c?[l,n]:[n];return rH.parts.header({dom:{tag:`div`,classes:[`tox-editor-header`].concat(p?[]:[`tox-editor-header--empty`]),...t},components:L([s?g:[],h(),CC(e)?[]:[f.asSpec()]]),sticky:EC(e),editor:e,sharedBackstage:x.popup.shared})},C=()=>rH.parts.promotion({dom:{tag:`div`,classes:[`tox-promotion`]}}),w=()=>({dom:{tag:`div`,classes:[`tox-sidebar-wrap`]},components:[rH.parts.socket({dom:{tag:`div`,classes:[`tox-edit-area`]}}),rH.parts.sidebar({dom:{tag:`div`,classes:[`tox-sidebar`]}})]}),T=()=>{let t=wC(e),n=At(an(),t)&&yn(t,`display`)===`grid`,r={dom:{tag:`div`,classes:[`tox`,`tox-silver-sink`,`tox-tinymce-aux`].concat(l),attributes:{...aS.isRtl()?{dir:`rtl`}:{}}},behaviours:Z([_m.config({useFixed:()=>i.isDocked(m)})])},a={dom:{styles:{width:document.body.clientWidth+`px`}},events:Ds([J(cs(),e=>{_n(e.element,`width`,document.body.clientWidth+`px`)})])},o=Wl(Ti(r,n?a:{})),c=iA(o);return s.set(c),{sink:o,mothership:c}},E=()=>{let e=Wl({dom:{tag:`div`,classes:[`tox`,`tox-silver-sink`,`tox-silver-popup-sink`,`tox-tinymce-aux`].concat(l),attributes:{...aS.isRtl()?{dir:`rtl`}:{}}},behaviours:Z([_m.config({useFixed:()=>i.isDocked(m),getBounds:()=>t.getPopupSinkBounds()})])}),n=iA(e);return c.set(n),{sink:e,mothership:n}},D=()=>{let t=S(),r=w(),i=rH.parts.throbber({dom:{tag:`div`,classes:[`tox-throbber`]},backstage:x.popup}),a=rH.parts.viewWrapper({backstage:x.popup}),s=iC(e)&&!n?A.some(wq(e,x.popup.shared.providers)):A.none(),c=L([u?[]:[t],n?[]:[r],u?[t]:[]]),d=rH.parts.editorContainer({components:L([c,n?[]:[p.asSpec(),...s.toArray()]])}),f=TC(e),m={role:`application`,...aS.isRtl()?{dir:`rtl`}:{},...f?{"aria-hidden":`true`}:{}},h=Wl(rH.sketch({dom:{tag:`div`,classes:[`tox`,`tox-tinymce`].concat(n?[`tox-tinymce-inline`]:[],u?[`tox-tinymce--toolbar-bottom`]:[],l),styles:{visibility:`hidden`,...f?{opacity:`0`,border:`0`}:{}},attributes:m},components:[d,...n?[]:[a],i],behaviours:Z([iE(),Kg.config({disableClass:`tox-tinymce--disabled`}),ky.config({mode:`cyclic`,selector:`.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle`})])})),g=iA(h);return o.set(g),{mothership:g,outerContainer:h}},O=t=>{let n=$U(nW(e)),r=$U(iW(e));return e.inline||(Cn(`div`,`width`,r)&&_n(t.element,`width`,r),Cn(`div`,`height`,n)?_n(t.element,`height`,n):_n(t.element,`height`,`400px`)),n},ee=t=>{e.addShortcut(`alt+F9`,`focus menubar`,()=>{rH.focusMenubar(t)}),e.addShortcut(`alt+F10`,`focus toolbar`,()=>{rH.focusToolbar(t)}),e.addCommand(`ToggleToolbarDrawer`,(e,n)=>{n?.skipFocus?rH.toggleToolbarDrawerWithoutFocusing(t):rH.toggleToolbarDrawer(t)}),e.addQueryStateHandler(`ToggleToolbarDrawer`,()=>rH.isToolbarDrawerToggled(t))},k=t=>{let{mainUi:n,popupUi:a,uiMotherships:o}=t;ke(HS(e),(t,n)=>{e.ui.registry.addGroupToolbarButton(n,t)});let{buttons:s,menuItems:c,contextToolbars:l,sidebars:u,views:f}=e.ui.registry.getAll(),p=yC(e),h={menuItems:c,menus:OC(e),menubar:JS(e),toolbar:p.getOrThunk(()=>YS(e)),allowToolbarGroups:d===wS.floating,buttons:s,sidebar:u,views:f};ee(n.outerContainer),PR(e,n.mothership,o),i.setup(e,x.popup.shared,m),CG(e,x.popup),aK(e,x.popup.shared.getSink,x.popup),fB(e),MB(e,b,x.popup.shared),XW(e,l,a.sink,{backstage:x.popup}),pq(e,a.sink);let g={targetNode:e.getElement(),height:O(n.outerContainer)};return r.render(e,t,h,x.popup,g)},te=e=>(c.set(e.mothership),e);return{popups:{backstage:x.popup,getMothership:()=>Tq(`popups`,c)},dialogs:{backstage:x.dialog,getMothership:()=>Tq(`dialogs`,s)},renderUI:()=>{let t=D(),n=T(),r=DC(e)?E():te(n);return a.dialogUi.set(n),a.popupUi.set(r),a.mainUi.set(t),k({popupUi:r,dialogUi:n,mainUi:t,uiMotherships:a.getUiMotherships()})}}},Dq=(e,t)=>{cn(e,`aria-labelledby`,dn(e,`id`).fold(()=>{let e=rc(`dialog-label`);return cn(t,`id`,e),e},w))},Oq=C([K(`lazySink`),Ra(`dragBlockClass`),Qa(`getBounds`,ii),q(`useTabstopAt`,te),q(`firstTabstop`,0),q(`eventOrder`,{}),gh(`modalBehaviours`,[ky]),Eu(`onExecute`),Du(`onEscape`)]),kq={sketch:w},Aq=C([Xh({name:`draghandle`,overrides:(e,t)=>({behaviours:Z([lq.config({mode:`mouse`,getTarget:e=>Ql(e,`[role="dialog"]`).getOr(e),blockerClass:e.dragBlockClass.getOrDie(Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),Jh({schema:[K(`dom`)],name:`title`}),Jh({factory:kq,schema:[K(`dom`)],name:`close`}),Jh({factory:kq,schema:[K(`dom`)],name:`body`}),Xh({factory:kq,schema:[K(`dom`)],name:`footer`}),Yh({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[q(`dom`,{tag:`div`,styles:{position:`fixed`,left:`0px`,top:`0px`,right:`0px`,bottom:`0px`}}),q(`components`,[])],name:`blocker`})]),jq=Og({name:`ModalDialog`,configFields:Oq(),partFields:Aq(),factory:(e,t,n,r)=>{let i=mf(),a=t=>{i.set(t);let n=e.lazySink(t).getOrDie(),a=r.blocker();Dm(n,n.getSystem().build({...a,components:a.components.concat([Gl(t)]),behaviours:Z([Jy.config({}),Wy(`dialog-blocker-events`,[zs(Fo(),()=>{wB.isBlocked(t)||ky.focusIn(t)})])])})),ky.focusIn(t)},o=e=>{i.clear(),It(e.element).each(t=>{e.getSystem().getByDom(t).each(e=>{Am(e)})})},s=t=>ug(t,e,`body`),c=t=>lg(t,e,`footer`),l=(e,t)=>{wB.block(e,t)},u=e=>{wB.unblock(e)},d=rc(`modal-events`),f={...e.eventOrder,[ls()]:[d].concat(e.eventOrder[`alloy.system.attached`]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:a,hide:o,getBody:s,getFooter:c,setIdle:u,setBusy:l},eventOrder:f,domModification:{attributes:{role:`dialog`,"aria-modal":`true`}},behaviours:vh(e.modalBehaviours,[Hy.config({}),ky.config({mode:`cyclic`,onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),wB.config({getRoot:i.get}),Wy(d,[Bs(t=>{Dq(t.element,ug(t,e,`title`).element)})])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,n)=>{e.setBusy(t,n)},setIdle:(e,t)=>{e.setIdle(t)}}}),Mq=ta([kw,Aw].concat(kT)),Nq=ua,Pq=[nT(`button`),Uw,Xa(`align`,`end`,[`start`,`end`]),Zw,Xw,Ha(`buttonType`,[`primary`,`secondary`])],Fq=[...Pq,Mw],Iq=[ja(`type`,[`submit`,`cancel`,`custom`]),...Fq],Lq=Ca(`type`,{submit:Iq,cancel:Iq,custom:Iq,menu:[ja(`type`,[`menu`]),Hw,Ww,Uw,La(`items`,Mq),...Pq],togglebutton:[...Pq,ja(`type`,[`togglebutton`]),Aa(`tooltip`),Uw,Hw,Za(`active`,!1)]}),Rq=ta([kw,Mw,ja(`level`,[`info`,`warn`,`error`,`success`]),Pw,q(`url`,``)]),zq=e=>[kw,e],Bq=ta([kw,Mw,Xw,nT(`button`),Uw,Yw,Ha(`buttonType`,[`primary`,`secondary`,`toolbar`]),Zw]),Vq=[kw,Aw],Hq=Vq.concat([Gw]),Uq=ta(Vq.concat([jw,Xw])),Wq=ua,Gq=ta(Hq.concat([Qw(`auto`)])),Kq=W([Fw,Mw,Pw]),qq=ta(Hq.concat([Ya(`storageKey`,`default`)])),Jq=la,Yq=ta(Hq),Xq=la,Zq=Vq.concat([Ya(`tag`,`textarea`),Aa(`scriptId`),Aa(`scriptUrl`),$a(`settings`,void 0)]),Qq=Vq.concat([Ya(`tag`,`textarea`),Na(`init`)]),$q=_a(e=>ya(`customeditor.old`,ea(Qq),e).orThunk(()=>ya(`customeditor.new`,ea(Zq),e))),eJ=la,tJ=ta(Hq),nJ=ga(),rJ=e=>[kw,ka(`columns`),e],iJ=ta([kw,Aa(`html`),Xa(`presets`,`presentation`,[`presentation`,`document`])]),aJ=ta(Hq.concat([Za(`border`,!1),Za(`sandboxed`,!0),Za(`streamContent`,!1),Za(`transparent`,!0)])),oJ=la,sJ=ta(Vq.concat([Va(`height`)])),cJ=ta([Aa(`url`),Ba(`zoom`),Ba(`cachedWidth`),Ba(`cachedHeight`)]),lJ=ta(Hq.concat([Va(`inputMode`),Va(`placeholder`),Za(`maximized`,!1),Xw])),uJ=la,dJ=e=>[kw,jw,e,Xa(`align`,`start`,[`start`,`center`,`end`])],fJ=[Mw,Fw],pJ=[Mw,La(`items`,wa(`items`,()=>mJ))],mJ=ra([ta(fJ),ta(pJ)]),hJ=ta(Hq.concat([La(`items`,mJ),Xw])),gJ=la,_J=ta(Hq.concat([Ia(`items`,[Mw,Fw]),Ja(`size`,1),Xw])),vJ=la,yJ=ta(Hq.concat([Za(`constrain`,!0),Xw])),bJ=ta([Aa(`width`),Aa(`height`)]),xJ=ta(Vq.concat([jw,Ja(`min`,0),Ja(`max`,0)])),SJ=ca,CJ=ta([kw,La(`header`,la),La(`cells`,na(la))]),wJ=ta(Hq.concat([Va(`placeholder`),Za(`maximized`,!1),Xw])),TJ=la,EJ=[ja(`type`,[`directory`,`leaf`]),Nw,Aa(`id`),za(`menu`,Qz)],DJ=ta(EJ),OJ=ta(EJ.concat([La(`children`,wa(`children`,()=>ha(`type`,{directory:OJ,leaf:DJ})))])),kJ=ta([kw,La(`items`,ha(`type`,{directory:OJ,leaf:DJ})),Ua(`onLeafAction`),Ua(`onToggleExpand`),eo(`defaultExpandedIds`,[],la),Va(`defaultSelectedId`)]),AJ=ta(Hq.concat([Xa(`filetype`,`file`,[`image`,`media`,`file`]),Xw,Va(`picker_text`)])),jJ=ta([Fw,$w]),MJ=e=>Ta(`items`,`items`,Di(),na(_a(t=>ya(`Checking item of ${e}`,NJ,t).fold(e=>ci.error(Sa(e)),e=>ci.value(e))))),NJ=Qi(()=>ha(`type`,{alertbanner:Rq,bar:ta(zq(MJ(`bar`))),button:Bq,checkbox:Uq,colorinput:qq,colorpicker:Yq,dropzone:tJ,grid:ta(rJ(MJ(`grid`))),iframe:aJ,input:lJ,listbox:hJ,selectbox:_J,sizeinput:yJ,slider:xJ,textarea:wJ,urlinput:AJ,customeditor:$q,htmlpanel:iJ,imagepreview:sJ,collection:Gq,label:ta(dJ(MJ(`label`))),table:CJ,tree:kJ,panel:PJ})),PJ=ta([kw,q(`classes`,[]),La(`items`,NJ)]),FJ=ta([kw,Ia(`tabs`,[nT(`tab`),Nw,La(`items`,NJ)])]),IJ=Fq,LJ=Lq,RJ=ta([Aa(`title`),Oa(`body`,ha(`type`,{panel:PJ,tabpanel:FJ})),Ya(`size`,`normal`),eo(`buttons`,[],LJ),q(`initialData`,{}),Qa(`onAction`,y),Qa(`onChange`,y),Qa(`onSubmit`,y),Qa(`onClose`,y),Qa(`onCancel`,y),Qa(`onTabChange`,y)]),zJ=e=>ya(`dialog`,RJ,e),BJ=ta([ja(`type`,[`cancel`,`custom`]),...IJ]),VJ=ta([Aa(`title`),Aa(`url`),Ba(`height`),Ba(`width`),Wa(`buttons`,BJ),Qa(`onAction`,y),Qa(`onCancel`,y),Qa(`onClose`,y),Qa(`onMessage`,y)]),HJ=e=>ya(`dialog`,VJ,e),UJ=e=>c(e)?[e].concat(he(Le(e),UJ)):u(e)?he(e,UJ):[],WJ=e=>s(e.type)&&s(e.name),GJ={checkbox:Wq,colorinput:Jq,colorpicker:Xq,dropzone:nJ,input:uJ,iframe:oJ,imagepreview:cJ,selectbox:vJ,sizeinput:bJ,slider:SJ,listbox:gJ,size:bJ,textarea:TJ,urlinput:jJ,customeditor:eJ,collection:Kq,togglemenuitem:Nq},KJ=e=>A.from(GJ[e.type]),qJ=e=>le(UJ(e),WJ),JJ=e=>ta(he(qJ(e),e=>KJ(e).fold(()=>[],t=>[Oa(e.name,t)]))),YJ=e=>({internalDialog:ba(zJ(e)),dataValidator:JJ(e),initialData:e.initialData??{}}),XJ={open:(e,t)=>{let n=YJ(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:(e,t)=>e(ba(HJ(t))),redial:e=>YJ(e)};var ZJ=Object.freeze({__proto__:null,events:(e,t)=>{let n=(n,r)=>{e.updateState.each(e=>{let i=e(n,r);t.set(i)}),e.renderComponents.each(i=>{let a=i(r,t.get());(e.reuseDom?jy:Ay)(n,a)})};return Ds([J(Zo(),(t,r)=>{let i=r;if(!i.universal){let r=e.channel;ie(i.channels,r)&&n(t,i.data)}}),Bs((t,r)=>{e.initialData.each(e=>{n(t,e)})})])}}),QJ=Object.freeze({__proto__:null,getState:(e,t,n)=>n});let $J=Od({fields:[K(`channel`),Ra(`renderComponents`),Ra(`updateState`),Ra(`initialData`),Za(`reuseDom`,!0)],name:`reflecting`,active:ZJ,apis:QJ,state:Object.freeze({__proto__:null,init:()=>{let e=no(A.none());return{readState:()=>e.get().getOr(`none`),get:e.get,set:e.set,clear:()=>e.set(A.none())}}})}),eY=e=>{let t=[],n={};return Oe(e,(e,r)=>{e.fold(()=>{t.push(r)},e=>{n[r]=e})}),t.length>0?ci.error(t):ci.value(n)},tY=(e,t,n)=>{let r=nx(hN.sketch(r=>({dom:{tag:`div`,classes:[`tox-form`].concat(e.classes)},components:F(e.items,e=>YI(r,e,t,n))})));return{dom:{tag:`div`,classes:[`tox-dialog__body`]},components:[{dom:{tag:`div`,classes:[`tox-dialog__body-content`]},components:[r.asSpec()]}],behaviours:Z([ky.config({mode:`acyclic`,useTabstopAt:D(YN)}),CN.memento(r),TN(r,{postprocess:e=>eY(e).fold(e=>(console.error(e),{}),w)}),Wy(`dialog-body-panel`,[J(Fo(),(e,t)=>{e.getSystem().broadcastOn([tP],{newFocus:A.some(t.event.target)})})])])}},nY=Dg({name:`TabButton`,configFields:[q(`uid`,void 0),K(`value`),Ta(`dom`,`dom`,ji(()=>({attributes:{role:`tab`,id:rc(`aria`),"aria-selected":`false`}})),oa()),Ra(`action`),q(`domModification`,{}),gh(`tabButtonBehaviours`,[Jy,ky,Q]),K(`view`)],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:fb(e.action),behaviours:vh(e.tabButtonBehaviours,[Jy.config({}),ky.config({mode:`execution`,useSpace:!0,useEnter:!0}),Q.config({store:{mode:`memory`,initialValue:e.value}})]),domModification:e.domModification})}),rY=C([K(`tabs`),K(`dom`),q(`clickToDismiss`,!1),gh(`tabbarBehaviours`,[d_,ky]),Cu([`tabClass`,`selectedClass`])]),iY=C([Zh({factory:nY,name:`tabs`,unit:`tab`,overrides:e=>{let t=(e,t)=>{d_.dehighlight(e,t),xs(e,_s(),{tabbar:e,button:t})},n=(e,t)=>{d_.highlight(e,t),xs(e,gs(),{tabbar:e,button:t})};return{action:r=>{let i=r.getSystem().getByUid(e.uid).getOrDie(),a=d_.isHighlighted(i,r);(()=>a&&e.clickToDismiss?t:a?y:n)()(i,r)},domModification:{classes:[e.markers.tabClass]}}}})]),aY=Og({name:`Tabbar`,configFields:rY(),partFields:iY(),factory:(e,t,n,r)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":`Tabbar`,domModification:{attributes:{role:`tablist`}},behaviours:vh(e.tabbarBehaviours,[d_.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{cn(t.element,`aria-selected`,`true`)},onDehighlight:(e,t)=>{cn(t.element,`aria-selected`,`false`)}}),ky.config({mode:`flow`,getInitial:e=>d_.getHighlighted(e).map(e=>e.element),selector:`.`+e.markers.tabClass,executeOnMove:!0})])})}),oY=Dg({name:`Tabview`,configFields:[gh(`tabviewBehaviours`,[Hy])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:vh(e.tabviewBehaviours,[Hy.config({})]),domModification:{attributes:{role:`tabpanel`}}})}),sY=C([q(`selectFirst`,!0),Tu(`onChangeTab`),Tu(`onDismissTab`),q(`tabs`,[]),gh(`tabSectionBehaviours`,[])]),cY=C([Jh({factory:aY,schema:[K(`dom`),Fa(`markers`,[K(`tabClass`),K(`selectedClass`)])],name:`tabbar`,defaults:e=>({tabs:e.tabs})}),Jh({factory:oY,name:`tabview`})]),lY=Og({name:`TabSection`,configFields:sY(),partFields:cY(),factory:(e,t,n,r)=>{let i=t=>{let n=Q.getValue(t);lg(t,e,`tabview`).each(r=>{pe(e.tabs,e=>e.value===n).each(n=>{let i=n.view();dn(t.element,`id`).each(e=>{cn(r.element,`aria-labelledby`,e)}),Hy.set(r,i),e.onChangeTab(r,t,i)})})},a=(t,n)=>{lg(t,e,`tabbar`).each(e=>{n(e).each(Ss)})};return{uid:e.uid,dom:e.dom,components:t,behaviours:_h(e.tabSectionBehaviours),events:Ds(L([e.selectFirst?[Bs((e,t)=>{a(e,d_.getFirst)})]:[],[J(gs(),(e,t)=>{let n=t.event.button;i(n)}),J(_s(),(t,n)=>{let r=n.event.button;e.onDismissTab(t,r)})]])),apis:{getViewItems:t=>lg(t,e,`tabview`).map(e=>Hy.contents(e)).getOr([]),showTab:(e,t)=>{a(e,e=>pe(d_.getCandidates(e),e=>Q.getValue(e)===t).filter(t=>!d_.isHighlighted(e,t)))}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,n)=>{e.showTab(t,n)}}}),uY=(e,t,n)=>F(e,(r,i)=>{Hy.set(n,e[i].view());let a=t.dom.getBoundingClientRect();return Hy.set(n,[]),a.height}),dY=e=>Se(be(e,(e,t)=>e>t?-1:e<t?1:0)),fY=(e,t,n)=>{let r=Pt(e).dom,i=yn(Ql(e,`.tox-dialog-wrap`).getOr(e),`position`)===`fixed`,a;a=i?Math.max(r.clientHeight,window.innerHeight):Math.max(r.offsetHeight,r.scrollHeight);let o=On(t),s=t.dom.offsetLeft>=n.dom.offsetLeft+zn(n)?Math.max(On(n),o):o,c=parseInt(yn(e,`margin-top`),10)||0,l=parseInt(yn(e,`margin-bottom`),10)||0,u=On(e)+c+l-s;return a-u},pY=(e,t)=>{Se(e).each(e=>lY.showTab(t,e.value))},mY=(e,t)=>{_n(e,`height`,t+`px`),_n(e,`flex-basis`,t+`px`)},hY=(e,t,n)=>{Ql(e,`[role="dialog"]`).each(e=>{eu(e,`[role="tablist"]`).each(r=>{n.get().map(n=>(_n(t,`height`,`0`),_n(t,`flex-basis`,`0`),Math.min(n,fY(e,t,r)))).each(e=>{mY(t,e)})})})},gY=e=>eu(e,`[role="tabpanel"]`),_Y=e=>{let t=mf();return{extraEvents:[Bs(n=>{let r=n.element;gY(r).each(i=>{_n(i,`visibility`,`hidden`),n.getSystem().getByDom(i).toOptional().each(n=>{dY(uY(e,i,n)).fold(t.clear,t.set)}),hY(r,i,t),wn(i,`visibility`),pY(e,n),requestAnimationFrame(()=>{hY(r,i,t)})})}),J(cs(),e=>{let n=e.element;gY(n).each(e=>{hY(n,e,t)})}),J(EA,(e,n)=>{let r=e.element;gY(r).each(e=>{let n=Ld(Xt(e));_n(e,`visibility`,`hidden`);let i=xn(e,`height`).map(e=>parseInt(e,10));wn(e,`height`),wn(e,`flex-basis`);let a=e.dom.getBoundingClientRect().height;i.forall(e=>a>e)?(t.set(a),hY(r,e,t)):i.each(t=>{mY(e,t)}),wn(e,`visibility`),n.each(Pd)})})],selectFirst:!1}},vY=`send-data-to-section`,yY=`send-data-to-view`,bY=(e,t,n)=>{let r=no({}),i=e=>{let t=eY(Q.getValue(e)).getOr({}),n=Ti(r.get(),t);r.set(n)},a=e=>{let t=r.get();Q.setValue(e,t)},o=no(null),s=F(e.tabs,e=>({value:e.name,dom:{tag:`div`,classes:[`tox-dialog__body-nav-item`]},components:[zl(n.shared.providers.translate(e.title))],view:()=>[hN.sketch(r=>({dom:{tag:`div`,classes:[`tox-form`]},components:F(e.items,e=>YI(r,e,t,n)),formBehaviours:Z([ky.config({mode:`acyclic`,useTabstopAt:D(YN)}),Wy(`TabView.form.events`,[Bs(a),Vs(i)]),Md.config({channels:uo([{key:vY,value:{onReceive:i}},{key:yY,value:{onReceive:a}}])})])}))]})),c=_Y(s);return lY.sketch({dom:{tag:`div`,classes:[`tox-dialog__body`]},onChangeTab:(e,t,n)=>{let r=Q.getValue(t);xs(e,TA,{name:r,oldName:o.get()}),o.set(r)},tabs:s,components:[lY.parts.tabbar({dom:{tag:`div`,classes:[`tox-dialog__body-nav`]},components:[aY.parts.tabs({})],markers:{tabClass:`tox-tab`,selectedClass:`tox-dialog__body-nav-item--active`},tabbarBehaviours:Z([uA.config({})])}),lY.parts.tabview({dom:{tag:`div`,classes:[`tox-dialog__body-content`]}})],selectFirst:c.selectFirst,tabSectionBehaviours:Z([Wy(`tabpanel`,c.extraEvents),ky.config({mode:`acyclic`}),jg.config({find:e=>Se(lY.getViewItems(e))}),EN(A.none(),e=>(e.getSystem().broadcastOn([vY],{}),r.get()),(e,t)=>{r.set(t),e.getSystem().broadcastOn([yY],{})})])})},xY=(e,t,n,r,i)=>{let a=e=>{let t=e.body;switch(t.type){case`tabpanel`:return[bY(t,e.initialData,r)];default:return[tY(t,e.initialData,r)]}},o=(e,t)=>A.some({isTabPanel:()=>t.body.type===`tabpanel`}),s={"aria-live":`polite`};return{dom:{tag:`div`,classes:[`tox-dialog__content-js`],attributes:{...n.map(e=>({id:e})).getOr({}),...i?s:{}}},components:[],behaviours:Z([CN.childAt(0),$J.config({channel:`${QN}-${t}`,updateState:o,renderComponents:a,initialData:e})])}},SY=(e,t,n,r,i)=>xY(e,t,A.some(n),r,i),CY=(e,t,n)=>{let r=xY(e,t,A.none(),n,!1);return jq.parts.body(r)},wY=e=>{let t={dom:{tag:`div`,classes:[`tox-dialog__content-js`]},components:[{dom:{tag:`div`,classes:[`tox-dialog__body-iframe`]},components:[KN(A.none(),{dom:{tag:`iframe`,attributes:{src:e.url}},behaviours:Z([uA.config({}),Jy.config({})])})]}],behaviours:Z([ky.config({mode:`acyclic`,useTabstopAt:D(YN)})])};return jq.parts.body(t)},TY=CS.deviceType.isTouch(),EY=(e,t)=>({dom:{tag:`div`,styles:{display:`none`},classes:[`tox-dialog__header`]},components:[e,t]}),DY=(e,t)=>jq.parts.close(Qb.sketch({dom:{tag:`button`,classes:[`tox-button`,`tox-button--icon`,`tox-button--naked`],attributes:{type:`button`,"aria-label":t.translate(`Close`)}},action:e,buttonBehaviours:Z([uA.config({})])})),OY=()=>jq.parts.title({dom:{tag:`div`,classes:[`tox-dialog__title`],innerHtml:``,styles:{display:`none`}}}),kY=(e,t)=>jq.parts.body({dom:{tag:`div`,classes:[`tox-dialog__body`]},components:[{dom:{tag:`div`,classes:[`tox-dialog__body-content`]},components:[{dom:tx(`<p>${iS(t.translate(e))}</p>`)}]}]}),AY=e=>jq.parts.footer({dom:{tag:`div`,classes:[`tox-dialog__footer`]},components:e}),jY=(e,t)=>[rA.sketch({dom:{tag:`div`,classes:[`tox-dialog__footer-start`]},components:e}),rA.sketch({dom:{tag:`div`,classes:[`tox-dialog__footer-end`]},components:t})],MY=e=>{let t=`tox-dialog`,n=t+`-wrap`,r=n+`__backdrop`,i=t+`__disable-scroll`;return jq.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),A.some(!0)),useTabstopAt:e=>!YN(e),firstTabstop:e.firstTabstop,dom:{tag:`div`,classes:[t].concat(e.extraClasses),styles:{position:`relative`,...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:tx(`<div class="${n}"></div>`),components:[{dom:{tag:`div`,classes:TY?[r,r+`--opaque`]:[r]}}]}},dragBlockClass:n,modalBehaviours:Z([Jy.config({}),Wy(`dialog-events`,e.dialogEvents.concat([zs(Fo(),(e,t)=>{wB.isBlocked(e)||ky.focusIn(e)}),J(ps(),(e,t)=>{e.getSystem().broadcastOn([tP],{newFocus:t.event.newFocus})})])),Wy(`scroll-lock`,[Bs(()=>{ol(an(),i)}),Vs(()=>{cl(an(),i)})]),...e.extraBehaviours]),eventOrder:{[Qo()]:[`dialog-events`],[ls()]:[`scroll-lock`,`dialog-events`,`alloy.base.behaviour`],[us()]:[`alloy.base.behaviour`,`dialog-events`,`scroll-lock`],...e.eventOrder}})},NY=e=>Qb.sketch({dom:{tag:`button`,classes:[`tox-button`,`tox-button--icon`,`tox-button--naked`],attributes:{type:`button`,"aria-label":e.translate(`Close`),title:e.translate(`Close`)}},buttonBehaviours:Z([uA.config({})]),components:[gS(`close`,{tag:`span`,classes:[`tox-icon`]},e.icons)],action:e=>{bs(e,bA)}}),PY=(e,t,n,r)=>{let i=e=>[zl(r.translate(e.title))];return{dom:{tag:`div`,classes:[`tox-dialog__title`],attributes:{...n.map(e=>({id:e})).getOr({})}},components:[],behaviours:Z([$J.config({channel:`${ZN}-${t}`,initialData:e,renderComponents:i})])}},FY=()=>({dom:tx(`<div class="tox-dialog__draghandle"></div>`)}),IY=(e,t,n,r)=>rA.sketch({dom:tx(`<div class="tox-dialog__header"></div>`),components:[PY(e,t,A.some(n),r),FY(),NY(r)],containerBehaviours:Z([lq.config({mode:`mouse`,blockerClass:`blocker`,getTarget:e=>tu(e,`[role="dialog"]`).getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:`data-drag-left`,topAttr:`data-drag-top`}})])}),LY=(e,t,n)=>{let r=jq.parts.title(PY(e,t,A.none(),n)),i=jq.parts.draghandle(FY()),a=jq.parts.close(NY(n)),o=[r].concat(e.draggable?[i]:[],[a]);return rA.sketch({dom:tx(`<div class="tox-dialog__header"></div>`),components:o})},RY=(e,t,n)=>LY({title:n.shared.providers.translate(e),draggable:n.dialog.isDraggableModal()},t,n.shared.providers),zY=(e,t,n,r)=>({dom:{tag:`div`,classes:[`tox-dialog__busy-spinner`],attributes:{"aria-label":n.translate(e)},styles:{left:`0px`,right:`0px`,bottom:`0px`,top:`${r.getOr(0)}px`,position:`absolute`}},behaviours:t,components:[{dom:tx(`<div class="tox-spinner"><div></div><div></div><div></div></div>`)}]}),BY=(e,t,n)=>({onClose:()=>n.closeWindow(),onBlock:n=>{let r=eu(e().element,`.tox-dialog__header`).map(e=>On(e));jq.setBusy(e(),(e,i)=>zY(n.message,i,t,r))},onUnblock:()=>{jq.setIdle(e())}}),VY=`tox-dialog--fullscreen`,HY=`tox-dialog--width-lg`,UY=`tox-dialog--width-md`,WY=e=>{switch(e){case`large`:return A.some(HY);case`medium`:return A.some(UY);default:return A.none()}},GY=(e,t)=>{let n=V.fromDom(t.element.dom);ul(n,VY)||(fl(n,[HY,UY]),WY(e).each(e=>ol(n,e)))},KY=(e,t)=>{let n=V.fromDom(e.element.dom);pl(n,[VY,...pe(gl(n),e=>e===HY||e===UY).or(WY(t)).toArray()])},qY=(e,t,n)=>Wl(MY({...e,firstTabstop:1,lazySink:n.shared.getSink,extraBehaviours:[kN({}),...e.extraBehaviours],onEscape:e=>{bs(e,bA)},dialogEvents:t,eventOrder:{[Zo()]:[$J.name(),Md.name()],[ls()]:[`scroll-lock`,$J.name(),`messages`,`dialog-events`,`alloy.base.behaviour`],[us()]:[`alloy.base.behaviour`,`dialog-events`,`messages`,$J.name(),`scroll-lock`]}})),JY=(e,t={})=>{let n=e=>{let n=F(e.items,e=>{let n=z(t,e.name).getOr(no(!1));return{...e,storage:n}});return{...e,items:n}};return F(e,e=>e.type===`menu`?n(e):e)},YY=e=>de(e,(e,t)=>t.type===`menu`?de(t.items,(e,t)=>(e[t.name]=t.storage,e),e):e,{}),XY=(e,t)=>[Is(Fo(),JN),e(yA,(e,n,r,i)=>{Ld(Xt(i.element)).fold(y,Fd),t.onClose(),n.onClose()}),e(bA,(e,t,n,r)=>{t.onCancel(e),bs(r,yA)}),J(wA,(e,n)=>t.onUnblock()),J(CA,(e,n)=>t.onBlock(n.event))],ZY=(e,t)=>{let n=(t,n)=>J(t,(t,i)=>{r(t,(r,a)=>{n(e(),r,i.event,t)})}),r=(e,t)=>{$J.getState(e).get().each(n=>{t(n,e)})};return[...XY(n,t),n(xA,(e,t,n)=>{t.onAction(e,{name:n.name})})]},QY=(e,t,n)=>{let r=(t,n)=>J(t,(t,r)=>{i(t,(i,a)=>{n(e(),i,r.event,t)})}),i=(e,t)=>{$J.getState(e).get().each(n=>{t(n.internalDialog,e)})};return[...XY(r,t),r(SA,(e,t)=>t.onSubmit(e)),r(vA,(e,t,n)=>{t.onChange(e,{name:n.name})}),r(xA,(e,t,r,i)=>{let a=()=>i.getSystem().isConnected()?ky.focusIn(i):void 0,o=e=>fn(e,`disabled`)||dn(e,`aria-disabled`).exists(e=>e===`true`),s=Xt(i.element),c=Ld(s);t.onAction(e,{name:r.name,value:r.value}),Ld(s).fold(a,e=>{o(e)||c.exists(t=>jt(e,t)&&o(t))?a():n().toOptional().filter(t=>!jt(t.element,e)).each(a)})}),r(TA,(e,t,n)=>{t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})}),Vs(t=>{let n=e();Q.setValue(t,n.getData())})]},$Y=(e,t)=>CI(e,e.type,t),eX=(e,t,n)=>pe(t,e=>e.name===n).bind(t=>t.memento.getOpt(e)),tX=(e,t)=>{let n=ce(t.map(e=>e.footerButtons).getOr([]),e=>e.align===`start`),r=(e,t)=>rA.sketch({dom:{tag:`div`,classes:[`tox-dialog__footer-${e}`]},components:F(t,e=>e.memento.asSpec())});return[r(`start`,n.pass),r(`end`,n.fail)]},nX=(e,t,n)=>({dom:tx(`<div class="tox-dialog__footer"></div>`),components:[],behaviours:Z([$J.config({channel:`${$N}-${t}`,initialData:e,updateState:(e,t)=>{let r=F(t.buttons,e=>{let t=nx($Y(e,n));return{name:e.name,align:e.align,memento:t}});return A.some({lookupByName:t=>eX(e,r,t),footerButtons:r})},renderComponents:tX})])}),rX=(e,t,n)=>nX(e,t,n),iX=(e,t,n)=>jq.parts.footer(nX(e,t,n)),aX=(e,t)=>{if(e.getRoot().getSystem().isConnected()){let n=jg.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return hN.getField(n,t).orThunk(()=>e.getFooter().bind(e=>$J.getState(e).get()).bind(e=>e.lookupByName(t)))}else return A.none()},oX=(e,t)=>{let n=e.getRoot();return $J.getState(n).get().map(e=>ba(ya(`data`,e.dataValidator,t))).getOr(t)},sX=(e,t,n)=>{let r=t=>{let n=e.getRoot();n.getSystem().isConnected()&&t(n)},i={getData:()=>{let t=e.getRoot(),r=t.getSystem().isConnected()?e.getFormWrapper():t,i=Q.getValue(r),a=ke(n,e=>e.get());return{...i,...a}},setData:t=>{r(r=>{let a=Ti(i.getData(),t),o=oX(e,a),s=e.getFormWrapper();Q.setValue(s,o),Oe(n,(e,t)=>{Re(a,t)&&e.set(a[t])})})},setEnabled:(t,n)=>{aX(e,t).each(n?Kg.enable:Kg.disable)},focus:t=>{aX(e,t).each(Jy.focus)},block:e=>{if(!s(e))throw Error(`The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument`);r(t=>{xs(t,CA,{message:e})})},unblock:()=>{r(e=>{bs(e,wA)})},showTab:t=>{r(n=>{let r=e.getBody();$J.getState(r).get().exists(e=>e.isTabPanel())&&jg.getCurrent(r).each(e=>{lY.showTab(e,t)})})},redial:a=>{r(r=>{let o=e.getId(),s=t(a),c=JY(s.internalDialog.buttons,n);r.getSystem().broadcastOn([`${XN}-${o}`],s),r.getSystem().broadcastOn([`${ZN}-${o}`],s.internalDialog),r.getSystem().broadcastOn([`${QN}-${o}`],s.internalDialog),r.getSystem().broadcastOn([`${$N}-${o}`],{...s.internalDialog,buttons:c}),i.setData(s.initialData)})},close:()=>{r(e=>{bs(e,yA)})},toggleFullscreen:e.toggleFullscreen};return i},cX=(e,t,n)=>{let r=rc(`dialog`),i=e.internalDialog,a=RY(i.title,r,n),o=no(i.size),s=WY(o.get()).toArray(),c=(e,t)=>(o.set(t.internalDialog.size),GY(t.internalDialog.size,e),A.some(t)),l=CY({body:i.body,initialData:i.initialData},r,n),u=JY(i.buttons),d=YY(u),f=qe(u.length!==0,iX({buttons:u},r,n)),p=QY(()=>h,BY(()=>m,n.shared.providers,t),n.shared.getSink),m=qY({id:r,header:a,body:l,footer:f,extraClasses:s,extraBehaviours:[$J.config({channel:`${XN}-${r}`,updateState:c,initialData:e})],extraStyles:{}},p,n),h=sX((()=>({getId:C(r),getRoot:C(m),getBody:()=>jq.getBody(m),getFooter:()=>jq.getFooter(m),getFormWrapper:()=>{let e=jq.getBody(m);return jg.getCurrent(e).getOr(e)},toggleFullscreen:()=>{KY(m,o.get())}}))(),t.redial,d);return{dialog:m,instanceApi:h}},lX=(e,t,n,r=!1,i)=>{let a=rc(`dialog`),o=rc(`dialog-label`),s=rc(`dialog-content`),c=e.internalDialog,l=no(c.size),u=WY(l.get()).toArray(),d=(e,t)=>(l.set(t.internalDialog.size),GY(t.internalDialog.size,e),i(),A.some(t)),f=nx(IY({title:c.title,draggable:!0},a,o,n.shared.providers)),p=nx(SY({body:c.body,initialData:c.initialData},a,s,n,r)),m=JY(c.buttons),h=YY(m),g=qe(m.length!==0,nx(rX({buttons:m},a,n))),_=QY(()=>y,{onBlock:e=>{wB.block(v,(t,r)=>{let i=f.getOpt(v).map(e=>On(e.element));return zY(e.message,r,n.shared.providers,i)})},onUnblock:()=>{wB.unblock(v)},onClose:()=>t.closeWindow()},n.shared.getSink),v=Wl({dom:{tag:`div`,classes:[`tox-dialog`,`tox-dialog-inline`,...u],attributes:{role:`dialog`,"aria-labelledby":o}},eventOrder:{[Zo()]:[$J.name(),Md.name()],[Qo()]:[`execute-on-form`],[ls()]:[`reflecting`,`execute-on-form`]},behaviours:Z([ky.config({mode:`cyclic`,onEscape:e=>(bs(e,yA),A.some(!0)),useTabstopAt:e=>!YN(e)&&(_t(e)!==`button`||un(e,`disabled`)!==`disabled`),firstTabstop:1}),$J.config({channel:`${XN}-${a}`,updateState:d,initialData:e}),Jy.config({}),Wy(`execute-on-form`,_.concat([zs(Fo(),(e,t)=>{ky.focusIn(e)}),J(ps(),(e,t)=>{e.getSystem().broadcastOn([tP],{newFocus:t.event.newFocus})})])),wB.config({getRoot:()=>A.some(v)}),Hy.config({}),kN({})]),components:[f.asSpec(),p.asSpec(),...g.map(e=>e.asSpec()).toArray()]}),y=sX({getId:C(a),getRoot:C(v),getFooter:()=>g.map(e=>e.get(v)),getBody:()=>p.get(v),getFormWrapper:()=>{let e=p.get(v);return jg.getCurrent(e).getOr(e)},toggleFullscreen:()=>{KY(v,l.get())}},t.redial,h);return{dialog:v,instanceApi:y}};var uX=tinymce.util.Tools.resolve(`tinymce.util.URI`);let dX=e=>{let t=t=>{e.getSystem().isConnected()&&t(e)};return{block:e=>{if(!s(e))throw Error(`The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument`);t(t=>{xs(t,CA,{message:e})})},unblock:()=>{t(e=>{bs(e,wA)})},close:()=>{t(e=>{bs(e,yA)})},sendMessage:e=>{t(t=>{t.getSystem().broadcastOn([eP],e)})}}},fX=[`insertContent`,`setContent`,`execCommand`,`close`,`block`,`unblock`],pX=e=>c(e)&&fX.indexOf(e.mceAction)!==-1,mX=e=>!pX(e)&&c(e)&&Re(e,`mceAction`),hX=(e,t,n)=>{switch(n.mceAction){case`insertContent`:e.insertContent(n.content);break;case`setContent`:e.setContent(n.content);break;case`execCommand`:let r=f(n.ui)?n.ui:!1;e.execCommand(n.cmd,r,n.value);break;case`close`:t.close();break;case`block`:t.block(n.message);break;case`unblock`:t.unblock();break}},gX=(e,t,n,r)=>{let i=rc(`dialog`),a=RY(e.title,i,r),o=wY(e),s=e.buttons.bind(e=>e.length===0?A.none():A.some(iX({buttons:e},i,r))),c=ZY(()=>g,BY(()=>m,r.shared.providers,t)),l={...e.height.fold(()=>({}),e=>({height:e+`px`,"max-height":e+`px`})),...e.width.fold(()=>({}),e=>({width:e+`px`,"max-width":e+`px`}))},u=e.width.isNone()&&e.height.isNone()?[`tox-dialog--width-lg`]:[],d=new uX(e.url,{base_uri:new uX(window.location.href)}),f=`${d.protocol}://${d.host}${d.port?`:`+d.port:``}`,p=pf(),m=qY({id:i,header:a,body:o,footer:s,extraClasses:u,extraBehaviours:[$J.config({channel:`${XN}-${i}`,updateState:(e,t)=>A.some(t),initialData:e}),Wy(`messages`,[Bs(()=>{let t=gf(V.fromDom(window),`message`,t=>{if(d.isSameOrigin(new uX(t.raw.origin))){let r=t.raw.data;pX(r)?hX(n,g,r):mX(r)&&e.onMessage(g,r)}});p.set(t)}),Vs(p.clear)]),Md.config({channels:{[eP]:{onReceive:(e,t)=>{eu(e.element,`iframe`).each(e=>{let n=e.dom.contentWindow;h(n)&&n.postMessage(t,f)})}}}})],extraStyles:l},c,r),g=dX(m);return{dialog:m,instanceApi:g}},_X=e=>{let t=e.shared;return{open:(n,r)=>{let i=()=>{jq.hide(o),r()},a=nx(CI({name:`close-alert`,text:`OK`,primary:!0,buttonType:A.some(`primary`),align:`end`,enabled:!0,icon:A.none()},`cancel`,e)),o=Wl(MY({lazySink:()=>t.getSink(),header:EY(OY(),DY(i,t.providers)),body:kY(n,t.providers),footer:A.some(AY(jY([],[a.asSpec()]))),onEscape:i,extraClasses:[`tox-alert-dialog`],extraBehaviours:[],extraStyles:{},dialogEvents:[J(bA,i)],eventOrder:{}}));jq.show(o);let s=a.get(o);Jy.focus(s)}}},vX=e=>{let t=e.shared;return{open:(n,r)=>{let i=e=>{jq.hide(s),r(e)},a=nx(CI({name:`yes`,text:`Yes`,primary:!0,buttonType:A.some(`primary`),align:`end`,enabled:!0,icon:A.none()},`submit`,e)),o=CI({name:`no`,text:`No`,primary:!1,buttonType:A.some(`secondary`),align:`end`,enabled:!0,icon:A.none()},`cancel`,e),s=Wl(MY({lazySink:()=>t.getSink(),header:EY(OY(),DY(()=>i(!1),t.providers)),body:kY(n,t.providers),footer:A.some(AY(jY([],[o,a.asSpec()]))),onEscape:()=>i(!1),extraClasses:[`tox-confirm-dialog`],extraBehaviours:[],extraStyles:{},dialogEvents:[J(bA,()=>i(!1)),J(SA,()=>i(!0))],eventOrder:{}}));jq.show(s);let c=a.get(s);Jy.focus(c)}}},yX=(e,t)=>ba(ya(`data`,t,e)),bX=e=>Ik(e,`.tox-alert-dialog`)||Ik(e,`.tox-confirm-dialog`),xX=(e,t,n)=>t&&n?[]:[Mz.config({contextual:{lazyContext:()=>A.some(ei(V.fromDom(e.getContentAreaContainer()))),fadeInClass:`tox-dialog-dock-fadein`,fadeOutClass:`tox-dialog-dock-fadeout`,transitionClass:`tox-dialog-dock-transition`},modes:[`top`],lazyViewport:t=>Pk(e,t.element).map(e=>({bounds:Fk(e),optScrollEnv:A.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Fn(e.element).top})})).getOrThunk(()=>({bounds:ii(),optScrollEnv:A.none()}))})],SX=e=>{let t=e.editor,n=EC(t),r=_X(e.backstages.dialog),i=vX(e.backstages.dialog),a=(t,n,r)=>{if(!p(n)){if(n.inline===`toolbar`)return l(t,e.backstages.popup.shared.anchors.inlineDialog(),r,n);if(n.inline===`bottom`)return u(t,e.backstages.popup.shared.anchors.inlineBottomDialog(),r,n);if(n.inline===`cursor`)return l(t,e.backstages.popup.shared.anchors.cursor(),r,n)}return c(t,r)},o=(e,t)=>s(e,t),s=(n,r)=>XJ.openUrl(n=>{let i=gX(n,{closeWindow:()=>{jq.hide(i.dialog),r(i.instanceApi)}},t,e.backstages.dialog);return jq.show(i.dialog),i.instanceApi},n),c=(t,n)=>XJ.open((t,r,i)=>{let a=r,o=cX({dataValidator:i,initialData:a,internalDialog:t},{redial:XJ.redial,closeWindow:()=>{jq.hide(o.dialog),n(o.instanceApi)}},e.backstages.dialog);return jq.show(o.dialog),o.instanceApi.setData(a),o.instanceApi},t),l=(r,i,a,o)=>XJ.open((r,s,c)=>{let l=yX(s,c),u=mf(),d=e.backstages.popup.shared.header.isPositionedAtTop(),f={dataValidator:c,initialData:l,internalDialog:r},p=()=>u.on(e=>{Xb.reposition(e),(!n||!d)&&Mz.refresh(e)}),m=lX(f,{redial:XJ.redial,closeWindow:()=>{u.on(Xb.hide),t.off(`ResizeEditor`,p),u.clear(),a(m.instanceApi)}},e.backstages.popup,o.ariaAttrs,p),h=Wl(Xb.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:`div`,classes:[]},fireDismissalEventInstead:o.persistent?{event:`doNotDismissYet`}:{},...d?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Z([Wy(`window-manager-inline-events`,[J(ds(),(e,t)=>{bs(m.dialog,bA)})]),...xX(t,n,d)]),isExtraPart:(e,t)=>bX(t)}));return u.set(h),Xb.showWithinBounds(h,Gl(m.dialog),{anchor:i},()=>{let e=ei(t.inline?an():V.fromDom(t.getContainer()));return A.some(e)}),(!n||!d)&&(Mz.refresh(h),t.on(`ResizeEditor`,p)),m.instanceApi.setData(l),ky.focusIn(m.dialog),m.instanceApi},r),u=(n,r,i,a)=>XJ.open((n,o,s)=>{let c=yX(o,s),l=mf(),u=e.backstages.popup.shared.header.isPositionedAtTop(),d={dataValidator:s,initialData:c,internalDialog:n},f=()=>l.on(e=>{Xb.reposition(e),Mz.refresh(e)}),p=lX(d,{redial:XJ.redial,closeWindow:()=>{l.on(Xb.hide),t.off(`ResizeEditor ScrollWindow ElementScroll`,f),l.clear(),i(p.instanceApi)}},e.backstages.popup,a.ariaAttrs,f),m=Wl(Xb.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:`div`,classes:[]},fireDismissalEventInstead:a.persistent?{event:`doNotDismissYet`}:{},...u?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Z([Wy(`window-manager-inline-events`,[J(ds(),(e,t)=>{bs(p.dialog,bA)})]),Mz.config({contextual:{lazyContext:()=>A.some(ei(V.fromDom(t.getContentAreaContainer()))),fadeInClass:`tox-dialog-dock-fadein`,fadeOutClass:`tox-dialog-dock-fadeout`,transitionClass:`tox-dialog-dock-transition`},modes:[`top`,`bottom`],lazyViewport:e=>Pk(t,e.element).map(e=>({bounds:Fk(e),optScrollEnv:A.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Fn(e.element).top})})).getOrThunk(()=>({bounds:ii(),optScrollEnv:A.none()}))})]),isExtraPart:(e,t)=>bX(t)}));return l.set(m),Xb.showWithinBounds(m,Gl(p.dialog),{anchor:r},()=>e.backstages.popup.shared.getSink().toOptional().bind(e=>{let n=Pk(t,e.element).map(e=>Fk(e)).getOr(ii()),r=ni(ei(V.fromDom(t.getContentAreaContainer())),n);return A.some($r(r.x,r.y,r.width,r.height-15))})),Mz.refresh(m),t.on(`ResizeEditor ScrollWindow ElementScroll ResizeWindow`,f),p.instanceApi.setData(c),ky.focusIn(p.dialog),p.instanceApi},n);return{open:a,openUrl:o,alert:(e,t)=>{r.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{i.open(e,t)}}},CX=e=>{OS(e),WD(e),EG(e)};ai.add(`silver`,e=>{CX(e);let t=()=>ii(),{dialogs:n,popups:r,renderUI:i}=Eq(e,{getPopupSinkBounds:()=>t()});return kk.register(e,r.backstage.shared),{renderUI:()=>{let n=i();return Pk(e,r.getMothership().element).each(e=>{t=()=>Fk(e)}),n},getWindowManagerImpl:C(SX({editor:e,backstages:{popup:r.backstage,dialog:n.backstage}})),getNotificationManagerImpl:()=>bS(e,{backstage:r.backstage},r.getMothership())}})})()}))(),(function(){var e=tinymce.util.Tools.resolve(`tinymce.ModelManager`);let t=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,n=e=>{let n=typeof e;return e===null?`null`:n===`object`&&Array.isArray(e)?`array`:n===`object`&&t(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:n},r=e=>t=>n(t)===e,i=e=>t=>typeof t===e,a=e=>t=>e===t,o=r(`string`),s=r(`object`),c=r(`array`),l=a(null),u=i(`boolean`),d=a(void 0),f=e=>e==null,p=e=>!f(e),m=i(`function`),h=i(`number`),g=()=>{},_=(e,t)=>(...n)=>e(t.apply(null,n)),v=(e,t)=>n=>e(t(n)),y=e=>()=>e,b=e=>e,x=(e,t)=>e===t;function S(e,...t){return(...n)=>{let r=t.concat(n);return e.apply(null,r)}}let C=e=>t=>!e(t),w=e=>()=>{throw Error(e)},T=e=>e(),E=y(!1),D=y(!0);class O{constructor(e,t){this.tag=e,this.value=t}static some(e){return new O(!0,e)}static none(){return O.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?O.some(e(this.value)):O.none()}bind(e){return this.tag?e(this.value):O.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:O.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return p(e)?O.some(e):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}O.singletonNone=new O(!1);let ee=Array.prototype.slice,k=Array.prototype.indexOf,te=Array.prototype.push,A=(e,t)=>k.call(e,t),j=(e,t)=>A(e,t)>-1,ne=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];if(t(r,n))return!0}return!1},re=(e,t)=>{let n=[];for(let r=0;r<e;r++)n.push(t(r));return n},M=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},N=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},ie=(e,t)=>{for(let n=e.length-1;n>=0;n--){let r=e[n];t(r,n)}},ae=(e,t)=>{let n=[],r=[];for(let i=0,a=e.length;i<a;i++){let a=e[i];(t(a,i)?n:r).push(a)}return{pass:n,fail:r}},oe=(e,t)=>{let n=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];t(i,r)&&n.push(i)}return n},P=(e,t,n)=>(ie(e,(e,r)=>{n=t(n,e,r)}),n),F=(e,t,n)=>(N(e,(e,r)=>{n=t(n,e,r)}),n),I=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return O.some(i);if(n(i,r))break}return O.none()},se=(e,t)=>I(e,t,E),ce=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];if(t(r,n))return O.some(n)}return O.none()},le=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!c(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);te.apply(t,e[n])}return t},ue=(e,t)=>le(M(e,t)),de=(e,t)=>{for(let n=0,r=e.length;n<r;++n){let r=e[n];if(t(r,n)!==!0)return!1}return!0},fe=e=>{let t=ee.call(e,0);return t.reverse(),t},pe=(e,t)=>{let n={};for(let r=0,i=e.length;r<i;r++){let i=e[r];n[String(i)]=t(i,r)}return n},me=(e,t)=>{let n=ee.call(e,0);return n.sort(t),n},L=(e,t)=>t>=0&&t<e.length?O.some(e[t]):O.none(),he=e=>L(e,0),ge=e=>L(e,e.length-1),R=(e,t)=>{for(let n=0;n<e.length;n++){let r=t(e[n],n);if(r.isSome())return r}return O.none()},_e=Object.keys,ve=Object.hasOwnProperty,ye=(e,t)=>{let n=_e(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},be=(e,t)=>xe(e,(e,n)=>({k:n,v:t(e,n)})),xe=(e,t)=>{let n={};return ye(e,(e,r)=>{let i=t(e,r);n[i.k]=i.v}),n},Se=e=>(t,n)=>{e[n]=t},Ce=(e,t,n,r)=>{ye(e,(e,i)=>{(t(e,i)?n:r)(e,i)})},we=(e,t)=>{let n={};return Ce(e,t,Se(n),g),n},Te=(e,t)=>{let n=[];return ye(e,(e,r)=>{n.push(t(e,r))}),n},Ee=e=>Te(e,b),De=(e,t)=>Oe(e,t)?O.from(e[t]):O.none(),Oe=(e,t)=>ve.call(e,t),ke=(e,t)=>Oe(e,t)&&e[t]!==void 0&&e[t]!==null,Ae=e=>{for(let t in e)if(ve.call(e,t))return!1;return!0},je=typeof window<`u`?window:Function(`return this;`)(),Me=(e,t)=>{let n=t??je;for(let t=0;t<e.length&&n!=null;++t)n=n[e[t]];return n},Ne=(e,t)=>Me(e.split(`.`),t),Pe=(e,t)=>Ne(e,t),Fe=(e,t)=>{let n=Pe(e,t);if(n==null)throw Error(e+` not available on this browser`);return n},Ie=Object.getPrototypeOf,Le=e=>Fe(`HTMLElement`,e),z=e=>{let t=Ne(`ownerDocument.defaultView`,e);return s(e)&&(Le(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ie(e).constructor.name))},Re=e=>e.dom.nodeName.toLowerCase(),ze=e=>e.dom.nodeType,Be=e=>t=>ze(t)===e,Ve=e=>ze(e)===8||Re(e)===`#comment`,He=e=>Ue(e)&&z(e.dom),Ue=Be(1),We=Be(3),Ge=Be(9),Ke=Be(11),qe=e=>t=>Ue(t)&&Re(t)===e,Je=(e,t,n)=>{if(o(n)||u(n)||h(n))e.setAttribute(t,n+``);else throw console.error(`Invalid call to Attribute.set. Key `,t,`:: Value `,n,`:: Element `,e),Error(`Attribute value was not simple`)},Ye=(e,t,n)=>{Je(e.dom,t,n)},Xe=(e,t)=>{let n=e.dom;ye(t,(e,t)=>{Je(n,t,e)})},Ze=(e,t)=>{ye(t,(t,n)=>{t.fold(()=>{et(e,n)},t=>{Je(e.dom,n,t)})})},Qe=(e,t)=>{let n=e.dom.getAttribute(t);return n===null?void 0:n},$e=(e,t)=>O.from(Qe(e,t)),et=(e,t)=>{e.dom.removeAttribute(t)},tt=e=>F(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),nt=(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return at(n.childNodes[0])},rt=(e,t)=>at((t||document).createElement(e)),it=(e,t)=>at((t||document).createTextNode(e)),at=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},B={fromHtml:nt,fromTag:rt,fromText:it,fromDom:at,fromPoint:(e,t,n)=>O.from(e.dom.elementFromPoint(t,n)).map(at)},ot=(e,t)=>{let n=e.dom;if(n.nodeType!==1)return!1;{let e=n;if(e.matches!==void 0)return e.matches(t);if(e.msMatchesSelector!==void 0)return e.msMatchesSelector(t);if(e.webkitMatchesSelector!==void 0)return e.webkitMatchesSelector(t);if(e.mozMatchesSelector!==void 0)return e.mozMatchesSelector(t);throw Error(`Browser lacks native selectors`)}},st=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,ct=(e,t)=>{let n=t===void 0?document:t.dom;return st(n)?[]:M(n.querySelectorAll(e),B.fromDom)},V=(e,t)=>{let n=t===void 0?document:t.dom;return st(n)?O.none():O.from(n.querySelector(e)).map(B.fromDom)},lt=(e,t)=>e.dom===t.dom,ut=(e,t)=>{let n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},dt=ot,ft=e=>B.fromDom(e.dom.ownerDocument),pt=e=>Ge(e)?e:ft(e),mt=e=>B.fromDom(pt(e).dom.documentElement),ht=e=>B.fromDom(pt(e).dom.defaultView),gt=e=>O.from(e.dom.parentNode).map(B.fromDom),_t=e=>O.from(e.dom.parentElement).map(B.fromDom),vt=(e,t)=>{let n=m(t)?t:E,r=e.dom,i=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){let e=r.parentNode,t=B.fromDom(e);if(i.push(t),n(t)===!0)break;r=e}return i},yt=e=>O.from(e.dom.previousSibling).map(B.fromDom),bt=e=>O.from(e.dom.nextSibling).map(B.fromDom),xt=e=>M(e.dom.childNodes,B.fromDom),St=(e,t)=>{let n=e.dom.childNodes;return O.from(n[t]).map(B.fromDom)},Ct=e=>St(e,0),wt=(e,t)=>{gt(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},Tt=(e,t)=>{bt(e).fold(()=>{gt(e).each(e=>{Dt(e,t)})},e=>{wt(e,t)})},Et=(e,t)=>{Ct(e).fold(()=>{Dt(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},Dt=(e,t)=>{e.dom.appendChild(t.dom)},Ot=(e,t,n)=>{St(e,n).fold(()=>{Dt(e,t)},e=>{wt(e,t)})},kt=(e,t)=>{wt(e,t),Dt(t,e)},At=(e,t)=>{N(t,(n,r)=>{Tt(r===0?e:t[r-1],n)})},jt=(e,t)=>{N(t,t=>{Dt(e,t)})},Mt=e=>{e.dom.textContent=``,N(xt(e),e=>{Nt(e)})},Nt=e=>{let t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Pt=e=>{let t=xt(e);t.length>0&&At(e,t),Nt(e)},Ft=(e,t)=>B.fromDom(e.dom.cloneNode(t)),It=e=>Ft(e,!1),Lt=e=>Ft(e,!0),Rt=(e,t)=>{let n=B.fromTag(t);return Xe(n,tt(e)),n},zt=(e,t)=>{let n=Rt(e,t);return jt(n,xt(Lt(e))),n},Bt=(e,t)=>{let n=Rt(e,t);return Tt(e,n),jt(n,xt(e)),Nt(e),n},Vt=[`tfoot`,`thead`,`tbody`,`colgroup`],Ht=e=>j(Vt,e),Ut=(e,t)=>({rows:e,columns:t}),Wt=(e,t)=>({row:e,column:t}),Gt=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Kt=(e,t,n,r)=>({element:e,rowspan:t,colspan:n,isNew:r}),qt=(e,t,n,r,i,a)=>({element:e,rowspan:t,colspan:n,row:r,column:i,isLocked:a}),Jt=(e,t,n)=>({element:e,cells:t,section:n}),Yt=(e,t,n,r)=>({element:e,cells:t,section:n,isNew:r}),Xt=(e,t,n)=>({element:e,isNew:t,isLocked:n}),Zt=(e,t,n,r)=>({element:e,cells:t,section:n,isNew:r}),Qt=(e,t,n,r)=>({startRow:e,startCol:t,finishRow:n,finishCol:r}),$t=(e,t,n)=>({element:e,colspan:t,column:n}),en=(e,t)=>({element:e,columns:t}),tn=e=>Ke(e)&&p(e.dom.host),nn=m(Element.prototype.attachShadow)&&m(Node.prototype.getRootNode),rn=y(nn),an=nn?e=>B.fromDom(e.dom.getRootNode()):pt,on=e=>{let t=an(e);return tn(t)?O.some(t):O.none()},sn=e=>B.fromDom(e.dom.host),cn=e=>{if(rn()&&p(e.target)){let t=B.fromDom(e.target);if(Ue(t)&&ln(t)&&e.composed&&e.composedPath){let t=e.composedPath();if(t)return he(t)}}return O.from(e.target)},ln=e=>p(e.dom.shadowRoot),un=e=>{let t=We(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;let n=t.ownerDocument;return on(B.fromDom(t)).fold(()=>n.body.contains(t),v(un,sn))},dn=()=>fn(B.fromDom(document)),fn=e=>{let t=e.dom.body;if(t==null)throw Error(`Body is not available yet`);return B.fromDom(t)},pn=(e,t,n)=>oe(vt(e,n),t),mn=(e,t)=>oe(xt(e),t),hn=(e,t)=>{let n=[];return N(xt(e),e=>{t(e)&&(n=n.concat([e])),n=n.concat(hn(e,t))}),n},gn=(e,t,n)=>pn(e,e=>ot(e,t),n),_n=(e,t)=>mn(e,e=>ot(e,t)),H=(e,t)=>ct(t,e);var vn=(e,t,n,r,i)=>e(n,r)?O.some(n):m(i)&&i(n)?O.none():t(n,r,i);let yn=(e,t,n)=>{let r=e.dom,i=m(n)?n:E;for(;r.parentNode;){r=r.parentNode;let e=B.fromDom(r);if(t(e))return O.some(e);if(i(e))break}return O.none()},bn=(e,t,n)=>vn((e,t)=>t(e),yn,e,t,n),xn=(e,t)=>se(e.dom.childNodes,e=>t(B.fromDom(e))).map(B.fromDom),Sn=(e,t)=>{let n=e=>{for(let r=0;r<e.childNodes.length;r++){let i=B.fromDom(e.childNodes[r]);if(t(i))return O.some(i);let a=n(e.childNodes[r]);if(a.isSome())return a}return O.none()};return n(e.dom)},Cn=(e,t,n)=>yn(e,e=>ot(e,t),n),wn=(e,t)=>xn(e,e=>ot(e,t)),Tn=(e,t)=>V(t,e),En=(e,t,n)=>vn((e,t)=>ot(e,t),Cn,e,t,n),Dn=(e,t,n=x)=>e.exists(e=>n(e,t)),On=e=>{let t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},kn=(e,t)=>e==null?O.none():t(e),An=(e,t)=>e?O.some(t):O.none(),jn=(e,t,n)=>t===``||e.length>=t.length&&e.substr(n,n+t.length)===t,Mn=(e,t,n=0,r)=>{let i=e.indexOf(t,n);return i===-1?!1:d(r)?!0:i+t.length<=r},Nn=(e,t)=>jn(e,t,0),Pn=(e,t)=>jn(e,t,e.length-t.length),Fn=(e=>t=>t.replace(e,``))(/^\s+|\s+$/g),In=e=>e.length>0,Ln=e=>{let t=parseFloat(e);return isNaN(t)?O.none():O.some(t)},Rn=e=>e.style!==void 0&&m(e.style.getPropertyValue),zn=(e,t,n)=>{if(!o(n))throw console.error(`Invalid call to CSS.set. Property `,t,`:: Value `,n,`:: Element `,e),Error(`CSS value must be a string: `+n);Rn(e)&&e.style.setProperty(t,n)},Bn=(e,t)=>{Rn(e)&&e.style.removeProperty(t)},Vn=(e,t,n)=>{let r=e.dom;zn(r,t,n)},Hn=(e,t)=>{let n=e.dom;ye(t,(e,t)=>{zn(n,t,e)})},Un=(e,t)=>{let n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return r===``&&!un(e)?Wn(n,t):r},Wn=(e,t)=>Rn(e)?e.style.getPropertyValue(t):``,Gn=(e,t)=>{let n=e.dom,r=Wn(n,t);return O.from(r).filter(e=>e.length>0)},Kn=(e,t)=>{let n=e.dom;Bn(n,t),Dn($e(e,`style`).map(Fn),``)&&et(e,`style`)},qn=(e,t)=>{let n=e.dom,r=t.dom;Rn(n)&&Rn(r)&&(r.style.cssText=n.style.cssText)},Jn=(e,t,n=0)=>$e(e,t).map(e=>parseInt(e,10)).getOr(n),Yn=(e,t)=>Jn(e,t,1),Xn=e=>qe(`col`)(e)?Jn(e,`span`,1)>1:Yn(e,`colspan`)>1,Zn=e=>Yn(e,`rowspan`)>1,Qn=(e,t)=>parseInt(Un(e,t),10),$n=y(10),er=y(10),tr=(e,t)=>nr(e,t,D),nr=(e,t,n)=>ue(xt(e),e=>ot(e,t)?n(e)?[e]:[]:nr(e,t,n)),rr=(e,t,n=E)=>n(t)?O.none():j(e,Re(t))?O.some(t):Cn(t,e.join(`,`),e=>ot(e,`table`)||n(e)),ir=(e,t)=>rr([`td`,`th`],e,t),ar=e=>tr(e,`th,td`),or=e=>ot(e,`colgroup`)?_n(e,`col`):ue(lr(e),e=>_n(e,`col`)),sr=(e,t)=>En(e,`table`,t),cr=e=>tr(e,`tr`),lr=e=>sr(e).fold(y([]),e=>_n(e,`colgroup`)),ur=(e,t)=>M(e,e=>Re(e)===`colgroup`?Jt(e,M(or(e),e=>Gt(e,1,Jn(e,`span`,1))),`colgroup`):Jt(e,M(ar(e),e=>Gt(e,Jn(e,`rowspan`,1),Jn(e,`colspan`,1))),t(e))),dr=e=>gt(e).map(e=>{let t=Re(e);return Ht(t)?t:`tbody`}).getOr(`tbody`),fr=e=>{let t=cr(e);return ur([...lr(e),...t],dr)},pr=(e,t)=>ur(e,()=>t),U=e=>{let t=!1,n;return(...r)=>(t||(t=!0,n=e.apply(null,r)),n)},mr=(e,t,n,r)=>{let i=e.isiOS()&&/ipad/i.test(n)===!0,a=e.isiOS()&&!i,o=e.isiOS()||e.isAndroid(),s=o||r(`(pointer:coarse)`),c=i||!a&&o&&r(`(min-device-width:768px)`),l=a||o&&!c,u=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,d=!l&&!c&&!u;return{isiPad:y(i),isiPhone:y(a),isTablet:y(c),isPhone:y(l),isTouch:y(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:y(u),isDesktop:y(d)}},hr=(e,t)=>{for(let n=0;n<e.length;n++){let r=e[n];if(r.test(t))return r}},gr=(e,t)=>{let n=hr(e,t);if(!n)return{major:0,minor:0};let r=e=>Number(t.replace(n,`$`+e));return yr(r(1),r(2))},_r=(e,t)=>{let n=String(t).toLowerCase();return e.length===0?vr():gr(e,n)},vr=()=>yr(0,0),yr=(e,t)=>({major:e,minor:t}),br={nu:yr,detect:_r,unknown:vr},xr=(e,t)=>R(t.brands,t=>{let n=t.brand.toLowerCase();return se(e,e=>n===e.brand?.toLowerCase()).map(e=>({current:e.name,version:br.nu(parseInt(t.version,10),0)}))}),Sr=(e,t)=>{let n=String(t).toLowerCase();return se(e,e=>e.search(n))},Cr=(e,t)=>Sr(e,t).map(e=>{let n=br.detect(e.versionRegexes,t);return{current:e.name,version:n}}),wr=(e,t)=>Sr(e,t).map(e=>{let n=br.detect(e.versionRegexes,t);return{current:e.name,version:n}}),Tr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Er=e=>t=>Mn(t,e),Dr=[{name:`Edge`,versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Mn(e,`edge/`)&&Mn(e,`chrome`)&&Mn(e,`safari`)&&Mn(e,`applewebkit`)},{name:`Chromium`,brand:`Chromium`,versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tr],search:e=>Mn(e,`chrome`)&&!Mn(e,`chromeframe`)},{name:`IE`,versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Mn(e,`msie`)||Mn(e,`trident`)},{name:`Opera`,versionRegexes:[Tr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Er(`opera`)},{name:`Firefox`,versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Er(`firefox`)},{name:`Safari`,versionRegexes:[Tr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Mn(e,`safari`)||Mn(e,`mobile/`))&&Mn(e,`applewebkit`)}],Or=[{name:`Windows`,search:Er(`win`),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:`iOS`,search:e=>Mn(e,`iphone`)||Mn(e,`ipad`),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:`Android`,search:Er(`android`),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:`macOS`,search:Er(`mac os x`),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:`Linux`,search:Er(`linux`),versionRegexes:[]},{name:`Solaris`,search:Er(`sunos`),versionRegexes:[]},{name:`FreeBSD`,search:Er(`freebsd`),versionRegexes:[]},{name:`ChromeOS`,search:Er(`cros`),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],kr={browsers:y(Dr),oses:y(Or)},Ar=`Edge`,jr=`Chromium`,Mr=`Opera`,Nr=`Firefox`,Pr=`Safari`,Fr=()=>Ir({current:void 0,version:br.unknown()}),Ir=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isEdge:r(Ar),isChromium:r(jr),isIE:r(`IE`),isOpera:r(Mr),isFirefox:r(Nr),isSafari:r(Pr)}},Lr={unknown:Fr,nu:Ir,edge:y(Ar),chromium:y(jr),ie:y(`IE`),opera:y(Mr),firefox:y(Nr),safari:y(Pr)},Rr=`Windows`,zr=`Android`,Br=`Linux`,Vr=`macOS`,Hr=`Solaris`,Ur=`FreeBSD`,Wr=`ChromeOS`,Gr=()=>Kr({current:void 0,version:br.unknown()}),Kr=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isWindows:r(Rr),isiOS:r(`iOS`),isAndroid:r(zr),isMacOS:r(Vr),isLinux:r(Br),isSolaris:r(Hr),isFreeBSD:r(Ur),isChromeOS:r(Wr)}},qr={unknown:Gr,nu:Kr,windows:y(Rr),ios:y(`iOS`),android:y(zr),linux:y(Br),macos:y(Vr),solaris:y(Hr),freebsd:y(Ur),chromeos:y(Wr)},Jr={detect:(e,t,n)=>{let r=kr.browsers(),i=kr.oses(),a=t.bind(e=>xr(r,e)).orThunk(()=>Cr(r,e)).fold(Lr.unknown,Lr.nu),o=wr(i,e).fold(qr.unknown,qr.nu);return{browser:a,os:o,deviceType:mr(o,a,e,n)}}},Yr=e=>window.matchMedia(e).matches,Xr=U(()=>Jr.detect(navigator.userAgent,O.from(navigator.userAgentData),Yr)),Zr=()=>Xr(),Qr=(e,t)=>{let n=(t,n)=>{if(!h(n)&&!n.match(/^[0-9]+$/))throw Error(e+`.set accepts only positive integer values. Value was `+n);let r=t.dom;Rn(r)&&(r.style[e]=n+`px`)},r=n=>{let r=t(n);if(r<=0||r===null){let t=Un(n,e);return parseFloat(t)||0}return r},i=r,a=(e,t)=>F(t,(t,n)=>{let r=Un(e,n),i=r===void 0?0:parseInt(r,10);return isNaN(i)?t:t+i},0);return{set:n,get:r,getOuter:i,aggregate:a,max:(e,t,n)=>{let r=a(e,n);return t>r?t-r:0}}},$r=(e,t)=>Ln(e).getOr(t),ei=(e,t,n)=>$r(Un(e,t),n),ti=(e,t,n,r)=>{let i=ei(e,`padding-${n}`,0),a=ei(e,`padding-${r}`,0),o=ei(e,`border-${n}-width`,0),s=ei(e,`border-${r}-width`,0);return t-i-a-o-s},ni=(e,t)=>{let n=e.dom,r=n.getBoundingClientRect().width||n.offsetWidth;return t===`border-box`?r:ti(e,r,`left`,`right`)},ri=e=>ei(e,`height`,e.dom.offsetHeight),ii=e=>ei(e,`width`,e.dom.offsetWidth),ai=e=>ni(e,`content-box`),oi=Qr(`width`,e=>e.dom.offsetWidth),si=e=>oi.get(e),ci=e=>oi.getOuter(e),li=ai,ui=ii,di=(e,t,n)=>{let r=e.cells,i=r.slice(0,t),a=r.slice(t);return mi(e,i.concat(n).concat(a))},fi=(e,t,n)=>di(e,t,[n]),pi=(e,t,n)=>{let r=e.cells;r[t]=n},mi=(e,t)=>Zt(e.element,t,e.section,e.isNew),hi=(e,t)=>{let n=e.cells,r=M(n,t);return Zt(e.element,r,e.section,e.isNew)},gi=(e,t)=>e.cells[t],_i=(e,t)=>gi(e,t).element,vi=e=>e.cells.length,yi=e=>{let t=ae(e,e=>e.section===`colgroup`);return{rows:t.fail,cols:t.pass}},bi=(e,t,n)=>{let r=M(e.cells,n);return Zt(t(e.element),r,e.section,!0)},xi=`data-snooker-locked-cols`,Si=e=>$e(e,xi).bind(e=>O.from(e.match(/\d+/g))).map(e=>pe(e,D)),Ci=e=>me(Te(F(yi(e).rows,(e,t)=>(N(t.cells,(t,n)=>{t.isLocked&&(e[n]=!0)}),e),{}),(e,t)=>parseInt(t,10))),wi=(e,t)=>e+`,`+t,Ti=(e,t,n)=>O.from(e.access[wi(t,n)]),Ei=(e,t,n)=>{let r=Di(e,e=>n(t,e.element));return r.length>0?O.some(r[0]):O.none()},Di=(e,t)=>oe(ue(e.all,e=>e.cells),t),Oi=e=>{let t={},n=0;return N(e.cells,e=>{let r=e.colspan;re(r,i=>{let a=n+i;t[a]=$t(e.element,r,a)}),n+=r}),t},ki=e=>{let t={},n=[],r=he(e).map(e=>e.element).bind(sr).bind(Si).getOr({}),i=0,a=0,o=0,{pass:s,fail:c}=ae(e,e=>e.section===`colgroup`);N(c,e=>{let s=[];N(e.cells,e=>{let n=0;for(;t[wi(o,n)]!==void 0;)n++;let i=ke(r,n.toString()),c=qt(e.element,e.rowspan,e.colspan,o,n,i);for(let r=0;r<e.colspan;r++)for(let i=0;i<e.rowspan;i++){let e=o+i,s=n+r,l=wi(e,s);t[l]=c,a=Math.max(a,s+1)}s.push(c)}),i++,n.push(Jt(e.element,s,e.section)),o++});let{columns:l,colgroups:u}=ge(s).map(e=>{let t=Oi(e);return{colgroups:[en(e.element,Ee(t))],columns:t}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Ut(i,a),access:t,all:n,columns:l,colgroups:u}},Ai={fromTable:e=>ki(fr(e)),generate:ki,getAt:Ti,findItem:Ei,filterItems:Di,justCells:e=>ue(e.all,e=>e.cells),justColumns:e=>Ee(e.columns),hasColumns:e=>_e(e.columns).length>0,getColumnAt:(e,t)=>O.from(e.columns[t])},ji=(e,t=D)=>{let n=e.grid,r=re(n.columns,b),i=re(n.rows,b);return M(r,n=>Mi(()=>ue(i,t=>Ai.getAt(e,t,n).filter(e=>e.column===n).toArray()),e=>e.colspan===1&&t(e.element),()=>Ai.getAt(e,0,n)))},Mi=(e,t,n)=>{let r=e();return se(r,t).orThunk(()=>O.from(r[0]).orThunk(n)).map(e=>e.element)},Ni=e=>{let t=e.grid,n=re(t.rows,b),r=re(t.columns,b);return M(n,t=>Mi(()=>ue(r,n=>Ai.getAt(e,t,n).filter(e=>e.row===t).fold(y([]),e=>[e])),e=>e.rowspan===1,()=>Ai.getAt(e,t,0)))},Pi=(e,t)=>{if(t<0||t>=e.length-1)return O.none();let n=e[t].fold(()=>R(fe(e.slice(0,t)),(e,t)=>e.map(e=>({value:e,delta:t+1}))),e=>O.some({value:e,delta:0})),r=e[t+1].fold(()=>R(e.slice(t+1),(e,t)=>e.map(e=>({value:e,delta:t+1}))),e=>O.some({value:e,delta:1}));return n.bind(e=>r.map(t=>{let n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))},Fi=(e,t)=>n=>Ii(n)===`rtl`?t:e,Ii=e=>Un(e,`direction`)===`rtl`?`rtl`:`ltr`,Li=Qr(`height`,e=>{let t=e.dom;return un(e)?t.getBoundingClientRect().height:t.offsetHeight}),Ri=e=>Li.get(e),zi=e=>Li.getOuter(e),Bi=ri,Vi=(e,t)=>({left:e,top:t,translate:(n,r)=>Vi(e+n,t+r)}),Hi=Vi,Ui=e=>{let t=e.getBoundingClientRect();return Hi(t.left,t.top)},Wi=(e,t)=>e===void 0?t===void 0?0:t:e,Gi=e=>{let t=e.dom.ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom)return Hi(n.offsetLeft,n.offsetTop);let a=Wi(r?.pageYOffset,i.scrollTop),o=Wi(r?.pageXOffset,i.scrollLeft),s=Wi(i.clientTop,n.clientTop),c=Wi(i.clientLeft,n.clientLeft);return Ki(e).translate(o-c,a-s)},Ki=e=>{let t=e.dom,n=t.ownerDocument.body;return n===t?Hi(n.offsetLeft,n.offsetTop):un(e)?Ui(t):Hi(0,0)},qi=(e,t)=>({row:e,y:t}),Ji=(e,t)=>({col:e,x:t}),Yi=e=>Gi(e).left+ci(e),Xi=e=>Gi(e).left,Zi=(e,t)=>Ji(e,Xi(t)),Qi=(e,t)=>Ji(e,Yi(t)),$i=e=>Gi(e).top,ea=(e,t)=>qi(e,$i(t)),ta=(e,t)=>qi(e,$i(t)+zi(t)),na=(e,t,n)=>{if(n.length===0)return[];let r=M(n.slice(1),(t,n)=>t.map(t=>e(n,t))),i=n[n.length-1].map(e=>t(n.length-1,e));return r.concat([i])},ra=e=>-e,ia={delta:b,positions:e=>na(ea,ta,e),edge:$i},aa=Fi({delta:b,edge:Xi,positions:e=>na(Zi,Qi,e)},{delta:ra,edge:Yi,positions:e=>na(Qi,Zi,e)}),W={delta:(e,t)=>aa(t).delta(e,t),positions:(e,t)=>aa(t).positions(e,t),edge:e=>aa(e).edge(e)},oa={unsupportedLength:[`em`,`ex`,`cap`,`ch`,`ic`,`rem`,`lh`,`rlh`,`vw`,`vh`,`vi`,`vb`,`vmin`,`vmax`,`cm`,`mm`,`Q`,`in`,`pc`,`pt`,`px`],fixed:[`px`,`pt`],relative:[`%`],empty:[``]},sa=(()=>{let e=`[0-9]+`,t=`[eE]`+(`[+-]?`+e),n=e=>`(?:${e})?`,r=`[+-]?(?:${[`Infinity`,e+`\\.`+n(e)+n(t),`\\.`+e+n(t),e+n(t)].join(`|`)})`;return RegExp(`^(${r})(.*)$`)})(),ca=(e,t)=>ne(t,t=>ne(oa[t],t=>e===t)),la=(e,t)=>O.from(sa.exec(e)).bind(e=>{let n=Number(e[1]),r=e[2];return ca(r,t)?O.some({value:n,unit:r}):O.none()}),ua=/(\d+(\.\d+)?)%/,da=/(\d+(\.\d+)?)px|em/,fa=qe(`col`),pa=(e,t,n)=>{let r=_t(e).getOrThunk(()=>fn(ft(e)));return t(e)/n(r)*100},ma=(e,t)=>{Vn(e,`width`,t+`px`)},ha=(e,t)=>{Vn(e,`width`,t+`%`)},ga=(e,t)=>{Vn(e,`height`,t+`px`)},_a=e=>Bi(e)+`px`,G=(e,t,n,r)=>{let i=sr(e).map(e=>{let r=n(e);return Math.floor(t/100*r)}).getOr(t);return r(e,i),i},va=(e,t,n,r)=>{let i=parseFloat(e);return Pn(e,`%`)&&Re(t)!==`table`?G(t,i,n,r):i},ya=e=>{let t=_a(e);return t?va(t,e,Ri,ga):Ri(e)},ba=(e,t,n)=>n(e)/Yn(e,t),xa=(e,t)=>Gn(e,t).orThunk(()=>$e(e,t).map(e=>e+`px`)),Sa=e=>xa(e,`width`),Ca=e=>xa(e,`height`),wa=e=>pa(e,si,li),Ta=e=>fa(e)?si(e):ui(e),Ea=e=>ba(e,`rowspan`,ya),Da=e=>Sa(e).bind(e=>la(e,[`fixed`,`relative`,`empty`])),K=(e,t,n)=>{Vn(e,`width`,t+n)},Oa=e=>si(e)+`px`,ka=e=>pa(e,si,li)+`%`,Aa=e=>Sa(e).exists(e=>ua.test(e)),ja=e=>Sa(e).exists(e=>da.test(e)),Ma=e=>Sa(e).isNone(),Na=y(ua),Pa=qe(`col`),Fa=e=>Sa(e).getOrThunk(()=>Ta(e)+`px`),Ia=e=>Ca(e).getOrThunk(()=>Ea(e)+`px`),La=e=>M(Ai.justColumns(e),e=>O.from(e.element)),Ra=e=>{let t=Zr().browser,n=t.isChromium()||t.isFirefox();return Pa(e)?n:!0},za=(e,t,n,r,i,a)=>e.filter(r).fold(()=>a(Pi(n,t)),e=>i(e)),Ba=(e,t,n,r)=>{let i=ji(e),a=Ai.hasColumns(e)?La(e):i,o=[O.some(W.edge(t))].concat(M(W.positions(i,t),e=>e.map(e=>e.x))),s=C(Xn);return M(a,(e,t)=>za(e,t,o,s,e=>Ra(e)?n(e):za(kn(i[t],b),t,o,s,e=>r(O.some(si(e))),r),r))},Va=e=>e.map(e=>e+`px`).getOr(``),Ha=(e,t)=>Ba(e,t,Fa,Va),Ua=(e,t,n)=>Ba(e,t,wa,e=>e.fold(()=>n.minCellWidth(),e=>e/n.pixelWidth()*100)),Wa=(e,t,n)=>Ba(e,t,Ta,e=>e.getOrThunk(n.minCellWidth)),Ga=(e,t,n,r,i)=>{let a=Ni(e),o=[O.some(n.edge(t))].concat(M(n.positions(a,t),e=>e.map(e=>e.y)));return M(a,(e,t)=>za(e,t,o,C(Zn),r,i))},Ka=(e,t,n)=>Ga(e,t,n,Ea,e=>e.getOrThunk(er)),q=(e,t,n)=>Ga(e,t,n,Ia,Va),qa=(e,t)=>()=>un(e)?t(e):parseFloat(Gn(e,`width`).getOr(`0`)),Ja=e=>{let t=qa(e,si),n=y(0);return{width:t,pixelWidth:t,getWidths:(t,n)=>Wa(t,e,n),getCellDelta:n,singleColumnWidth:y([0]),minCellWidth:n,setElementWidth:g,adjustTableWidth:g,isRelative:!0,label:`none`}},Ya=e=>{let t=qa(e,e=>parseFloat(ka(e))),n=qa(e,si);return{width:t,pixelWidth:n,getWidths:(t,n)=>Ua(t,e,n),getCellDelta:e=>e/n()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>$n()/n()*100,setElementWidth:ha,adjustTableWidth:n=>{let r=t();ha(e,r+n/100*r)},isRelative:!0,label:`percent`}},Xa=e=>{let t=qa(e,si);return{width:t,pixelWidth:t,getWidths:(t,n)=>Wa(t,e,n),getCellDelta:b,singleColumnWidth:(e,t)=>[Math.max($n(),e+t)-e],minCellWidth:$n,setElementWidth:ma,adjustTableWidth:n=>{ma(e,t()+n)},isRelative:!1,label:`pixel`}},Za=(e,t)=>Na().exec(t)===null?Xa(e):Ya(e),Qa={getTableSize:e=>Sa(e).fold(()=>Ja(e),t=>Za(e,t)),pixelSize:Xa,percentageSize:Ya,noneSize:Ja},$a=(e,t,n,r,i,a)=>({minRow:e,minCol:t,maxRow:n,maxCol:r,allCells:i,selectedCells:a}),eo=(e,t)=>{let n=e.grid.columns,r=e.grid.rows,i=n,a=0,o=0,s=[],c=[];return ye(e.access,e=>{if(s.push(e),t(e)){c.push(e);let t=e.row,n=t+e.rowspan-1,s=e.column,l=s+e.colspan-1;t<r?r=t:n>a&&(a=n),s<i?i=s:l>o&&(o=l)}}),$a(r,i,a,o,s,c)},to=(e,t,n)=>{let r=e[n].element,i=B.fromTag(`td`);Dt(i,B.fromTag(`br`)),(t?Dt:Et)(r,i)},no=(e,t,n,r)=>{let i=oe(e,e=>e.section!==`colgroup`),a=t.grid.columns,o=t.grid.rows;for(let e=0;e<o;e++){let o=!1;for(let s=0;s<a;s++)e<n.minRow||e>n.maxRow||s<n.minCol||s>n.maxCol||(Ai.getAt(t,e,s).filter(r).isNone()?to(i,o,e):o=!0)}},ro=(e,t,n,r)=>{ye(n.columns,e=>{(e.column<t.minCol||e.column>t.maxCol)&&Nt(e.element)}),N(oe(tr(e,`tr`),e=>e.dom.childElementCount===0),Nt),(t.minCol===t.maxCol||t.minRow===t.maxRow)&&N(tr(e,`th,td`),e=>{et(e,`rowspan`),et(e,`colspan`)}),et(e,xi),et(e,`data-snooker-col-series`),Qa.getTableSize(e).adjustTableWidth(r)},io=(e,t,n,r)=>{if(r.minCol===0&&t.grid.columns===r.maxCol+1)return 0;let i=Wa(t,e,n),a=F(i,(e,t)=>e+t,0),o=F(i.slice(r.minCol,r.maxCol+1),(e,t)=>e+t,0)/a*n.pixelWidth()-n.pixelWidth();return n.getCellDelta(o)},ao=(e,t)=>{let n=e=>ot(e.element,t),r=Lt(e),i=fr(r),a=Qa.getTableSize(e),o=Ai.generate(i),s=eo(o,n),c=`th:not(`+t+`),td:not(`+t+`)`;return N(nr(r,`th,td`,e=>ot(e,c)),Nt),no(i,o,s,n),ro(r,s,o,io(e,Ai.fromTable(e),a,s)),r},oo=((e,t)=>{let n=n=>{if(!e(n))throw Error(`Can only get `+t+` value of a `+t+` node`);return r(n).getOr(``)},r=t=>e(t)?O.from(t.dom.nodeValue):O.none();return{get:n,getOption:r,set:(n,r)=>{if(!e(n))throw Error(`Can only set raw `+t+` value of a `+t+` node`);n.dom.nodeValue=r}}})(We,`text`),so=e=>oo.get(e),co=e=>oo.getOption(e),lo=(e,t)=>oo.set(e,t),uo=e=>Re(e)===`img`?1:co(e).fold(()=>xt(e).length,e=>e.length),fo=e=>co(e).filter(e=>e.trim().length!==0||e.indexOf(`\xA0`)>-1).isSome(),po=e=>He(e)&&Qe(e,`contenteditable`)===`false`,mo=[`img`,`br`],ho=e=>fo(e)||j(mo,Re(e))||po(e),go=e=>Sn(e,ho),_o=e=>vo(e,ho),vo=(e,t)=>{let n=e=>{let r=xt(e);for(let e=r.length-1;e>=0;e--){let i=r[e];if(t(i))return O.some(i);let a=n(i);if(a.isSome())return a}return O.none()};return n(e)},yo={scope:[`row`,`col`]},bo=e=>()=>{let t=B.fromTag(`td`,e.dom);return Dt(t,B.fromTag(`br`,e.dom)),t},xo=e=>()=>B.fromTag(`col`,e.dom),So=e=>()=>B.fromTag(`colgroup`,e.dom),Co=e=>()=>B.fromTag(`tr`,e.dom),wo=(e,t,n)=>{let r=zt(e,t);return ye(n,(e,t)=>{e===null?et(r,t):Ye(r,t,e)}),r},To=e=>e,Eo=(e,t,n)=>go(e).map(r=>P(gn(r,n.join(`,`),t=>lt(t,e)),(e,t)=>{let n=It(t);return Dt(e,n),n},t)).getOr(t),Do=(e,t)=>{ye(yo,(n,r)=>$e(e,r).filter(e=>j(n,e)).each(e=>Ye(t,r,e)))},Oo=(e,t,n)=>{let r=(e,t)=>{qn(e.element,t),Kn(t,`height`),e.colspan!==1&&Kn(t,`width`)};return{col:n=>{let i=B.fromTag(Re(n.element),t.dom);return r(n,i),e(n.element,i),i},colgroup:So(t),row:Co(t),cell:i=>{let a=B.fromTag(Re(i.element),t.dom),o=n.getOr([`strong`,`em`,`b`,`i`,`span`,`font`,`h1`,`h2`,`h3`,`h4`,`h5`,`h6`,`p`,`div`]);return Dt(o.length>0?Eo(i.element,a,o):a,B.fromTag(`br`)),r(i,a),Do(i.element,a),e(i.element,a),a},replace:wo,colGap:xo(t),gap:bo(t)}},ko=e=>({col:xo(e),colgroup:So(e),row:Co(e),cell:bo(e),replace:To,colGap:xo(e),gap:bo(e)}),Ao=(e,t)=>{let n=(t||document).createElement(`div`);return n.innerHTML=e,xt(B.fromDom(n))},jo=e=>M(e,B.fromDom),Mo=e=>t=>t.options.get(e),No=`100%`,Po=e=>{let t=e.dom,n=t.getParent(e.selection.getStart(),t.isBlock)??e.getBody();return li(B.fromDom(n))+`px`},Fo=(e,t)=>qo(e)||!Yo(e)?t:Ko(e)?{...t,width:Po(e)}:{...t,width:No},Io=(e,t)=>qo(e)||Yo(e)?t:Ko(e)?{...t,width:Po(e)}:{...t,width:No},Lo=e=>{let t=e.options.register;t(`table_clone_elements`,{processor:`string[]`}),t(`table_use_colgroups`,{processor:`boolean`,default:!0}),t(`table_header_type`,{processor:e=>{let t=j([`section`,`cells`,`sectionCells`,`auto`],e);return t?{value:e,valid:t}:{valid:!1,message:`Must be one of: section, cells, sectionCells or auto.`}},default:`section`}),t(`table_sizing_mode`,{processor:`string`,default:`auto`}),t(`table_default_attributes`,{processor:`object`,default:{border:`1`}}),t(`table_default_styles`,{processor:`object`,default:{"border-collapse":`collapse`}}),t(`table_column_resizing`,{processor:e=>{let t=j([`preservetable`,`resizetable`],e);return t?{value:e,valid:t}:{valid:!1,message:`Must be preservetable, or resizetable.`}},default:`preservetable`}),t(`table_resize_bars`,{processor:`boolean`,default:!0}),t(`table_style_by_css`,{processor:`boolean`,default:!0}),t(`table_merge_content_on_paste`,{processor:`boolean`,default:!0})},Ro=e=>O.from(e.options.get(`table_clone_elements`)),zo=e=>j(e.options.get(`object_resizing`).split(`,`),`table`),Bo=Mo(`table_header_type`),Vo=Mo(`table_column_resizing`),Ho=e=>Vo(e)===`preservetable`,Uo=e=>Vo(e)===`resizetable`,Wo=Mo(`table_sizing_mode`),Go=e=>Wo(e)===`relative`,Ko=e=>Wo(e)===`fixed`,qo=e=>Wo(e)===`responsive`,Jo=Mo(`table_resize_bars`),Yo=Mo(`table_style_by_css`),Xo=Mo(`table_merge_content_on_paste`),Zo=e=>{let t=e.options,n=t.get(`table_default_attributes`);return t.isSet(`table_default_attributes`)?n:Io(e,n)},Qo=e=>{let t=e.options,n=t.get(`table_default_styles`);return t.isSet(`table_default_styles`)?n:Fo(e,n)},$o=Mo(`table_use_colgroups`),es=e=>En(e,`[contenteditable]`),ts=(e,t=!1)=>un(e)?e.dom.isContentEditable:es(e).fold(y(t),e=>ns(e)===`true`),ns=e=>e.dom.contentEditable,rs=e=>B.fromDom(e.getBody()),is=e=>t=>lt(t,rs(e)),as=e=>{et(e,`data-mce-style`);let t=e=>et(e,`data-mce-style`);N(ar(e),t),N(or(e),t),N(cr(e),t)},os=e=>B.fromDom(e.selection.getStart()),ss=e=>e.getBoundingClientRect().width,cs=e=>e.getBoundingClientRect().height,ls=(e,t)=>{let n=e.dom.getStyle(t,`width`)||e.dom.getAttrib(t,`width`);return O.from(n).filter(In)},us=e=>/^(\d+(\.\d+)?)%$/.test(e),ds=e=>/^(\d+(\.\d+)?)px$/.test(e),fs=e=>bn(e,qe(`table`)).exists(ts),ps=(e,t)=>{let n=t.column,r=t.column+t.colspan-1,i=t.row,a=t.row+t.rowspan-1;return n<=e.finishCol&&r>=e.startCol&&i<=e.finishRow&&a>=e.startRow},ms=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,hs=(e,t)=>{let n=!0,r=S(ms,t);for(let i=t.startRow;i<=t.finishRow;i++)for(let a=t.startCol;a<=t.finishCol;a++)n&&=Ai.getAt(e,i,a).exists(r);return n?O.some(t):O.none()},gs=(e,t)=>Qt(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1)),_s=(e,t,n)=>{let r=Ai.findItem(e,t,lt),i=Ai.findItem(e,n,lt);return r.bind(e=>i.map(t=>gs(e,t)))},vs=(e,t,n)=>_s(e,t,n).bind(t=>hs(e,t)),ys=(e,t,n,r)=>Ai.findItem(e,t,lt).bind(t=>{let i=n>0?t.row+t.rowspan-1:t.row,a=r>0?t.column+t.colspan-1:t.column;return Ai.getAt(e,i+n,a+r).map(e=>e.element)}),bs=(e,t,n)=>_s(e,t,n).map(t=>M(Ai.filterItems(e,S(ps,t)),e=>e.element)),xs=(e,t)=>Ai.findItem(e,t,(e,t)=>ut(t,e)).map(e=>e.element),Ss=(e,t,n)=>sr(e).bind(r=>ys(Es(r),e,t,n)),Cs=(e,t,n)=>bs(Es(e),t,n),ws=(e,t,n,r,i)=>{let a=Es(e),o=lt(e,n)?O.some(t):xs(a,t),s=lt(e,i)?O.some(r):xs(a,r);return o.bind(e=>s.bind(t=>bs(a,e,t)))},Ts=(e,t,n)=>vs(Es(e),t,n),Es=Ai.fromTable;var Ds=`body.p.div.article.aside.figcaption.figure.footer.header.nav.section.ol.ul.li.table.thead.tbody.tfoot.caption.tr.td.th.h1.h2.h3.h4.h5.h6.blockquote.pre.address`.split(`.`),Os=()=>({up:y({selector:Cn,closest:En,predicate:yn,all:vt}),down:y({selector:H,predicate:hn}),styles:y({get:Un,getRaw:Gn,set:Vn,remove:Kn}),attrs:y({get:Qe,set:Ye,remove:et,copyTo:(e,t)=>{Xe(t,tt(e))}}),insert:y({before:wt,after:Tt,afterAll:At,append:Dt,appendAll:jt,prepend:Et,wrap:kt}),remove:y({unwrap:Pt,remove:Nt}),create:y({nu:B.fromTag,clone:e=>B.fromDom(e.dom.cloneNode(!1)),text:B.fromText}),query:y({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:yt,nextSibling:bt}),property:y({children:xt,name:Re,parent:gt,document:e=>pt(e).dom,isText:We,isComment:Ve,isElement:Ue,isSpecial:e=>j([`script`,`noscript`,`iframe`,`noframes`,`noembed`,`title`,`style`,`textarea`,`xmp`],Re(e)),getLanguage:e=>Ue(e)?$e(e,`lang`):O.none(),getText:so,setText:lo,isBoundary:e=>Ue(e)?Re(e)===`body`?!0:j(Ds,Re(e)):!1,isEmptyTag:e=>Ue(e)?j([`br`,`img`,`hr`,`input`],Re(e)):!1,isNonEditable:e=>Ue(e)&&Qe(e,`contenteditable`)===`false`}),eq:lt,is:dt});let ks=(e,t,n,r)=>{let i=n[0];return r(e,t,i,n.slice(1))},As=(e,t,n)=>n.length>0?ks(e,t,n,J):O.none(),J=(e,t,n,r)=>P(r,(n,r)=>js(e,n,t(e,r)),t(e,n)),js=(e,t,n)=>t.bind(t=>n.filter(S(e.eq,t))),Ms=(e,t)=>S(e.eq,t),Ns=(e,t,n,r=E)=>{let i=[t].concat(e.up().all(t)),a=[n].concat(e.up().all(n)),o=e=>ce(e,r).fold(()=>e,t=>e.slice(0,t+1)),s=o(i),c=o(a);return{firstpath:s,secondpath:c,shared:se(s,t=>ne(c,Ms(e,t)))}},Ps=As,Fs=Ns,Is=Os(),Ls=(e,t)=>Ps(Is,(t,n)=>e(n),t),Rs=(e,t,n)=>Fs(Is,e,t,n),zs=e=>Cn(e,`table`),Bs=(e,t,n)=>{let r=e=>t=>n!==void 0&&n(t)||lt(t,e);return lt(e,t)?O.some({boxes:O.some([e]),start:e,finish:t}):zs(e).bind(i=>zs(t).bind(a=>{if(lt(i,a))return O.some({boxes:Cs(i,e,t),start:e,finish:t});if(ut(i,a)){let n=gn(t,`td,th`,r(i)),o=n.length>0?n[n.length-1]:t;return O.some({boxes:ws(i,e,i,t,a),start:e,finish:o})}else if(ut(a,i)){let n=gn(e,`td,th`,r(a)),o=n.length>0?n[n.length-1]:e;return O.some({boxes:ws(a,e,i,t,a),start:e,finish:o})}else return Rs(e,t).shared.bind(o=>En(o,`table`,n).bind(n=>{let o=gn(t,`td,th`,r(n)),s=o.length>0?o[o.length-1]:t,c=gn(e,`td,th`,r(n)),l=c.length>0?c[c.length-1]:e;return O.some({boxes:ws(n,e,i,t,a),start:l,finish:s})}))}))},Vs=(e,t)=>{let n=H(e,t);return n.length>0?O.some(n):O.none()},Hs=(e,t)=>se(e,e=>ot(e,t)),Us=(e,t,n)=>Tn(e,t).bind(t=>Tn(e,n).bind(e=>Ls(zs,[t,e]).map(n=>({first:t,last:e,table:n})))),Ws=(e,t)=>Cn(e,`table`).bind(n=>Tn(n,t).bind(t=>Bs(t,e).bind(e=>e.boxes.map(t=>({boxes:t,start:e.start,finish:e.finish}))))),Gs=(e,t,n,r,i)=>Hs(e,i).bind(e=>Ss(e,t,n).bind(e=>Ws(e,r))),Ks=(e,t)=>Vs(e,t),qs=(e,t,n)=>Us(e,t,n).bind(t=>{let n=t=>lt(e,t),r=`thead,tfoot,tbody,table`,i=Cn(t.first,r,n),a=Cn(t.last,r,n);return i.bind(e=>a.bind(n=>lt(e,n)?Ts(t.table,t.first,t.last):O.none()))}),Js=b,Ys=e=>{let t=(e,t)=>$e(e,t).exists(e=>parseInt(e,10)>1);return e.length>0&&de(e,e=>t(e,`rowspan`)||t(e,`colspan`))?O.some(e):O.none()},Xs=(e,t,n)=>t.length<=1?O.none():qs(e,n.firstSelectedSelector,n.lastSelectedSelector).map(e=>({bounds:e,cells:t})),Zs=`data-mce-selected`;``+Zs,``+Zs;let Qs=`data-mce-first-selected`;``+Qs;let $s=`data-mce-last-selected`;``+$s;let ec={selected:Zs,selectedSelector:`td[data-mce-selected],th[data-mce-selected]`,firstSelected:Qs,firstSelectedSelector:`td[data-mce-first-selected],th[data-mce-first-selected]`,lastSelected:$s,lastSelectedSelector:`td[data-mce-last-selected],th[data-mce-last-selected]`},tc=(e,t,n)=>({element:n,mergable:Xs(t,e,ec),unmergable:Ys(e),selection:Js(e)}),nc=(e,t,n)=>({element:e,clipboard:t,generators:n}),rc=(e,t,n,r)=>({selection:Js(e),clipboard:n,generators:r}),ic=e=>sr(e).bind(e=>Ks(e,ec.firstSelectedSelector)).fold(y(e),e=>e[0]),ac=e=>(t,n)=>{let r=Re(t);return En(r===`col`||r===`colgroup`?ic(t):t,e,n)},oc=ac(`th,td,caption`),sc=ac(`th,td`),cc=e=>jo(e.model.table.getSelectedCells()),lc=e=>oe(cc(e),e=>ot(e,ec.selectedSelector)),uc=e=>sr(e[0]).map(e=>{let t=ao(e,`[data-mce-selected]`);return as(t),[t]}),dc=(e,t)=>M(t,t=>e.selection.serializer.serialize(t.dom,{})).join(``),fc=e=>M(e,e=>e.dom.innerText).join(``),pc=(e,t)=>{e.on(`BeforeGetContent`,t=>{let n=n=>{t.preventDefault(),uc(n).each(n=>{t.content=t.format===`text`?fc(n):dc(e,n)})};if(t.selection===!0){let t=lc(e);t.length>=1&&n(t)}}),e.on(`BeforeSetContent`,n=>{n.selection===!0&&n.paste===!0&&he(cc(e)).each(r=>{sr(r).each(i=>{let a=oe(Ao(n.content),e=>Re(e)!==`meta`),o=qe(`table`);if(Xo(e)&&a.length===1&&o(a[0])){n.preventDefault();let o=ko(B.fromDom(e.getDoc())),s=nc(r,a[0],o);t.pasteCells(i,s).each(()=>{e.focus()})}})})})},mc=(e,t)=>({element:e,offset:t}),hc=(e,t,n)=>e.property().isText(t)&&e.property().getText(t).trim().length===0||e.property().isComment(t)?n(t).bind(t=>hc(e,t,n).orThunk(()=>O.some(t))):O.none(),gc=(e,t)=>e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length,_c=(e,t)=>{let n=hc(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return mc(n,gc(e,n));let r=e.property().children(n);return r.length>0?_c(e,r[r.length-1]):mc(n,gc(e,n))},vc=_c,yc=Os(),bc=e=>vc(yc,e),xc=(e,t)=>{Xn(e)||Da(e).each(n=>{let r=n.value/2;K(e,r,n.unit),K(t,r,n.unit)})},Sc=e=>M(e,y(0)),Cc=(e,t,n,r,i)=>i(e.slice(0,t)).concat(r).concat(i(e.slice(n))),wc=e=>(t,n,r,i)=>{if(e(r)){let e=Math.max(i,t[n]-Math.abs(r)),a=Math.abs(e-t[n]);return r>=0?a:-a}else return r},Tc=wc(e=>e<0),Ec=wc(D),Dc=()=>{let e=(e,t,n,r,i)=>{let a=Tc(e,t,r,i);return Cc(e,t,n+1,[a,0],Sc)},t=(e,t,n,r)=>{let i=(100+n)/100,a=Math.max(r,(e[t]+n)/i);return M(e,(e,n)=>(n===t?a:e/i)-e)},n=(n,r,i,a,o,s)=>s?t(n,r,a,o):e(n,r,i,a,o);return{resizeTable:(e,t)=>e(t),clampTableDelta:Tc,calcLeftEdgeDeltas:n,calcMiddleDeltas:(e,t,r,i,a,o,s)=>n(e,r,i,a,o,s),calcRightEdgeDeltas:(e,n,r,i,a,o)=>{if(o)return t(e,r,i,a);{let t=Tc(e,r,i,a);return Sc(e.slice(0,r)).concat([t])}},calcRedestributedWidths:(e,t,n,r)=>{if(r){let r=(t+n)/t,i=M(e,e=>e/r);return{delta:r*100-100,newSizes:i}}else return{delta:n,newSizes:e}}}},Oc=()=>{let e=(e,t,n,r,i)=>{let a=Ec(e,r>=0?n:t,r,i);return Cc(e,t,n+1,[a,-a],Sc)};return{resizeTable:(e,t,n)=>{n&&e(t)},clampTableDelta:(e,t,n,r,i)=>{if(i){if(n>=0)return n;{let t=F(e,(e,t)=>e+t-r,0);return Math.max(-t,n)}}else return Tc(e,t,n,r)},calcLeftEdgeDeltas:e,calcMiddleDeltas:(t,n,r,i,a,o)=>e(t,r,i,a,o),calcRightEdgeDeltas:(e,t,n,r,i,a)=>a?Sc(e):M(e,y(r/e.length)),calcRedestributedWidths:(e,t,n,r)=>({delta:0,newSizes:e})}},kc=e=>Ai.fromTable(e).grid,Ac=qe(`th`),jc=e=>de(e,e=>Ac(e.element)),Mc=(e,t)=>e&&t?`sectionCells`:e?`section`:`cells`,Nc=e=>{let t=e.section===`thead`,n=Dn(Pc(e.cells),`th`);return e.section===`tfoot`?{type:`footer`}:t||n?{type:`header`,subType:Mc(t,n)}:{type:`body`}},Pc=e=>{let t=oe(e,e=>Ac(e.element));return t.length===0?O.some(`td`):t.length===e.length?O.some(`th`):O.none()},Fc=e=>{let t=M(e,e=>Nc(e).type),n=j(t,`header`),r=j(t,`footer`);if(!n&&!r)return O.some(`body`);{let e=j(t,`body`);return n&&!e&&!r?O.some(`header`):!n&&!e&&r?O.some(`footer`):O.none()}},Ic=e=>R(e.all,e=>{let t=Nc(e);return t.type===`header`?O.from(t.subType):O.none()}),Lc=(e,t,n)=>Xt(n(e.element,t),!0,e.isLocked),Rc=(e,t)=>e.section===t?e:Zt(e.element,e.cells,t,e.isNew),zc=()=>({transformRow:Rc,transformCell:(e,t,n)=>{let r=n(e.element,t);return Xt(Re(r)===`td`?r:Bt(r,`td`),e.isNew,e.isLocked)}}),Bc=()=>({transformRow:Rc,transformCell:Lc}),Vc=()=>({transformRow:(e,t)=>Rc(e,t===`thead`?`tbody`:t),transformCell:Lc}),Hc={getTableSectionType:(e,t)=>{switch(Ic(Ai.fromTable(e)).getOr(t)){case`section`:return zc();case`sectionCells`:return Bc();case`cells`:return Vc()}},section:zc,sectionCells:Bc,cells:Vc,fallback:()=>({transformRow:b,transformCell:Lc})},Uc=(e,t,n,r)=>{n===r?et(e,t):Ye(e,t,n)},Wc=(e,t,n)=>{ge(_n(e,t)).fold(()=>Et(e,n),e=>Tt(e,n))},Gc=(e,t)=>{let n=wn(e,t).getOrThunk(()=>{let n=B.fromTag(t,ft(e).dom);return t===`thead`?Wc(e,`caption,colgroup`,n):t===`colgroup`?Wc(e,`caption`,n):Dt(e,n),n});return Mt(n),n},Kc=(e,t)=>{let n=[],r=[],i=e=>M(e,e=>{e.isNew&&n.push(e.element);let t=e.element;return Mt(t),N(e.cells,e=>{e.isNew&&r.push(e.element),Uc(e.element,`colspan`,e.colspan,1),Uc(e.element,`rowspan`,e.rowspan,1),Dt(t,e.element)}),t}),a=e=>ue(e,e=>M(e.cells,e=>(Uc(e.element,`span`,e.colspan,1),e.element))),o=(t,n)=>{jt(Gc(e,n),(n===`colgroup`?a:i)(t))},s=t=>{wn(e,t).each(Nt)},c=(e,t)=>{e.length>0?o(e,t):s(t)},l=[],u=[],d=[],f=[];return N(t,e=>{switch(e.section){case`thead`:l.push(e);break;case`tbody`:u.push(e);break;case`tfoot`:d.push(e);break;case`colgroup`:f.push(e);break}}),c(f,`colgroup`),c(l,`thead`),c(u,`tbody`),c(d,`tfoot`),{newRows:n,newCells:r}},qc=e=>M(e,e=>{let t=It(e.element);return N(e.cells,e=>{let n=Lt(e.element);Uc(n,`colspan`,e.colspan,1),Uc(n,`rowspan`,e.rowspan,1),Dt(t,n)}),t}),Jc=(e,t)=>M(e,e=>gi(e,t)),Yc=(e,t)=>e[t],Xc=(e,t)=>{if(e.length===0)return 0;let n=e[0];return ce(e,e=>!t(n.element,e.element)).getOr(e.length)},Zc=(e,t,n,r)=>{let i=Yc(e,t),a=i.section===`colgroup`;return{colspan:Xc(i.cells.slice(n),r),rowspan:a?1:Xc(Jc(e.slice(t),n),r)}},Qc=(e,t)=>{let n=M(e,e=>M(e.cells,E)),r=(e,t,r,i)=>{for(let a=e;a<e+r;a++)for(let e=t;e<t+i;e++)n[a][e]=!0};return M(e,(i,a)=>{let o=ue(i.cells,(i,o)=>{if(n[a][o]===!1){let n=Zc(e,a,o,t);return r(a,o,n.rowspan,n.colspan),[Kt(i.element,n.rowspan,n.colspan,i.isNew)]}else return[]});return Yt(i.element,o,i.section,i.isNew)})},$c=(e,t,n)=>{let r=[];N(e.colgroups,i=>{let a=[];for(let r=0;r<e.grid.columns;r++){let i=Ai.getColumnAt(e,r).map(e=>Xt(e.element,n,!1)).getOrThunk(()=>Xt(t.colGap(),!0,!1));a.push(i)}r.push(Zt(i.element,a,`colgroup`,n))});for(let i=0;i<e.grid.rows;i++){let a=[];for(let r=0;r<e.grid.columns;r++){let o=Ai.getAt(e,i,r).map(e=>Xt(e.element,n,e.isLocked)).getOrThunk(()=>Xt(t.gap(),!0,!1));a.push(o)}let o=e.all[i],s=Zt(o.element,a,o.section,n);r.push(s)}return r},el=(e,t)=>$c(e,t,!1),tl=e=>Qc(e,lt),nl=(e,t)=>R(e.all,e=>se(e.cells,e=>lt(t,e.element))),rl=(e,t,n)=>{let r=On(M(t.selection,t=>ir(t).bind(t=>nl(e,t)).filter(n)));return An(r.length>0,r)},il=(e,t,n,r,i)=>(a,o,s,c)=>{let l=Ai.fromTable(a),u=O.from(c?.section).getOrThunk(Hc.fallback);return t(l,o).map(t=>{let n=e(el(l,s),t,lt,i(s),u),r=Ci(n.grid);return{info:t,grid:tl(n.grid),cursor:n.cursor,lockedColumns:r}}).bind(e=>{let t=Kc(a,e.grid),i=O.from(c?.sizing).getOrThunk(()=>Qa.getTableSize(a)),o=O.from(c?.resize).getOrThunk(Oc);return n(a,e.grid,e.info,{sizing:i,resize:o,section:u}),r(a),et(a,xi),e.lockedColumns.length>0&&Ye(a,xi,e.lockedColumns.join(`,`)),O.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})},al=(e,t)=>ir(t.element).bind(n=>nl(e,n).map(e=>({...e,generators:t.generators,clipboard:t.clipboard}))),ol=(e,t)=>rl(e,t,D).map(e=>({cells:e,generators:t.generators,clipboard:t.clipboard})),sl=(e,t)=>t.mergable,cl=(e,t)=>t.unmergable,ll=(e,t)=>rl(e,t,D),ul=(e,t)=>rl(e,t,e=>!e.isLocked),dl=(e,t)=>nl(e,t).exists(e=>!e.isLocked),fl=(e,t)=>de(t,t=>dl(e,t)),pl=(e,t)=>sl(e,t).filter(t=>fl(e,t.cells)),ml=(e,t)=>cl(e,t).filter(t=>fl(e,t)),hl=(e,t,n,r)=>{let i=yi(e).rows;if(i.length===0)return e;for(let e=t.startRow;e<=t.finishRow;e++)for(let n=t.startCol;n<=t.finishCol;n++){let t=i[e],a=gi(t,n).isLocked;pi(t,n,Xt(r(),!1,a))}return e},gl=(e,t,n,r)=>{let i=yi(e).rows,a=!0;for(let e=0;e<i.length;e++)for(let o=0;o<vi(i[0]);o++){let s=i[e],c=gi(s,o),l=c.element,u=n(l,t);u&&!a?pi(s,o,Xt(r(),!0,c.isLocked)):u&&(a=!1)}return e},_l=(e,t)=>F(e,(e,n)=>ne(e,e=>t(e.element,n.element))?e:e.concat([n]),[]),vl=(e,t,n,r)=>(t>0&&t<e[0].cells.length&&N(e,e=>{let i=e.cells[t-1],a=0,o=r();for(;e.cells.length>t+a&&n(i.element,e.cells[t+a].element);)pi(e,t+a,Xt(o,!0,e.cells[t+a].isLocked)),a++}),e),yl=(e,t,n,r)=>{let i=yi(e).rows;if(t>0&&t<i.length){let e=i[t-1].cells;N(_l(e,n),e=>{let a=O.none();for(let o=t;o<i.length;o++)for(let t=0;t<vi(i[0]);t++){let s=i[o],c=gi(s,t);n(c.element,e.element)&&(a.isNone()&&(a=O.some(r())),a.each(e=>{pi(s,t,Xt(e,!0,c.isLocked))}))}})}return e},bl=e=>{let t=t=>t(e),n=y(e),r=()=>i,i={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:D,isError:E,map:t=>Sl.value(t(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:t=>{t(e)},toOptional:()=>O.some(e)};return i},xl=e=>{let t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:E,isError:D,map:t,mapError:t=>Sl.error(t(e)),bind:t,exists:E,forall:D,getOr:b,or:b,getOrThunk:T,orThunk:T,getOrDie:w(String(e)),each:g,toOptional:O.none};return n},Sl={value:bl,error:xl,fromOption:(e,t)=>e.fold(()=>xl(t),bl)},Cl=(e,t,n)=>{if(e.row>=t.length||e.column>vi(t[0]))return Sl.error(`invalid start address out of table bounds, row: `+e.row+`, column: `+e.column);let r=t.slice(e.row),i=r[0].cells.slice(e.column),a=vi(n[0]),o=n.length;return Sl.value({rowDelta:r.length-o,colDelta:i.length-a})},wl=(e,t)=>({rowDelta:0,colDelta:vi(e[0])-vi(t[0])}),Tl=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),El=(e,t,n,r)=>{let i=t.section===`colgroup`?n.col:n.cell;return re(e,e=>Xt(i(),!0,r(e)))},Dl=(e,t,n,r)=>{let i=e[e.length-1];return e.concat(re(t,()=>{let e=bi(i,i.section===`colgroup`?n.colgroup:n.row,b);return mi(e,El(e.cells.length,e,n,e=>Oe(r,e.toString())))}))},Ol=(e,t,n,r)=>M(e,e=>di(e,r,El(t,e,n,E))),kl=(e,t,n)=>M(e,e=>F(n,(n,r)=>{let i=El(1,e,t,D)[0];return fi(n,r,i)},e)),Al=(e,t,n)=>{let r=t.colDelta<0?Ol:b,i=t.rowDelta<0?Dl:b,a=Ci(e),o=vi(e[0]),s=ne(a,e=>e===o-1),c=r(e,Math.abs(t.colDelta),n,s?o-1:o),l=Ci(c);return i(c,Math.abs(t.rowDelta),n,pe(l,D))},jl=(e,t,n,r)=>{let i=S(r,gi(e[t],n).element),a=e[t];return e.length>1&&vi(a)>1&&(n>0&&i(_i(a,n-1))||n<a.cells.length-1&&i(_i(a,n+1))||t>0&&i(_i(e[t-1],n))||t<e.length-1&&i(_i(e[t+1],n)))},Ml=(e,t,n,r,i,a)=>{let o=e.row,s=e.column,c=n.length,l=vi(n[0]),u=o+c,d=s+l+a.length,f=pe(a,D);for(let e=o;e<u;e++){let a=0;for(let c=s;c<d;c++){if(f[c]){a++;continue}jl(t,e,c,i)&&gl(t,_i(t[e],c),i,r.cell);let l=c-s-a,u=gi(n[e-o],l),d=u.element,p=r.replace(d);pi(t[e],c,Xt(p,!0,u.isLocked))}}return t},Nl=(e,t,n)=>{let r=vi(t[0]);return{row:yi(t).cols.length+e.row,column:se(re(r-e.column,t=>t+e.column),e=>de(n,t=>t!==e)).getOr(r-1)}},Pl=(e,t,n)=>oe(n,n=>n>=e.column&&n<=vi(t[0])+e.column),Fl=(e,t,n,r,i)=>{let a=Ci(t),o=Nl(e,t,a),s=yi(n).rows,c=Pl(o,s,a);return Cl(o,t,s).map(e=>{let n=Al(t,{...e,colDelta:e.colDelta-c.length},r);return Ml(o,n,s,r,i,Pl(o,s,Ci(n)))})},Il=(e,t,n,r,i)=>{vl(t,e,i,r.cell);let a=Al(n,Tl(n,t),r);return M(Al(t,Tl(t,a),r),(t,n)=>di(t,e,a[n].cells))},Ll=(e,t,n,r,i)=>{yl(t,e,i,r.cell);let a=Ci(t),o=wl(t,n),s=Al(t,{...o,colDelta:o.colDelta-a.length},r),{cols:c,rows:l}=yi(s),u=Ci(s),d=wl(n,t),f={...d,colDelta:d.colDelta+u.length},p=Al(kl(n,r,u),f,r);return[...c,...l.slice(0,e),...p,...l.slice(e,l.length)]},Rl=(e,t,n,r)=>bi(e,e=>r(e,n),t),zl=(e,t,n,r,i)=>{let{rows:a,cols:o}=yi(e),s=a.slice(0,t),c=a.slice(t),l=Rl(a[n],(e,n)=>t>0&&t<a.length&&r(_i(a[t-1],n),_i(a[t],n))?gi(a[t],n):Xt(i(e.element,r),!0,e.isLocked),r,i);return[...o,...s,l,...c]},Bl=(e,t,n,r,i,a,o)=>n===`colgroup`||!r?Xt(o(gi(e,i).element,a),!0,!1):gi(e,t),Vl=(e,t,n,r,i)=>M(e,e=>{let a=t>0&&t<vi(e)&&r(_i(e,t-1),_i(e,t));return fi(e,t,Bl(e,t,e.section,a,n,r,i))}),Hl=(e,t)=>ue(e,e=>{let n=e.cells,r=P(t,(e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e,n);return r.length>0?[Zt(e.element,r,e.section,e.isNew)]:[]}),Ul=(e,t,n)=>{let{rows:r,cols:i}=yi(e);return[...i,...r.slice(0,t),...r.slice(n+1)]},Wl=(e,t,n,r)=>_i(e[t],n)!==void 0&&t>0&&r(_i(e[t-1],n),_i(e[t],n)),Gl=(e,t,n)=>t>0&&n(_i(e,t-1),_i(e,t)),Kl=(e,t,n,r)=>Wl(e,t,n,r)||Gl(e[t],n,r),ql=(e,t)=>de(t,b)&&jc(e.cells)?D:(e,n,r)=>!(Re(e.element)===`th`&&t[r]),Jl=(e,t)=>de(t,b)&&jc(e)?D:(e,n,r)=>!(Re(e.element)===`th`&&t[n]),Yl=(e,t,n,r)=>{let i=e=>e===`row`?Zn(t):Xn(t),a=e=>i(e)?`${e}group`:e;return e?Ac(t)?a(n):null:r&&Ac(t)?a(n===`row`?`col`:`row`):null},Xl=(e,t)=>(n,r,i)=>O.some(Yl(e,n.element,`col`,t[i])),Zl=(e,t)=>(n,r)=>O.some(Yl(e,n.element,`row`,t[r])),Ql=(e,t,n)=>Xt(n(e.element,t),!0,e.isLocked),$l=(e,t,n,r,i,a,o)=>{let s=e=>ne(t,t=>n(e.element,t.element));return M(e,(e,t)=>hi(e,(e,c)=>{if(s(e)){let s=o(e,t,c)?i(e,n,r):e;return a(s,t,c).each(e=>{Ze(s.element,{scope:O.from(e)})}),s}else return e}))},eu=(e,t,n)=>ue(e,(r,i)=>Kl(e,i,t,n)?[]:[gi(r,t)]),tu=(e,t,n)=>{let r=e[t];return ue(r.cells,(r,i)=>Kl(e,t,i,n)?[]:[r])},nu=(e,t,n,r,i)=>{let a=yi(e).rows,o=ue(t,e=>eu(a,e,r)),s=M(a,e=>jc(e.cells)),c=Jl(o,s);return $l(e,o,r,i,Ql,Zl(n,s),c)},ru=(e,t,n,r,i,a,o)=>{let{cols:s,rows:c}=yi(e),l=c[t[0]],u=ue(t,e=>tu(c,e,i)),d=M(l.cells,(e,t)=>jc(eu(c,t,i))),f=[...c];N(t,e=>{f[e]=o.transformRow(c[e],n)});let p=[...s,...f],m=ql(l,d),h=Xl(r,d);return $l(p,u,i,a,o.transformCell,h,m)},iu=(e,t,n,r)=>{let i=yi(e).rows;return $l(e,M(t,e=>gi(i[e.row],e.column)),n,r,Ql,O.none,D)},au={generate:e=>{if(!c(e))throw Error(`cases must be an array`);if(e.length===0)throw Error(`there must be at least one case`);let t=[],n={};return N(e,(r,i)=>{let a=_e(r);if(a.length!==1)throw Error(`one and only one name per case`);let o=a[0],s=r[o];if(n[o]!==void 0)throw Error(`duplicate key detected:`+o);if(o===`cata`)throw Error(`cannot have a case named cata (sorry)`);if(!c(s))throw Error(`case arguments must be an array`);t.push(o),n[o]=(...n)=>{let r=n.length;if(r!==s.length)throw Error(`Wrong number of arguments to case `+o+`. Expected `+s.length+` (`+s+`), got `+r);return{fold:(...t)=>{if(t.length!==e.length)throw Error(`Wrong number of arguments to fold. Expected `+e.length+`, got `+t.length);return t[i].apply(null,n)},match:e=>{let r=_e(e);if(t.length!==r.length)throw Error(`Wrong number of arguments to match. Expected: `+t.join(`,`)+`
Actual: `+r.join(`,`));if(!de(t,e=>j(r,e)))throw Error(`Not all branches were specified when using match. Specified: `+r.join(`, `)+`
Required: `+t.join(`, `));return e[o].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:o,params:n})}}}}),n}},ou={...au.generate([{none:[]},{only:[`index`]},{left:[`index`,`next`]},{middle:[`prev`,`index`,`next`]},{right:[`prev`,`index`]}])},su=(e,t)=>e.length===0?ou.none():e.length===1?ou.only(0):t===0?ou.left(0,1):t===e.length-1?ou.right(t-1,t):t>0&&t<e.length-1?ou.middle(t-1,t,t+1):ou.none(),cu=(e,t,n,r,i)=>{let a=e.slice(0),o=su(e,t),s=y(M(a,y(0)));return o.fold(s,e=>r.singleColumnWidth(a[e],n),(e,t)=>i.calcLeftEdgeDeltas(a,e,t,n,r.minCellWidth(),r.isRelative),(e,t,o)=>i.calcMiddleDeltas(a,e,t,o,n,r.minCellWidth(),r.isRelative),(e,t)=>i.calcRightEdgeDeltas(a,e,t,n,r.minCellWidth(),r.isRelative))},lu=(e,t,n)=>{let r=0;for(let i=e;i<t;i++)r+=n[i]===void 0?0:n[i];return r},uu=(e,t)=>M(Ai.justCells(e),e=>{let n=lu(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}),du=(e,t)=>M(Ai.justColumns(e),(e,n)=>({element:e.element,width:t[n],colspan:e.colspan})),fu=(e,t)=>M(Ai.justCells(e),e=>{let n=lu(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}),pu=(e,t)=>M(e.all,(e,n)=>({element:e.element,height:t[n]})),mu=e=>P(e,(e,t)=>e+t,0),hu=(e,t)=>Ai.hasColumns(e)?du(e,t):uu(e,t),gu=(e,t,n)=>{N(hu(e,t),e=>{n.setElementWidth(e.element,e.width)})},_u=(e,t,n,r,i)=>{let a=Ai.fromTable(e),o=i.getCellDelta(t),s=i.getWidths(a,i),c=n===a.grid.columns-1,l=r.clampTableDelta(s,n,o,i.minCellWidth(),c);gu(a,M(cu(s,n,l,i,r),(e,t)=>e+s[t]),i),r.resizeTable(i.adjustTableWidth,l,c)},vu=(e,t,n,r)=>{let i=Ai.fromTable(e),a=M(Ka(i,e,r),(e,r)=>n===r?Math.max(t+e,er()):e),o=fu(i,a);N(pu(i,a),e=>{ga(e.element,e.height)}),N(o,e=>{ga(e.element,e.height)}),ga(e,mu(a))},yu=(e,t,n,r,i)=>{let a=Ai.generate(t),o=r.getWidths(a,r),s=r.pixelWidth(),{newSizes:c,delta:l}=i.calcRedestributedWidths(o,s,n.pixelDelta,r.isRelative);gu(a,c,r),r.adjustTableWidth(l)},bu=(e,t,n,r)=>{let i=Ai.generate(t);gu(i,r.getWidths(i,r),r)},xu=e=>F(e,(e,t)=>ne(e,e=>e.column===t.column)?e:e.concat([t]),[]).sort((e,t)=>e.column-t.column),Su=qe(`col`),Cu=qe(`colgroup`),wu=e=>Re(e)===`tr`||Cu(e),Tu=e=>({element:e,colspan:Jn(e,`colspan`,1),rowspan:Jn(e,`rowspan`,1)}),Eu=(e,t=Tu)=>{let n=t=>Su(t.element)?e.col(t):e.cell(t),r=t=>Cu(t.element)?e.colgroup(t):e.row(t),i=e=>{if(wu(e))return r({element:e});{let r=e,i=n(t(r));return a=O.some({item:r,replacement:i}),i}},a=O.none();return{getOrInit:(e,t)=>a.fold(()=>i(e),n=>t(e,n.item)?n.replacement:i(e))}},Y=e=>t=>{let n=[],r=(e,t)=>se(n,n=>t(n.item,e)),i=r=>{let i=e===`td`?{scope:null}:{},a=t.replace(r,e,i);return n.push({item:r,sub:a}),a};return{replaceOrInit:(e,t)=>{if(wu(e)||Su(e))return e;{let n=e;return r(n,t).fold(()=>i(n),r=>t(e,r.item)?r.sub:i(n))}}}},Du=e=>$e(e,`scope`).map(e=>e.substr(0,3)),Ou={modification:Eu,transform:Y,merging:e=>({unmerge:t=>{let n=Du(t);return n.each(e=>Ye(t,`scope`,e)),()=>{let r=e.cell({element:t,colspan:1,rowspan:1});return Kn(r,`width`),Kn(t,`width`),n.each(e=>Ye(r,`scope`,e)),r}},merge:e=>(Kn(e[0],`width`),(()=>{let t=On(M(e,Du));if(t.length===0)return O.none();{let e=t[0],n=[`row`,`col`];return ne(t,t=>t!==e&&j(n,t))?O.none():O.from(e)}})().fold(()=>et(e[0],`scope`),t=>Ye(e[0],`scope`,t+`group`)),y(e[0]))})},ku=`body.p.div.article.aside.figcaption.figure.footer.header.nav.section.ol.ul.table.thead.tfoot.tbody.caption.tr.td.th.h1.h2.h3.h4.h5.h6.blockquote.pre.address`.split(`.`),Au=(e,t)=>j([`ol`,`ul`],e.property().name(t)),ju=(e,t)=>j(ku,e.property().name(t)),Mu=(e,t)=>j([`br`,`img`,`hr`,`input`],e.property().name(t)),Nu=Os(),Pu=e=>ju(Nu,e),Fu=e=>Au(Nu,e),Iu=e=>Mu(Nu,e),Lu=e=>{let t=qe(`br`),n=e=>de(e,e=>t(e)||We(e)&&so(e).trim().length===0),r=e=>Re(e)===`li`||yn(e,Fu).isSome(),i=e=>bt(e).map(e=>Pu(e)?!0:Iu(e)?Re(e)!==`img`:!1).getOr(!1),a=e=>_o(e).bind(n=>{let a=i(n);return gt(n).map(i=>a===!0||r(i)||t(n)||Pu(i)&&!lt(e,i)?[]:[B.fromTag(`br`)])}).getOr([]),o=(()=>{let t=ue(e,e=>{let t=xt(e);return n(t)?[]:t.concat(a(e))});return t.length===0?[B.fromTag(`br`)]:t})();Mt(e[0]),jt(e[0],o)},Ru=e=>ts(e,!0),zu=e=>{ar(e).length===0&&Nt(e)},Bu=(e,t)=>({grid:e,cursor:t}),Vu=e=>R(e,e=>R(e.cells,e=>{let t=e.element;return An(Ru(t),t)})),Hu=(e,t,n)=>{let r=yi(e).rows;return O.from(r[t]?.cells[n]?.element).filter(Ru).orThunk(()=>Vu(r))},Uu=(e,t,n)=>Bu(e,Hu(e,t,n)),Wu=e=>F(e,(e,t)=>ne(e,e=>e.row===t.row)?e:e.concat([t]),[]).sort((e,t)=>e.row-t.row),Gu=(e,t,n,r)=>{let i=t[0].row,a=P(Wu(t),(e,t)=>({grid:zl(e.grid,i,t.row+e.delta,n,r.getOrInit),delta:e.delta+1}),{grid:e,delta:0}).grid;return Uu(a,i,t[0].column)},Ku=(e,t,n,r)=>{let i=Wu(t),a=i[i.length-1],o=a.row+a.rowspan;return Uu(P(i,(e,t)=>zl(e,o,t.row,n,r.getOrInit),e),o,t[0].column)},qu=(e,t,n,r)=>{let i=t.details,a=xu(i),o=a[0].column,s=P(a,(e,t)=>({grid:Vl(e.grid,o,t.column+e.delta,n,r.getOrInit),delta:e.delta+1}),{grid:e,delta:0}).grid;return Uu(s,i[0].row,o)},Ju=(e,t,n,r)=>{let i=t.details,a=i[i.length-1],o=a.column+a.colspan;return Uu(P(xu(i),(e,t)=>Vl(e,o,t.column,n,r.getOrInit),e),i[0].row,o)},Yu=(e,t,n,r)=>Uu(nu(e,M(xu(t),e=>e.column),!0,n,r.replaceOrInit),t[0].row,t[0].column),Xu=(e,t,n,r)=>Uu(iu(e,t,n,r.replaceOrInit),t[0].row,t[0].column),Zu=(e,t,n,r)=>Uu(nu(e,M(xu(t),e=>e.column),!1,n,r.replaceOrInit),t[0].row,t[0].column),Qu=(e,t,n,r)=>Uu(iu(e,t,n,r.replaceOrInit),t[0].row,t[0].column),$u=(e,t)=>(n,r,i,a,o)=>Uu(ru(n,M(Wu(r),e=>e.row),e,t,i,a.replaceOrInit,o),r[0].row,r[0].column),ed=$u(`thead`,!0),td=$u(`tbody`,!1),nd=$u(`tfoot`,!1),rd=(e,t,n,r)=>{let i=xu(t.details),a=Hl(e,M(i,e=>e.column)),o=a.length>0?a[0].cells.length-1:0;return Uu(a,i[0].row,Math.min(i[0].column,o))},id=(e,t,n,r)=>{let i=Wu(t),a=Ul(e,i[0].row,i[i.length-1].row),o=a.length>0?a.length-1:0;return Uu(a,Math.min(t[0].row,o),t[0].column)},ad=(e,t,n,r)=>{let i=t.cells;return Lu(i),Bu(hl(e,t.bounds,n,r.merge(i)),O.from(i[0]))},od=(e,t,n,r)=>Bu(P(t,(e,t)=>gl(e,t,n,r.unmerge(t)),e),O.from(t[0])),sd=(e,t,n,r)=>{let i=((e,t)=>$c(Ai.fromTable(e),t,!0))(t.clipboard,t.generators);return Fl(Wt(t.row,t.column),e,i,t.generators,n).fold(()=>Bu(e,O.some(t.element)),e=>Uu(e,t.row,t.column))},cd=(e,t,n)=>{let r=pr(e,n.section);return $c(Ai.generate(r),t,!0)},ld=(e,t,n,r)=>{let i=yi(e).rows,a=t.cells[0].column,o=i[t.cells[0].row];return Uu(Il(a,e,cd(t.clipboard,t.generators,o),t.generators,n),t.cells[0].row,t.cells[0].column)},ud=(e,t,n,r)=>{let i=yi(e).rows,a=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,o=i[t.cells[0].row];return Uu(Il(a,e,cd(t.clipboard,t.generators,o),t.generators,n),t.cells[0].row,t.cells[0].column)},dd=(e,t,n,r)=>{let i=yi(e).rows,a=t.cells[0].row,o=i[a];return Uu(Ll(a,e,cd(t.clipboard,t.generators,o),t.generators,n),t.cells[0].row,t.cells[0].column)},fd=(e,t,n,r)=>{let i=yi(e).rows,a=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,o=i[t.cells[0].row];return Uu(Ll(a,e,cd(t.clipboard,t.generators,o),t.generators,n),t.cells[0].row,t.cells[0].column)},pd=(e,t)=>{let n=Ai.fromTable(e);return ll(n,t).bind(e=>{let t=e[e.length-1],r=e[0].column,i=t.column+t.colspan;return Pc(le(M(n.all,e=>oe(e.cells,e=>e.column>=r&&e.column<i))))}).getOr(``)},md=(e,t)=>ll(Ai.fromTable(e),t).bind(Pc).getOr(``),hd=(e,t)=>{let n=Ai.fromTable(e);return ll(n,t).bind(e=>{let t=e[e.length-1],r=e[0].row,i=t.row+t.rowspan;return Fc(n.all.slice(r,i))}).getOr(``)},gd=(e,t,n,r)=>bu(e,t,n,r.sizing),_d=(e,t,n,r)=>yu(e,t,n,r.sizing,r.resize),vd=(e,t)=>ne(t,e=>e.column===0&&e.isLocked),yd=(e,t)=>ne(t,t=>t.column+t.colspan>=e.grid.columns&&t.isLocked),bd=(e,t)=>{let n=ji(e);return F(xu(t),(e,t)=>e+n[t.column].map(ci).getOr(0),0)},xd=e=>(t,n)=>ll(t,n).filter(n=>!(e?vd:yd)(t,n)).map(e=>({details:e,pixelDelta:bd(t,e)})),Sd=(e,t)=>ul(e,t).map(t=>({details:t,pixelDelta:-bd(e,t)})),Cd=e=>(t,n)=>ol(t,n).filter(n=>!(e?vd:yd)(t,n.cells)),wd=Ou.transform(`th`),X=Ou.transform(`td`),Td=il(Gu,ll,g,g,Ou.modification),Ed=il(Ku,ll,g,g,Ou.modification),Z=il(qu,xd(!0),_d,g,Ou.modification),Dd=il(Ju,xd(!1),_d,g,Ou.modification),Od=il(rd,Sd,_d,zu,Ou.modification),kd=il(id,ll,g,zu,Ou.modification),Ad=il(Yu,ul,g,g,wd),jd=il(Zu,ul,g,g,X),Md=il(ed,ul,g,g,wd),Nd=il(td,ul,g,g,X),Pd=il(nd,ul,g,g,X),Fd=il(Xu,ul,g,g,wd),Id=il(Qu,ul,g,g,X),Ld=il(ad,pl,gd,g,Ou.merging),Rd=il(od,ml,gd,g,Ou.merging),zd=il(sd,al,gd,g,Ou.modification),Bd=il(ld,Cd(!0),g,g,Ou.modification),Vd=il(ud,Cd(!1),g,g,Ou.modification),Hd=il(dd,ol,g,g,Ou.modification),Ud=il(fd,ol,g,g,Ou.modification),Wd=pd,Gd=md,Kd=hd,qd=(e,t)=>e.dispatch(`NewRow`,{node:t}),Jd=(e,t)=>e.dispatch(`NewCell`,{node:t}),Yd=(e,t,n)=>{e.dispatch(`TableModified`,{...n,table:t})},Xd=(e,t,n,r,i)=>{e.dispatch(`TableSelectionChange`,{cells:t,start:n,finish:r,otherCells:i})},Zd=e=>{e.dispatch(`TableSelectionClear`)},Qd=(e,t,n,r,i)=>{e.dispatch(`ObjectResizeStart`,{target:t,width:n,height:r,origin:i})},$d=(e,t,n,r,i)=>{e.dispatch(`ObjectResized`,{target:t,width:n,height:r,origin:i})},ef={structure:!1,style:!0},tf={structure:!0,style:!1},nf={structure:!0,style:!0},rf=(e,t)=>Go(e)?Qa.percentageSize(t):Ko(e)?Qa.pixelSize(t):Qa.getTableSize(t),af=(e,t,n)=>{let r=e=>Re(rs(e))===`table`,i=t=>!r(e)||kc(t).rows>1,a=t=>!r(e)||kc(t).columns>1,o=Ro(e),s=Uo(e)?g:xc,c=t=>{switch(Bo(e)){case`section`:return Hc.section();case`sectionCells`:return Hc.sectionCells();case`cells`:return Hc.cells();default:return Hc.getTableSectionType(t,`section`)}},l=(t,r)=>r.cursor.fold(()=>he(ar(t)).filter(un).map(r=>{n.clearSelectedCells(t.dom);let i=e.dom.createRng();return i.selectNode(r.dom),e.selection.setRng(i),Ye(r,`data-mce-selected`,`1`),i}),r=>{let i=bc(r),a=e.dom.createRng();return a.setStart(i.element.dom,i.offset),a.setEnd(i.element.dom,i.offset),e.selection.setRng(a),n.clearSelectedCells(t.dom),O.some(a)}),u=(n,r,i,a)=>(s,u,d=!1)=>{as(s);let f=Oo(i,B.fromDom(e.getDoc()),o),p={sizing:rf(e,s),resize:Uo(e)?Dc():Oc(),section:c(s)};return r(s)?n(s,u,f,p).bind(n=>{t.refresh(s.dom),N(n.newRows,t=>{qd(e,t.dom)}),N(n.newCells,t=>{Jd(e,t.dom)});let r=l(s,n);return un(s)&&(as(s),d||Yd(e,s.dom,a)),r.map(e=>({rng:e,effect:a}))}):O.none()};return{deleteRow:u(kd,i,g,tf),deleteColumn:u(Od,a,g,tf),insertRowsBefore:u(Td,D,g,tf),insertRowsAfter:u(Ed,D,g,tf),insertColumnsBefore:u(Z,D,s,tf),insertColumnsAfter:u(Dd,D,s,tf),mergeCells:u(Ld,D,g,tf),unmergeCells:u(Rd,D,g,tf),pasteColsBefore:u(Bd,D,g,tf),pasteColsAfter:u(Vd,D,g,tf),pasteRowsBefore:u(Hd,D,g,tf),pasteRowsAfter:u(Ud,D,g,tf),pasteCells:u(zd,D,g,nf),makeCellsHeader:u(Fd,D,g,tf),unmakeCellsHeader:u(Id,D,g,tf),makeColumnsHeader:u(Ad,D,g,tf),unmakeColumnsHeader:u(jd,D,g,tf),makeRowsHeader:u(Md,D,g,tf),makeRowsBody:u(Nd,D,g,tf),makeRowsFooter:u(Pd,D,g,tf),getTableRowType:Kd,getTableCellType:Gd,getTableColType:Wd}},of=(e,t,n)=>{let r=Jn(e,t,1);n===1||r<=1?et(e,t):Ye(e,t,Math.min(n,r))},sf=(e,t)=>n=>{let r=n.column+n.colspan-1,i=n.column;return r>=e&&i<t},cf=(e,t,n)=>{if(Ai.hasColumns(e)){let r=M(oe(Ai.justColumns(e),sf(t,n)),e=>{let r=Lt(e.element);return of(r,`span`,n-t),r}),i=B.fromTag(`colgroup`);return jt(i,r),[i]}else return[]},lf=(e,t,n)=>M(e.all,e=>{let r=M(oe(e.cells,sf(t,n)),e=>{let r=Lt(e.element);return of(r,`colspan`,n-t),r}),i=B.fromTag(`tr`);return jt(i,r),i}),uf=(e,t)=>{let n=Ai.fromTable(e);return ul(n,t).map(e=>{let t=e[e.length-1],r=e[0].column,i=t.column+t.colspan,a=cf(n,r,i),o=lf(n,r,i);return[...a,...o]})},df=(e,t,n)=>{let r=Ai.fromTable(e);return ll(r,t).bind(e=>{let t=tl(ue(yi($c(r,n,!1)).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),e=>{let t=oe(e.cells,e=>!e.isLocked);return t.length>0?[{...e,cells:t}]:[]}));return An(t.length>0,t)}).map(e=>qc(e))},ff=au.generate([{invalid:[`raw`]},{pixels:[`value`]},{percent:[`value`]}]),pf=(e,t,n)=>{let r=n.substring(0,n.length-e.length),i=parseFloat(r);return r===i.toString()?t(i):ff.invalid(n)},mf=e=>Pn(e,`%`)?pf(`%`,ff.percent,e):Pn(e,`px`)?pf(`px`,ff.pixels,e):ff.invalid(e),hf={...ff,from:mf},gf=(e,t)=>M(e,e=>hf.from(e).fold(()=>e,e=>e/t*100+`%`,e=>e+`%`)),_f=(e,t,n)=>{let r=n/t;return M(e,e=>hf.from(e).fold(()=>e,e=>e*r+`px`,e=>e/100*n+`px`))},vf=(e,t)=>re(t,e.fold(()=>y(``),e=>y(e/t+`px`),()=>y(100/t+`%`))),yf=(e,t,n)=>e.fold(()=>t,e=>_f(t,n,e),e=>gf(t,n)),bf=(e,t,n)=>{let r=hf.from(n);return wf(de(e,e=>e===`0px`)?vf(r,e.length):yf(r,e,t))},xf=(e,t)=>e.length===0?t:P(e,(e,t)=>hf.from(t).fold(y(0),b,b)+e,0),Sf=(e,t)=>{let n=Math.floor(e);return{value:n+t,remainder:e-n}},Cf=(e,t)=>hf.from(e).fold(y(e),e=>e+t+`px`,e=>e+t+`%`),wf=e=>{if(e.length===0)return e;let t=P(e,(e,t)=>{let n=hf.from(t).fold(()=>({value:t,remainder:0}),e=>Sf(e,`px`),e=>({value:e+`%`,remainder:0}));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}},{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([Cf(n[n.length-1],Math.round(t.remainder))])},Tf=hf.from,Ef=(e,t,n)=>{N(t,t=>{let r=xf(e.slice(t.column,t.colspan+t.column),$n());Vn(t.element,`width`,r+n)})},Df=(e,t,n)=>{N(t,(t,r)=>{let i=xf([e[r]],$n());Vn(t.element,`width`,i+n)})},Of=(e,t,n,r)=>{N(n,t=>{let n=xf(e.slice(t.row,t.rowspan+t.row),er());Vn(t.element,`height`,n+r)}),N(t,(t,n)=>{Vn(t.element,`height`,e[n])})},kf=e=>Tf(e).fold(y(`px`),y(`px`),y(`%`)),Af=(e,t,n)=>{let r=Ai.fromTable(e),i=r.all,a=Ai.justCells(r),o=Ai.justColumns(r);t.each(t=>{let n=kf(t),i=si(e),s=bf(Ha(r,e),i,t);Ai.hasColumns(r)?Df(s,o,n):Ef(s,a,n),Vn(e,`width`,t)}),n.each(t=>{let n=kf(t),o=Ri(e);Of(bf(q(r,e,ia),o,t),i,a,n),Vn(e,`height`,t)})},jf=Aa,Mf=ja,Nf=Ma,Pf=e=>{et(e,`width`)},Ff=e=>{let t=ka(e);Af(e,O.some(t),O.none()),Pf(e)},If=e=>{let t=Oa(e);Af(e,O.some(t),O.none()),Pf(e)},Lf=e=>{Kn(e,`width`);let t=or(e);N(t.length>0?t:ar(e),e=>{Kn(e,`width`),Pf(e)}),Pf(e)},Rf={styles:{"border-collapse":`collapse`,width:`100%`},attributes:{border:`1`},colGroups:!1},zf=()=>B.fromTag(`th`),Bf=()=>B.fromTag(`td`),Vf=()=>B.fromTag(`col`),Hf=(e,t,n,r)=>{let i=B.fromTag(`tr`);for(let a=0;a<e;a++){let e=r<t||a<n?zf():Bf();a<n&&Ye(e,`scope`,`row`),r<t&&Ye(e,`scope`,`col`),Dt(e,B.fromTag(`br`)),Dt(i,e)}return i},Uf=e=>{let t=B.fromTag(`colgroup`);return re(e,()=>Dt(t,Vf())),t},Wf=(e,t,n,r)=>re(e,e=>Hf(t,n,r,e)),Gf=(e,t,n,r,i,a=Rf)=>{let o=B.fromTag(`table`),s=i!==`cells`;Hn(o,a.styles),Xe(o,a.attributes),a.colGroups&&Dt(o,Uf(t));let c=Math.min(e,n);if(s&&n>0){let e=B.fromTag(`thead`);Dt(o,e),jt(e,Wf(n,t,i===`sectionCells`?c:0,r))}let l=B.fromTag(`tbody`);return Dt(o,l),jt(l,Wf(s?e-c:e,t,s?0:n,r)),o},Kf=e=>e.dom.innerHTML,qf=e=>{let t=B.fromTag(`div`);return Dt(t,B.fromDom(e.dom.cloneNode(!0))),Kf(t)},Jf=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},Yf=(e,t)=>{Tn(t,`td,th`).each(S(Jf,e))},Xf=(e,t)=>{N(H(t,`tr`),t=>{qd(e,t.dom),N(H(t,`th,td`),t=>{Jd(e,t.dom)})})},Zf=e=>o(e)&&e.indexOf(`%`)!==-1,Qf=(e,t,n,r,i)=>{let a=Qo(e),o={styles:a,attributes:Zo(e),colGroups:$o(e)};return e.undoManager.ignore(()=>{let a=Gf(n,t,i,r,Bo(e),o);Ye(a,`data-mce-id`,`__mce`);let s=qf(a);e.insertContent(s),e.addVisual()}),Tn(rs(e),`table[data-mce-id="__mce"]`).map(t=>(Ko(e)?If(t):qo(e)?Lf(t):(Go(e)||Zf(a.width))&&Ff(t),as(t),et(t,`data-mce-id`),Xf(e,t),Yf(e,t),t.dom)).getOrNull()},$f=(e,t,n,r={})=>{let i=e=>h(e)&&e>0;if(i(t)&&i(n)){let i=r.headerRows||0;return Qf(e,n,t,r.headerColumns||0,i)}else return console.error(`Invalid values for mceInsertTable - rows and columns values are required to insert a table.`),null};var ep=tinymce.util.Tools.resolve(`tinymce.FakeClipboard`);let tp=`x-tinymce/dom-table-`,np=tp+`rows`,rp=tp+`columns`,ip=e=>{let t=ep.FakeClipboardItem(e);ep.write([t])},ap=e=>R(ep.read()??[],t=>O.from(t.getType(e))),op=e=>{ap(e).isSome()&&ep.clear()},sp=e=>{e.fold(lp,e=>ip({[np]:e}))},cp=()=>ap(np),lp=()=>op(np),up=e=>{e.fold(fp,e=>ip({[rp]:e}))},dp=()=>ap(rp),fp=()=>op(rp),pp=e=>oc(os(e),is(e)).filter(fs),mp=e=>sc(os(e),is(e)).filter(fs),hp=(e,t)=>{let n=is(e),r=()=>pp(e).each(t=>{sr(t,n).filter(C(n)).each(t=>{let n=B.fromText(``);if(Tt(t,n),Nt(t),e.dom.isEmpty(e.getBody()))e.setContent(``),e.selection.setCursorLocation();else{let t=e.dom.createRng();t.setStart(n.dom,0),t.setEnd(n.dom,0),e.selection.setRng(t),e.nodeChanged()}})}),i=t=>pp(e).each(r=>{qo(e)||Ko(e)||Go(e)||sr(r,n).each(n=>{t===`relative`&&!jf(n)?Ff(n):t===`fixed`&&!Mf(n)?If(n):t===`responsive`&&!Nf(n)&&Lf(n),as(n),Yd(e,n.dom,tf)})}),a=e=>sr(e,n),c=t=>mp(e).bind(e=>a(e).map(n=>t(n,e))),l=(t,n)=>{c(t=>{e.formatter.toggle(`tableclass`,{value:n},t.dom),Yd(e,t.dom,ef)})},u=(t,n)=>{c(t=>{let r=cc(e),i=de(r,t=>e.formatter.match(`tablecellclass`,{value:n},t.dom))?e.formatter.remove:e.formatter.apply;N(r,e=>i(`tablecellclass`,{value:n},e.dom)),Yd(e,t.dom,ef)})},d=()=>{pp(e).each(t=>{sr(t,n).each(n=>{wn(n,`caption`).fold(()=>{let t=B.fromTag(`caption`);Dt(t,B.fromText(`Caption`)),Ot(n,t,0),e.selection.setCursorLocation(t.dom,0)},r=>{qe(`caption`)(t)&&V(`td`,n).each(t=>e.selection.setCursorLocation(t.dom,0)),Nt(r)}),Yd(e,n.dom,tf)})})},f=t=>{e.focus()},p=(t,n=!1)=>c((r,i)=>{t(r,tc(cc(e),r,i),n).each(f)}),m=()=>c((t,n)=>df(t,tc(cc(e),t,n),Oo(g,B.fromDom(e.getDoc()),O.none()))),h=()=>c((t,n)=>uf(t,tc(cc(e),t,n))),_=(t,n)=>n().each(n=>{let r=M(n,e=>Lt(e));c((n,i)=>{let a=ko(B.fromDom(e.getDoc()));t(n,rc(cc(e),i,r,a)).each(f)})}),v=e=>(t,n)=>De(n,`type`).each(t=>{p(e(t),n.no_events)});ye({mceTableSplitCells:()=>p(t.unmergeCells),mceTableMergeCells:()=>p(t.mergeCells),mceTableInsertRowBefore:()=>p(t.insertRowsBefore),mceTableInsertRowAfter:()=>p(t.insertRowsAfter),mceTableInsertColBefore:()=>p(t.insertColumnsBefore),mceTableInsertColAfter:()=>p(t.insertColumnsAfter),mceTableDeleteCol:()=>p(t.deleteColumn),mceTableDeleteRow:()=>p(t.deleteRow),mceTableCutCol:()=>h().each(e=>{up(e),p(t.deleteColumn)}),mceTableCutRow:()=>m().each(e=>{sp(e),p(t.deleteRow)}),mceTableCopyCol:()=>h().each(e=>up(e)),mceTableCopyRow:()=>m().each(e=>sp(e)),mceTablePasteColBefore:()=>_(t.pasteColsBefore,dp),mceTablePasteColAfter:()=>_(t.pasteColsAfter,dp),mceTablePasteRowBefore:()=>_(t.pasteRowsBefore,cp),mceTablePasteRowAfter:()=>_(t.pasteRowsAfter,cp),mceTableDelete:r,mceTableCellToggleClass:u,mceTableToggleClass:l,mceTableToggleCaption:d,mceTableSizingMode:(e,t)=>i(t),mceTableCellType:v(e=>e===`th`?t.makeCellsHeader:t.unmakeCellsHeader),mceTableColType:v(e=>e===`th`?t.makeColumnsHeader:t.unmakeColumnsHeader),mceTableRowType:v(e=>{switch(e){case`header`:return t.makeRowsHeader;case`footer`:return t.makeRowsFooter;default:return t.makeRowsBody}})},(t,n)=>e.addCommand(n,t)),e.addCommand(`mceInsertTable`,(t,n)=>{$f(e,n.rows,n.columns,n.options)}),e.addCommand(`mceTableApplyCellStyle`,(t,n)=>{let r=e=>`tablecell`+e.toLowerCase().replace(`-`,``);if(!s(n))return;let i=oe(cc(e),fs);if(i.length===0)return;let c=we(n,(t,n)=>e.formatter.has(r(n))&&o(t));Ae(c)||(ye(c,(t,n)=>{let a=r(n);N(i,n=>{t===``?e.formatter.remove(a,{value:null},n.dom,!0):e.formatter.apply(a,{value:t},n.dom)})}),a(i[0]).each(t=>Yd(e,t.dom,ef)))})},gp=(e,t)=>{let n=is(e),r=t=>sc(os(e)).bind(r=>sr(r,n).map(n=>t(n,tc(cc(e),n,r)))).getOr(``);ye({mceTableRowType:()=>r(t.getTableRowType),mceTableCellType:()=>r(t.getTableCellType),mceTableColType:()=>r(t.getTableColType)},(t,n)=>e.addQueryValueHandler(n,t))},_p=au.generate([{before:[`element`]},{on:[`element`,`offset`]},{after:[`element`]}]),vp={before:_p.before,on:_p.on,after:_p.after,cata:(e,t,n,r)=>e.fold(t,n,r),getStart:e=>e.fold(b,b,b)},yp={create:(e,t)=>({selection:e,kill:t})},bp=(e,t)=>{let n=e.document.createRange();return n.selectNode(t.dom),n},xp=(e,t)=>{let n=e.document.createRange();return Sp(n,t),n},Sp=(e,t)=>e.selectNodeContents(t.dom),Cp=(e,t)=>{t.fold(t=>{e.setStartBefore(t.dom)},(t,n)=>{e.setStart(t.dom,n)},t=>{e.setStartAfter(t.dom)})},wp=(e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,n)=>{e.setEnd(t.dom,n)},t=>{e.setEndAfter(t.dom)})},Tp=(e,t,n)=>{let r=e.document.createRange();return Cp(r,t),wp(r,n),r},Ep=(e,t,n,r,i)=>{let a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(r.dom,i),a},Dp=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Op=e=>{let t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?O.some(n).map(Dp):O.none()},kp=au.generate([{ltr:[`start`,`soffset`,`finish`,`foffset`]},{rtl:[`start`,`soffset`,`finish`,`foffset`]}]),Ap=(e,t,n)=>t(B.fromDom(n.startContainer),n.startOffset,B.fromDom(n.endContainer),n.endOffset),jp=(e,t)=>t.match({domRange:e=>({ltr:y(e),rtl:O.none}),relative:(t,n)=>({ltr:U(()=>Tp(e,t,n)),rtl:U(()=>O.some(Tp(e,n,t)))}),exact:(t,n,r,i)=>({ltr:U(()=>Ep(e,t,n,r,i)),rtl:U(()=>O.some(Ep(e,r,i,t,n)))})}),Mp=(e,t)=>{let n=t.ltr();return n.collapsed?t.rtl().filter(e=>e.collapsed===!1).map(e=>kp.rtl(B.fromDom(e.endContainer),e.endOffset,B.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>Ap(e,kp.ltr,n)):Ap(e,kp.ltr,n)},Np=(e,t)=>Mp(e,jp(e,t)),Pp=(e,t)=>Np(e,t).match({ltr:(t,n,r,i)=>{let a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(r.dom,i),a},rtl:(t,n,r,i)=>{let a=e.document.createRange();return a.setStart(r.dom,i),a.setEnd(t.dom,n),a}});kp.ltr,kp.rtl;let Fp={create:(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r})},Ip={create:(e,t,n,r)=>({start:vp.on(e,t),finish:vp.on(n,r)})},Lp=(e,t)=>{let n=Pp(e,t);return Fp.create(B.fromDom(n.startContainer),n.startOffset,B.fromDom(n.endContainer),n.endOffset)},Rp=Ip.create,zp=(e,t,n,r,i,a,o)=>lt(n,i)&&r===a?O.none():En(n,`td,th`,t).bind(n=>En(i,`td,th`,t).bind(r=>Bp(e,t,n,r,o))),Bp=(e,t,n,r,i)=>lt(n,r)?O.none():Bs(n,r,t).bind(t=>{let r=t.boxes.getOr([]);return r.length>1?(i(e,r,t.start,t.finish),O.some(yp.create(O.some(Rp(n,0,n,uo(n))),!0))):O.none()}),Vp=(e,t,n,r,i)=>Gs(r,e,t,i.firstSelectedSelector,i.lastSelectedSelector).map(e=>(i.clearBeforeUpdate(n),i.selectRange(n,e.boxes,e.start,e.finish),e.boxes)),Hp=(e,t)=>({item:e,mode:t}),Up=(e,t,n,r=Wp)=>e.property().parent(t).map(e=>Hp(e,r)),Wp=(e,t,n,r=Gp)=>n.sibling(e,t).map(e=>Hp(e,r)),Gp=(e,t,n,r=Gp)=>{let i=e.property().children(t);return n.first(i).map(e=>Hp(e,r))},Kp=[{current:Up,next:Wp,fallback:O.none()},{current:Wp,next:Gp,fallback:O.some(Up)},{current:Gp,next:Gp,fallback:O.some(Wp)}],qp=(e,t,n,r,i=Kp)=>se(i,e=>e.current===n).bind(n=>n.current(e,t,r,n.next).orThunk(()=>n.fallback.bind(n=>qp(e,t,n,r)))),Jp={left:()=>({sibling:(e,t)=>e.query().prevSibling(t),first:e=>e.length>0?O.some(e[e.length-1]):O.none()}),right:()=>({sibling:(e,t)=>e.query().nextSibling(t),first:e=>e.length>0?O.some(e[0]):O.none()})},Yp=(e,t,n,r,i,a)=>qp(e,t,r,i).bind(t=>a(t.item)?O.none():n(t.item)?O.some(t.item):Yp(e,t.item,n,t.mode,i,a)),Xp=(e,t,n,r)=>Yp(e,t,n,Wp,Jp.left(),r),Zp=(e,t,n,r)=>Yp(e,t,n,Wp,Jp.right(),r),Qp=e=>t=>e.property().children(t).length===0,$p=(e,t,n)=>tm(e,t,Qp(e),n),em=(e,t,n)=>nm(e,t,Qp(e),n),tm=Xp,nm=Zp,rm=Os(),im=(e,t)=>$p(rm,e,t),am=(e,t)=>em(rm,e,t),om=(e,t,n)=>tm(rm,e,t,n),sm=(e,t,n)=>nm(rm,e,t,n),cm=(e,t,n)=>yn(e,t,n).isSome(),lm=au.generate([{none:[`message`]},{success:[]},{failedUp:[`cell`]},{failedDown:[`cell`]}]),um=(e,t,n)=>{let r=e.getRect(t),i=e.getRect(n);return i.right>r.left&&i.left<r.right},dm=e=>En(e,`tr`),fm=(e,t,n,r,i,a,o)=>En(r,`td,th`,o).bind(n=>En(t,`td,th`,o).map(t=>lt(n,t)?lt(r,n)&&uo(n)===i?a(t):lm.none(`in same cell`):Ls(dm,[n,t]).fold(()=>um(e,t,n)?lm.success():a(t),e=>a(t)))).getOr(lm.none(`default`)),pm=(e,t,n,r,i)=>e.fold(t,n,r,i),mm={...lm,verify:fm,cata:pm},hm=(e,t,n,r)=>({parent:e,children:t,element:n,index:r}),gm=e=>gt(e).bind(t=>{let n=xt(t);return _m(n,e).map(r=>hm(t,n,e,r))}),_m=(e,t)=>ce(e,S(lt,t)),vm=qe(`br`),ym=(e,t,n)=>t(e,n).bind(e=>We(e)&&so(e).trim().length===0?ym(e,t,n):O.some(e)),bm=(e,t,n)=>n.traverse(t).orThunk(()=>ym(t,n.gather,e)).map(n.relative),xm=(e,t)=>St(e,t).filter(vm).orThunk(()=>St(e,t-1).filter(vm)),Sm=(e,t,n,r)=>xm(t,n).bind(t=>r.traverse(t).fold(()=>ym(t,r.gather,e).map(r.relative),e=>gm(e).map(e=>vp.on(e.parent,e.index)))),Cm=(e,t,n,r)=>(vm(t)?bm(e,t,r):Sm(e,t,n,r)).map(e=>({start:e,finish:e})),wm=e=>mm.cata(e,e=>O.none(),()=>O.none(),e=>O.some(mc(e,0)),e=>O.some(mc(e,uo(e)))),Tm=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),Em=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),Dm=(e,t,n)=>({left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}),Om=e=>e.top,km=e=>e.bottom,Am=(e,t,n)=>n>=0&&n<uo(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):O.none(),jm=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),Mm=(e,t)=>O.some(e.getRect(t)),Nm=(e,t,n)=>Ue(t)?Mm(e,t).map(jm):We(t)?Am(e,t,n).map(jm):O.none(),Pm=(e,t)=>Ue(t)?Mm(e,t).map(jm):We(t)?e.getRangedRect(t,0,t,uo(t)).map(jm):O.none(),Fm=au.generate([{none:[]},{retry:[`caret`]}]),Im=(e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right,Lm=(e,t,n)=>bn(t,Pu).fold(E,t=>Pm(e,t).exists(e=>Im(n,e))),Rm=(e,t,n,r,i)=>{let a=Tm(i,5);return Math.abs(n.bottom-r.bottom)<1||n.top>i.bottom?Fm.retry(a):n.top===i.bottom?Fm.retry(Tm(i,1)):Lm(e,t,i)?Fm.retry(Dm(a,5,0)):Fm.none()},zm={point:Om,adjuster:(e,t,n,r,i)=>{let a=Em(i,5);return Math.abs(n.top-r.top)<1||n.bottom<i.top?Fm.retry(a):n.bottom===i.top?Fm.retry(Em(i,1)):Lm(e,t,i)?Fm.retry(Dm(a,5,0)):Fm.none()},move:Em,gather:im},Bm={point:km,adjuster:Rm,move:Tm,gather:am},Vm=(e,t,n)=>e.elementFromPoint(t,n).filter(e=>Re(e)===`table`).isSome(),Hm=(e,t,n,r,i)=>Um(e,t,n,t.move(r,5),i),Um=(e,t,n,r,i)=>i===0?O.some(r):Vm(e,r.left,t.point(r))?Hm(e,t,n,r,i-1):e.situsFromPoint(r.left,t.point(r)).bind(a=>a.start.fold(O.none,a=>Pm(e,a).bind(o=>t.adjuster(e,a,o,n,r).fold(O.none,r=>Um(e,t,n,r,i-1))).orThunk(()=>O.some(r)),O.none)),Wm=(e,t,n)=>e.point(t)>n.getInnerHeight()?O.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?O.some(-e.point(t)):O.none(),Gm=(e,t,n)=>{let r=e.move(n,5),i=Um(t,e,n,r,100).getOr(r);return Wm(e,i,t).fold(()=>t.situsFromPoint(i.left,e.point(i)),n=>(t.scrollBy(0,n),t.situsFromPoint(i.left,e.point(i)-n)))},Km={tryUp:S(Gm,zm),tryDown:S(Gm,Bm),getJumpSize:y(5)},qm=(e,t,n)=>e.getSelection().bind(r=>Cm(t,r.finish,r.foffset,n).fold(()=>O.some(mc(r.finish,r.foffset)),i=>{let a=e.fromSitus(i);return wm(mm.verify(e,r.finish,r.foffset,a.finish,a.foffset,n.failure,t))})),Jm=(e,t,n,r,i,a)=>a===0?O.none():Zm(e,t,n,r,i).bind(o=>{let s=e.fromSitus(o),c=mm.verify(e,n,r,s.finish,s.foffset,i.failure,t);return mm.cata(c,()=>O.none(),()=>O.some(o),o=>lt(n,o)&&r===0?Ym(e,n,r,Em,i):Jm(e,t,o,0,i,a-1),o=>lt(n,o)&&r===uo(o)?Ym(e,n,r,Tm,i):Jm(e,t,o,uo(o),i,a-1))}),Ym=(e,t,n,r,i)=>Nm(e,t,n).bind(t=>Xm(e,i,r(t,Km.getJumpSize()))),Xm=(e,t,n)=>{let r=Zr().browser;return r.isChromium()||r.isSafari()||r.isFirefox()?t.retry(e,n):O.none()},Zm=(e,t,n,r,i)=>Nm(e,n,r).bind(t=>Xm(e,i,t)),Qm=(e,t,n)=>qm(e,t,n).bind(r=>Jm(e,t,r.element,r.offset,n,20).map(e.fromSitus)),$m=(e,t)=>cm(e,e=>gt(e).exists(e=>lt(e,t))),eh=(e,t,n,r,i)=>En(r,`td,th`,t).bind(r=>En(r,`table`,t).bind(a=>$m(i,a)?Qm(e,t,n).bind(e=>En(e.finish,`td,th`,t).map(t=>({start:r,finish:t,range:e}))):O.none())),th=(e,t,n,r,i,a)=>a(r,t).orThunk(()=>eh(e,t,n,r,i).map(e=>{let t=e.range;return yp.create(O.some(Rp(t.start,t.soffset,t.finish,t.foffset)),!0)})),nh=(e,t)=>En(e,`tr`,t).bind(e=>En(e,`table`,t).bind(n=>lt(e,H(n,`tr`)[0])?om(n,e=>_o(e).isSome(),t).map(e=>{let t=uo(e);return yp.create(O.some(Rp(e,t,e,t)),!0)}):O.none())),rh=(e,t)=>En(e,`tr`,t).bind(e=>En(e,`table`,t).bind(n=>{let r=H(n,`tr`);return lt(e,r[r.length-1])?sm(n,e=>go(e).isSome(),t).map(e=>yp.create(O.some(Rp(e,0,e,0)),!0)):O.none()})),ih=(e,t,n,r,i,a,o)=>eh(e,n,r,i,a).bind(e=>Bp(t,n,e.start,e.finish,o)),ah=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},oh=e=>{let t=ah(O.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(O.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(O.some(e))}}},sh=()=>{let e=oh(g),t=t=>e.get().each(t);return{...e,on:t}},ch=(e,t)=>En(e,`td,th`,t),lh=e=>_t(e).exists(ts),uh=(e,t,n,r)=>{let i=sh(),a=i.clear,o=a=>{i.on(i=>{r.clearBeforeUpdate(t),ch(a.target,n).each(o=>{Bs(i,o,n).each(n=>{let i=n.boxes.getOr([]);if(i.length===1){let n=i[0],o=ns(n)===`false`,s=Dn(es(a.target),n,lt);o&&s&&(r.selectRange(t,i,n,n),e.selectContents(n))}else i.length>1&&(r.selectRange(t,i,n.start,n.finish),e.selectContents(o))})})})};return{clearstate:a,mousedown:e=>{r.clear(t),ch(e.target,n).filter(lh).each(i.set)},mouseover:e=>{o(e)},mouseup:e=>{o(e),a()}}},dh={traverse:bt,gather:am,relative:vp.before,retry:Km.tryDown,failure:mm.failedDown},fh={traverse:yt,gather:im,relative:vp.before,retry:Km.tryUp,failure:mm.failedUp},ph=e=>t=>t===e,mh=ph(38),hh=ph(40),Q=e=>e>=37&&e<=40,gh={isBackward:ph(37),isForward:ph(39)},_h={isBackward:ph(39),isForward:ph(37)},vh=e=>{let t=e===void 0?document:e.dom;return Hi(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},yh=(e,t,n)=>{let r=(n===void 0?document:n.dom).defaultView;r&&r.scrollBy(e,t)},bh=au.generate([{domRange:[`rng`]},{relative:[`startSitu`,`finishSitu`]},{exact:[`start`,`soffset`,`finish`,`foffset`]}]),xh=e=>bh.exact(e.start,e.soffset,e.finish,e.foffset),Sh=e=>e.match({domRange:e=>B.fromDom(e.startContainer),relative:(e,t)=>vp.getStart(e),exact:(e,t,n,r)=>e}),Ch={domRange:bh.domRange,relative:bh.relative,exact:bh.exact,exactFromRange:xh,getWin:e=>ht(Sh(e)),range:Fp.create},wh=(e,t,n)=>{var r;return O.from((r=e.dom).caretPositionFromPoint?.call(r,t,n)).bind(t=>{if(t.offsetNode===null)return O.none();let n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),O.some(n)})},Th=(e,t,n)=>{var r;return O.from((r=e.dom).caretRangeFromPoint?.call(r,t,n))},Eh=(()=>document.caretPositionFromPoint?wh:document.caretRangeFromPoint?Th:O.none)(),Dh=(e,t,n)=>Eh(B.fromDom(e.document),t,n).map(e=>Fp.create(B.fromDom(e.startContainer),e.startOffset,B.fromDom(e.endContainer),e.endOffset)),Oh=(e,t)=>{let n=Re(e);return n===`input`?vp.after(e):j([`br`,`img`],n)?t===0?vp.before(e):vp.after(e):vp.on(e,t)},kh=(e,t)=>{let n=e.fold(vp.before,Oh,vp.after),r=t.fold(vp.before,Oh,vp.after);return Ch.relative(n,r)},Ah=(e,t,n,r)=>{let i=Oh(e,t),a=Oh(n,r);return Ch.relative(i,a)},jh=(e,t,n,r)=>{let i=ft(e).dom.createRange();return i.setStart(e.dom,t),i.setEnd(n.dom,r),i},Mh=(e,t,n,r)=>{let i=jh(e,t,n,r),a=lt(e,n)&&t===r;return i.collapsed&&!a},Nh=e=>O.from(e.getSelection()),Ph=(e,t)=>{Nh(e).each(e=>{e.removeAllRanges(),e.addRange(t)})},Fh=(e,t,n,r,i)=>{Ph(e,Ep(e,t,n,r,i))},Ih=(e,t,n,r,i,a)=>{t.collapse(n.dom,r),t.extend(i.dom,a)},Lh=(e,t)=>Np(e,t).match({ltr:(t,n,r,i)=>{Fh(e,t,n,r,i)},rtl:(t,n,r,i)=>{Nh(e).each(a=>{if(a.setBaseAndExtent)a.setBaseAndExtent(t.dom,n,r.dom,i);else if(a.extend)try{Ih(e,a,t,n,r,i)}catch{Fh(e,r,i,t,n)}else Fh(e,r,i,t,n)})}}),Rh=(e,t,n,r,i)=>{Lh(e,Ah(t,n,r,i))},zh=(e,t,n)=>{Lh(e,kh(t,n))},Bh=e=>{if(e.rangeCount>0){let t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return O.some(Fp.create(B.fromDom(t.startContainer),t.startOffset,B.fromDom(n.endContainer),n.endOffset))}else return O.none()},Vh=e=>{if(e.anchorNode===null||e.focusNode===null)return Bh(e);{let t=B.fromDom(e.anchorNode),n=B.fromDom(e.focusNode);return Mh(t,e.anchorOffset,n,e.focusOffset)?O.some(Fp.create(t,e.anchorOffset,n,e.focusOffset)):Bh(e)}},Hh=(e,t,n=!0)=>{Ph(e,(n?xp:bp)(e,t))},Uh=e=>Nh(e).filter(e=>e.rangeCount>0).bind(Vh),Wh=e=>Uh(e).map(e=>Ch.exact(e.start,e.soffset,e.finish,e.foffset)),Gh=(e,t)=>Op(Pp(e,t)),Kh=(e,t,n)=>Dh(e,t,n),qh=e=>{Nh(e).each(e=>e.removeAllRanges())},Jh=e=>({elementFromPoint:(t,n)=>B.fromPoint(B.fromDom(e.document),t,n),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(t,n,r,i)=>Gh(e,Ch.exact(t,n,r,i)),getSelection:()=>Wh(e).map(t=>Lp(e,t)),fromSitus:t=>Lp(e,Ch.relative(t.start,t.finish)),situsFromPoint:(t,n)=>Kh(e,t,n).map(e=>Ip.create(e.start,e.soffset,e.finish,e.foffset)),clearSelection:()=>{qh(e)},collapseSelection:(t=!1)=>{Wh(e).each(n=>n.fold(e=>e.collapse(t),(n,r)=>{let i=t?n:r;zh(e,i,i)},(n,r,i,a)=>{let o=t?n:i,s=t?r:a;Rh(e,o,s,o,s)}))},setSelection:t=>{Rh(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:(t,n)=>{zh(e,t,n)},selectNode:t=>{Hh(e,t,!1)},selectContents:t=>{Hh(e,t)},getInnerHeight:()=>e.innerHeight,getScrollY:()=>vh(B.fromDom(e.document)).top,scrollBy:(t,n)=>{yh(t,n,B.fromDom(e.document))}}),Yh=(e,t)=>({rows:e,cols:t}),Xh=(e,t,n,r)=>{let i=uh(Jh(e),t,n,r);return{clearstate:i.clearstate,mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},Zh=e=>bn(e,He).exists(ts),Qh=(e,t)=>Zh(e)||Zh(t),$h=(e,t,n,r)=>{let i=Jh(e),a=()=>(r.clear(t),O.none());return{keydown:(e,o,s,c,l,u)=>{let d=e.raw,f=d.which,p=d.shiftKey===!0;return Vs(t,r.selectedSelector).fold(()=>(Q(f)&&!p&&r.clearBeforeUpdate(t),Q(f)&&p&&!Qh(o,c)?O.none:hh(f)&&p?S(ih,i,t,n,dh,c,o,r.selectRange):mh(f)&&p?S(ih,i,t,n,fh,c,o,r.selectRange):hh(f)?S(th,i,n,dh,c,o,rh):mh(f)?S(th,i,n,fh,c,o,nh):O.none),e=>{let n=n=>()=>R(n,n=>Vp(n.rows,n.cols,t,e,r)).fold(()=>Us(t,r.firstSelectedSelector,r.lastSelectedSelector).map(e=>{let n=hh(f)||u.isForward(f)?vp.after:vp.before;return i.setRelativeSelection(vp.on(e.first,0),n(e.table)),r.clear(t),yp.create(O.none(),!0)}),e=>O.some(yp.create(O.none(),!0)));return Q(f)&&p&&!Qh(o,c)?O.none:hh(f)&&p?n([Yh(1,0)]):mh(f)&&p?n([Yh(-1,0)]):u.isBackward(f)&&p?n([Yh(0,-1),Yh(-1,0)]):u.isForward(f)&&p?n([Yh(0,1),Yh(1,0)]):Q(f)&&!p?a:O.none})()},keyup:(e,i,a,o,s)=>Vs(t,r.selectedSelector).fold(()=>{let c=e.raw,l=c.which;return c.shiftKey===!0&&Q(l)&&Qh(i,o)?zp(t,n,i,a,o,s,r.selectRange):O.none()},O.none)}},eg=(e,t,n,r)=>{let i=Jh(e);return(e,a)=>{r.clearBeforeUpdate(t),Bs(e,a,n).each(e=>{let n=e.boxes.getOr([]);r.selectRange(t,n,e.start,e.finish),i.selectContents(a),i.collapseSelection()})}},tg=(e,t)=>{let n=Qe(e,t);return n===void 0||n===``?[]:n.split(` `)},ng=(e,t,n)=>(Ye(e,t,tg(e,t).concat([n]).join(` `)),!0),rg=(e,t,n)=>{let r=oe(tg(e,t),e=>e!==n);return r.length>0?Ye(e,t,r.join(` `)):et(e,t),!1},ig=e=>e.dom.classList!==void 0,ag=e=>tg(e,`class`),og=(e,t)=>ng(e,`class`,t),sg=(e,t)=>rg(e,`class`,t),cg=(e,t)=>{ig(e)?e.dom.classList.add(t):og(e,t)},lg=e=>{(ig(e)?e.dom.classList:ag(e)).length===0&&et(e,`class`)},ug=(e,t)=>{ig(e)?e.dom.classList.remove(t):sg(e,t),lg(e)},dg=(e,t)=>ig(e)&&e.dom.classList.contains(t),fg=(e,t)=>{N(t,t=>{ug(e,t)})},pg=e=>t=>{cg(t,e)},mg=e=>t=>{fg(t,e)},hg={byClass:e=>{let t=pg(e.selected),n=mg([e.selected,e.lastSelected,e.firstSelected]),r=t=>{N(H(t,e.selectedSelector),n)};return{clearBeforeUpdate:r,clear:r,selectRange:(n,i,a,o)=>{r(n),N(i,t),cg(a,e.firstSelected),cg(o,e.lastSelected)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},byAttr:(e,t,n)=>{let r=t=>{et(t,e.selected),et(t,e.firstSelected),et(t,e.lastSelected)},i=t=>{Ye(t,e.selected,`1`)},a=e=>{o(e),n()},o=t=>{N(H(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`),r)};return{clearBeforeUpdate:o,clear:a,selectRange:(n,r,o,s)=>{a(n),N(r,i),Ye(o,e.firstSelected,`1`),Ye(s,e.lastSelected,`1`),t(r,o,s)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}}},gg=(e,t,n,r)=>{switch(e.tag){case`none`:return t();case`single`:return r(e.element);case`multiple`:return n(e.elements)}},_g=()=>({tag:`none`}),vg=e=>({tag:`multiple`,elements:e}),yg=e=>({tag:`single`,element:e}),bg=(e,t,n)=>({get:()=>Ks(e(),n).fold(()=>t().fold(_g,yg),vg)}),xg=(e,t)=>ue(tl(e.slice(0,t[t.length-1].row+1)),e=>M(e.cells.slice(0,t[t.length-1].column+1),e=>e.element)),Sg=(e,t)=>ue(tl(e.slice(t[0].row+t[0].rowspan-1,e.length)),e=>M(e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length),e=>e.element)),Cg=(e,t,n)=>{let r=Ai.fromTable(e);return ll(r,t).map(e=>{let{rows:t}=yi($c(r,n,!1));return{upOrLeftCells:xg(t,e),downOrRightCells:Sg(t,e)}})},wg=(e,t,n,r,i,a,o)=>({target:e,x:t,y:n,stop:r,prevent:i,kill:a,raw:o}),Tg=e=>{let t=B.fromDom(cn(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),i=_(r,n);return wg(t,e.clientX,e.clientY,n,r,i,e)},Eg=(e,t)=>n=>{e(n)&&t(Tg(n))},Dg=(e,t,n,r,i)=>{let a=Eg(n,r);return e.dom.addEventListener(t,a,i),{unbind:S(kg,e,t,a,i)}},Og=(e,t,n,r)=>Dg(e,t,n,r,!1),kg=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},Ag=D,jg=(e,t,n)=>Og(e,t,Ag,n),Mg=Tg,Ng=e=>!dg(B.fromDom(e.target),`ephox-snooker-resizer-bar`),Pg=(e,t)=>{let n=bg(()=>B.fromDom(e.getBody()),()=>sc(os(e),is(e)),ec.selectedSelector),r=hg.byAttr(ec,(t,n,r)=>{sr(n).each(i=>{let a=Ro(e),o=Oo(g,B.fromDom(e.getDoc()),a);Xd(e,t,n,r,Cg(i,{selection:cc(e)},o))})},()=>Zd(e));return e.on(`init`,n=>{let i=e.getWin(),a=rs(e),o=is(e),s=()=>{let t=e.selection;Ls(sr,[B.fromDom(t.getStart()),B.fromDom(t.getEnd())]).fold(()=>r.clear(a),g)},c=Xh(i,a,o,r),l=$h(i,a,o,r),u=eg(i,a,o,r),d=e=>e.raw.shiftKey===!0;e.on(`TableSelectorChange`,e=>u(e.start,e.finish));let f=(t,n)=>{d(t)&&(n.kill&&t.kill(),n.selection.each(t=>{let n=Pp(i,Ch.relative(t.start,t.finish));e.selection.setRng(n)}))},p=t=>{let n=Mg(t);if(n.raw.shiftKey&&Q(n.raw.which)){let t=e.selection.getRng(),r=B.fromDom(t.startContainer),i=B.fromDom(t.endContainer);l.keyup(n,r,t.startOffset,i,t.endOffset).each(e=>{f(n,e)})}},m=n=>{let r=Mg(n);t.hide();let i=e.selection.getRng(),a=B.fromDom(i.startContainer),o=B.fromDom(i.endContainer),s=Fi(gh,_h)(B.fromDom(e.selection.getStart()));l.keydown(r,a,i.startOffset,o,i.endOffset,s).each(e=>{f(r,e)}),t.show()},h=e=>e.button===0,_=e=>e.buttons===void 0?!0:(e.buttons&1)!=0,v=e=>{c.clearstate()},y=e=>{h(e)&&Ng(e)&&c.mousedown(Mg(e))},b=e=>{_(e)&&Ng(e)&&c.mouseover(Mg(e))},x=e=>{h(e)&&Ng(e)&&c.mouseup(Mg(e))},S=(()=>{let e=ah(B.fromDom(a)),t=ah(0);return{touchEnd:n=>{let r=B.fromDom(n.target);if(qe(`td`)(r)||qe(`th`)(r)){let i=e.get(),a=t.get();lt(i,r)&&n.timeStamp-a<300&&(n.preventDefault(),u(r,r))}e.set(r),t.set(n.timeStamp)}}})();e.on(`dragstart`,v),e.on(`mousedown`,y),e.on(`mouseover`,b),e.on(`mouseup`,x),e.on(`touchend`,S.touchEnd),e.on(`keyup`,p),e.on(`keydown`,m),e.on(`NodeChange`,s)}),e.on(`PreInit`,()=>{e.serializer.addTempAttr(ec.firstSelected),e.serializer.addTempAttr(ec.lastSelected)}),{getSelectedCells:()=>gg(n.get(),y([]),e=>M(e,e=>e.dom),e=>[e.dom]),clearSelectedCells:e=>r.clear(B.fromDom(e))}},Fg=e=>{let t=[];return{bind:e=>{if(e===void 0)throw Error(`Event bind error: undefined handler`);t.push(e)},unbind:e=>{t=oe(t,t=>t!==e)},trigger:(...n)=>{let r={};N(e,(e,t)=>{r[e]=n[t]}),N(t,e=>{e(r)})}}},Ig=e=>({registry:be(e,e=>({bind:e.bind,unbind:e.unbind})),trigger:be(e,e=>e.trigger)}),Lg=(e,t)=>{let n=null,r=()=>{l(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...i)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,i)},t)}}},Rg=e=>e.slice(0).sort(),zg=(e,t)=>{throw Error(`All required keys (`+Rg(e).join(`, `)+`) were not specified. Specified keys were: `+Rg(t).join(`, `)+`.`)},Bg=e=>{throw Error(`Unsupported keys for object: `+Rg(e).join(`, `))},Vg=(e,t)=>{if(!c(t))throw Error(`The `+e+` fields must be an array. Was: `+t+`.`);N(t,t=>{if(!o(t))throw Error(`The value `+t+` in the `+e+` fields was not a string.`)})},Hg=(e,t)=>{throw Error(`All values need to be of type: `+t+`. Keys (`+Rg(e).join(`, `)+`) were not.`)},Ug=e=>{let t=Rg(e);se(t,(e,n)=>n<t.length-1&&e===t[n+1]).each(e=>{throw Error(`The field: `+e+` occurs more than once in the combined fields: [`+t.join(`, `)+`].`)})},Wg=(e,t)=>Gg(e,t,{validate:m,label:`function`}),Gg=(e,t,n)=>{if(t.length===0)throw Error(`You must specify at least one required field.`);return Vg(`required`,t),Ug(t),r=>{let i=_e(r);de(t,e=>j(i,e))||zg(t,i),e(t,i);let a=oe(t,e=>!n.validate(r[e],e));return a.length>0&&Hg(a,n.label),r}},Kg=(e,t)=>{let n=oe(t,t=>!j(e,t));n.length>0&&Bg(n)},qg=e=>Wg(Kg,e),Jg=qg([`compare`,`extract`,`mutate`,`sink`]),Yg=qg([`element`,`start`,`stop`,`destroy`]),Xg=qg([`forceDrop`,`drop`,`move`,`delayDrop`]),Zg=()=>{let e=O.none(),t=()=>{e=O.none()},n=(t,n)=>{let r=e.map(e=>t.compare(e,n));return e=O.some(n),r},r=(e,t)=>{t.extract(e).each(e=>{n(t,e).each(e=>{i.trigger.move(e)})})},i=Ig({move:Fg([`info`])});return{onEvent:r,reset:t,events:i.registry}},Qg=()=>({onEvent:g,reset:g,events:Ig({move:Fg([`info`])}).registry}),$g=()=>{let e=Qg(),t=Zg(),n=e;return{on:()=>{n.reset(),n=t},off:()=>{n.reset(),n=e},isOn:()=>n===t,onEvent:(e,t)=>{n.onEvent(e,t)},events:t.events}},e_=(e,t,n)=>{let r=!1,i=Ig({start:Fg([]),stop:Fg([])}),a=$g(),o=()=>{m.stop(),a.isOn()&&(a.off(),i.trigger.stop())},s=Lg(o,200),c=e=>{m.start(e),a.on(),i.trigger.start()},l=e=>{s.cancel(),a.onEvent(e,t)};a.events.move.bind(n=>{t.mutate(e,n.info)});let u=()=>{r=!0},d=()=>{r=!1},f=()=>r,p=e=>(...t)=>{r&&e.apply(null,t)},m=t.sink(Xg({forceDrop:o,drop:p(o),move:p(l),delayDrop:p(s.throttle)}),n);return{element:m.element,go:c,on:u,off:d,isActive:f,destroy:()=>{m.destroy()},events:i.registry}},t_=e=>{let t=e.replace(/\./g,`-`);return{resolve:e=>t+`-`+e}},n_=t_(`ephox-dragster`).resolve,r_=e=>{let t={layerClass:n_(`blocker`),...e},n=B.fromTag(`div`);return Ye(n,`role`,`presentation`),Hn(n,{position:`fixed`,left:`0px`,top:`0px`,width:`100%`,height:`100%`}),cg(n,n_(`blocker`)),cg(n,t.layerClass),{element:y(n),destroy:()=>{Nt(n)}}};var i_=Jg({compare:(e,t)=>Hi(t.left-e.left,t.top-e.top),extract:e=>O.some(Hi(e.x,e.y)),sink:(e,t)=>{let n=r_(t),r=jg(n.element(),`mousedown`,e.forceDrop),i=jg(n.element(),`mouseup`,e.drop),a=jg(n.element(),`mousemove`,e.move),o=jg(n.element(),`mouseout`,e.delayDrop);return Yg({element:n.element,start:e=>{Dt(e,n.element())},stop:()=>{Nt(n.element())},destroy:()=>{n.destroy(),i.unbind(),a.unbind(),o.unbind(),r.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});let a_=(e,t={})=>e_(e,t.mode??i_,t),o_=t_(`ephox-snooker`).resolve,s_=()=>{let e=Ig({drag:Fg([`xDelta`,`yDelta`])});return{mutate:(t,n)=>{e.trigger.drag(t,n)},events:e.registry}},c_=()=>{let e=Ig({drag:Fg([`xDelta`,`yDelta`,`target`])}),t=O.none(),n=s_();return n.events.drag.bind(n=>{t.each(t=>{e.trigger.drag(n.xDelta,n.yDelta,t)})}),{assign:e=>{t=O.some(e)},get:()=>t,mutate:n.mutate,events:e.registry}},l_=(e,t,n,r,i)=>{let a=B.fromTag(`div`);return Hn(a,{position:`absolute`,left:t-r/2+`px`,top:n+`px`,height:i+`px`,width:r+`px`}),Xe(a,{"data-column":e,role:`presentation`}),a},u_=(e,t,n,r,i)=>{let a=B.fromTag(`div`);return Hn(a,{position:`absolute`,left:t+`px`,top:n-i/2+`px`,height:i+`px`,width:r+`px`}),Xe(a,{"data-row":e,role:`presentation`}),a},d_=o_(`resizer-bar`),f_=o_(`resizer-rows`),p_=o_(`resizer-cols`),m_=(e,t)=>ue(e.all,(e,n)=>t(e.element)?[n]:[]),$=(e,t)=>{let n=[];return re(e.grid.columns,r=>{Ai.getColumnAt(e,r).map(e=>e.element).forall(t)&&n.push(r)}),oe(n,n=>de(Ai.filterItems(e,e=>e.column===n),e=>t(e.element)))},h_=e=>{N(H(e.parent(),`.`+d_),Nt)},g_=(e,t,n)=>{let r=e.origin();N(t,t=>{t.each(t=>{let i=n(r,t);cg(i,d_),Dt(e.parent(),i)})})},__=(e,t,n,r)=>{g_(e,t,(e,t)=>{let i=l_(t.col,t.x-e.left,n.top-e.top,7,r);return cg(i,p_),i})},v_=(e,t,n,r)=>{g_(e,t,(e,t)=>{let i=u_(t.row,n.left-e.left,t.y-e.top,r,7);return cg(i,f_),i})},y_=(e,t,n,r,i)=>{let a=Gi(n),o=t.isResizable,s=r.length>0?ia.positions(r,n):[],c=s.length>0?m_(e,o):[];v_(t,oe(s,(e,t)=>ne(c,e=>t===e)),a,ci(n));let l=i.length>0?W.positions(i,n):[],u=l.length>0?$(e,o):[];__(t,oe(l,(e,t)=>ne(u,e=>t===e)),a,zi(n))},b_=(e,t)=>{if(h_(e),e.isResizable(t)){let n=Ai.fromTable(t);y_(n,e,t,Ni(n),ji(n))}},x_=(e,t)=>{N(H(e.parent(),`.`+d_),t)},S_=e=>{x_(e,e=>{Vn(e,`display`,`none`)})},C_=e=>{x_(e,e=>{Vn(e,`display`,`block`)})},w_=e=>dg(e,f_),T_=e=>dg(e,p_),E_=o_(`resizer-bar-dragging`),D_=e=>{let t=c_(),n=a_(t,{}),r=O.none(),i=(e,t)=>O.from(Qe(e,t));t.events.drag.bind(e=>{i(e.target,`data-row`).each(t=>{let n=Qn(e.target,`top`);Vn(e.target,`top`,n+e.yDelta+`px`)}),i(e.target,`data-column`).each(t=>{let n=Qn(e.target,`left`);Vn(e.target,`left`,n+e.xDelta+`px`)})});let a=(e,t)=>Qn(e,t)-Jn(e,`data-initial-`+t,0);n.events.stop.bind(()=>{t.get().each(t=>{r.each(n=>{i(t,`data-row`).each(e=>{let r=a(t,`top`);et(t,`data-initial-top`),p.trigger.adjustHeight(n,r,parseInt(e,10))}),i(t,`data-column`).each(e=>{let r=a(t,`left`);et(t,`data-initial-left`),p.trigger.adjustWidth(n,r,parseInt(e,10))}),b_(e,n)})})});let o=(r,i)=>{p.trigger.startAdjust(),t.assign(r),Ye(r,`data-initial-`+i,Qn(r,i)),cg(r,E_),Vn(r,`opacity`,`0.2`),n.go(e.parent())},s=jg(e.parent(),`mousedown`,e=>{w_(e.target)&&o(e.target,`top`),T_(e.target)&&o(e.target,`left`)}),c=t=>lt(t,e.view()),l=e=>En(e,`table`,c).filter(ts),u=jg(e.view(),`mouseover`,t=>{l(t.target).fold(()=>{un(t.target)&&h_(e)},t=>{n.isActive()&&(r=O.some(t),b_(e,t))})}),d=()=>{s.unbind(),u.unbind(),n.destroy(),h_(e)},f=t=>{b_(e,t)},p=Ig({adjustHeight:Fg([`table`,`delta`,`row`]),adjustWidth:Fg([`table`,`delta`,`column`]),startAdjust:Fg([])});return{destroy:d,refresh:f,on:n.on,off:n.off,hideBars:S(S_,e),showBars:S(C_,e),events:p.registry}},O_={create:(e,t,n)=>{let r=ia,i=W,a=D_(e),o=Ig({beforeResize:Fg([`table`,`type`]),afterResize:Fg([`table`,`type`]),startDrag:Fg([])});return a.events.adjustHeight.bind(e=>{let t=e.table;o.trigger.beforeResize(t,`row`),vu(t,r.delta(e.delta,t),e.row,r),o.trigger.afterResize(t,`row`)}),a.events.startAdjust.bind(e=>{o.trigger.startDrag()}),a.events.adjustWidth.bind(e=>{let r=e.table;o.trigger.beforeResize(r,`col`);let a=i.delta(e.delta,r),s=n(r);_u(r,a,e.column,t,s),o.trigger.afterResize(r,`col`)}),{on:a.on,off:a.off,refreshBars:a.refresh,hideBars:a.hideBars,showBars:a.showBars,destroy:a.destroy,events:o.registry}}},k_={only:(e,t)=>({parent:y(Ge(e)?mt(e):e),view:y(e),origin:y(Hi(0,0)),isResizable:t}),detached:(e,t,n)=>({parent:y(t),view:y(e),origin:()=>Gi(t),isResizable:n}),body:(e,t,n)=>({parent:y(t),view:y(e),origin:y(Hi(0,0)),isResizable:n})},A_=()=>{let e=B.fromTag(`div`);return Hn(e,{position:`static`,height:`0`,width:`0`,padding:`0`,margin:`0`,border:`0`}),Dt(dn(),e),e},j_=(e,t)=>e.inline?k_.body(B.fromDom(e.getBody()),A_(),t):k_.only(B.fromDom(e.getDoc()),t),M_=(e,t)=>{e.inline&&Nt(t.parent())},N_=e=>p(e)&&e.nodeName===`TABLE`,P_=`bar-`,F_=e=>Qe(e,`data-mce-resize`)!==`false`,I_=e=>{let t=Ai.fromTable(e);Ai.hasColumns(t)||N(ar(e),e=>{Vn(e,`width`,Un(e,`width`)),et(e,`width`)})},L_=e=>{let t=sh(),n=sh(),r=sh(),i,a,o=t=>rf(e,t),s=()=>Ho(e)?Oc():Dc(),c=e=>kc(e).columns,l=(t,n,r)=>{let l=Pn(n,`e`);if(a===``&&Ff(t),r!==i&&a!==``){Vn(t,`width`,a);let n=s(),u=o(t),d=Ho(e)||l?c(t)-1:0;_u(t,r-i,d,n,u)}else us(a)&&Vn(t,`width`,r*parseFloat(a.replace(`%`,``))/i+`%`);ds(a)&&I_(t)},u=()=>{n.on(e=>{e.destroy()}),r.on(t=>{M_(e,t)})};return e.on(`init`,()=>{let i=j_(e,F_);if(r.set(i),zo(e)&&Jo(e)){let r=s(),a=O_.create(i,r,o);a.on(),a.events.startDrag.bind(n=>{t.set(e.selection.getRng())}),a.events.beforeResize.bind(t=>{let n=t.table.dom;Qd(e,n,ss(n),cs(n),P_+t.type)}),a.events.afterResize.bind(n=>{let r=n.table,i=r.dom;as(r),t.on(t=>{e.selection.setRng(t),e.focus()}),$d(e,i,ss(i),cs(i),P_+n.type),e.undoManager.add()}),n.set(a)}}),e.on(`ObjectResizeStart`,t=>{let n=t.target;if(N_(n)){let r=B.fromDom(n);N(e.dom.select(`.mce-clonedresizable`),t=>{e.dom.addClass(t,`mce-`+Vo(e)+`-columns`)}),!Mf(r)&&Ko(e)?If(r):!jf(r)&&Go(e)&&Ff(r),Nf(r)&&Nn(t.origin,P_)&&Ff(r),i=t.width,a=qo(e)?``:ls(e,n).getOr(``)}}),e.on(`ObjectResized`,t=>{let n=t.target;if(N_(n)){let r=B.fromDom(n),i=t.origin;Nn(i,`corner-`)&&l(r,i,t.width),as(r),Yd(e,r.dom,ef)}}),e.on(`SwitchMode`,()=>{n.on(t=>{e.mode.isReadOnly()?t.hideBars():t.showBars()})}),e.on(`dragstart dragend`,e=>{n.on(t=>{e.type===`dragstart`?(t.hideBars(),t.off()):(t.on(),t.showBars())})}),e.on(`remove`,()=>{u()}),{refresh:e=>{n.on(t=>t.refreshBars(B.fromDom(e)))},hide:()=>{n.on(e=>e.hideBars())},show:()=>{n.on(e=>e.showBars())}}},R_=e=>{Lo(e);let t=L_(e),n=Pg(e,t),r=af(e,t,n);return hp(e,r),gp(e,r),pc(e,r),{getSelectedCells:n.getSelectedCells,clearSelectedCells:n.clearSelectedCells}};e.add(`dom`,e=>({table:R_(e)}))})(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=(e,t,n)=>{let r=t===`UL`?`InsertUnorderedList`:`InsertOrderedList`;e.execCommand(r,!1,n===!1?null:{"list-style-type":n})},n=e=>{e.addCommand(`ApplyUnorderedListStyle`,(n,r)=>{t(e,`UL`,r[`list-style-type`])}),e.addCommand(`ApplyOrderedListStyle`,(n,r)=>{t(e,`OL`,r[`list-style-type`])})},r=e=>t=>t.options.get(e),i=e=>{let t=e.options.register;t(`advlist_number_styles`,{processor:`string[]`,default:`default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman`.split(`,`)}),t(`advlist_bullet_styles`,{processor:`string[]`,default:`default,circle,square`.split(`,`)})},a=r(`advlist_number_styles`),o=r(`advlist_bullet_styles`),s=e=>e==null,c=e=>!s(e);var l=tinymce.util.Tools.resolve(`tinymce.util.Tools`);class u{constructor(e,t){this.tag=e,this.value=t}static some(e){return new u(!0,e)}static none(){return u.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?u.some(e(this.value)):u.none()}bind(e){return this.tag?e(this.value):u.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:u.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return c(e)?u.some(e):u.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}u.singletonNone=new u(!1);let d=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return u.some(i);if(n(i,r))break}return u.none()},f=e=>/\btox\-/.test(e.className),p=(e,t)=>e.dom.isChildOf(t,e.getBody()),m=e=>t=>c(t)&&e.test(t.nodeName),h=m(/^(OL|UL|DL)$/),g=m(/^(TH|TD)$/),_=(e,t,n)=>d(t,e=>h(e)&&!f(e),g).exists(t=>t.nodeName===n&&p(e,t)),v=e=>{let t=e.dom.getParent(e.selection.getNode(),`ol,ul`),n=e.dom.getStyle(t,`listStyleType`);return u.from(n)},y=(e,t)=>t!==null&&!e.dom.isEditable(t),b=(e,t)=>y(e,e.dom.getParent(t,`ol,ul,dl`))&&e.selection.isEditable(),x=(e,t)=>{let n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on(`NodeChange`,t),()=>e.off(`NodeChange`,t)},S=e=>e.replace(/\-/g,` `).replace(/\b\w/g,e=>e.toUpperCase()),C=e=>s(e)||e===`default`?``:e,w=(e,t)=>n=>{let r=(e,r)=>{let i=e.selection.getStart(!0);n.setActive(_(e,r,t)),n.setEnabled(!b(e,i)&&e.selection.isEditable())};return x(e,t=>r(e,t.parents))},T=(e,n,r,i,a,o)=>{e.ui.registry.addSplitButton(n,{tooltip:r,icon:a===`OL`?`ordered-list`:`unordered-list`,presets:`listpreview`,columns:3,fetch:e=>{e(l.map(o,e=>{let t=a===`OL`?`num`:`bull`,n=e===`disc`||e===`decimal`?`default`:e,r=C(e),i=S(e);return{type:`choiceitem`,value:r,icon:`list-`+t+`-`+n,text:i}}))},onAction:()=>e.execCommand(i),onItemAction:(n,r)=>{t(e,a,r)},select:t=>v(e).map(e=>t===e).getOr(!1),onSetup:w(e,a)})},E=(e,n,r,i,a,o)=>{e.ui.registry.addToggleButton(n,{active:!1,tooltip:r,icon:a===`OL`?`ordered-list`:`unordered-list`,onSetup:w(e,a),onAction:()=>e.queryCommandState(i)||o===``?e.execCommand(i):t(e,a,o)})},D=(e,t,n,r,i,a)=>{a.length>1?T(e,t,n,r,i,a):E(e,t,n,r,i,C(a[0]))},O=e=>{D(e,`numlist`,`Numbered list`,`InsertOrderedList`,`OL`,a(e)),D(e,`bullist`,`Bullet list`,`InsertUnorderedList`,`UL`,o(e))};e.add(`advlist`,e=>{e.hasPlugin(`lists`)?(i(e),O(e),n(e)):console.error(`Please use the Lists plugin together with the Advanced List plugin.`)})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,n=e=>t=>t.options.get(e),r=e=>{let n=e.options.register;n(`autolink_pattern`,{processor:`regexp`,default:RegExp(`^`+t().source+`$`,`i`)}),n(`link_default_target`,{processor:`string`}),n(`link_default_protocol`,{processor:`string`,default:`https`})},i=n(`autolink_pattern`),a=n(`link_default_target`),o=n(`link_default_protocol`),s=n(`allow_unsafe_link_target`),c=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,l=e=>{let t=typeof e;return e===null?`null`:t===`object`&&Array.isArray(e)?`array`:t===`object`&&c(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:t},u=e=>t=>l(t)===e,d=e=>t=>e===t,f=u(`string`),p=d(void 0),m=e=>e==null,h=e=>!m(e),g=e=>t=>!e(t),_=Object.hasOwnProperty,v=(e,t)=>_.call(e,t),y=(e,t,n)=>t===``||e.length>=t.length&&e.substr(n,n+t.length)===t,b=(e,t,n=0,r)=>{let i=e.indexOf(t,n);return i===-1?!1:p(r)?!0:i+t.length<=r},x=(e,t)=>y(e,t,0),S=e=>e===`﻿`,C=e=>e.replace(/\uFEFF/g,``);var w=tinymce.util.Tools.resolve(`tinymce.dom.TextSeeker`);let T=e=>e.nodeType===3,E=e=>e.nodeType===1,D=e=>/^[(\[{ \u00a0]$/.test(e),O=e=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(e),ee=e=>/[?!,.;:]/.test(e),k=(e,t,n)=>{for(let r=t-1;r>=0;r--){let t=e.charAt(r);if(!S(t)&&n(t))return r}return-1},te=(e,t)=>{let n=e,r=t;for(;E(n)&&n.childNodes[r];)n=n.childNodes[r],r=T(n)?n.data.length:n.childNodes.length;return{container:n,offset:r}},A=(e,t)=>{let n=e.schema.getVoidElements(),r=i(e),{dom:a,selection:s}=e;if(a.getParent(s.getNode(),`a[href]`)!==null)return null;let c=s.getRng(),l=w(a,e=>a.isBlock(e)||v(n,e.nodeName.toLowerCase())||a.getContentEditable(e)===`false`),{container:u,offset:d}=te(c.endContainer,c.endOffset),f=a.getParent(u,a.isBlock)??a.getRoot(),p=l.backwards(u,d+t,(e,t)=>{let n=e.data,r=k(n,t,g(D));return r===-1||ee(n[r])?r:r+1},f);if(!p)return null;let m=p.container,h=l.backwards(p.container,p.offset,(e,t)=>{m=e;let n=k(e.data,t,D);return n===-1?n:n+1},f),_=a.createRng();h?_.setStart(h.container,h.offset):_.setStart(m,0),_.setEnd(p.container,p.offset);let y=C(_.toString()).match(r);if(y){let t=y[0];return x(t,`www.`)?t=o(e)+`://`+t:b(t,`@`)&&!O(t)&&(t=`mailto:`+t),{rng:_,url:t}}else return null},j=(e,t)=>{let{dom:n,selection:r}=e,{rng:i,url:o}=t,c=r.getBookmark();r.setRng(i);let l=`createlink`,u={command:l,ui:!1,value:o};if(!e.dispatch(`BeforeExecCommand`,u).isDefaultPrevented()){e.getDoc().execCommand(l,!1,o),e.dispatch(`ExecCommand`,u);let t=a(e);if(f(t)){let i=r.getNode();n.setAttrib(i,`target`,t),t===`_blank`&&!s(e)&&n.setAttrib(i,`rel`,`noopener`)}}r.moveToBookmark(c),e.nodeChanged()},ne=e=>{let t=A(e,-1);h(t)&&j(e,t)},re=ne,M=e=>{let t=A(e,0);h(t)&&j(e,t)},N=e=>{e.on(`keydown`,t=>{t.keyCode===13&&!t.isDefaultPrevented()&&M(e)}),e.on(`keyup`,t=>{t.keyCode===32?ne(e):(t.keyCode===48&&t.shiftKey||t.keyCode===221)&&re(e)})};e.add(`autolink`,e=>{r(e),N(e)})})()}))(),d((()=>{(function(){let e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let n=e=>()=>e;var r=tinymce.util.Tools.resolve(`tinymce.Env`);let i=e=>e.dispatch(`ResizeEditor`),a=e=>t=>t.options.get(e),o=e=>{let t=e.options.register;t(`autoresize_overflow_padding`,{processor:`number`,default:1}),t(`autoresize_bottom_margin`,{processor:`number`,default:50})},s=a(`min_height`),c=a(`max_height`),l=a(`autoresize_overflow_padding`),u=a(`autoresize_bottom_margin`),d=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen(),f=(e,t)=>{let n=e.getBody();n&&(n.style.overflowY=t?``:`hidden`,t||(n.scrollTop=0))},p=(e,t,n,r)=>{let i=parseInt(e.getStyle(t,n,r)??``,10);return isNaN(i)?0:i},m=e=>{if(e?.type.toLowerCase()===`setcontent`){let t=e;return t.selection===!0||t.paste===!0}else return!1},h=(e,t,n,a)=>{let o=e.dom,u=e.getDoc();if(!u)return;if(d(e)){f(e,!0);return}let g=u.documentElement,_=a?a():l(e),v=s(e)??e.getElement().offsetHeight,y=v,b=p(o,g,`margin-top`,!0),x=p(o,g,`margin-bottom`,!0),S=g.offsetHeight+b+x+_;S<0&&(S=0);let C=e.getContainer().offsetHeight-e.getContentAreaContainer().offsetHeight;S+C>v&&(y=S+C);let w=c(e);if(w&&y>w?(y=w,f(e,!0)):f(e,!1),y!==t.get()){let s=y-t.get();if(o.setStyle(e.getContainer(),`height`,y+`px`),t.set(y),i(e),r.browser.isSafari()&&(r.os.isMacOS()||r.os.isiOS())){let t=e.getWin();t.scrollTo(t.pageXOffset,t.pageYOffset)}e.hasFocus()&&m(n)&&e.selection.scrollIntoView(),(r.browser.isSafari()||r.browser.isChromium())&&s<0&&h(e,t,n,a)}},g=(e,t)=>{let i=()=>u(e),a,o;e.on(`init`,n=>{a=0;let o=l(e),s=e.dom;s.setStyles(e.getDoc().documentElement,{height:`auto`}),r.browser.isEdge()||r.browser.isIE()?s.setStyles(e.getBody(),{paddingLeft:o,paddingRight:o,"min-height":0}):s.setStyles(e.getBody(),{paddingLeft:o,paddingRight:o}),h(e,t,n,i),a+=1}),e.on(`NodeChange SetContent keyup FullscreenStateChanged ResizeContent`,r=>{if(a===1)o=e.getContainer().offsetHeight,h(e,t,r,i),a+=1;else if(a===2){let t=o<e.getContainer().offsetHeight;if(t){let t=e.dom,n=e.getDoc();t.setStyles(n.documentElement,{"min-height":0}),t.setStyles(e.getBody(),{"min-height":`inherit`})}i=t?n(0):i,a+=1}else h(e,t,r,i)})},_=(e,t)=>{e.addCommand(`mceAutoResize`,()=>{h(e,t)})};t.add(`autoresize`,t=>{if(o(t),t.options.isSet(`resize`)||t.options.set(`resize`,!1),!t.inline){let n=e(0);_(t,n),g(t,n)}})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,n=e=>{let n=typeof e;return e===null?`null`:n===`object`&&Array.isArray(e)?`array`:n===`object`&&t(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:n},r=e=>t=>n(t)===e,i=e=>t=>typeof t===e,a=r(`string`),o=r(`object`),s=r(`array`),c=i(`boolean`),l=e=>e==null,u=e=>!l(e),d=i(`function`),f=i(`number`),p=()=>{},m=(e,t)=>n=>e(t(n)),h=e=>()=>e,g=(e,t)=>e===t;function _(e,...t){return(...n)=>{let r=t.concat(n);return e.apply(null,r)}}let v=e=>t=>!e(t),y=h(!1);class b{constructor(e,t){this.tag=e,this.value=t}static some(e){return new b(!0,e)}static none(){return b.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?b.some(e(this.value)):b.none()}bind(e){return this.tag?e(this.value):b.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:b.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return u(e)?b.some(e):b.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}b.singletonNone=new b(!1);let x=Array.prototype.slice,S=Array.prototype.indexOf,C=Array.prototype.push,w=(e,t)=>S.call(e,t),T=(e,t)=>w(e,t)>-1,E=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];if(t(r,n))return!0}return!1},D=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},O=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},ee=(e,t)=>{let n=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];t(i,r)&&n.push(i)}return n},k=(e,t)=>{if(e.length===0)return[];{let n=t(e[0]),r=[],i=[];for(let a=0,o=e.length;a<o;a++){let o=e[a],s=t(o);s!==n&&(r.push(i),i=[]),n=s,i.push(o)}return i.length!==0&&r.push(i),r}},te=(e,t,n)=>(O(e,(e,r)=>{n=t(n,e,r)}),n),A=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return b.some(i);if(n(i,r))break}return b.none()},j=(e,t)=>A(e,t,y),ne=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!s(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);C.apply(t,e[n])}return t},re=(e,t)=>ne(D(e,t)),M=e=>{let t=x.call(e,0);return t.reverse(),t},N=(e,t)=>t>=0&&t<e.length?b.some(e[t]):b.none(),ie=e=>N(e,0),ae=e=>N(e,e.length-1),oe=(e,t)=>{let n=[],r=d(t)?e=>E(n,n=>t(n,e)):e=>T(n,e);for(let t=0,i=e.length;t<i;t++){let i=e[t];r(i)||n.push(i)}return n},P=(e,t,n=g)=>e.exists(e=>n(e,t)),F=(e,t,n=g)=>I(e,t,n).getOr(e.isNone()&&t.isNone()),I=(e,t,n)=>e.isSome()&&t.isSome()?b.some(n(e.getOrDie(),t.getOrDie())):b.none(),se=(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return ue(n.childNodes[0])},ce=(e,t)=>ue((t||document).createElement(e)),le=(e,t)=>ue((t||document).createTextNode(e)),ue=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},de={fromHtml:se,fromTag:ce,fromText:le,fromDom:ue,fromPoint:(e,t,n)=>b.from(e.dom.elementFromPoint(t,n)).map(ue)},fe=(e,t)=>{let n=e.dom;if(n.nodeType!==1)return!1;{let e=n;if(e.matches!==void 0)return e.matches(t);if(e.msMatchesSelector!==void 0)return e.msMatchesSelector(t);if(e.webkitMatchesSelector!==void 0)return e.webkitMatchesSelector(t);if(e.mozMatchesSelector!==void 0)return e.mozMatchesSelector(t);throw Error(`Browser lacks native selectors`)}},pe=(e,t)=>e.dom===t.dom,me=(e,t)=>{let n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},L=fe,he=typeof window<`u`?window:Function(`return this;`)(),ge=(e,t)=>{let n=t??he;for(let t=0;t<e.length&&n!=null;++t)n=n[e[t]];return n},R=(e,t)=>ge(e.split(`.`),t),_e=(e,t)=>R(e,t),ve=(e,t)=>{let n=_e(e,t);if(n==null)throw Error(e+` not available on this browser`);return n},ye=Object.getPrototypeOf,be=e=>ve(`HTMLElement`,e),xe=e=>{let t=R(`ownerDocument.defaultView`,e);return o(e)&&(be(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ye(e).constructor.name))},Se=e=>e.dom.nodeName.toLowerCase(),Ce=e=>e.dom.nodeType,we=e=>t=>Ce(t)===e,Te=e=>Ce(e)===8||Se(e)===`#comment`,Ee=e=>De(e)&&xe(e.dom),De=we(1),Oe=we(3),ke=we(9),Ae=we(11),je=e=>t=>De(t)&&Se(t)===e,Me=e=>de.fromDom(e.dom.ownerDocument),Ne=e=>ke(e)?e:Me(e),Pe=e=>b.from(e.dom.parentNode).map(de.fromDom),Fe=e=>b.from(e.dom.parentElement).map(de.fromDom),Ie=e=>b.from(e.dom.nextSibling).map(de.fromDom),Le=e=>D(e.dom.childNodes,de.fromDom),z=(e,t)=>{let n=e.dom.childNodes;return b.from(n[t]).map(de.fromDom)},Re=e=>z(e,0),ze=e=>z(e,e.dom.childNodes.length-1),Be=e=>Ae(e)&&u(e.dom.host),Ve=d(Element.prototype.attachShadow)&&d(Node.prototype.getRootNode)?e=>de.fromDom(e.dom.getRootNode()):Ne,He=e=>{let t=Ve(e);return Be(t)?b.some(t):b.none()},Ue=e=>de.fromDom(e.dom.host),We=e=>{let t=Oe(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;let n=t.ownerDocument;return He(de.fromDom(t)).fold(()=>n.body.contains(t),m(We,Ue))};var Ge=(e,t,n,r,i)=>e(n,r)?b.some(n):d(i)&&i(n)?b.none():t(n,r,i);let Ke=(e,t,n)=>{let r=e.dom,i=d(n)?n:y;for(;r.parentNode;){r=r.parentNode;let e=de.fromDom(r);if(t(e))return b.some(e);if(i(e))break}return b.none()},qe=(e,t,n)=>Ge((e,t)=>t(e),Ke,e,t,n),Je=(e,t,n)=>Ke(e,e=>fe(e,t),n),Ye=(e,t,n)=>Ge((e,t)=>fe(e,t),Je,e,t,n),Xe=e=>Ye(e,`[contenteditable]`),Ze=(e,t=!1)=>We(e)?e.dom.isContentEditable:Xe(e).fold(h(t),e=>Qe(e)===`true`),Qe=e=>e.dom.contentEditable,$e=(e,t)=>{Pe(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},et=(e,t)=>{Ie(e).fold(()=>{Pe(e).each(e=>{nt(e,t)})},e=>{$e(e,t)})},tt=(e,t)=>{Re(e).fold(()=>{nt(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},nt=(e,t)=>{e.dom.appendChild(t.dom)},rt=(e,t)=>{O(t,t=>{$e(e,t)})},it=(e,t)=>{O(t,t=>{nt(e,t)})},at=e=>{e.dom.textContent=``,O(Le(e),e=>{B(e)})},B=e=>{let t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)};var ot=tinymce.util.Tools.resolve(`tinymce.dom.RangeUtils`),st=tinymce.util.Tools.resolve(`tinymce.dom.TreeWalker`),ct=tinymce.util.Tools.resolve(`tinymce.util.VK`);let V=e=>D(e,de.fromDom),lt=Object.keys,ut=(e,t)=>{let n=lt(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},dt=e=>(t,n)=>{e[n]=t},ft=(e,t,n,r)=>{ut(e,(e,i)=>{(t(e,i)?n:r)(e,i)})},pt=(e,t)=>{let n={};return ft(e,t,dt(n),p),n},mt=(e,t,n)=>{if(a(n)||c(n)||f(n))e.setAttribute(t,n+``);else throw console.error(`Invalid call to Attribute.set. Key `,t,`:: Value `,n,`:: Element `,e),Error(`Attribute value was not simple`)},ht=(e,t)=>{let n=e.dom;ut(t,(e,t)=>{mt(n,t,e)})},gt=e=>te(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),_t=(e,t)=>de.fromDom(e.dom.cloneNode(t)),vt=e=>_t(e,!0),yt=(e,t)=>{let n=de.fromTag(t);return ht(n,gt(e)),n},bt=(e,t)=>{let n=yt(e,t);return et(e,n),it(n,Le(e)),B(e),n};var xt=tinymce.util.Tools.resolve(`tinymce.dom.DOMUtils`),St=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let Ct=e=>t=>u(t)&&t.nodeName.toLowerCase()===e,wt=e=>t=>u(t)&&e.test(t.nodeName),Tt=e=>u(e)&&e.nodeType===3,Et=e=>u(e)&&e.nodeType===1,Dt=wt(/^(OL|UL|DL)$/),Ot=wt(/^(OL|UL)$/),kt=Ct(`ol`),At=wt(/^(LI|DT|DD)$/),jt=wt(/^(DT|DD)$/),Mt=wt(/^(TH|TD)$/),Nt=Ct(`br`),Pt=e=>e.parentNode?.firstChild===e,Ft=(e,t)=>u(t)&&t.nodeName in e.schema.getTextBlockElements(),It=(e,t)=>u(e)&&e.nodeName in t,Lt=(e,t)=>u(t)&&t.nodeName in e.schema.getVoidElements(),Rt=(e,t)=>Nt(t)?e.isBlock(t.nextSibling)&&!Nt(t.previousSibling):!1,zt=(e,t,n)=>{let r=e.isEmpty(t);return n&&e.select(`span[data-mce-type=bookmark]`,t).length>0?!1:r},Bt=(e,t)=>e.isChildOf(t,e.getRoot()),Vt=e=>t=>t.options.get(e),Ht=e=>{let t=e.options.register;t(`lists_indent_on_tab`,{processor:`boolean`,default:!0})},Ut=Vt(`lists_indent_on_tab`),Wt=Vt(`forced_root_block`),Gt=Vt(`forced_root_block_attrs`),Kt=(e,t)=>{let n=e.dom,r=e.schema.getBlockElements(),i=n.createFragment(),a=Wt(e),o=Gt(e),s,c,l=!1;for(c=n.create(a,o),It(t.firstChild,r)||i.appendChild(c);s=t.firstChild;){let e=s.nodeName;!l&&(e!==`SPAN`||s.getAttribute(`data-mce-type`)!==`bookmark`)&&(l=!0),It(s,r)?(i.appendChild(s),c=null):(c||(c=n.create(a,o),i.appendChild(c)),c.appendChild(s))}return!l&&c&&c.appendChild(n.create(`br`,{"data-mce-bogus":`1`})),i},qt=xt.DOM,Jt=(e,t,n)=>{let r=e=>{let t=e.parentNode;t&&St.each(i,e=>{t.insertBefore(e,n.parentNode)}),qt.remove(e)},i=qt.select(`span[data-mce-type="bookmark"]`,t),a=Kt(e,n),o=qt.createRng();o.setStartAfter(n),o.setEndAfter(t);let s=o.extractContents();for(let t=s.firstChild;t;t=t.firstChild)if(t.nodeName===`LI`&&e.dom.isEmpty(t)){qt.remove(t);break}e.dom.isEmpty(s)||qt.insertAfter(s,t),qt.insertAfter(a,t);let c=n.parentElement;c&&zt(e.dom,c)&&r(c),qt.remove(n),zt(e.dom,t)&&qt.remove(t)},Yt=je(`dd`),Xt=je(`dt`),Zt=(e,t)=>{Yt(t)?bt(t,`dt`):Xt(t)&&Fe(t).each(n=>Jt(e,n.dom,t.dom))},Qt=e=>{Xt(e)&&bt(e,`dd`)},$t=(e,t,n)=>{t===`Indent`?O(n,Qt):O(n,t=>Zt(e,t))},en=(e,t)=>{if(Tt(e))return{container:e,offset:t};let n=ot.getNode(e,t);return Tt(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Tt(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Tt(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},tn=e=>{let t=e.cloneRange(),n=en(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);let r=en(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},nn=[`OL`,`UL`,`DL`],rn=nn.join(`,`),an=(e,t)=>{let n=t||e.selection.getStart(!0);return e.dom.getParent(n,rn,mn(e,n))},on=(e,t)=>u(e)&&t.length===1&&t[0]===e,sn=e=>ee(e.querySelectorAll(rn),Dt),cn=e=>{let t=an(e),n=e.selection.getSelectedBlocks();return on(t,n)?sn(t):ee(n,e=>Dt(e)&&t!==e)},ln=(e,t)=>oe(St.map(t,t=>e.dom.getParent(t,`li,dd,dt`,mn(e,t))||t)),un=e=>ee(ln(e,e.selection.getSelectedBlocks()),At),dn=e=>ee(un(e),jt),fn=(e,t)=>{let n=e.dom.getParents(t,`TD,TH`);return n.length>0?n[0]:e.getBody()},pn=(e,t)=>!Dt(t)&&!At(t)&&E(nn,n=>e.isValidChild(t.nodeName,n)),mn=(e,t)=>j(e.dom.getParents(t,e.dom.isBlock),t=>pn(e.schema,t)).getOr(e.getBody()),hn=e=>Pe(e).exists(e=>At(e.dom)&&Re(e).exists(e=>!Dt(e.dom))&&ze(e).exists(e=>!Dt(e.dom))),gn=(e,t)=>ae(e.dom.getParents(t,`ol,ul`,mn(e,t))),_n=e=>{let t=gn(e,e.selection.getStart()),n=ee(e.selection.getSelectedBlocks(),Ot);return t.toArray().concat(n)},H=e=>{let t=e.selection.getStart();return e.dom.getParents(t,`ol,ul`,mn(e,t))},vn=e=>{let t=_n(e);return j(H(e),e=>hn(de.fromDom(e))).fold(()=>yn(e,t),e=>[e])},yn=(e,t)=>oe(D(t,t=>gn(e,t).getOr(t))),bn=e=>/\btox\-/.test(e.className),xn=(e,t)=>A(e,Dt,Mt).exists(e=>e.nodeName===t&&!bn(e)),Sn=(e,t)=>t!==null&&!e.dom.isEditable(t),Cn=e=>Sn(e,an(e)),wn=(e,t)=>Sn(e,e.dom.getParent(t,`ol,ul,dl`)),Tn=(e,t)=>{let n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on(`NodeChange`,t),()=>e.off(`NodeChange`,t)},En=(e,t)=>{let n=(t||document).createDocumentFragment();return O(e,e=>{n.appendChild(e.dom)}),de.fromDom(n)},Dn=(e,t,n)=>e.dispatch(`ListMutation`,{action:t,element:n}),On=(e=>t=>t.replace(e,``))(/^\s+|\s+$/g),kn=e=>e.length>0,An=e=>!kn(e),jn=e=>e.style!==void 0&&d(e.style.getPropertyValue),Mn=(e,t,n)=>{if(!a(n))throw console.error(`Invalid call to CSS.set. Property `,t,`:: Value `,n,`:: Element `,e),Error(`CSS value must be a string: `+n);jn(e)&&e.style.setProperty(t,n)},Nn=(e,t,n)=>{let r=e.dom;Mn(r,t,n)},Pn=e=>L(e,`OL,UL`),Fn=e=>L(e,`LI`),In=e=>Re(e).exists(Pn),Ln=e=>ze(e).exists(Pn),Rn=e=>`listAttributes`in e,zn=e=>`isComment`in e,Bn=e=>`isFragment`in e,Vn=e=>e.depth>0,Hn=e=>e.isSelected,Un=e=>{let t=Le(e);return D(Ln(e)?t.slice(0,-1):t,vt)},Wn=(e,t,n)=>Pe(e).filter(De).map(r=>({depth:t,dirty:!1,isSelected:n,content:Un(e),itemAttributes:gt(e),listAttributes:gt(r),listType:Se(r),isInPreviousLi:!1})),Gn=(e,t)=>{nt(e.item,t.list)},Kn=e=>{for(let t=1;t<e.length;t++)Gn(e[t-1],e[t])},qn=(e,t)=>{I(ae(e),ie(t),Gn)},Jn=(e,t)=>{let n={list:de.fromTag(t,e),item:de.fromTag(`li`,e)};return nt(n.list,n.item),n},Yn=(e,t,n)=>{let r=[];for(let i=0;i<n;i++)r.push(Jn(e,Rn(t)?t.listType:t.parentListType));return r},Xn=(e,t)=>{for(let t=0;t<e.length-1;t++)Nn(e[t].item,`list-style-type`,`none`);ae(e).each(e=>{Rn(t)&&(ht(e.list,t.listAttributes),ht(e.item,t.itemAttributes)),it(e.item,t.content)})},Zn=(e,t)=>{Se(e.list)!==t.listType&&(e.list=bt(e.list,t.listType)),ht(e.list,t.listAttributes)},Qn=(e,t,n)=>{let r=de.fromTag(`li`,e);return ht(r,t),it(r,n),r},$n=(e,t)=>{nt(e.list,t),e.item=t},er=(e,t,n)=>{let r=t.slice(0,n.depth);return ae(r).each(t=>{if(Rn(n))$n(t,Qn(e,n.itemAttributes,n.content)),Zn(t,n);else if(Bn(n))it(t.item,n.content);else{let e=de.fromHtml(`<!--${n.content}-->`);nt(t.list,e)}}),r},tr=(e,t,n)=>{let r=Yn(e,n,n.depth-t.length);return Kn(r),Xn(r,n),qn(t,r),t.concat(r)},nr=(e,t)=>{let n=b.none(),r=te(t,(t,r,i)=>zn(r)?i===0?(n=b.some(r),t):er(e,t,r):r.depth>t.length?tr(e,t,r):er(e,t,r),[]);return n.each(e=>{let t=de.fromHtml(`<!--${e.content}-->`);ie(r).each(e=>{tt(e.list,t)})}),ie(r).map(e=>e.list)},rr=(e,t)=>{switch(e){case`Indent`:t.depth++;break;case`Outdent`:t.depth--;break;case`Flatten`:t.depth=0}t.dirty=!0},ir=(e,t)=>{Rn(e)&&Rn(t)&&(e.listType=t.listType,e.listAttributes={...t.listAttributes})},ar=e=>{e.listAttributes=pt(e.listAttributes,(e,t)=>t!==`start`)},or=(e,t)=>{let n=e[t].depth,r=e=>e.depth===n&&!e.dirty,i=e=>e.depth<n;return A(M(e.slice(0,t)),r,i).orThunk(()=>A(e.slice(t+1),r,i))},sr=e=>(O(e,(t,n)=>{or(e,n).fold(()=>{t.dirty&&Rn(t)&&ar(t)},e=>ir(t,e))}),e),cr=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},lr=(e,t,n,r)=>{if(Te(r))return[{depth:e+1,content:r.dom.nodeValue??``,dirty:!1,isSelected:!1,isComment:!0}];t.each(e=>{pe(e.start,r)&&n.set(!0)});let i=Wn(r,e,n.get());t.each(e=>{pe(e.end,r)&&n.set(!1)});let a=ze(r).filter(Pn).map(r=>dr(e,t,n,r)).getOr([]);return i.toArray().concat(a)},ur=(e,t,n,r)=>Re(r).filter(Pn).fold(()=>lr(e,t,n,r),i=>{let a=te(Le(r),(r,a,o)=>{if(o===0)return r;if(Fn(a))return r.concat(lr(e,t,n,a));{let t={isFragment:!0,depth:e,content:[a],isSelected:!1,dirty:!1,parentListType:Se(i)};return r.concat(t)}},[]);return dr(e,t,n,i).concat(a)}),dr=(e,t,n,r)=>re(Le(r),r=>(Pn(r)?dr:ur)(e+1,t,n,r)),fr=(e,t)=>{let n=cr(!1);return D(e,e=>({sourceList:e,entries:dr(0,t,n,e)}))},pr=(e,t)=>D(sr(t),t=>{let n=zn(t)?En([de.fromHtml(`<!--${t.content}-->`)]):En(t.content);return de.fromDom(Kt(e,n.dom))}),U=(e,t)=>{let n=sr(t);return nr(e.contentDocument,n).toArray()},mr=(e,t)=>re(k(t,Vn),t=>ie(t).exists(Vn)?U(e,t):pr(e,t)),hr=(e,t)=>{O(ee(e,Hn),e=>rr(t,e))},gr=e=>{let t=D(un(e),de.fromDom);return I(j(t,v(In)),j(M(t),v(In)),(e,t)=>({start:e,end:t}))},_r=(e,t,n)=>{O(fr(t,gr(e)),t=>{hr(t.entries,n);let r=mr(e,t.entries);O(r,t=>{Dn(e,n===`Indent`?`IndentList`:`OutdentList`,t.dom)}),rt(t.sourceList,r),B(t.sourceList)})},vr=(e,t)=>{let n=V(vn(e)),r=V(dn(e)),i=!1;if(n.length||r.length){let a=e.selection.getBookmark();_r(e,n,t),$t(e,t,r),e.selection.moveToBookmark(a),e.selection.setRng(tn(e.selection.getRng())),e.nodeChanged(),i=!0}return i},yr=(e,t)=>!Cn(e)&&vr(e,t),br=e=>yr(e,`Indent`),xr=e=>yr(e,`Outdent`),Sr=e=>yr(e,`Flatten`),Cr=e=>e===`﻿`,wr=(e,t,n)=>Ke(e,t,n).isSome(),Tr=(e,t)=>wr(e,_(pe,t));var Er=tinymce.util.Tools.resolve(`tinymce.dom.BookmarkManager`);let Dr=xt.DOM,Or=e=>{let t={},n=n=>{let r=e[n?`startContainer`:`endContainer`],i=e[n?`startOffset`:`endOffset`];if(Et(r)){let e=Dr.create(`span`,{"data-mce-type":`bookmark`});r.hasChildNodes()?(i=Math.min(i,r.childNodes.length-1),n?r.insertBefore(e,r.childNodes[i]):Dr.insertAfter(e,r.childNodes[i])):r.appendChild(e),r=e,i=0}t[n?`startContainer`:`endContainer`]=r,t[n?`startOffset`:`endOffset`]=i};return n(!0),e.collapsed||n(),t},kr=e=>{let t=t=>{let n=e=>{let t=e.parentNode?.firstChild,n=0;for(;t;){if(t===e)return n;(!Et(t)||t.getAttribute(`data-mce-type`)!==`bookmark`)&&n++,t=t.nextSibling}return-1},r=e[t?`startContainer`:`endContainer`],i=e[t?`startOffset`:`endOffset`];if(r){if(Et(r)&&r.parentNode){let e=r;i=n(r),r=r.parentNode,Dr.remove(e),!r.hasChildNodes()&&Dr.isBlock(r)&&r.appendChild(Dr.create(`br`))}e[t?`startContainer`:`endContainer`]=r,e[t?`startOffset`:`endOffset`]=i}};t(!0),t();let n=Dr.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),tn(n)},Ar=e=>{switch(e){case`UL`:return`ToggleUlList`;case`OL`:return`ToggleOlList`;case`DL`:return`ToggleDLList`}},jr=(e,t,n)=>{let r=n[`list-style-type`]?n[`list-style-type`]:null;e.setStyle(t,`list-style-type`,r)},Mr=(e,t)=>{St.each(t,(t,n)=>{e.setAttribute(n,t)})},Nr=(e,t,n)=>{Mr(t,n[`list-attributes`]),St.each(e.select(`li`,t),e=>{Mr(e,n[`list-item-attributes`])})},Pr=(e,t,n)=>{jr(e,t,n),Nr(e,t,n)},Fr=(e,t,n)=>{St.each(n,n=>e.setStyle(t,n,``))},Ir=(e,t)=>u(t)&&!It(t,e.schema.getBlockElements()),Lr=(e,t,n,r)=>{let i=t[n?`startContainer`:`endContainer`],a=t[n?`startOffset`:`endOffset`];Et(i)&&(i=i.childNodes[Math.min(a,i.childNodes.length-1)]||i),!n&&Nt(i.nextSibling)&&(i=i.nextSibling);let o=t=>{for(;!e.dom.isBlock(t)&&t.parentNode&&r!==t;)t=t.parentNode;return t},s=(t,n)=>{let r=new st(t,o(t)),i=n?`next`:`prev`,a;for(;a=r[i]();)if(!(Lt(e,a)||Cr(a.textContent)||a.textContent?.length===0))return b.some(a);return b.none()};if(n&&Tt(i))if(Cr(i.textContent))i=s(i,!1).getOr(i);else for(i.parentNode!==null&&Ir(e,i.parentNode)&&(i=i.parentNode);i.previousSibling!==null&&(Ir(e,i.previousSibling)||Tt(i.previousSibling));)i=i.previousSibling;if(!n&&Tt(i))if(Cr(i.textContent))i=s(i,!0).getOr(i);else for(i.parentNode!==null&&Ir(e,i.parentNode)&&(i=i.parentNode);i.nextSibling!==null&&(Ir(e,i.nextSibling)||Tt(i.nextSibling));)i=i.nextSibling;for(;i.parentNode!==r;){let t=i.parentNode;if(Ft(e,i)||/^(TD|TH)$/.test(t.nodeName))return i;i=t}return i},Rr=(e,t,n)=>{let r=[],i=e.dom,a=Lr(e,t,!0,n),o=Lr(e,t,!1,n),s,c=[];for(let e=a;e&&(c.push(e),e!==o);e=e.nextSibling);return St.each(c,t=>{var a;if(Ft(e,t)){r.push(t),s=null;return}if(i.isBlock(t)||Nt(t)){Nt(t)&&i.remove(t),s=null;return}let o=t.nextSibling;if(Er.isBookmarkNode(t)&&(Dt(o)||Ft(e,o)||!o&&t.parentNode===n)){s=null;return}s||(s=i.create(`p`),(a=t.parentNode)==null||a.insertBefore(s,t),r.push(s)),s.appendChild(t)}),r},zr=(e,t,n)=>{let r=e.getStyle(t,`list-style-type`),i=n?n[`list-style-type`]:``;return i=i===null?``:i,r===i},Br=(e,t)=>{let n=e.selection.getStart(!0),r=Lr(e,t,!0,e.getBody());return Tr(de.fromDom(r),de.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:n},Vr=(e,t,n)=>{let r=e.selection.getRng(),i=`LI`,a=mn(e,Br(e,r)),o=e.dom;if(o.getContentEditable(e.selection.getNode())===`false`)return;t=t.toUpperCase(),t===`DL`&&(i=`DT`);let s=Or(r),c=ee(Rr(e,r,a),e.dom.isEditable);St.each(c,r=>{let a,s=r.previousSibling,c=r.parentNode;At(c)||(s&&Dt(s)&&s.nodeName===t&&zr(o,s,n)?(a=s,r=o.rename(r,i),s.appendChild(r)):(a=o.create(t),c.insertBefore(a,r),a.appendChild(r),r=o.rename(r,i)),Fr(o,r,[`margin`,`margin-right`,`margin-bottom`,`margin-left`,`margin-top`,`padding`,`padding-right`,`padding-bottom`,`padding-left`,`padding-top`]),Pr(o,a,n),Kr(e.dom,a))}),e.selection.setRng(kr(s))},Hr=(e,t)=>Dt(e)&&e.nodeName===t?.nodeName,Ur=(e,t,n)=>e.getStyle(t,`list-style-type`,!0)===e.getStyle(n,`list-style-type`,!0),Wr=(e,t)=>e.className===t.className,Gr=(e,t,n)=>Hr(t,n)&&Ur(e,t,n)&&Wr(t,n),Kr=(e,t)=>{let n,r=t.nextSibling;if(Gr(e,t,r)){let i=r;for(;n=i.firstChild;)t.appendChild(n);e.remove(i)}if(r=t.previousSibling,Gr(e,t,r)){let i=r;for(;n=i.lastChild;)t.insertBefore(n,t.firstChild);e.remove(i)}},qr=(e,t,n,r)=>{if(t.nodeName!==n){let i=e.dom.rename(t,n);Pr(e.dom,i,r),Dn(e,Ar(n),i)}else Pr(e.dom,t,r),Dn(e,Ar(n),t)},Jr=(e,t,n,r)=>{if(t.classList.forEach((e,n,r)=>{e.startsWith(`tox-`)&&(r.remove(e),r.length===0&&t.removeAttribute(`class`))}),t.nodeName!==n){let i=e.dom.rename(t,n);Pr(e.dom,i,r),Dn(e,Ar(n),i)}else Pr(e.dom,t,r),Dn(e,Ar(n),t)},Yr=(e,t,n,r,i)=>{let a=Dt(t);if(a&&t.nodeName===r&&!Xr(i)&&!bn(t))Sr(e);else{Vr(e,r,i);let o=Or(e.selection.getRng()),s=a?[t,...n]:n,c=a&&bn(t)?Jr:qr;St.each(s,t=>{c(e,t,r,i)}),e.selection.setRng(kr(o))}},Xr=e=>`list-style-type`in e,Zr=(e,t,n,r)=>{if(t!==e.getBody())if(t)if(t.nodeName===n&&!Xr(r)&&!bn(t))Sr(e);else{let i=Or(e.selection.getRng());bn(t)&&t.classList.forEach((e,n,r)=>{e.startsWith(`tox-`)&&(r.remove(e),r.length===0&&t.removeAttribute(`class`))}),Pr(e.dom,t,r);let a=e.dom.rename(t,n);Kr(e.dom,a),e.selection.setRng(kr(i)),Vr(e,n,r),Dn(e,Ar(n),a)}else Vr(e,n,r),Dn(e,Ar(n),t)},Qr=(e,t,n)=>{let r=an(e);if(wn(e,r))return;let i=cn(e),a=o(n)?n:{};i.length>0?Yr(e,r,i,t,a):Zr(e,r,t,a)},$r=xt.DOM,ei=(e,t)=>{let n=t.parentElement;if(n&&n.nodeName===`LI`&&n.firstChild===t){let r=n.previousSibling;r&&r.nodeName===`LI`?(r.appendChild(t),zt(e,n)&&$r.remove(n)):$r.setStyle(n,`listStyleType`,`none`)}if(Dt(n)){let e=n.previousSibling;e&&e.nodeName===`LI`&&e.appendChild(t)}},ti=(e,t)=>{let n=St.grep(e.select(`ol,ul`,t));St.each(n,t=>{ei(e,t)})},ni=(e,t,n,r)=>{let i=t.startContainer,a=t.startOffset;if(Tt(i)&&(n?a<i.data.length:a>0))return i;let o=e.schema.getNonEmptyElements();Et(i)&&(i=ot.getNode(i,a));let s=new st(i,r);n&&Rt(e.dom,i)&&s.next();let c=n?s.next.bind(s):s.prev2.bind(s);for(;i=c();)if(i.nodeName===`LI`&&!i.hasChildNodes()||o[i.nodeName]||Tt(i)&&i.data.length>0)return i;return null},ri=(e,t)=>{let n=t.childNodes;return n.length===1&&!Dt(n[0])&&e.isBlock(n[0])},ii=e=>b.from(e).map(de.fromDom).filter(Ee).exists(e=>Ze(e)&&!T([`details`],Se(e))),ai=(e,t)=>{ri(e,t)&&ii(t.firstChild)&&e.remove(t.firstChild,!0)},oi=(e,t,n)=>{let r,i=ri(e,n)?n.firstChild:n;if(ai(e,t),!zt(e,t,!0))for(;r=t.firstChild;)i.appendChild(r)},si=(e,t,n)=>{let r,i=t.parentNode;if(!Bt(e,t)||!Bt(e,n))return;Dt(n.lastChild)&&(r=n.lastChild),i===n.lastChild&&Nt(i.previousSibling)&&e.remove(i.previousSibling);let a=n.lastChild;a&&Nt(a)&&t.hasChildNodes()&&e.remove(a),zt(e,n,!0)&&at(de.fromDom(n)),oi(e,t,n),r&&n.appendChild(r);let o=me(de.fromDom(n),de.fromDom(t))?e.getParents(t,Dt,n):[];e.remove(t),O(o,t=>{zt(e,t)&&t!==e.getRoot()&&e.remove(t)})},ci=(e,t,n)=>{at(de.fromDom(n)),si(e.dom,t,n),e.selection.setCursorLocation(n,0)},li=(e,t,n,r)=>{let i=e.dom;if(i.isEmpty(r))ci(e,n,r);else{let a=Or(t);si(i,n,r),e.selection.setRng(kr(a))}},ui=(e,t,n,r)=>{let i=Or(t);si(e.dom,n,r);let a=kr(i);e.selection.setRng(a)},di=(e,t)=>{let n=e.dom,r=e.selection,i=fn(e,r.getStart()),a=n.getParent(r.getStart(),`LI`,i);if(a){let o=a.parentElement;if(o===e.getBody()&&zt(n,o))return!0;let s=tn(r.getRng()),c=n.getParent(ni(e,s,t,i),`LI`,i),l=c&&(t?n.isChildOf(a,c):n.isChildOf(c,a));if(c&&c!==a&&!l)return e.undoManager.transact(()=>{t?li(e,s,c,a):Pt(a)?xr(e):ui(e,s,a,c)}),!0;if(l&&!t&&c!==a)return e.undoManager.transact(()=>{if(s.commonAncestorContainer.parentElement){let t=Or(s),r=s.commonAncestorContainer.parentElement;oi(n,s.commonAncestorContainer.parentElement,c),r.remove();let i=kr(t);e.selection.setRng(i)}}),!0;if(!c&&!t&&s.startOffset===0&&s.endOffset===0)return e.undoManager.transact(()=>{Sr(e)}),!0}return!1},fi=(e,t,n)=>{let r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},pi=(e,t)=>{let n=e.dom,r=e.selection.getStart(),i=fn(e,r),a=n.getParent(r,n.isBlock,i);if(a&&n.isEmpty(a)){let r=tn(e.selection.getRng()),o=n.getParent(ni(e,r,t,i),`LI`,i);if(o){let s=e=>T([`td`,`th`,`caption`],Se(e)),c=e=>e.dom===i;return F(qe(de.fromDom(o),s,c),qe(de.fromDom(r.startContainer),s,c),pe)?(e.undoManager.transact(()=>{let r=o.parentNode;fi(n,a,i),Kr(n,r),e.selection.select(o,!0),e.selection.collapse(t)}),!0):!1}}return!1},mi=(e,t)=>di(e,t)||pi(e,t),hi=e=>{let t=e.selection.getStart(),n=fn(e,t);return e.dom.getParent(t,`LI,DT,DD`,n)||un(e).length>0},gi=e=>hi(e)?(e.undoManager.transact(()=>{e.execCommand(`Delete`),ti(e.dom,e.getBody())}),!0):!1,_i=(e,t)=>{let n=e.selection;return!wn(e,n.getNode())&&(n.isCollapsed()?mi(e,t):gi(e))},vi=e=>{e.on(`ExecCommand`,t=>{let n=t.command.toLowerCase();(n===`delete`||n===`forwarddelete`)&&hi(e)&&ti(e.dom,e.getBody())}),e.on(`keydown`,t=>{t.keyCode===ct.BACKSPACE?_i(e,!1)&&t.preventDefault():t.keyCode===ct.DELETE&&_i(e,!0)&&t.preventDefault()})},yi=e=>({backspaceDelete:t=>{_i(e,t)}}),bi=(e,t)=>{let n=an(e);n===null||wn(e,n)||e.undoManager.transact(()=>{o(t.styles)&&e.dom.setStyles(n,t.styles),o(t.attrs)&&ut(t.attrs,(t,r)=>e.dom.setAttrib(n,r,t))})},xi=e=>te(D(M(On(e).split(``)),(e,t)=>{let n=e.toUpperCase().charCodeAt(0)-65+1;return 26**t*n}),(e,t)=>e+t,0),Si=e=>{if(e--,e<0)return``;{let t=e%26;return Si(Math.floor(e/26))+String.fromCharCode(65+t)}},Ci=e=>/^[A-Z]+$/.test(e),wi=e=>/^[a-z]+$/.test(e),Ti=e=>/^[0-9]+$/.test(e),Ei=e=>Ti(e)?2:Ci(e)?0:wi(e)?1:An(e)?3:4,Di=e=>{switch(Ei(e)){case 2:return b.some({listStyleType:b.none(),start:e});case 0:return b.some({listStyleType:b.some(`upper-alpha`),start:xi(e).toString()});case 1:return b.some({listStyleType:b.some(`lower-alpha`),start:xi(e).toString()});case 3:return b.some({listStyleType:b.none(),start:``});case 4:return b.none()}},Oi=e=>{let t=parseInt(e.start,10);return P(e.listStyleType,`upper-alpha`)?Si(t):P(e.listStyleType,`lower-alpha`)?Si(t).toLowerCase():e.start},ki=e=>{let t=an(e);!kt(t)||wn(e,t)||e.windowManager.open({title:`List Properties`,body:{type:`panel`,items:[{type:`input`,name:`start`,label:`Start list at number`,inputMode:`numeric`}]},initialData:{start:Oi({start:e.dom.getAttrib(t,`start`,`1`),listStyleType:b.from(e.dom.getStyle(t,`list-style-type`))})},buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],onSubmit:t=>{Di(t.getData().start).each(t=>{e.execCommand(`mceListUpdate`,!1,{attrs:{start:t.start===`1`?``:t.start},styles:{"list-style-type":t.listStyleType.getOr(``)}})}),t.close()}})},Ai=(e,t)=>()=>{let n=an(e);return u(n)&&n.nodeName===t},ji=e=>{e.addCommand(`mceListProps`,()=>{ki(e)})},Mi=e=>{e.on(`BeforeExecCommand`,t=>{let n=t.command.toLowerCase();n===`indent`?br(e):n===`outdent`&&xr(e)}),e.addCommand(`InsertUnorderedList`,(t,n)=>{Qr(e,`UL`,n)}),e.addCommand(`InsertOrderedList`,(t,n)=>{Qr(e,`OL`,n)}),e.addCommand(`InsertDefinitionList`,(t,n)=>{Qr(e,`DL`,n)}),e.addCommand(`RemoveList`,()=>{Sr(e)}),ji(e),e.addCommand(`mceListUpdate`,(t,n)=>{o(n)&&bi(e,n)}),e.addQueryStateHandler(`InsertUnorderedList`,Ai(e,`UL`)),e.addQueryStateHandler(`InsertOrderedList`,Ai(e,`OL`)),e.addQueryStateHandler(`InsertDefinitionList`,Ai(e,`DL`))};var Ni=tinymce.util.Tools.resolve(`tinymce.html.Node`);let Pi=e=>e.type===3,Fi=e=>e.length===0,Ii=e=>{let t=(t,n)=>{let r=Ni.create(`li`);O(t,e=>r.append(e)),n?e.insert(r,n,!0):e.append(r)},n=te(e.children(),(e,n)=>Pi(n)?[...e,n]:!Fi(e)&&!Pi(n)?(t(e,n),[]):e,[]);Fi(n)||t(n)},Li=e=>{e.on(`PreInit`,()=>{let{parser:t}=e;t.addNodeFilter(`ul,ol`,e=>O(e,Ii))})},Ri=e=>{e.on(`keydown`,t=>{t.keyCode!==ct.TAB||ct.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?xr(e):br(e))&&t.preventDefault()})})},zi=e=>{Ut(e)&&Ri(e),vi(e)},Bi=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),Tn(e,r=>{n.setActive(xn(r.parents,t)),n.setEnabled(!wn(e,r.element)&&e.selection.isEditable())})),Vi=e=>{let t=t=>()=>e.execCommand(t);e.hasPlugin(`advlist`)||(e.ui.registry.addToggleButton(`numlist`,{icon:`ordered-list`,active:!1,tooltip:`Numbered list`,onAction:t(`InsertOrderedList`),onSetup:Bi(e,`OL`)}),e.ui.registry.addToggleButton(`bullist`,{icon:`unordered-list`,active:!1,tooltip:`Bullet list`,onAction:t(`InsertUnorderedList`),onSetup:Bi(e,`UL`)}))},Hi=(e,t)=>n=>Tn(e,r=>n.setEnabled(xn(r.parents,t)&&!wn(e,r.element))),Ui=e=>{let t={text:`List properties...`,icon:`ordered-list`,onAction:()=>e.execCommand(`mceListProps`),onSetup:Hi(e,`OL`)};e.ui.registry.addMenuItem(`listprops`,t),e.ui.registry.addContextMenu(`lists`,{update:t=>kt(an(e,t))?[`listprops`]:[]})};e.add(`lists`,e=>(Ht(e),Li(e),e.hasPlugin(`rtc`,!0)?ji(e):(zi(e),Mi(e)),Vi(e),Ui(e),yi(e)))})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,n=e=>{let n=typeof e;return e===null?`null`:n===`object`&&Array.isArray(e)?`array`:n===`object`&&t(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:n},r=e=>t=>n(t)===e,i=e=>t=>typeof t===e,a=e=>t=>e===t,o=r(`string`),s=r(`object`),c=r(`array`),l=a(null),u=i(`boolean`),d=e=>e==null,f=e=>!d(e),p=i(`function`),m=(e,t)=>{if(c(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},h=()=>{},g=e=>()=>e,_=(e,t)=>e===t;class v{constructor(e,t){this.tag=e,this.value=t}static some(e){return new v(!0,e)}static none(){return v.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?v.some(e(this.value)):v.none()}bind(e){return this.tag?e(this.value):v.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:v.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return f(e)?v.some(e):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}v.singletonNone=new v(!1);let y=Array.prototype.indexOf,b=Array.prototype.push,x=(e,t)=>y.call(e,t),S=(e,t)=>x(e,t)>-1,C=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},w=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},T=(e,t,n)=>(w(e,(e,r)=>{n=t(n,e,r)}),n),E=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!c(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);b.apply(t,e[n])}return t},D=(e,t)=>E(C(e,t)),O=(e,t)=>{for(let n=0;n<e.length;n++){let r=t(e[n],n);if(r.isSome())return r}return v.none()},ee=(e,t,n=_)=>e.exists(e=>n(e,t)),k=e=>{let t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},te=(e,t)=>e?v.some(t):v.none(),A=e=>t=>t.options.get(e),j=e=>{let t=e.options.register;t(`link_assume_external_targets`,{processor:e=>{let t=o(e)||u(e);return t?e===!0?{value:1,valid:t}:e===`http`||e===`https`?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:`Must be a string or a boolean.`}},default:!1}),t(`link_context_toolbar`,{processor:`boolean`,default:!1}),t(`link_list`,{processor:e=>o(e)||p(e)||m(e,s)}),t(`link_default_target`,{processor:`string`}),t(`link_default_protocol`,{processor:`string`,default:`https`}),t(`link_target_list`,{processor:e=>u(e)||m(e,s),default:!0}),t(`link_rel_list`,{processor:`object[]`,default:[]}),t(`link_class_list`,{processor:`object[]`,default:[]}),t(`link_title`,{processor:`boolean`,default:!0}),t(`allow_unsafe_link_target`,{processor:`boolean`,default:!1}),t(`link_quicklink`,{processor:`boolean`,default:!1})},ne=A(`link_assume_external_targets`),re=A(`link_context_toolbar`),M=A(`link_list`),N=A(`link_default_target`),ie=A(`link_default_protocol`),ae=A(`link_target_list`),oe=A(`link_rel_list`),P=A(`link_class_list`),F=A(`link_title`),I=A(`allow_unsafe_link_target`),se=A(`link_quicklink`);var ce=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let le=e=>o(e.value)?e.value:``,ue=e=>o(e.text)?e.text:o(e.title)?e.title:``,de=(e,t)=>{let n=[];return ce.each(e,e=>{let r=ue(e);if(e.menu!==void 0){let i=de(e.menu,t);n.push({text:r,items:i})}else{let i=t(e);n.push({text:r,value:i})}}),n},fe=(e=le)=>t=>v.from(t).map(t=>de(t,e)),pe={sanitize:e=>fe(le)(e),sanitizeWith:fe,createUi:(e,t)=>n=>({name:e,type:`listbox`,label:t,items:n}),getValue:le},me=Object.keys,L=Object.hasOwnProperty,he=(e,t)=>{let n=me(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},ge=e=>(t,n)=>{e[n]=t},R=(e,t,n,r)=>{he(e,(e,i)=>{(t(e,i)?n:r)(e,i)})},_e=(e,t)=>{let n={};return R(e,t,ge(n),h),n},ve=(e,t)=>L.call(e,t),ye=(e,t)=>ve(e,t)&&e[t]!==void 0&&e[t]!==null;var be=tinymce.util.Tools.resolve(`tinymce.dom.TreeWalker`),xe=tinymce.util.Tools.resolve(`tinymce.util.URI`);let Se=e=>f(e)&&e.nodeName.toLowerCase()===`a`,Ce=e=>Se(e)&&!!Ee(e),we=(e,t)=>{if(e.collapsed)return[];{let n=e.cloneContents(),r=n.firstChild,i=new be(r,n),a=[],o=r;do t(o)&&a.push(o);while(o=i.next());return a}},Te=e=>/^\w+:/i.test(e),Ee=e=>e.getAttribute(`data-mce-href`)??e.getAttribute(`href`)??``,De=(e,t)=>{let n=[`noopener`],r=e?e.split(/\s+/):[],i=e=>ce.trim(e.sort().join(` `)),a=e=>(e=o(e),e.length>0?e.concat(n):n),o=e=>e.filter(e=>ce.inArray(n,e)===-1),s=t?a(r):o(r);return s.length>0?i(s):``},Oe=e=>e.replace(/\uFEFF/g,``),ke=(e,t)=>(t=t||Me(e.selection.getRng())[0]||e.selection.getNode(),Le(t)?v.from(e.dom.select(`a[href]`,t)[0]):v.from(e.dom.getParent(t,`a[href]`))),Ae=(e,t)=>ke(e,t).isSome(),je=(e,t)=>Oe(t.fold(()=>e.getContent({format:`text`}),e=>e.innerText||e.textContent||``)),Me=e=>we(e,Ce),Ne=e=>ce.grep(e,Ce),Pe=e=>Ne(e).length>0,Fe=e=>Me(e).length>0,Ie=e=>{let t=e.schema.getTextInlineElements(),n=e=>e.nodeType===1&&!Se(e)&&!ve(t,e.nodeName.toLowerCase());if(ke(e).exists(e=>e.hasAttribute(`data-mce-block`)))return!1;let r=e.selection.getRng();return r.collapsed?!0:we(r,n).length===0},Le=e=>f(e)&&e.nodeName===`FIGURE`&&/\bimage\b/i.test(e.className),z=e=>T([`title`,`rel`,`class`,`target`],(t,n)=>(e[n].each(e=>{t[n]=e.length>0?e:null}),t),{href:e.href}),Re=(e,t)=>(t===`http`||t===`https`)&&!Te(e)?t+`://`+e:e,ze=(e,t)=>{let n={...t};return oe(e).length===0&&!I(e)&&(n.rel=De(n.rel,n.target===`_blank`)||null),v.from(n.target).isNone()&&ae(e)===!1&&(n.target=N(e)),n.href=Re(n.href,ne(e)),n},Be=(e,t,n,r)=>{n.each(e=>{ve(t,`innerText`)?t.innerText=e:t.textContent=e}),e.dom.setAttribs(t,r),e.selection.select(t)},Ve=(e,t,n,r)=>{let i=e.dom;Le(t)?Xe(i,t,r):n.fold(()=>{e.execCommand(`mceInsertLink`,!1,r)},t=>{e.insertContent(i.createHTML(`a`,r,i.encode(t)))})},He=(e,t,n)=>{let r=e.selection.getNode(),i=ke(e,r),a=ze(e,z(n));e.undoManager.transact(()=>{n.href===t.href&&t.attach(),i.fold(()=>{Ve(e,r,n.text,a)},t=>{e.focus(),Be(e,t,n.text,a)})})},Ue=e=>{let t=e.dom,n=e.selection,r=n.getBookmark(),i=n.getRng().cloneRange(),a=t.getParent(i.startContainer,`a[href]`,e.getBody()),o=t.getParent(i.endContainer,`a[href]`,e.getBody());a&&i.setStartBefore(a),o&&i.setEndAfter(o),n.setRng(i),e.execCommand(`unlink`),n.moveToBookmark(r)},We=e=>{e.undoManager.transact(()=>{let t=e.selection.getNode();Le(t)?Ye(e,t):Ue(e),e.focus()})},Ge=e=>{let{class:t,href:n,rel:r,target:i,text:a,title:o}=e;return _e({class:t.getOrNull(),href:n,rel:r.getOrNull(),target:i.getOrNull(),text:a.getOrNull(),title:o.getOrNull()},(e,t)=>l(e)===!1)},Ke=(e,t)=>{let n=e.options.get,r={allow_html_data_urls:n(`allow_html_data_urls`),allow_script_urls:n(`allow_script_urls`),allow_svg_data_urls:n(`allow_svg_data_urls`)},i=t.href;return{...t,href:xe.isDomSafe(i,`a`,r)?i:``}},qe=(e,t,n)=>{let r=Ke(e,n);e.hasPlugin(`rtc`,!0)?e.execCommand(`createlink`,!1,Ge(r)):He(e,t,r)},Je=e=>{e.hasPlugin(`rtc`,!0)?e.execCommand(`unlink`):We(e)},Ye=(e,t)=>{var n;let r=e.dom.select(`img`,t)[0];if(r){let i=e.dom.getParents(r,`a[href]`,t)[0];i&&((n=i.parentNode)==null||n.insertBefore(r,i),e.dom.remove(i))}},Xe=(e,t,n)=>{var r;let i=e.select(`img`,t)[0];if(i){let t=e.create(`a`,n);(r=i.parentNode)==null||r.insertBefore(t,i),t.appendChild(i)}},Ze=e=>ye(e,`items`),Qe=(e,t)=>O(t,t=>Ze(t)?Qe(e,t.items):te(t.value===e,t)),$e=(e,t,n,r)=>{let i=r[t],a=e.length>0;return i===void 0?v.none():Qe(i,n).map(t=>({url:{value:t.value,meta:{text:a?e:t.text,attach:h}},text:a?e:t.text}))},et=(e,t)=>t===`link`?e.link:t===`anchor`?e.anchor:v.none(),tt={init:(e,t)=>{let n={text:e.text,title:e.title},r=e=>te(n.title.length<=0,v.from(e.meta?.title).getOr(``)),i=e=>te(n.text.length<=0,v.from(e.meta?.text).getOr(e.value)),a=e=>{let t=i(e.url),n=r(e.url);return t.isSome()||n.isSome()?v.some({...t.map(e=>({text:e})).getOr({}),...n.map(e=>({title:e})).getOr({})}):v.none()},o=(e,r)=>{let i=et(t,r).getOr([]);return $e(n.text,r,i,e)};return{onChange:(e,t)=>{let r=t.name;return r===`url`?a(e()):S([`anchor`,`link`],r)?o(e(),r):((r===`text`||r===`title`)&&(n[r]=e()[r]),v.none())}}},getDelta:$e};var nt=tinymce.util.Tools.resolve(`tinymce.util.Delay`);let rt=(e,t,n)=>{let r=e.selection.getRng();nt.setEditorTimeout(e,()=>{e.windowManager.confirm(t,t=>{e.selection.setRng(r),n(t)})})},it=e=>{let t=e.href;return t.indexOf(`@`)>0&&t.indexOf(`/`)===-1&&t.indexOf(`mailto:`)===-1?v.some({message:`The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?`,preprocess:e=>({...e,href:`mailto:`+t})}):v.none()},at=(e,t)=>n=>{let r=n.href;return e===1&&!Te(r)||e===0&&/^\s*www(\.|\d\.)/i.test(r)?v.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+`://`+r})}):v.none()},B={preprocess:(e,t)=>O([it,at(ne(e),ie(e))],e=>e(t)).fold(()=>Promise.resolve(t),n=>new Promise(r=>{rt(e,n.message,e=>{r(e?n.preprocess(t):t)})}))},ot={getAnchors:e=>{let t=D(e.dom.select(`a:not([href])`),e=>{let t=e.name||e.id;return t?[{text:t,value:`#`+t}]:[]});return t.length>0?v.some([{text:`None`,value:``}].concat(t)):v.none()}},st={getClasses:e=>{let t=P(e);return t.length>0?pe.sanitize(t):v.none()}},ct=e=>{try{return v.some(JSON.parse(e))}catch{return v.none()}},V={getLinks:e=>{let t=t=>e.convertURL(t.value||t.url||``,`href`),n=M(e);return new Promise(e=>{o(n)?fetch(n).then(e=>e.ok?e.text().then(ct):Promise.reject()).then(e,()=>e(v.none())):p(n)?n(t=>e(v.some(t))):e(v.from(n))}).then(e=>e.bind(pe.sanitizeWith(t)).map(e=>e.length>0?[{text:`None`,value:``}].concat(e):e))}},lt={getRels:(e,t)=>{let n=oe(e);if(n.length>0){let r=ee(t,`_blank`);return(I(e)===!1?pe.sanitizeWith(e=>De(pe.getValue(e),r)):pe.sanitize)(n)}return v.none()}},ut=[{text:`Current window`,value:``},{text:`New window`,value:`_blank`}],dt={getTargets:e=>{let t=ae(e);return c(t)?pe.sanitize(t).orThunk(()=>v.some(ut)):t===!1?v.none():v.some(ut)}},ft=(e,t,n)=>{let r=e.getAttrib(t,n);return r!==null&&r.length>0?v.some(r):v.none()},pt=(e,t)=>{let n=e.dom,r=Ie(e)?v.some(je(e.selection,t)):v.none(),i=t.bind(e=>v.from(n.getAttrib(e,`href`))),a=t.bind(e=>v.from(n.getAttrib(e,`target`))),o=t.bind(e=>ft(n,e,`rel`)),s=t.bind(e=>ft(n,e,`class`));return{url:i,text:r,title:t.bind(e=>ft(n,e,`title`)),target:a,rel:o,linkClass:s}},mt={collect:(e,t)=>V.getLinks(e).then(n=>{let r=pt(e,t);return{anchor:r,catalogs:{targets:dt.getTargets(e),rels:lt.getRels(e,r.target),classes:st.getClasses(e),anchor:ot.getAnchors(e),link:n},optNode:t,flags:{titleEnabled:F(e)}}})},ht=(e,t)=>n=>{let r=n.getData();if(!r.url.value){Je(e),n.close();return}let i=e=>v.from(r[e]).filter(n=>!ee(t.anchor[e],n)),a={href:r.url.value,text:i(`text`),target:i(`target`),rel:i(`rel`),class:i(`linkClass`),title:i(`title`)},o={href:r.url.value,attach:r.url.meta!==void 0&&r.url.meta.attach?r.url.meta.attach:h};B.preprocess(e,a).then(t=>{qe(e,o,t)}),n.close()},gt=e=>{let t=ke(e);return mt.collect(e,t)},_t=(e,t)=>{let n=e.anchor,r=n.url.getOr(``);return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(``),title:n.title.getOr(``),anchor:r,link:r,rel:n.rel.getOr(``),target:n.target.or(t).getOr(``),linkClass:n.linkClass.getOr(``)}},vt=(e,t,n)=>{let r=[{name:`url`,type:`urlinput`,filetype:`file`,label:`URL`,picker_text:`Browse links`}],i=e.anchor.text.map(()=>({name:`text`,type:`input`,label:`Text to display`})).toArray(),a=e.flags.titleEnabled?[{name:`title`,type:`input`,label:`Title`}]:[],o=_t(e,v.from(N(n))),s=e.catalogs,c=tt.init(o,s);return{title:`Insert/Edit Link`,size:`normal`,body:{type:`panel`,items:E([r,i,a,k([s.anchor.map(pe.createUi(`anchor`,`Anchors`)),s.rels.map(pe.createUi(`rel`,`Rel`)),s.targets.map(pe.createUi(`target`,`Open link in...`)),s.link.map(pe.createUi(`link`,`Link list`)),s.classes.map(pe.createUi(`linkClass`,`Class`))])])},buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],initialData:o,onChange:(e,{name:t})=>{c.onChange(e.getData,{name:t}).each(t=>{e.setData(t)})},onSubmit:t}},yt=e=>{gt(e).then(t=>vt(t,ht(e,t),e)).then(t=>{e.windowManager.open(t)})},bt=e=>{e.addCommand(`mceLink`,(t,n)=>{n?.dialog===!0||!se(e)?yt(e):e.dispatch(`contexttoolbar-show`,{toolbarKey:`quicklink`})})};var xt=tinymce.util.Tools.resolve(`tinymce.util.VK`);let St=(e,t)=>{document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)},Ct=e=>{let t=document.createElement(`a`);t.target=`_blank`,t.href=e,t.rel=`noreferrer noopener`;let n=document.createEvent(`MouseEvents`);n.initMouseEvent(`click`,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),St(t,n)},wt=(e,t)=>e.dom.getParent(t,`a[href]`),Tt=e=>wt(e,e.selection.getStart()),Et=e=>e.altKey===!0&&e.shiftKey===!1&&e.ctrlKey===!1&&e.metaKey===!1,Dt=(e,t)=>{if(t){let n=Ee(t);if(/^#/.test(n)){let t=e.dom.select(n);t.length&&e.selection.scrollIntoView(t[0],!0)}else Ct(t.href)}},Ot=e=>()=>{e.execCommand(`mceLink`,!1,{dialog:!0})},kt=e=>()=>{Dt(e,Tt(e))},At=e=>{e.on(`click`,t=>{let n=wt(e,t.target);n&&xt.metaKeyPressed(t)&&(t.preventDefault(),Dt(e,n))}),e.on(`keydown`,t=>{if(!t.isDefaultPrevented()&&t.keyCode===13&&Et(t)){let n=Tt(e);n&&(t.preventDefault(),Dt(e,n))}})},jt=(e,t)=>(e.on(`NodeChange`,t),()=>e.off(`NodeChange`,t)),Mt=e=>t=>{let n=()=>{t.setActive(!e.mode.isReadOnly()&&Ae(e,e.selection.getNode())),t.setEnabled(e.selection.isEditable())};return n(),jt(e,n)},Nt=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return n(),jt(e,n)},Pt=e=>(e.selection.isCollapsed()?Ne(e.dom.getParents(e.selection.getStart())):Me(e.selection.getRng())).length===1,Ft=e=>t=>{let n=()=>t.setEnabled(Pt(e));return n(),jt(e,n)},It=e=>t=>{let n=t=>Pe(t)||Fe(e.selection.getRng()),r=e.dom.getParents(e.selection.getStart()),i=r=>{t.setEnabled(n(r)&&e.selection.isEditable())};return i(r),jt(e,e=>i(e.parents))},Lt=e=>{e.addShortcut(`Meta+K`,``,()=>{e.execCommand(`mceLink`)})},Rt=e=>{e.ui.registry.addToggleButton(`link`,{icon:`link`,tooltip:`Insert/edit link`,onAction:Ot(e),onSetup:Mt(e)}),e.ui.registry.addButton(`openlink`,{icon:`new-tab`,tooltip:`Open link`,onAction:kt(e),onSetup:Ft(e)}),e.ui.registry.addButton(`unlink`,{icon:`unlink`,tooltip:`Remove link`,onAction:()=>Je(e),onSetup:It(e)})},zt=e=>{e.ui.registry.addMenuItem(`openlink`,{text:`Open link`,icon:`new-tab`,onAction:kt(e),onSetup:Ft(e)}),e.ui.registry.addMenuItem(`link`,{icon:`link`,text:`Link...`,shortcut:`Meta+K`,onSetup:Nt(e),onAction:Ot(e)}),e.ui.registry.addMenuItem(`unlink`,{icon:`unlink`,text:`Remove link`,onAction:()=>Je(e),onSetup:It(e)})},Bt=e=>{e.ui.registry.addContextMenu(`link`,{update:t=>e.dom.isEditable(t)?Pe(e.dom.getParents(t,`a`))?`link unlink openlink`:`link`:``})},Vt=e=>{let t=e=>{e.selection.collapse(!1)},n=t=>{let n=e.selection.getNode();return t.setEnabled(Ae(e,n)),h},r=t=>{let n=ke(e),r=Ie(e);return n.isNone()&&r?te(je(e.selection,n).length===0,t):v.none()};e.ui.registry.addContextForm(`quicklink`,{launch:{type:`contextformtogglebutton`,icon:`link`,tooltip:`Link`,onSetup:Mt(e)},label:`Link`,predicate:t=>re(e)&&Ae(e,t),initValue:()=>ke(e).fold(g(``),Ee),commands:[{type:`contextformtogglebutton`,icon:`link`,tooltip:`Link`,primary:!0,onSetup:t=>{let n=e.selection.getNode();return t.setActive(Ae(e,n)),Mt(e)(t)},onAction:n=>{let i=n.getValue(),a=r(i);qe(e,{href:i,attach:h},{href:i,text:a,title:v.none(),rel:v.none(),target:v.none(),class:v.none()}),t(e),n.hide()}},{type:`contextformbutton`,icon:`unlink`,tooltip:`Remove link`,onSetup:n,onAction:t=>{Je(e),t.hide()}},{type:`contextformbutton`,icon:`new-tab`,tooltip:`Open link`,onSetup:n,onAction:t=>{kt(e)(),t.hide()}}]})};e.add(`link`,e=>{j(e),Rt(e),zt(e),Bt(e),Vt(e),At(e),bt(e),Lt(e)})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=Object.getPrototypeOf,n=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,r=e=>{let t=typeof e;return e===null?`null`:t===`object`&&Array.isArray(e)?`array`:t===`object`&&n(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:t},i=e=>t=>r(t)===e,a=e=>t=>typeof t===e,o=e=>t=>e===t,s=(e,r)=>l(e)&&n(e,r,(e,n)=>t(e)===n),c=i(`string`),l=i(`object`),u=e=>s(e,Object),d=i(`array`),f=o(null),p=a(`boolean`),m=e=>e==null,h=e=>!m(e),g=a(`function`),_=a(`number`),v=(e,t)=>{if(d(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},y=()=>{};class b{constructor(e,t){this.tag=e,this.value=t}static some(e){return new b(!0,e)}static none(){return b.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?b.some(e(this.value)):b.none()}bind(e){return this.tag?e(this.value):b.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:b.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return h(e)?b.some(e):b.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}b.singletonNone=new b(!1);let x=Object.keys,S=Object.hasOwnProperty,C=(e,t)=>{let n=x(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},w=e=>(t,n)=>{e[n]=t},T=(e,t,n,r)=>{C(e,(e,i)=>{(t(e,i)?n:r)(e,i)})},E=(e,t)=>{let n={};return T(e,t,w(n),y),n},D=(e,t)=>S.call(e,t),O=(e,t)=>D(e,t)&&e[t]!==void 0&&e[t]!==null,ee=Array.prototype.push,k=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!d(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);ee.apply(t,e[n])}return t},te=(e,t)=>t>=0&&t<e.length?b.some(e[t]):b.none(),A=e=>te(e,0),j=(e,t)=>{for(let n=0;n<e.length;n++){let r=t(e[n],n);if(r.isSome())return r}return b.none()};typeof window<`u`?window:Function(`return this;`)();let ne=(e,t,n)=>{if(c(n)||p(n)||_(n))e.setAttribute(t,n+``);else throw console.error(`Invalid call to Attribute.set. Key `,t,`:: Value `,n,`:: Element `,e),Error(`Attribute value was not simple`)},re=(e,t,n)=>{ne(e.dom,t,n)},M=(e,t)=>{e.dom.removeAttribute(t)},N=(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return oe(n.childNodes[0])},ie=(e,t)=>oe((t||document).createElement(e)),ae=(e,t)=>oe((t||document).createTextNode(e)),oe=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},P={fromHtml:N,fromTag:ie,fromText:ae,fromDom:oe,fromPoint:(e,t,n)=>b.from(e.dom.elementFromPoint(t,n)).map(oe)};var F=tinymce.util.Tools.resolve(`tinymce.dom.DOMUtils`),I=tinymce.util.Tools.resolve(`tinymce.util.URI`);let se=e=>e.length>0,ce=e=>t=>t.options.get(e),le=e=>{let t=e.options.register;t(`image_dimensions`,{processor:`boolean`,default:!0}),t(`image_advtab`,{processor:`boolean`,default:!1}),t(`image_uploadtab`,{processor:`boolean`,default:!0}),t(`image_prepend_url`,{processor:`string`,default:``}),t(`image_class_list`,{processor:`object[]`}),t(`image_description`,{processor:`boolean`,default:!0}),t(`image_title`,{processor:`boolean`,default:!1}),t(`image_caption`,{processor:`boolean`,default:!1}),t(`image_list`,{processor:e=>{let t=e===!1||c(e)||v(e,l)||g(e);return t?{value:e,valid:t}:{valid:!1,message:`Must be false, a string, an array or a function.`}},default:!1})},ue=ce(`image_dimensions`),de=ce(`image_advtab`),fe=ce(`image_uploadtab`),pe=ce(`image_prepend_url`),me=ce(`image_class_list`),L=ce(`image_description`),he=ce(`image_title`),ge=ce(`image_caption`),R=ce(`image_list`),_e=ce(`a11y_advanced_options`),ve=ce(`automatic_uploads`),ye=e=>se(e.options.get(`images_upload_url`)),be=e=>h(e.options.get(`images_upload_handler`)),xe=(e,t)=>Math.max(parseInt(e,10),parseInt(t,10)),Se=e=>new Promise(t=>{let n=document.createElement(`img`),r=e=>{n.onload=n.onerror=null,n.parentNode&&n.parentNode.removeChild(n),t(e)};n.onload=()=>{let e={width:xe(n.width,n.clientWidth),height:xe(n.height,n.clientHeight)};r(Promise.resolve(e))},n.onerror=()=>{r(Promise.reject(`Failed to get image dimensions for: ${e}`))};let i=n.style;i.visibility=`hidden`,i.position=`fixed`,i.bottom=i.left=`0px`,i.width=i.height=`auto`,document.body.appendChild(n),n.src=e}),Ce=e=>(e&&=e.replace(/px$/,``),e),we=e=>(e.length>0&&/^[0-9]+$/.test(e)&&(e+=`px`),e),Te=e=>{if(e.margin){let t=String(e.margin).split(` `);switch(t.length){case 1:e[`margin-top`]=e[`margin-top`]||t[0],e[`margin-right`]=e[`margin-right`]||t[0],e[`margin-bottom`]=e[`margin-bottom`]||t[0],e[`margin-left`]=e[`margin-left`]||t[0];break;case 2:e[`margin-top`]=e[`margin-top`]||t[0],e[`margin-right`]=e[`margin-right`]||t[1],e[`margin-bottom`]=e[`margin-bottom`]||t[0],e[`margin-left`]=e[`margin-left`]||t[1];break;case 3:e[`margin-top`]=e[`margin-top`]||t[0],e[`margin-right`]=e[`margin-right`]||t[1],e[`margin-bottom`]=e[`margin-bottom`]||t[2],e[`margin-left`]=e[`margin-left`]||t[1];break;case 4:e[`margin-top`]=e[`margin-top`]||t[0],e[`margin-right`]=e[`margin-right`]||t[1],e[`margin-bottom`]=e[`margin-bottom`]||t[2],e[`margin-left`]=e[`margin-left`]||t[3]}delete e.margin}return e},Ee=(e,t)=>{let n=R(e);c(n)?fetch(n).then(e=>{e.ok&&e.json().then(t)}):g(n)?n(t):t(n)},De=(e,t,n)=>{let r=()=>{n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=()=>{!t.width&&!t.height&&ue(e)&&e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},Oe=e=>new Promise((t,n)=>{let r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=()=>{n(r.error?.message)},r.readAsDataURL(e)}),ke=e=>e.nodeName===`IMG`&&(e.hasAttribute(`data-mce-object`)||e.hasAttribute(`data-mce-placeholder`)),Ae=(e,t)=>{let n=e.options.get;return I.isDomSafe(t,`img`,{allow_html_data_urls:n(`allow_html_data_urls`),allow_script_urls:n(`allow_script_urls`),allow_svg_data_urls:n(`allow_svg_data_urls`)})},je=F.DOM,Me=e=>e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?Ce(e.style.marginLeft):``,Ne=e=>e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?Ce(e.style.marginTop):``,Pe=e=>e.style.borderWidth?Ce(e.style.borderWidth):``,Fe=(e,t)=>e.hasAttribute(t)?e.getAttribute(t)??``:``,Ie=e=>e.parentNode!==null&&e.parentNode.nodeName===`FIGURE`,Le=(e,t,n)=>{n===``||n===null?e.removeAttribute(t):e.setAttribute(t,n)},z=e=>{let t=je.create(`figure`,{class:`image`});je.insertAfter(t,e),t.appendChild(e),t.appendChild(je.create(`figcaption`,{contentEditable:`true`},`Caption`)),t.contentEditable=`false`},Re=e=>{let t=e.parentNode;h(t)&&(je.insertAfter(e,t),je.remove(t))},ze=e=>{Ie(e)?Re(e):z(e)},Be=(e,t)=>{let n=e.getAttribute(`style`),r=t(n===null?``:n);r.length>0?(e.setAttribute(`style`,r),e.setAttribute(`data-mce-style`,r)):e.removeAttribute(`style`)},Ve=(e,t)=>(e,n,r)=>{let i=e.style;i[n]?(i[n]=we(r),Be(e,t)):Le(e,n,r)},He=(e,t)=>e.style[t]?Ce(e.style[t]):Fe(e,t),Ue=(e,t)=>{let n=we(t);e.style.marginLeft=n,e.style.marginRight=n},We=(e,t)=>{let n=we(t);e.style.marginTop=n,e.style.marginBottom=n},Ge=(e,t)=>{let n=we(t);e.style.borderWidth=n},Ke=(e,t)=>{e.style.borderStyle=t},qe=e=>e.style.borderStyle??``,Je=e=>h(e)&&e.nodeName===`FIGURE`,Ye=e=>e.nodeName===`IMG`,Xe=e=>je.getAttrib(e,`alt`).length===0&&je.getAttrib(e,`role`)===`presentation`,Ze=e=>Xe(e)?``:Fe(e,`alt`),Qe=()=>({src:``,alt:``,title:``,width:``,height:``,class:``,style:``,caption:!1,hspace:``,vspace:``,border:``,borderStyle:``,isDecorative:!1}),$e=(e,t)=>{let n=document.createElement(`img`);return Le(n,`style`,t.style),(Me(n)||t.hspace!==``)&&Ue(n,t.hspace),(Ne(n)||t.vspace!==``)&&We(n,t.vspace),(Pe(n)||t.border!==``)&&Ge(n,t.border),(qe(n)||t.borderStyle!==``)&&Ke(n,t.borderStyle),e(n.getAttribute(`style`)??``)},et=(e,t)=>{let n=document.createElement(`img`);if(B(e,{...t,caption:!1},n),rt(n,t.alt,t.isDecorative),t.caption){let e=je.create(`figure`,{class:`image`});return e.appendChild(n),e.appendChild(je.create(`figcaption`,{contentEditable:`true`},`Caption`)),e.contentEditable=`false`,e}else return n},tt=(e,t)=>({src:Fe(t,`src`),alt:Ze(t),title:Fe(t,`title`),width:He(t,`width`),height:He(t,`height`),class:Fe(t,`class`),style:e(Fe(t,`style`)),caption:Ie(t),hspace:Me(t),vspace:Ne(t),border:Pe(t),borderStyle:qe(t),isDecorative:Xe(t)}),nt=(e,t,n,r,i)=>{n[r]!==t[r]&&i(e,r,String(n[r]))},rt=(e,t,n)=>{n?(je.setAttrib(e,`role`,`presentation`),re(P.fromDom(e),`alt`,``)):(f(t)?M(P.fromDom(e),`alt`):re(P.fromDom(e),`alt`,t),je.getAttrib(e,`role`)===`presentation`&&je.setAttrib(e,`role`,``))},it=(e,t,n)=>{(n.alt!==t.alt||n.isDecorative!==t.isDecorative)&&rt(e,n.alt,n.isDecorative)},at=(e,t)=>(n,r,i)=>{e(n,i),Be(n,t)},B=(e,t,n)=>{let r=tt(e,n);nt(n,r,t,`caption`,(e,t,n)=>ze(e)),nt(n,r,t,`src`,Le),nt(n,r,t,`title`,Le),nt(n,r,t,`width`,Ve(`width`,e)),nt(n,r,t,`height`,Ve(`height`,e)),nt(n,r,t,`class`,Le),nt(n,r,t,`style`,at((e,t)=>Le(e,`style`,t),e)),nt(n,r,t,`hspace`,at(Ue,e)),nt(n,r,t,`vspace`,at(We,e)),nt(n,r,t,`border`,at(Ge,e)),nt(n,r,t,`borderStyle`,at(Ke,e)),it(n,r,t)},ot=(e,t)=>{let n=Te(e.dom.styles.parse(t)),r=e.dom.styles.parse(e.dom.styles.serialize(n));return e.dom.styles.serialize(r)},st=e=>{let t=e.selection.getNode(),n=e.dom.getParent(t,`figure.image`);return n?e.dom.select(`img`,n)[0]:t&&(t.nodeName!==`IMG`||ke(t))?null:t},ct=(e,t)=>{let n=e.dom,r=E(e.schema.getTextBlockElements(),(t,n)=>!e.schema.isValidChild(n,`figure`)),i=n.getParent(t.parentNode,e=>O(r,e.nodeName),e.getBody());return i?n.split(i,t)??t:t},V=e=>{let t=st(e);return t?tt(t=>ot(e,t),t):Qe()},lt=(e,t)=>{let n=et(t=>ot(e,t),t);e.dom.setAttrib(n,`data-mce-id`,`__mcenew`),e.focus(),e.selection.setContent(n.outerHTML);let r=e.dom.select(`*[data-mce-id="__mcenew"]`)[0];if(e.dom.setAttrib(r,`data-mce-id`,null),Je(r)){let t=ct(e,r);e.selection.select(t)}else e.selection.select(r)},ut=(e,t)=>{e.dom.setAttrib(t,`src`,t.getAttribute(`src`))},dt=(e,t)=>{if(t){let n=e.dom.is(t.parentNode,`figure.image`)?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(``),e.selection.setCursorLocation())}},ft=(e,t)=>{let n=st(e);if(n)if(B(t=>ot(e,t),t,n),ut(e,n),Je(n.parentNode)){let t=n.parentNode;ct(e,t),e.selection.select(n.parentNode)}else e.selection.select(n),De(e,t,n)},pt=(e,t)=>{let n=t.src;return{...t,src:Ae(e,n)?n:``}},mt=(e,t)=>{let n=st(e);if(n){let r={...tt(t=>ot(e,t),n),...t},i=pt(e,r);r.src?ft(e,i):dt(e,n)}else t.src&&lt(e,{...Qe(),...t})},ht=(e=>(...t)=>{if(t.length===0)throw Error(`Can't merge zero objects`);let n={};for(let r=0;r<t.length;r++){let i=t[r];for(let t in i)D(i,t)&&(n[t]=e(n[t],i[t]))}return n})((e,t)=>u(e)&&u(t)?ht(e,t):t);var gt=tinymce.util.Tools.resolve(`tinymce.util.ImageUploader`),_t=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let vt=e=>c(e.value)?e.value:``,yt=e=>c(e.text)?e.text:c(e.title)?e.title:``,bt=(e,t)=>{let n=[];return _t.each(e,e=>{let r=yt(e);if(e.menu!==void 0){let i=bt(e.menu,t);n.push({text:r,items:i})}else{let i=t(e);n.push({text:r,value:i})}}),n},xt=(e=vt)=>t=>t?b.from(t).map(t=>bt(t,e)):b.none(),St=e=>xt(vt)(e),Ct=e=>D(e,`items`),wt=(e,t)=>j(e,e=>Ct(e)?wt(e.items,t):e.value===t?b.some(e):b.none()),Tt={sanitizer:xt,sanitize:St,findEntry:(e,t)=>e.bind(e=>wt(e,t))},Et={makeTab:e=>({title:`Advanced`,name:`advanced`,items:[{type:`grid`,columns:2,items:[{type:`input`,label:`Vertical space`,name:`vspace`,inputMode:`numeric`},{type:`input`,label:`Horizontal space`,name:`hspace`,inputMode:`numeric`},{type:`input`,label:`Border width`,name:`border`,inputMode:`numeric`},{type:`listbox`,name:`borderstyle`,label:`Border style`,items:[{text:`Select...`,value:``},{text:`Solid`,value:`solid`},{text:`Dotted`,value:`dotted`},{text:`Dashed`,value:`dashed`},{text:`Double`,value:`double`},{text:`Groove`,value:`groove`},{text:`Ridge`,value:`ridge`},{text:`Inset`,value:`inset`},{text:`Outset`,value:`outset`},{text:`None`,value:`none`},{text:`Hidden`,value:`hidden`}]}]}]})},Dt=e=>{let t=Tt.sanitizer(t=>e.convertURL(t.value||t.url||``,`src`)),n=new Promise(n=>{Ee(e,e=>{n(t(e).map(e=>k([[{text:`None`,value:``}],e])))})}),r=Tt.sanitize(me(e)),i=de(e),a=fe(e),o=ye(e),s=be(e),l=V(e),u=L(e),d=he(e),f=ue(e),p=ge(e),m=_e(e),h=ve(e),g=b.some(pe(e)).filter(e=>c(e)&&e.length>0);return n.then(e=>({image:l,imageList:e,classList:r,hasAdvTab:i,hasUploadTab:a,hasUploadUrl:o,hasUploadHandler:s,hasDescription:u,hasImageTitle:d,hasDimensions:f,hasImageCaption:p,prependURL:g,hasAccessibilityOptions:m,automaticUploads:h}))},Ot=e=>{let t={name:`src`,type:`urlinput`,filetype:`image`,label:`Source`,picker_text:`Browse files`},n=e.imageList.map(e=>({name:`images`,type:`listbox`,label:`Image list`,items:e})),r={name:`alt`,type:`input`,label:`Alternative description`,enabled:!(e.hasAccessibilityOptions&&e.image.isDecorative)},i={name:`title`,type:`input`,label:`Image title`},a={name:`dimensions`,type:`sizeinput`},o={type:`label`,label:`Accessibility`,items:[{name:`isDecorative`,type:`checkbox`,label:`Image is decorative`}]},s=e.classList.map(e=>({name:`classes`,type:`listbox`,label:`Class`,items:e})),c={type:`label`,label:`Caption`,items:[{type:`checkbox`,name:`caption`,label:`Show caption`}]};return k([[t],n.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[o]:[],e.hasDescription?[r]:[],e.hasImageTitle?[i]:[],e.hasDimensions?[a]:[],[{...(e=>e?{type:`grid`,columns:2}:{type:`panel`})(e.classList.isSome()&&e.hasImageCaption),items:k([s.toArray(),e.hasImageCaption?[c]:[]])}]])},kt={makeTab:e=>({title:`General`,name:`general`,items:Ot(e)}),makeItems:Ot},At={makeTab:e=>({title:`Upload`,name:`upload`,items:[{type:`dropzone`,name:`fileinput`}]})},jt=e=>({prevImage:Tt.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}),Mt=e=>({src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}),Nt=(e,t)=>({src:e.src.value,alt:(e.alt===null||e.alt.length===0)&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}),Pt=(e,t)=>/^(?:[a-zA-Z]+:)?\/\//.test(t)?b.none():e.prependURL.bind(e=>t.substring(0,e.length)===e?b.none():b.some(e+t)),Ft=(e,t)=>{let n=t.getData();Pt(e,n.src.value).each(e=>{t.setData({src:{value:e,meta:n.src.meta}})})},It=(e,t,n)=>{e.hasDescription&&c(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&c(n.title)&&(t.title=n.title),e.hasDimensions&&(c(n.width)&&(t.dimensions.width=n.width),c(n.height)&&(t.dimensions.height=n.height)),c(n.class)&&Tt.findEntry(e.classList,n.class).each(e=>{t.classes=e.value}),e.hasImageCaption&&p(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(c(n.style)&&(t.style=n.style),c(n.vspace)&&(t.vspace=n.vspace),c(n.border)&&(t.border=n.border),c(n.hspace)&&(t.hspace=n.hspace),c(n.borderstyle)&&(t.borderstyle=n.borderstyle))},Lt=(e,t)=>{let n=t.getData(),r=n.src.meta;if(r!==void 0){let i=ht({},n);It(e,i,r),t.setData(i)}},Rt=(e,t,n,r)=>{let i=r.getData(),a=i.src.value,o=i.src.meta||{};!o.width&&!o.height&&t.hasDimensions&&(se(a)?e.imageSize(a).then(e=>{n.open&&r.setData({dimensions:e})}).catch(e=>console.error(e)):r.setData({dimensions:{width:``,height:``}}))},zt=(e,t,n)=>{let r=n.getData(),i=Tt.findEntry(e.imageList,r.src.value);t.prevImage=i,n.setData({images:i.map(e=>e.value).getOr(``)})},Bt=(e,t,n,r)=>{Ft(t,r),Lt(t,r),Rt(e,t,n,r),zt(t,n,r)},Vt=(e,t,n,r)=>{let i=r.getData(),a=Tt.findEntry(t.imageList,i.images);a.each(e=>{i.alt===``||n.prevImage.map(e=>e.text===i.alt).getOr(!1)?e.value===``?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})}),n.prevImage=a,Bt(e,t,n,r)},Ht=(e,t,n,r)=>{let i=r.getData();r.block(`Uploading image`),A(i.fileinput).fold(()=>{r.unblock()},i=>{let a=URL.createObjectURL(i),o=()=>{r.unblock(),URL.revokeObjectURL(a)},s=i=>{r.setData({src:{value:i,meta:{}}}),r.showTab(`general`),Bt(e,t,n,r)};Oe(i).then(n=>{let c=e.createBlobCache(i,a,n);t.automaticUploads?e.uploadImage(c).then(e=>{s(e.url),o()}).catch(t=>{o(),e.alertErr(t)}):(e.addToBlobCache(c),s(c.blobUri()),r.unblock())})})},Ut=(e,t,n)=>(r,i)=>{i.name===`src`?Bt(e,t,n,r):i.name===`images`?Vt(e,t,n,r):i.name===`alt`?n.prevAlt=r.getData().alt:i.name===`fileinput`?Ht(e,t,n,r):i.name===`isDecorative`&&r.setEnabled(`alt`,!r.getData().isDecorative)},Wt=e=>()=>{e.open=!1},Gt=e=>e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler?{type:`tabpanel`,tabs:k([[kt.makeTab(e)],e.hasAdvTab?[Et.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[At.makeTab(e)]:[]])}:{type:`panel`,items:kt.makeItems(e)},Kt=(e,t,n)=>r=>{let i=ht(Mt(t.image),r.getData()),a={...i,style:$e(n.normalizeCss,Nt(i,!1))};e.execCommand(`mceUpdateImage`,!1,Nt(a,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),r.close()},qt=e=>t=>Ae(e,t)?Se(e.documentBaseURI.toAbsolute(t)).then(e=>({width:String(e.width),height:String(e.height)})):Promise.resolve({width:``,height:``}),Jt=e=>(t,n,r)=>e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?.replace(/\.[^\.]+$/,``),filename:t.name,base64:r.split(`,`)[1]}),Yt=e=>t=>{e.editorUpload.blobCache.add(t)},Xt=e=>t=>{e.windowManager.alert(t)},Zt=e=>t=>ot(e,t),Qt=e=>t=>e.dom.parseStyle(t),$t=e=>(t,n)=>e.dom.serializeStyle(t,n),en=e=>t=>gt(e).upload([t],!1).then(e=>e.length===0?Promise.reject(`Failed to upload image`):e[0].status===!1?Promise.reject(e[0].error?.message):e[0]),tn=e=>{let t={imageSize:qt(e),addToBlobCache:Yt(e),createBlobCache:Jt(e),alertErr:Xt(e),normalizeCss:Zt(e),parseStyle:Qt(e),serializeStyle:$t(e),uploadImage:en(e)};return{open:()=>{Dt(e).then(n=>{let r=jt(n);return{title:`Insert/Edit Image`,size:`normal`,body:Gt(n),buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],initialData:Mt(n.image),onSubmit:Kt(e,n,t),onChange:Ut(t,n,r),onClose:Wt(r)}}).then(e.windowManager.open)}}},nn=e=>{e.addCommand(`mceImage`,tn(e).open),e.addCommand(`mceUpdateImage`,(t,n)=>{e.undoManager.transact(()=>mt(e,n))})},rn=e=>{let t=e.attr(`class`);return h(t)&&/\bimage\b/.test(t)},an=e=>t=>{let n=t.length,r=t=>{t.attr(`contenteditable`,e?`true`:null)};for(;n--;){let i=t[n];rn(i)&&(i.attr(`contenteditable`,e?`false`:null),_t.each(i.getAll(`figcaption`),r))}},on=e=>{e.on(`PreInit`,()=>{e.parser.addNodeFilter(`figure`,an(!0)),e.serializer.addNodeFilter(`figure`,an(!1))})},sn=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return e.on(`NodeChange`,n),n(),()=>{e.off(`NodeChange`,n)}},cn=e=>{e.ui.registry.addToggleButton(`image`,{icon:`image`,tooltip:`Insert/edit image`,onAction:tn(e).open,onSetup:t=>{t.setActive(h(st(e)));let n=e.selection.selectorChangedWithUnbind(`img:not([data-mce-object]):not([data-mce-placeholder]),figure.image`,t.setActive).unbind,r=sn(e)(t);return()=>{n(),r()}}}),e.ui.registry.addMenuItem(`image`,{icon:`image`,text:`Image...`,onAction:tn(e).open,onSetup:sn(e)}),e.ui.registry.addContextMenu(`image`,{update:t=>e.selection.isEditable()&&(Je(t)||Ye(t)&&!ke(t))?[`image`]:[]})};e.add(`image`,e=>{le(e),on(e),cn(e),nn(e)})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=(e,t)=>e.dispatch(`insertCustomChar`,{chr:t}),n=(e,n)=>{let r=t(e,n).chr;e.execCommand(`mceInsertContent`,!1,r)},r=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,i=e=>{let t=typeof e;return e===null?`null`:t===`object`&&Array.isArray(e)?`array`:t===`object`&&r(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:t},a=e=>t=>i(t)===e,o=e=>t=>typeof t===e,s=e=>t=>e===t,c=a(`array`),l=s(null),u=s(void 0),d=e=>e==null,f=e=>!d(e),p=o(`function`),m=(e=>()=>e)(!1);class h{constructor(e,t){this.tag=e,this.value=t}static some(e){return new h(!0,e)}static none(){return h.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?h.some(e(this.value)):h.none()}bind(e){return this.tag?e(this.value):h.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:h.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return f(e)?h.some(e):h.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}h.singletonNone=new h(!1);let g=Array.prototype.push,_=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},v=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},y=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return h.some(i);if(n(i,r))break}return h.none()},b=(e,t)=>y(e,t,m),x=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!c(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);g.apply(t,e[n])}return t},S=(e,t)=>x(_(e,t));var C=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let w=e=>t=>t.options.get(e),T=e=>{let t=e.options.register,n=e=>p(e)||c(e);t(`charmap`,{processor:n}),t(`charmap_append`,{processor:n})},E=w(`charmap`),D=w(`charmap_append`),O=C.isArray,ee=`User Defined`,k=()=>[{name:`Currency`,characters:[[36,`dollar sign`],[162,`cent sign`],[8364,`euro sign`],[163,`pound sign`],[165,`yen sign`],[164,`currency sign`],[8352,`euro-currency sign`],[8353,`colon sign`],[8354,`cruzeiro sign`],[8355,`french franc sign`],[8356,`lira sign`],[8357,`mill sign`],[8358,`naira sign`],[8359,`peseta sign`],[8360,`rupee sign`],[8361,`won sign`],[8362,`new sheqel sign`],[8363,`dong sign`],[8365,`kip sign`],[8366,`tugrik sign`],[8367,`drachma sign`],[8368,`german penny symbol`],[8369,`peso sign`],[8370,`guarani sign`],[8371,`austral sign`],[8372,`hryvnia sign`],[8373,`cedi sign`],[8374,`livre tournois sign`],[8375,`spesmilo sign`],[8376,`tenge sign`],[8377,`indian rupee sign`],[8378,`turkish lira sign`],[8379,`nordic mark sign`],[8380,`manat sign`],[8381,`ruble sign`],[20870,`yen character`],[20803,`yuan character`],[22291,`yuan character, in hong kong and taiwan`],[22278,`yen/yuan character variant one`]]},{name:`Text`,characters:[[169,`copyright sign`],[174,`registered sign`],[8482,`trade mark sign`],[8240,`per mille sign`],[181,`micro sign`],[183,`middle dot`],[8226,`bullet`],[8230,`three dot leader`],[8242,`minutes / feet`],[8243,`seconds / inches`],[167,`section sign`],[182,`paragraph sign`],[223,`sharp s / ess-zed`]]},{name:`Quotations`,characters:[[8249,`single left-pointing angle quotation mark`],[8250,`single right-pointing angle quotation mark`],[171,`left pointing guillemet`],[187,`right pointing guillemet`],[8216,`left single quotation mark`],[8217,`right single quotation mark`],[8220,`left double quotation mark`],[8221,`right double quotation mark`],[8218,`single low-9 quotation mark`],[8222,`double low-9 quotation mark`],[60,`less-than sign`],[62,`greater-than sign`],[8804,`less-than or equal to`],[8805,`greater-than or equal to`],[8211,`en dash`],[8212,`em dash`],[175,`macron`],[8254,`overline`],[164,`currency sign`],[166,`broken bar`],[168,`diaeresis`],[161,`inverted exclamation mark`],[191,`turned question mark`],[710,`circumflex accent`],[732,`small tilde`],[176,`degree sign`],[8722,`minus sign`],[177,`plus-minus sign`],[247,`division sign`],[8260,`fraction slash`],[215,`multiplication sign`],[185,`superscript one`],[178,`superscript two`],[179,`superscript three`],[188,`fraction one quarter`],[189,`fraction one half`],[190,`fraction three quarters`]]},{name:`Mathematical`,characters:[[402,`function / florin`],[8747,`integral`],[8721,`n-ary sumation`],[8734,`infinity`],[8730,`square root`],[8764,`similar to`],[8773,`approximately equal to`],[8776,`almost equal to`],[8800,`not equal to`],[8801,`identical to`],[8712,`element of`],[8713,`not an element of`],[8715,`contains as member`],[8719,`n-ary product`],[8743,`logical and`],[8744,`logical or`],[172,`not sign`],[8745,`intersection`],[8746,`union`],[8706,`partial differential`],[8704,`for all`],[8707,`there exists`],[8709,`diameter`],[8711,`backward difference`],[8727,`asterisk operator`],[8733,`proportional to`],[8736,`angle`]]},{name:`Extended Latin`,characters:[[192,`A - grave`],[193,`A - acute`],[194,`A - circumflex`],[195,`A - tilde`],[196,`A - diaeresis`],[197,`A - ring above`],[256,`A - macron`],[198,`ligature AE`],[199,`C - cedilla`],[200,`E - grave`],[201,`E - acute`],[202,`E - circumflex`],[203,`E - diaeresis`],[274,`E - macron`],[204,`I - grave`],[205,`I - acute`],[206,`I - circumflex`],[207,`I - diaeresis`],[298,`I - macron`],[208,`ETH`],[209,`N - tilde`],[210,`O - grave`],[211,`O - acute`],[212,`O - circumflex`],[213,`O - tilde`],[214,`O - diaeresis`],[216,`O - slash`],[332,`O - macron`],[338,`ligature OE`],[352,`S - caron`],[217,`U - grave`],[218,`U - acute`],[219,`U - circumflex`],[220,`U - diaeresis`],[362,`U - macron`],[221,`Y - acute`],[376,`Y - diaeresis`],[562,`Y - macron`],[222,`THORN`],[224,`a - grave`],[225,`a - acute`],[226,`a - circumflex`],[227,`a - tilde`],[228,`a - diaeresis`],[229,`a - ring above`],[257,`a - macron`],[230,`ligature ae`],[231,`c - cedilla`],[232,`e - grave`],[233,`e - acute`],[234,`e - circumflex`],[235,`e - diaeresis`],[275,`e - macron`],[236,`i - grave`],[237,`i - acute`],[238,`i - circumflex`],[239,`i - diaeresis`],[299,`i - macron`],[240,`eth`],[241,`n - tilde`],[242,`o - grave`],[243,`o - acute`],[244,`o - circumflex`],[245,`o - tilde`],[246,`o - diaeresis`],[248,`o slash`],[333,`o macron`],[339,`ligature oe`],[353,`s - caron`],[249,`u - grave`],[250,`u - acute`],[251,`u - circumflex`],[252,`u - diaeresis`],[363,`u - macron`],[253,`y - acute`],[254,`thorn`],[255,`y - diaeresis`],[563,`y - macron`],[913,`Alpha`],[914,`Beta`],[915,`Gamma`],[916,`Delta`],[917,`Epsilon`],[918,`Zeta`],[919,`Eta`],[920,`Theta`],[921,`Iota`],[922,`Kappa`],[923,`Lambda`],[924,`Mu`],[925,`Nu`],[926,`Xi`],[927,`Omicron`],[928,`Pi`],[929,`Rho`],[931,`Sigma`],[932,`Tau`],[933,`Upsilon`],[934,`Phi`],[935,`Chi`],[936,`Psi`],[937,`Omega`],[945,`alpha`],[946,`beta`],[947,`gamma`],[948,`delta`],[949,`epsilon`],[950,`zeta`],[951,`eta`],[952,`theta`],[953,`iota`],[954,`kappa`],[955,`lambda`],[956,`mu`],[957,`nu`],[958,`xi`],[959,`omicron`],[960,`pi`],[961,`rho`],[962,`final sigma`],[963,`sigma`],[964,`tau`],[965,`upsilon`],[966,`phi`],[967,`chi`],[968,`psi`],[969,`omega`]]},{name:`Symbols`,characters:[[8501,`alef symbol`],[982,`pi symbol`],[8476,`real part symbol`],[978,`upsilon - hook symbol`],[8472,`Weierstrass p`],[8465,`imaginary part`]]},{name:`Arrows`,characters:[[8592,`leftwards arrow`],[8593,`upwards arrow`],[8594,`rightwards arrow`],[8595,`downwards arrow`],[8596,`left right arrow`],[8629,`carriage return`],[8656,`leftwards double arrow`],[8657,`upwards double arrow`],[8658,`rightwards double arrow`],[8659,`downwards double arrow`],[8660,`left right double arrow`],[8756,`therefore`],[8834,`subset of`],[8835,`superset of`],[8836,`not a subset of`],[8838,`subset of or equal to`],[8839,`superset of or equal to`],[8853,`circled plus`],[8855,`circled times`],[8869,`perpendicular`],[8901,`dot operator`],[8968,`left ceiling`],[8969,`right ceiling`],[8970,`left floor`],[8971,`right floor`],[9001,`left-pointing angle bracket`],[9002,`right-pointing angle bracket`],[9674,`lozenge`],[9824,`black spade suit`],[9827,`black club suit`],[9829,`black heart suit`],[9830,`black diamond suit`],[8194,`en space`],[8195,`em space`],[8201,`thin space`],[8204,`zero width non-joiner`],[8205,`zero width joiner`],[8206,`left-to-right mark`],[8207,`right-to-left mark`]]}],te=e=>C.grep(e,e=>O(e)&&e.length===2),A=e=>O(e)?te(e):typeof e==`function`?e():[],j=(e,t)=>{let n=E(e);n&&(t=[{name:ee,characters:A(n)}]);let r=D(e);if(r){let e=C.grep(t,e=>e.name===ee);return e.length?(e[0].characters=[...e[0].characters,...A(r)],t):t.concat({name:ee,characters:A(r)})}return t},ne=e=>{let t=j(e,k());return t.length>1?[{name:`All`,characters:S(t,e=>e.characters)}].concat(t):t},re=e=>({getCharMap:()=>ne(e),insertChar:t=>{n(e,t)}}),M=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},N=(e,t)=>{let n=null,r=()=>{l(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...i)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,i)},t)}}},ie=(e,t,n=0,r)=>{let i=e.indexOf(t,n);return i===-1?!1:u(r)?!0:i+t.length<=r},ae=String.fromCodePoint,oe=(e,t,n)=>ie(ae(e).toLowerCase(),n)?!0:ie(t.toLowerCase(),n)||ie(t.toLowerCase().replace(/\s+/g,``),n),P=(e,t)=>{let n=[],r=t.toLowerCase();return v(e.characters,e=>{oe(e[0],e[1],r)&&n.push(e)}),_(n,e=>({text:e[1],value:ae(e[0]),icon:ae(e[0])}))},F=`pattern`,I=(e,t)=>{let r=()=>[{label:`Search`,type:`input`,name:F},{type:`collection`,name:`results`}],i=()=>_(t,e=>({title:e.name,name:e.name,items:r()})),a=()=>({type:`panel`,items:r()}),o=()=>({type:`tabpanel`,tabs:i()}),s=t.length===1?M(ee):M(`All`),c=(e,n)=>{b(t,e=>e.name===s.get()).each(t=>{let r=P(t,n);e.setData({results:r})})},l=N(e=>{let t=e.getData().pattern;c(e,t)},40),u={title:`Special Character`,size:`normal`,body:t.length===1?a():o(),buttons:[{type:`cancel`,name:`close`,text:`Close`,primary:!0}],initialData:{pattern:``,results:P(t[0],``)},onAction:(t,r)=>{r.name===`results`&&(n(e,r.value),t.close())},onTabChange:(e,t)=>{s.set(t.newTabName),l.throttle(e)},onChange:(e,t)=>{t.name===F&&l.throttle(e)}};e.windowManager.open(u).focus(F)},se=(e,t)=>{e.addCommand(`mceShowCharmap`,()=>{I(e,t)})},ce=(e,t)=>{e.ui.registry.addAutocompleter(`charmap`,{trigger:`:`,columns:`auto`,minChars:2,fetch:(e,n)=>new Promise((n,r)=>{n(P(t,e))}),onAction:(t,n,r)=>{e.selection.setRng(n),e.insertContent(r),t.hide()}})},le=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return e.on(`NodeChange`,n),n(),()=>{e.off(`NodeChange`,n)}},ue=e=>{let t=()=>e.execCommand(`mceShowCharmap`);e.ui.registry.addButton(`charmap`,{icon:`insert-character`,tooltip:`Special character`,onAction:t,onSetup:le(e)}),e.ui.registry.addMenuItem(`charmap`,{icon:`insert-character`,text:`Special character...`,onAction:t,onSetup:le(e)})};e.add(`charmap`,e=>{T(e);let t=ne(e);return se(e,t),ue(e),ce(e,t[0]),re(e)})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`),t=tinymce.util.Tools.resolve(`tinymce.Env`),n=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let r=e=>t=>t.options.get(e),i=r(`content_style`),a=r(`content_css_cors`),o=r(`body_class`),s=r(`body_id`),c=e=>{let r=``,c=e.dom.encode,l=i(e)??``;r+=`<base href="`+c(e.documentBaseURI.getURI())+`">`;let u=a(e)?` crossorigin="anonymous"`:``;n.each(e.contentCSS,t=>{r+=`<link type="text/css" rel="stylesheet" href="`+c(e.documentBaseURI.toAbsolute(t))+`"`+u+`>`}),l&&(r+=`<style type="text/css">`+l+`</style>`);let d=s(e),f=o(e),p=`<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !(`+(t.os.isMacOS()||t.os.isiOS()?`e.metaKey`:`e.ctrlKey && !e.altKey`)+`)) {e.preventDefault();}}}, false);<\/script> `,m=e.getBody().dir,h=m?` dir="`+c(m)+`"`:``;return`<!DOCTYPE html><html><head>`+r+`</head><body id="`+c(d)+`" class="mce-content-body `+c(f)+`"`+h+`>`+e.getContent()+p+`</body></html>`},l=e=>{let t=c(e);e.windowManager.open({title:`Preview`,size:`large`,body:{type:`panel`,items:[{name:`preview`,type:`iframe`,sandboxed:!0,transparent:!1}]},buttons:[{type:`cancel`,name:`close`,text:`Close`,primary:!0}],initialData:{preview:t}}).focus(`close`)},u=e=>{e.addCommand(`mcePreview`,()=>{l(e)})},d=e=>{let t=()=>e.execCommand(`mcePreview`);e.ui.registry.addButton(`preview`,{icon:`preview`,tooltip:`Preview`,onAction:t}),e.ui.registry.addMenuItem(`preview`,{icon:`preview`,text:`Preview`,onAction:t})};e.add(`preview`,e=>{u(e),d(e)})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`),t=tinymce.util.Tools.resolve(`tinymce.dom.RangeUtils`),n=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let r=e=>t=>t.options.get(e),i=e=>{let t=e.options.register;t(`allow_html_in_named_anchor`,{processor:`boolean`,default:!1})},a=r(`allow_html_in_named_anchor`),o=`a:not([href])`,s=e=>!e,c=e=>e.getAttribute(`id`)||e.getAttribute(`name`)||``,l=e=>e.nodeName.toLowerCase()===`a`,u=e=>l(e)&&!e.getAttribute(`href`)&&c(e)!==``,d=e=>u(e)&&!e.firstChild,f=e=>{let r=e.dom;t(r).walk(e.selection.getRng(),e=>{n.each(e,e=>{d(e)&&r.remove(e,!1)})})},p=e=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(e),m=e=>e.dom.getParent(e.selection.getStart(),o),h=e=>{let t=m(e);return t?c(t):``},g=(e,t)=>{e.undoManager.transact(()=>{a(e)||e.selection.collapse(!0),e.selection.isCollapsed()?e.insertContent(e.dom.createHTML(`a`,{id:t})):(f(e),e.formatter.remove(`namedAnchor`,void 0,void 0,!0),e.formatter.apply(`namedAnchor`,{value:t}),e.addVisual())})},_=(e,t,n)=>{n.removeAttribute(`name`),n.id=t,e.addVisual(),e.undoManager.add()},v=(e,t)=>{let n=m(e);n?_(e,t,n):g(e,t),e.focus()},y=(e,t)=>p(t)?(v(e,t),!0):(e.windowManager.alert(`ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.`),!1),b=e=>{let t=h(e);e.windowManager.open({title:`Anchor`,size:`normal`,body:{type:`panel`,items:[{name:`id`,type:`input`,label:`ID`,placeholder:`example`}]},buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],initialData:{id:t},onSubmit:t=>{y(e,t.getData().id)&&t.close()}})},x=e=>{e.addCommand(`mceAnchor`,()=>{b(e)})},S=e=>s(e.attr(`href`))&&!s(e.attr(`id`)||e.attr(`name`)),C=e=>S(e)&&!e.firstChild,w=e=>t=>{for(let n=0;n<t.length;n++){let r=t[n];C(r)&&r.attr(`contenteditable`,e)}},T=e=>{e.on(`PreInit`,()=>{e.parser.addNodeFilter(`a`,w(`false`)),e.serializer.addNodeFilter(`a`,w(null))})},E=e=>{e.formatter.register(`namedAnchor`,{inline:`a`,selector:o,remove:`all`,split:!0,deep:!0,attributes:{id:`%value`},onmatch:(e,t,n)=>u(e)})},D=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return e.on(`NodeChange`,n),n(),()=>{e.off(`NodeChange`,n)}},O=e=>{let t=()=>e.execCommand(`mceAnchor`);e.ui.registry.addToggleButton(`anchor`,{icon:`bookmark`,tooltip:`Anchor`,onAction:t,onSetup:t=>{let n=e.selection.selectorChangedWithUnbind(`a:not([href])`,t.setActive).unbind,r=D(e)(t);return()=>{n(),r()}}}),e.ui.registry.addMenuItem(`anchor`,{icon:`bookmark`,text:`Anchor...`,onAction:t,onSetup:D(e)})};e.add(`anchor`,e=>{i(e),T(e),x(e),O(e),e.on(`PreInit`,()=>{E(e)})})})()}))(),d((()=>{(function(){let e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let n=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,r=e=>{let t=typeof e;return e===null?`null`:t===`object`&&Array.isArray(e)?`array`:t===`object`&&n(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:t},i=e=>t=>r(t)===e,a=e=>t=>typeof t===e,o=i(`string`),s=i(`array`),c=a(`boolean`),l=e=>e==null,u=e=>!l(e),d=a(`number`),f=()=>{},p=e=>()=>e,m=p(!0),h=p("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");class g{constructor(e,t){this.tag=e,this.value=t}static some(e){return new g(!0,e)}static none(){return g.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?g.some(e(this.value)):g.none()}bind(e){return this.tag?e(this.value):g.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:g.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return u(e)?g.some(e):g.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}g.singletonNone=new g(!1);let _=h;var v=tinymce.util.Tools.resolve(`tinymce.Env`),y=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let b=Array.prototype.slice,x=Array.prototype.push,S=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},C=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},w=(e,t)=>{for(let n=e.length-1;n>=0;n--){let r=e[n];t(r,n)}},T=(e,t)=>{if(e.length===0)return[];{let n=t(e[0]),r=[],i=[];for(let a=0,o=e.length;a<o;a++){let o=e[a],s=t(o);s!==n&&(r.push(i),i=[]),n=s,i.push(o)}return i.length!==0&&r.push(i),r}},E=(e,t,n)=>(C(e,(e,r)=>{n=t(n,e,r)}),n),D=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!s(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);x.apply(t,e[n])}return t},O=(e,t)=>D(S(e,t)),ee=(e,t)=>{let n=b.call(e,0);return n.sort(t),n},k=Object.hasOwnProperty,te=(e,t)=>k.call(e,t);typeof window<`u`?window:Function(`return this;`)();let A=e=>e.dom.nodeType,j=(e=>t=>A(t)===e)(3),ne=(e,t,n)=>{if(o(n)||c(n)||d(n))e.setAttribute(t,n+``);else throw console.error(`Invalid call to Attribute.set. Key `,t,`:: Value `,n,`:: Element `,e),Error(`Attribute value was not simple`)},re=(e,t,n)=>{ne(e.dom,t,n)},M=(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return ae(n.childNodes[0])},N=(e,t)=>ae((t||document).createElement(e)),ie=(e,t)=>ae((t||document).createTextNode(e)),ae=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},oe={fromHtml:M,fromTag:N,fromText:ie,fromDom:ae,fromPoint:(e,t,n)=>g.from(e.dom.elementFromPoint(t,n)).map(ae)},P=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,F=(e,t)=>{let n=t===void 0?document:t.dom;return P(n)?[]:S(n.querySelectorAll(e),oe.fromDom)},I=e=>g.from(e.dom.parentNode).map(oe.fromDom),se=e=>S(e.dom.childNodes,oe.fromDom),ce=(e,t)=>({element:e,offset:t}),le=(e,t)=>{let n=se(e);return n.length>0&&t<n.length?ce(n[t],0):ce(e,t)},ue=(e,t)=>{I(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},de=(e,t)=>{e.dom.appendChild(t.dom)},fe=(e,t)=>{ue(e,t),de(t,e)},pe=((e,t)=>{let n=n=>{if(!e(n))throw Error(`Can only get `+t+` value of a `+t+` node`);return r(n).getOr(``)},r=t=>e(t)?g.from(t.dom.nodeValue):g.none();return{get:n,getOption:r,set:(n,r)=>{if(!e(n))throw Error(`Can only set raw `+t+` value of a `+t+` node`);n.dom.nodeValue=r}}})(j,`text`),me=e=>pe.get(e),L=(e,t,n)=>(e.compareDocumentPosition(t)&n)!==0,he=(e,t)=>L(e,t,Node.DOCUMENT_POSITION_PRECEDING),ge=(e,t)=>F(t,e);var R=tinymce.util.Tools.resolve(`tinymce.dom.TreeWalker`);let _e=(e,t)=>e.isBlock(t)||te(e.schema.getVoidElements(),t.nodeName),ve=(e,t)=>!e.isEditable(t),ye=(e,t)=>e.getContentEditable(t)===`true`&&t.parentNode&&!e.isEditable(t.parentNode),be=(e,t)=>!e.isBlock(t)&&te(e.schema.getWhitespaceElements(),t.nodeName),xe=(e,t)=>_e(e,t)||ve(e,t)||be(e,t)||ye(e,t),Se=e=>e.nodeType===3,Ce=()=>({sOffset:0,fOffset:0,elements:[]}),we=(e,t)=>le(oe.fromDom(e),t),Te=(e,t,n,r,i,a=!0)=>{let o=a?t(!1):n;for(;o;){let n=ve(e,o);if(n||be(e,o)){if(n?r.cef(o):r.boundary(o))break;o=t(!0);continue}else if(_e(e,o)){if(r.boundary(o))break}else Se(o)&&r.text(o);if(o===i)break;o=t(!1)}},Ee=(e,t,n,r,i)=>{if(xe(e,n))return;let a=new R(n,e.getParent(r,e.isBlock)??e.getRoot());Te(e,i?a.next.bind(a):a.prev.bind(a),n,{boundary:m,cef:m,text:e=>{i?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(oe.fromDom(e))}})},De=(e,t,n,r,i,a=!0)=>{let o=new R(n,t),s=[],c=Ce();Ee(e,c,n,t,!1);let l=()=>(c.elements.length>0&&(s.push(c),c=Ce()),!1);return Te(e,o.next.bind(o),n,{boundary:l,cef:e=>(l(),i&&s.push(...i.cef(e)),!1),text:e=>{c.elements.push(oe.fromDom(e)),i&&i.text(e,c)}},r,a),r&&Ee(e,c,r,t,!0),l(),s},Oe=(e,t)=>{let n=we(t.startContainer,t.startOffset),r=n.element.dom,i=we(t.endContainer,t.endOffset),a=i.element.dom;return De(e,t.commonAncestorContainer,r,a,{text:(e,t)=>{e===a?t.fOffset+=e.length-i.offset:e===r&&(t.sOffset+=n.offset)},cef:t=>ee(O(ge(oe.fromDom(t),`*[contenteditable=true]`),t=>{let n=t.dom;return De(e,n,n)}),(e,t)=>he(e.elements[0].dom,t.elements[0].dom)?1:-1)},!1)},ke=(e,t)=>t.collapsed?[]:Oe(e,t),Ae=(e,t)=>{let n=e.createRng();return n.selectNode(t),ke(e,n)},je=(e,t)=>O(t,t=>Ae(e,t)),Me=(e,t,n=0,r=e.length)=>{let i=t.regex;i.lastIndex=n;let a=[],o;for(;o=i.exec(e);){let e=o[t.matchIndex],n=o.index+o[0].indexOf(e),s=n+e.length;if(s>r)break;a.push({start:n,finish:s}),i.lastIndex=s}return a},Ne=(e,t)=>{let n=E(e,(e,n)=>{let r=me(n),i=e.last,a=i+r.length,o=O(t,(e,t)=>e.start<a&&e.finish>i?[{element:n,start:Math.max(i,e.start)-i,finish:Math.min(a,e.finish)-i,matchId:t}]:[]);return{results:e.results.concat(o),last:a}},{results:[],last:0}).results;return T(n,e=>e.matchId)},Pe=(e,t)=>O(t,t=>{let n=t.elements,r=S(n,me).join(``);return Ne(n,Me(r,e,t.sOffset,r.length-t.fOffset))}),Fe=(e,t)=>{w(e,(e,n)=>{w(e,e=>{let r=oe.fromDom(t.cloneNode(!1));re(r,`data-mce-index`,n);let i=e.element.dom;if(i.length===e.finish&&e.start===0)fe(e.element,r);else{i.length!==e.finish&&i.splitText(e.finish);let t=i.splitText(e.start);fe(oe.fromDom(t),r)}})})},Ie=(e,t,n,r)=>{let i=Pe(t,Ae(e,n));return Fe(i,r),i.length},Le=(e,t,n,r)=>{let i=n.getBookmark(),a=e.select(`td[data-mce-selected],th[data-mce-selected]`),o=Pe(t,a.length>0?je(e,a):ke(e,n.getRng()));return Fe(o,r),n.moveToBookmark(i),o.length},z=e=>e.getAttribute(`data-mce-index`),Re=(e,t,n,r)=>{let i=e.dom.create(`span`,{"data-mce-bogus":1});i.className=`mce-match-marker`;let a=e.getBody();return Ye(e,t,!1),r?Le(e.dom,n,e.selection,i):Ie(e.dom,n,a,i)},ze=e=>{var t;let n=e.parentNode;e.firstChild&&n.insertBefore(e.firstChild,e),(t=e.parentNode)==null||t.removeChild(e)},Be=(e,t)=>{let n=[],r=y.toArray(e.getBody().getElementsByTagName(`span`));if(r.length)for(let e=0;e<r.length;e++){let i=z(r[e]);i===null||!i.length||i===t.toString()&&n.push(r[e])}return n},Ve=(e,t,n)=>{let r=t.get(),i=r.index,a=e.dom;n?i+1===r.count?i=0:i++:i-1==-1?i=r.count-1:i--,a.removeClass(Be(e,r.index),`mce-match-marker-selected`);let o=Be(e,i);return o.length?(a.addClass(Be(e,i),`mce-match-marker-selected`),e.selection.scrollIntoView(o[0]),i):-1},He=(e,t)=>{let n=t.parentNode;e.remove(t),n&&e.isEmpty(n)&&e.remove(n)},Ue=(e,t)=>{let n=`(`+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,`\\$&`).replace(/\s/g,`[^\\S\\r\\n\\uFEFF]`)+`)`;return t?`(?:^|\\s|${_()})`+n+`(?=$|\\s|${_()})`:n},We=(e,t,n,r,i,a)=>{let o=e.selection,s=Ue(n,i),c=o.isForward(),l=Re(e,t,{regex:new RegExp(s,r?`g`:`gi`),matchIndex:1},a);if(v.browser.isSafari()&&o.setRng(o.getRng(),c),l){let o=Ve(e,t,!0);t.set({index:o,count:l,text:n,matchCase:r,wholeWord:i,inSelection:a})}return l},Ge=(e,t)=>{let n=Ve(e,t,!0);t.set({...t.get(),index:n})},Ke=(e,t)=>{let n=Ve(e,t,!1);t.set({...t.get(),index:n})},qe=e=>{let t=z(e);return t!==null&&t.length>0},Je=(e,t,n,r,i)=>{let a=t.get(),o=a.index,s,c=o;r=r!==!1;let l=e.getBody(),u=y.grep(y.toArray(l.getElementsByTagName(`span`)),qe);for(let t=0;t<u.length;t++){let l=z(u[t]),d=s=parseInt(l,10);if(i||d===a.index){for(n.length?(u[t].innerText=n,ze(u[t])):He(e.dom,u[t]);u[++t];)if(d=parseInt(z(u[t]),10),d===s)He(e.dom,u[t]);else{t--;break}r&&c--}else s>o&&u[t].setAttribute(`data-mce-index`,String(s-1))}return t.set({...a,count:i?0:a.count-1,index:c}),r?Ge(e,t):Ke(e,t),!i&&t.get().count>0},Ye=(e,t,n)=>{let r,i,a=t.get(),o=y.toArray(e.getBody().getElementsByTagName(`span`));for(let e=0;e<o.length;e++){let t=z(o[e]);t!==null&&t.length&&(t===a.index.toString()&&(r||=o[e].firstChild,i=o[e].firstChild),ze(o[e]))}if(t.set({...a,index:-1,count:0,text:``}),r&&i){let t=e.dom.createRng();return t.setStart(r,0),t.setEnd(i,i.data.length),n!==!1&&e.selection.setRng(t),t}else return},Xe=(e,t)=>t.get().count>1,Ze=(e,t)=>t.get().count>1,Qe=(e,t)=>({done:n=>Ye(e,t,n),find:(n,r,i,a=!1)=>We(e,t,n,r,i,a),next:()=>Ge(e,t),prev:()=>Ke(e,t),replace:(n,r,i)=>Je(e,t,n,r,i)}),$e=t=>{let n=e(g.none()),r=()=>n.get().each(t);return{clear:()=>{r(),n.set(g.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{r(),n.set(g.some(e))}}},et=()=>{let e=$e(f),t=t=>e.get().each(t);return{...e,on:t}},tt=(e,t)=>{let n=et();e.undoManager.add();let r=y.trim(e.selection.getContent({format:`text`})),i=n=>{n.setEnabled(`next`,Xe(e,t)),n.setEnabled(`prev`,Ze(e,t))},a=e=>{let n=e.getData(),r=t.get();t.set({...r,matchCase:n.matchcase,wholeWord:n.wholewords,inSelection:n.inselection})},o=(e,t)=>{C([`replace`,`replaceall`,`prev`,`next`],n=>e.setEnabled(n,!t))},s=(e,t)=>{t.redial(m(e,t.getData()))},c=(e,t)=>{v.browser.isSafari()&&v.deviceType.isTouch()&&(t===`find`||t===`replace`||t===`replaceall`)&&e.focus(t)},l=n=>{Ye(e,t,!1),o(n,!0),i(n)},u=n=>{let r=n.getData(),a=t.get();if(!r.findtext.length){l(n);return}if(a.text===r.findtext&&a.matchCase===r.matchcase&&a.wholeWord===r.wholewords)Ge(e,t);else{let i=We(e,t,r.findtext,r.matchcase,r.wholewords,r.inselection);i<=0&&s(!0,n),o(n,i===0)}i(n)},d=t.get(),f={findtext:r,replacetext:``,wholewords:d.wholeWord,matchcase:d.matchCase,inselection:d.inSelection},p=e=>{let t=[{type:`bar`,items:[{type:`input`,name:`findtext`,placeholder:`Find`,maximized:!0,inputMode:`search`},{type:`button`,name:`prev`,text:`Previous`,icon:`action-prev`,enabled:!1,borderless:!0},{type:`button`,name:`next`,text:`Next`,icon:`action-next`,enabled:!1,borderless:!0}]},{type:`input`,name:`replacetext`,placeholder:`Replace with`,inputMode:`search`}];return e&&t.push({type:`alertbanner`,level:`error`,text:`Could not find the specified string.`,icon:`warning`}),t},m=(n,r)=>({title:`Find and Replace`,size:`normal`,body:{type:`panel`,items:p(n)},buttons:[{type:`menu`,name:`options`,icon:`preferences`,tooltip:`Preferences`,align:`start`,items:[{type:`togglemenuitem`,name:`matchcase`,text:`Match case`},{type:`togglemenuitem`,name:`wholewords`,text:`Find whole words only`},{type:`togglemenuitem`,name:`inselection`,text:`Find in selection`}]},{type:`custom`,name:`find`,text:`Find`,primary:!0},{type:`custom`,name:`replace`,text:`Replace`,enabled:!1},{type:`custom`,name:`replaceall`,text:`Replace all`,enabled:!1}],initialData:r,onChange:(e,r)=>{n&&s(!1,e),r.name===`findtext`&&t.get().count>0&&l(e)},onAction:(n,r)=>{let o=n.getData();switch(r.name){case`find`:u(n);break;case`replace`:Je(e,t,o.replacetext)?i(n):l(n);break;case`replaceall`:Je(e,t,o.replacetext,!0,!0),l(n);break;case`prev`:Ke(e,t),i(n);break;case`next`:Ge(e,t),i(n);break;case`matchcase`:case`wholewords`:case`inselection`:s(!1,n),a(n),l(n);break}c(n,r.name)},onSubmit:e=>{u(e),c(e,`find`)},onClose:()=>{e.focus(),Ye(e,t),e.undoManager.add()}});n.set(e.windowManager.open(m(!1,f),{inline:`toolbar`}))},nt=(e,t)=>{e.addCommand(`SearchReplace`,()=>{tt(e,t)})},rt=(e,t)=>()=>{tt(e,t)},it=(e,t)=>{e.ui.registry.addMenuItem(`searchreplace`,{text:`Find and replace...`,shortcut:`Meta+F`,onAction:rt(e,t),icon:`search`}),e.ui.registry.addButton(`searchreplace`,{tooltip:`Find and replace`,onAction:rt(e,t),icon:`search`}),e.shortcuts.add(`Meta+F`,``,rt(e,t))};t.add(`searchreplace`,t=>{let n=e({index:-1,count:0,text:``,matchCase:!1,wholeWord:!1,inSelection:!1});return nt(t,n),it(t,n),Qe(t,n)})})()}))(),d((()=>{(function(){let e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let n=(e,t)=>{e.dispatch(`VisualBlocks`,{state:t})},r=(e,t,r)=>{e.dom.toggleClass(e.getBody(),`mce-visualblocks`),r.set(!r.get()),n(e,r.get())},i=(e,t,n)=>{e.addCommand(`mceVisualBlocks`,()=>{r(e,t,n)})},a=e=>t=>t.options.get(e),o=e=>{let t=e.options.register;t(`visualblocks_default_state`,{processor:`boolean`,default:!1})},s=a(`visualblocks_default_state`),c=(e,t,n)=>{e.on(`PreviewFormats AfterPreviewFormats`,t=>{n.get()&&e.dom.toggleClass(e.getBody(),`mce-visualblocks`,t.type===`afterpreviewformats`)}),e.on(`init`,()=>{s(e)&&r(e,t,n)})},l=(e,t)=>n=>{n.setActive(t.get());let r=e=>n.setActive(e.state);return e.on(`VisualBlocks`,r),()=>e.off(`VisualBlocks`,r)},u=(e,t)=>{let n=()=>e.execCommand(`mceVisualBlocks`);e.ui.registry.addToggleButton(`visualblocks`,{icon:`visualblocks`,tooltip:`Show blocks`,onAction:n,onSetup:l(e,t)}),e.ui.registry.addToggleMenuItem(`visualblocks`,{text:`Show blocks`,icon:`visualblocks`,onAction:n,onSetup:l(e,t)})};t.add(`visualblocks`,(t,n)=>{o(t);let r=e(!1);i(t,n,r),u(t,r),c(t,n,r)})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=(e,t)=>{e.focus(),e.undoManager.transact(()=>{e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()},n=e=>e.getContent({source_view:!0}),r=e=>{let r=n(e);e.windowManager.open({title:`Source Code`,size:`large`,body:{type:`panel`,items:[{type:`textarea`,name:`code`}]},buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],initialData:{code:r},onSubmit:n=>{t(e,n.getData().code),n.close()}})},i=e=>{e.addCommand(`mceCodeEditor`,()=>{r(e)})},a=e=>{let t=()=>e.execCommand(`mceCodeEditor`);e.ui.registry.addButton(`code`,{icon:`sourcecode`,tooltip:`Source code`,onAction:t}),e.ui.registry.addMenuItem(`code`,{icon:`sourcecode`,text:`Source code`,onAction:t})};e.add(`code`,e=>(i(e),a(e),{}))})()}))(),d((()=>{(function(){let e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let n=e=>({isFullscreen:()=>e.get()!==null}),r=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,i=e=>{let t=typeof e;return e===null?`null`:t===`object`&&Array.isArray(e)?`array`:t===`object`&&r(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:t},a=e=>t=>i(t)===e,o=e=>t=>typeof t===e,s=e=>t=>e===t,c=a(`string`),l=a(`object`),u=a(`array`),d=s(null),f=o(`boolean`),p=s(void 0),m=e=>e==null,h=e=>!m(e),g=o(`function`),_=o(`number`),v=()=>{},y=(e,t)=>(...n)=>e(t.apply(null,n)),b=(e,t)=>n=>e(t(n)),x=e=>()=>e;function S(e,...t){return(...n)=>{let r=t.concat(n);return e.apply(null,r)}}let C=x(!1),w=x(!0);class T{constructor(e,t){this.tag=e,this.value=t}static some(e){return new T(!0,e)}static none(){return T.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?T.some(e(this.value)):T.none()}bind(e){return this.tag?e(this.value):T.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:T.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return h(e)?T.some(e):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}T.singletonNone=new T(!1);let E=Array.prototype.push,D=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},O=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},ee=(e,t)=>{let n=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];t(i,r)&&n.push(i)}return n},k=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return T.some(i);if(n(i,r))break}return T.none()},te=(e,t)=>k(e,t,C),A=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!u(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);E.apply(t,e[n])}return t},j=(e,t)=>A(D(e,t)),ne=(e,t)=>t>=0&&t<e.length?T.some(e[t]):T.none(),re=e=>ne(e,0),M=(e,t)=>{for(let n=0;n<e.length;n++){let r=t(e[n],n);if(r.isSome())return r}return T.none()},N=(e,t,n)=>e.isSome()&&t.isSome()?T.some(n(e.getOrDie(),t.getOrDie())):T.none(),ie=t=>{let n=e(T.none()),r=()=>n.get().each(t);return{clear:()=>{r(),n.set(T.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{r(),n.set(T.some(e))}}},ae=()=>ie(e=>e.unbind()),oe=()=>{let e=ie(v),t=t=>e.get().each(t);return{...e,on:t}},P=(e,t)=>{let n=null;return{cancel:()=>{d(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{d(n)&&(n=setTimeout(()=>{n=null,e.apply(null,r)},t))}}},F=Object.keys,I=(e,t)=>{let n=F(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},se=typeof window<`u`?window:Function(`return this;`)(),ce=(e,t)=>{let n=t??se;for(let t=0;t<e.length&&n!=null;++t)n=n[e[t]];return n},le=(e,t)=>ce(e.split(`.`),t),ue=(e,t)=>le(e,t),de=(e,t)=>{let n=ue(e,t);if(n==null)throw Error(e+` not available on this browser`);return n},fe=Object.getPrototypeOf,pe=e=>de(`HTMLElement`,e),me=e=>{let t=le(`ownerDocument.defaultView`,e);return l(e)&&(pe(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(fe(e).constructor.name))},L=e=>e.dom.nodeType,he=e=>t=>L(t)===e,ge=e=>R(e)&&me(e.dom),R=he(1),_e=he(3),ve=he(9),ye=he(11),be=(e,t,n)=>{if(c(n)||f(n)||_(n))e.setAttribute(t,n+``);else throw console.error(`Invalid call to Attribute.set. Key `,t,`:: Value `,n,`:: Element `,e),Error(`Attribute value was not simple`)},xe=(e,t,n)=>{be(e.dom,t,n)},Se=(e,t)=>{let n=e.dom.getAttribute(t);return n===null?void 0:n},Ce=(e,t)=>{e.dom.removeAttribute(t)},we=e=>e.dom.classList!==void 0,Te=(e,t)=>we(e)&&e.dom.classList.contains(t),Ee=(e,t,n=0,r)=>{let i=e.indexOf(t,n);return i===-1?!1:p(r)?!0:i+t.length<=r},De=e=>e.style!==void 0&&g(e.style.getPropertyValue),Oe=(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return je(n.childNodes[0])},ke=(e,t)=>je((t||document).createElement(e)),Ae=(e,t)=>je((t||document).createTextNode(e)),je=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},Me={fromHtml:Oe,fromTag:ke,fromText:Ae,fromDom:je,fromPoint:(e,t,n)=>T.from(e.dom.elementFromPoint(t,n)).map(je)},Ne=(e,t)=>{let n=e.dom;if(n.nodeType!==1)return!1;{let e=n;if(e.matches!==void 0)return e.matches(t);if(e.msMatchesSelector!==void 0)return e.msMatchesSelector(t);if(e.webkitMatchesSelector!==void 0)return e.webkitMatchesSelector(t);if(e.mozMatchesSelector!==void 0)return e.mozMatchesSelector(t);throw Error(`Browser lacks native selectors`)}},Pe=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,Fe=(e,t)=>{let n=t===void 0?document:t.dom;return Pe(n)?[]:D(n.querySelectorAll(e),Me.fromDom)},Ie=(e,t)=>e.dom===t.dom,Le=e=>Me.fromDom(e.dom.ownerDocument),z=e=>ve(e)?e:Le(e),Re=e=>T.from(e.dom.parentNode).map(Me.fromDom),ze=(e,t)=>{let n=g(t)?t:C,r=e.dom,i=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){let e=r.parentNode,t=Me.fromDom(e);if(i.push(t),n(t)===!0)break;r=e}return i},Be=e=>Re(e).map(He).map(t=>ee(t,t=>!Ie(e,t))).getOr([]),Ve=e=>T.from(e.dom.nextSibling).map(Me.fromDom),He=e=>D(e.dom.childNodes,Me.fromDom),Ue=e=>ye(e)&&h(e.dom.host),We=g(Element.prototype.attachShadow)&&g(Node.prototype.getRootNode),Ge=x(We),Ke=We?e=>Me.fromDom(e.dom.getRootNode()):z,qe=e=>{let t=Ke(e);return Ue(t)?T.some(t):T.none()},Je=e=>Me.fromDom(e.dom.host),Ye=e=>{if(Ge()&&h(e.target)){let t=Me.fromDom(e.target);if(R(t)&&Xe(t)&&e.composed&&e.composedPath){let t=e.composedPath();if(t)return re(t)}}return T.from(e.target)},Xe=e=>h(e.dom.shadowRoot),Ze=e=>{let t=_e(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;let n=t.ownerDocument;return qe(Me.fromDom(t)).fold(()=>n.body.contains(t),b(Ze,Je))},Qe=e=>{let t=e.dom.body;if(t==null)throw Error(`Body is not available yet`);return Me.fromDom(t)},$e=(e,t,n)=>{if(!c(n))throw console.error(`Invalid call to CSS.set. Property `,t,`:: Value `,n,`:: Element `,e),Error(`CSS value must be a string: `+n);De(e)&&e.style.setProperty(t,n)},et=(e,t,n)=>{let r=e.dom;$e(r,t,n)},tt=(e,t)=>{let n=e.dom;I(t,(e,t)=>{$e(n,t,e)})},nt=(e,t)=>{let n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return r===``&&!Ze(e)?rt(n,t):r},rt=(e,t)=>De(e)?e.style.getPropertyValue(t):``,it=(e,t,n,r,i,a,o)=>({target:e,x:t,y:n,stop:r,prevent:i,kill:a,raw:o}),at=e=>{let t=Me.fromDom(Ye(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),i=y(r,n);return it(t,e.clientX,e.clientY,n,r,i,e)},B=(e,t)=>n=>{e(n)&&t(at(n))},ot=(e,t,n,r,i)=>{let a=B(n,r);return e.dom.addEventListener(t,a,i),{unbind:S(ct,e,t,a,i)}},st=(e,t,n,r)=>ot(e,t,n,r,!1),ct=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},V=w,lt=(e,t,n)=>st(e,t,V,n),ut=e=>{let t=!1,n;return(...r)=>(t||(t=!0,n=e.apply(null,r)),n)},dt=(e,t,n,r)=>{let i=e.isiOS()&&/ipad/i.test(n)===!0,a=e.isiOS()&&!i,o=e.isiOS()||e.isAndroid(),s=o||r(`(pointer:coarse)`),c=i||!a&&o&&r(`(min-device-width:768px)`),l=a||o&&!c,u=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,d=!l&&!c&&!u;return{isiPad:x(i),isiPhone:x(a),isTablet:x(c),isPhone:x(l),isTouch:x(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:x(u),isDesktop:x(d)}},ft=(e,t)=>{for(let n=0;n<e.length;n++){let r=e[n];if(r.test(t))return r}},pt=(e,t)=>{let n=ft(e,t);if(!n)return{major:0,minor:0};let r=e=>Number(t.replace(n,`$`+e));return gt(r(1),r(2))},mt=(e,t)=>{let n=String(t).toLowerCase();return e.length===0?ht():pt(e,n)},ht=()=>gt(0,0),gt=(e,t)=>({major:e,minor:t}),_t={nu:gt,detect:mt,unknown:ht},vt=(e,t)=>M(t.brands,t=>{let n=t.brand.toLowerCase();return te(e,e=>n===e.brand?.toLowerCase()).map(e=>({current:e.name,version:_t.nu(parseInt(t.version,10),0)}))}),yt=(e,t)=>{let n=String(t).toLowerCase();return te(e,e=>e.search(n))},bt=(e,t)=>yt(e,t).map(e=>{let n=_t.detect(e.versionRegexes,t);return{current:e.name,version:n}}),xt=(e,t)=>yt(e,t).map(e=>{let n=_t.detect(e.versionRegexes,t);return{current:e.name,version:n}}),St=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ct=e=>t=>Ee(t,e),wt=[{name:`Edge`,versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ee(e,`edge/`)&&Ee(e,`chrome`)&&Ee(e,`safari`)&&Ee(e,`applewebkit`)},{name:`Chromium`,brand:`Chromium`,versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,St],search:e=>Ee(e,`chrome`)&&!Ee(e,`chromeframe`)},{name:`IE`,versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ee(e,`msie`)||Ee(e,`trident`)},{name:`Opera`,versionRegexes:[St,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ct(`opera`)},{name:`Firefox`,versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ct(`firefox`)},{name:`Safari`,versionRegexes:[St,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ee(e,`safari`)||Ee(e,`mobile/`))&&Ee(e,`applewebkit`)}],Tt=[{name:`Windows`,search:Ct(`win`),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:`iOS`,search:e=>Ee(e,`iphone`)||Ee(e,`ipad`),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:`Android`,search:Ct(`android`),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:`macOS`,search:Ct(`mac os x`),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:`Linux`,search:Ct(`linux`),versionRegexes:[]},{name:`Solaris`,search:Ct(`sunos`),versionRegexes:[]},{name:`FreeBSD`,search:Ct(`freebsd`),versionRegexes:[]},{name:`ChromeOS`,search:Ct(`cros`),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Et={browsers:x(wt),oses:x(Tt)},Dt=`Edge`,Ot=`Chromium`,kt=`Opera`,At=`Firefox`,jt=`Safari`,Mt=()=>Nt({current:void 0,version:_t.unknown()}),Nt=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isEdge:r(Dt),isChromium:r(Ot),isIE:r(`IE`),isOpera:r(kt),isFirefox:r(At),isSafari:r(jt)}},Pt={unknown:Mt,nu:Nt,edge:x(Dt),chromium:x(Ot),ie:x(`IE`),opera:x(kt),firefox:x(At),safari:x(jt)},Ft=`Windows`,It=`Android`,Lt=`Linux`,Rt=`macOS`,zt=`Solaris`,Bt=`FreeBSD`,Vt=`ChromeOS`,Ht=()=>Ut({current:void 0,version:_t.unknown()}),Ut=e=>{let t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isWindows:r(Ft),isiOS:r(`iOS`),isAndroid:r(It),isMacOS:r(Rt),isLinux:r(Lt),isSolaris:r(zt),isFreeBSD:r(Bt),isChromeOS:r(Vt)}},Wt={unknown:Ht,nu:Ut,windows:x(Ft),ios:x(`iOS`),android:x(It),linux:x(Lt),macos:x(Rt),solaris:x(zt),freebsd:x(Bt),chromeos:x(Vt)},Gt={detect:(e,t,n)=>{let r=Et.browsers(),i=Et.oses(),a=t.bind(e=>vt(r,e)).orThunk(()=>bt(r,e)).fold(Pt.unknown,Pt.nu),o=xt(i,e).fold(Wt.unknown,Wt.nu);return{browser:a,os:o,deviceType:dt(o,a,e,n)}}},Kt=e=>window.matchMedia(e).matches,qt=ut(()=>Gt.detect(navigator.userAgent,T.from(navigator.userAgentData),Kt)),Jt=()=>qt(),Yt=(e,t)=>({left:e,top:t,translate:(n,r)=>Yt(e+n,t+r)}),Xt=Yt,Zt=e=>{let t=e===void 0?document:e.dom;return Xt(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},Qt=e=>{let t=e===void 0?window:e;return Jt().browser.isFirefox()?T.none():T.from(t.visualViewport)},$t=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),en=e=>{let t=e===void 0?window:e,n=t.document,r=Zt(Me.fromDom(n));return Qt(t).fold(()=>{let e=t.document.documentElement,n=e.clientWidth,i=e.clientHeight;return $t(r.left,r.top,n,i)},e=>$t(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height))},tn=(e,t,n)=>Qt(n).map(n=>{let r=e=>t(at(e));return n.addEventListener(e,r),{unbind:()=>n.removeEventListener(e,r)}}).getOrThunk(()=>({unbind:v}));var nn=tinymce.util.Tools.resolve(`tinymce.dom.DOMUtils`),rn=tinymce.util.Tools.resolve(`tinymce.Env`);let an=(e,t)=>{e.dispatch(`FullscreenStateChanged`,{state:t}),e.dispatch(`ResizeEditor`)},on=e=>t=>t.options.get(e),sn=e=>{let t=e.options.register;t(`fullscreen_native`,{processor:`boolean`,default:!1})},cn=on(`fullscreen_native`),ln=e=>{let t=Me.fromDom(e.getElement());return qe(t).map(Je).getOrThunk(()=>Qe(Le(t)))},un=e=>e.fullscreenElement===void 0?e.msFullscreenElement===void 0?e.webkitFullscreenElement===void 0?null:e.webkitFullscreenElement:e.msFullscreenElement:e.fullscreenElement,dn=()=>document.fullscreenElement===void 0?document.msFullscreenElement===void 0?document.webkitFullscreenElement===void 0?`fullscreenchange`:`webkitfullscreenchange`:`MSFullscreenChange`:`fullscreenchange`,fn=e=>{let t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()},pn=e=>{let t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()},mn=e=>e.dom===un(Le(e).dom),hn=(e,t,n)=>ee(ze(e,n),t),gn=(e,t)=>ee(Be(e),t),_n=e=>Fe(e),H=(e,t,n)=>hn(e,e=>Ne(e,t),n),vn=(e,t)=>gn(e,e=>Ne(e,t)),yn=`data-ephox-mobile-fullscreen-style`,bn=`position:absolute!important;`,xn=`top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;`,Sn=rn.os.isAndroid(),Cn=e=>{let t=nt(e,`background-color`);return t!==void 0&&t!==``?`background-color:`+t+`!important`:`background-color:rgb(255,255,255)!important;`},wn=(e,t,n)=>{let r=e=>vn(e,`*:not(.tox-silver-sink)`),i=t=>n=>{let r=Se(n,`style`),i=r===void 0?`no-styles`:r.trim();i!==t&&(xe(n,yn,i),tt(n,e.parseStyle(t)))},a=H(t,`*`),o=j(a,r),s=Cn(n);O(o,i(`display:none!important;`)),O(a,i(bn+xn+s)),i((Sn===!0?``:bn)+xn+s)(t)},Tn=e=>{O(_n(`[`+yn+`]`),t=>{let n=Se(t,yn);n&&n!==`no-styles`?tt(t,e.parseStyle(n)):Ce(t,`style`),Ce(t,yn)})},En=nn.DOM,Dn=()=>en(window),On=e=>window.scrollTo(e.x,e.y),kn=Qt().fold(()=>({bind:v,unbind:v}),e=>{let t=oe(),n=ae(),r=ae(),i=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},a=()=>{window.requestAnimationFrame(()=>{t.on(t=>tt(t,{top:e.offsetTop+`px`,left:e.offsetLeft+`px`,height:e.height+`px`,width:e.width+`px`}))})},o=P(()=>{i(),a()},50);return{bind:e=>{t.set(e),o.throttle(),n.set(tn(`resize`,o.throttle)),r.set(tn(`scroll`,o.throttle))},unbind:()=>{t.on(()=>{n.clear(),r.clear()}),t.clear()}}}),An=(e,t)=>{let n=document.body,r=document.documentElement,i=e.getContainer(),a=Me.fromDom(i),o=Ve(a).filter(e=>ge(e)&&Te(e,`tox-silver-sink`)),s=ln(e),c=t.get(),l=Me.fromDom(e.getBody()),u=rn.deviceType.isTouch(),d=i.style,f=e.iframeElement?.style,p=e=>{e(n,`tox-fullscreen`),e(r,`tox-fullscreen`),e(i,`tox-fullscreen`),qe(a).map(e=>Je(e).dom).each(t=>{e(t,`tox-fullscreen`),e(t,`tox-shadowhost`)})},m=()=>{u&&Tn(e.dom),p(En.removeClass),kn.unbind(),T.from(t.get()).each(e=>e.fullscreenChangeHandler.unbind())};if(c)c.fullscreenChangeHandler.unbind(),cn(e)&&mn(s)&&pn(Le(s)),f.width=c.iframeWidth,f.height=c.iframeHeight,d.width=c.containerWidth,d.height=c.containerHeight,d.top=c.containerTop,d.left=c.containerLeft,N(o,c.sinkCssPosition,(e,t)=>{et(e,`position`,t)}),m(),On(c.scrollPos),t.set(null),an(e,!1),e.off(`remove`,m);else{let n=lt(Le(s),dn(),n=>{cn(e)&&!mn(s)&&t.get()!==null&&An(e,t)}),r={scrollPos:Dn(),containerWidth:d.width,containerHeight:d.height,containerTop:d.top,containerLeft:d.left,iframeWidth:f.width,iframeHeight:f.height,fullscreenChangeHandler:n,sinkCssPosition:o.map(e=>nt(e,`position`))};u&&wn(e.dom,a,l),f.width=f.height=`100%`,d.width=d.height=``,p(En.addClass),o.each(e=>{et(e,`position`,`fixed`)}),kn.bind(a),e.on(`remove`,m),t.set(r),cn(e)&&fn(s),an(e,!0)}},jn=(e,t)=>{e.addCommand(`mceFullScreen`,()=>{An(e,t)})},Mn=(e,t)=>n=>{n.setActive(t.get()!==null);let r=e=>n.setActive(e.state);return e.on(`FullscreenStateChanged`,r),()=>e.off(`FullscreenStateChanged`,r)},Nn=(e,t)=>{let n=()=>e.execCommand(`mceFullScreen`);e.ui.registry.addToggleMenuItem(`fullscreen`,{text:`Fullscreen`,icon:`fullscreen`,shortcut:`Meta+Shift+F`,onAction:n,onSetup:Mn(e,t)}),e.ui.registry.addToggleButton(`fullscreen`,{tooltip:`Fullscreen`,icon:`fullscreen`,onAction:n,onSetup:Mn(e,t)})};t.add(`fullscreen`,t=>{let r=e(null);return t.inline?n(r):(sn(t),jn(t,r),Nn(t,r),t.addShortcut(`Meta+Shift+F`,``,`mceFullScreen`),n(r))})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=e=>t=>t.options.get(e),n=e=>{let t=e.options.register;t(`insertdatetime_dateformat`,{processor:`string`,default:e.translate(`%Y-%m-%d`)}),t(`insertdatetime_timeformat`,{processor:`string`,default:e.translate(`%H:%M:%S`)}),t(`insertdatetime_formats`,{processor:`string[]`,default:[`%H:%M:%S`,`%Y-%m-%d`,`%I:%M:%S %p`,`%D`]}),t(`insertdatetime_element`,{processor:`boolean`,default:!1})},r=t(`insertdatetime_dateformat`),i=t(`insertdatetime_timeformat`),a=t(`insertdatetime_formats`),o=t(`insertdatetime_element`),s=e=>{let t=a(e);return t.length>0?t[0]:i(e)},c=`Sun Mon Tue Wed Thu Fri Sat Sun`.split(` `),l=`Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday`.split(` `),u=`Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec`.split(` `),d=`January February March April May June July August September October November December`.split(` `),f=(e,t)=>{if(e=``+e,e.length<t)for(let n=0;n<t-e.length;n++)e=`0`+e;return e},p=(e,t,n=new Date)=>(t=t.replace(`%D`,`%m/%d/%Y`),t=t.replace(`%r`,`%I:%M:%S %p`),t=t.replace(`%Y`,``+n.getFullYear()),t=t.replace(`%y`,``+n.getYear()),t=t.replace(`%m`,f(n.getMonth()+1,2)),t=t.replace(`%d`,f(n.getDate(),2)),t=t.replace(`%H`,``+f(n.getHours(),2)),t=t.replace(`%M`,``+f(n.getMinutes(),2)),t=t.replace(`%S`,``+f(n.getSeconds(),2)),t=t.replace(`%I`,``+((n.getHours()+11)%12+1)),t=t.replace(`%p`,n.getHours()<12?`AM`:`PM`),t=t.replace(`%B`,``+e.translate(d[n.getMonth()])),t=t.replace(`%b`,``+e.translate(u[n.getMonth()])),t=t.replace(`%A`,``+e.translate(l[n.getDay()])),t=t.replace(`%a`,``+e.translate(c[n.getDay()])),t=t.replace(`%%`,`%`),t),m=(e,t,n,r)=>{let i=e.dom.create(`time`,{datetime:n},r);e.dom.replace(i,t),e.selection.select(i,!0),e.selection.collapse(!1)},h=(e,t)=>{if(o(e)){let n=p(e,t),r;r=/%[HMSIp]/.test(t)?p(e,`%Y-%m-%dT%H:%M`):p(e,`%Y-%m-%d`);let i=e.dom.getParent(e.selection.getStart(),`time`);i?m(e,i,r,n):e.insertContent(`<time datetime="`+r+`">`+n+`</time>`)}else e.insertContent(p(e,t))},g=e=>{e.addCommand(`mceInsertDate`,(t,n)=>{h(e,n??r(e))}),e.addCommand(`mceInsertTime`,(t,n)=>{h(e,n??i(e))})},_=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var v=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let y=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return e.on(`NodeChange`,n),n(),()=>{e.off(`NodeChange`,n)}},b=e=>{let t=a(e),n=_(s(e)),r=t=>e.execCommand(`mceInsertDate`,!1,t);e.ui.registry.addSplitButton(`insertdatetime`,{icon:`insert-time`,tooltip:`Insert date/time`,select:e=>e===n.get(),fetch:n=>{n(v.map(t,t=>({type:`choiceitem`,text:p(e,t),value:t})))},onAction:e=>{r(n.get())},onItemAction:(e,t)=>{n.set(t),r(t)},onSetup:y(e)});let i=e=>()=>{n.set(e),r(e)};e.ui.registry.addNestedMenuItem(`insertdatetime`,{icon:`insert-time`,text:`Date/time`,getSubmenuItems:()=>v.map(t,t=>({type:`menuitem`,text:p(e,t),onAction:i(t)})),onSetup:y(e)})};e.add(`insertdatetime`,e=>{n(e),g(e),b(e)})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,n=e=>{let n=typeof e;return e===null?`null`:n===`object`&&Array.isArray(e)?`array`:n===`object`&&t(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:n},r=e=>t=>n(t)===e,i=r(`string`),a=r(`object`),o=r(`array`),s=e=>e==null,c=e=>!s(e);class l{constructor(e,t){this.tag=e,this.value=t}static some(e){return new l(!0,e)}static none(){return l.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?l.some(e(this.value)):l.none()}bind(e){return this.tag?e(this.value):l.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:l.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return c(e)?l.some(e):l.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}l.singletonNone=new l(!1);let u=Array.prototype.push,d=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},f=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!o(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);u.apply(t,e[n])}return t},p=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},m=Object.keys,h=Object.hasOwnProperty,g=(e,t)=>{let n=m(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},_=(e,t)=>v(e,t)?l.from(e[t]):l.none(),v=(e,t)=>h.call(e,t),y=e=>t=>t.options.get(e),b=e=>{let t=e.options.register;t(`audio_template_callback`,{processor:`function`}),t(`video_template_callback`,{processor:`function`}),t(`iframe_template_callback`,{processor:`function`}),t(`media_live_embeds`,{processor:`boolean`,default:!0}),t(`media_filter_html`,{processor:`boolean`,default:!0}),t(`media_url_resolver`,{processor:`function`}),t(`media_alt_source`,{processor:`boolean`,default:!0}),t(`media_poster`,{processor:`boolean`,default:!0}),t(`media_dimensions`,{processor:`boolean`,default:!0})},x=y(`audio_template_callback`),S=y(`video_template_callback`),C=y(`iframe_template_callback`),w=y(`media_live_embeds`),T=y(`media_filter_html`),E=y(`media_url_resolver`),D=y(`media_alt_source`),O=y(`media_poster`),ee=y(`media_dimensions`);var k=tinymce.util.Tools.resolve(`tinymce.util.Tools`),te=tinymce.util.Tools.resolve(`tinymce.dom.DOMUtils`),A=tinymce.util.Tools.resolve(`tinymce.html.DomParser`);let j=te.DOM,ne=e=>e.replace(/px$/,``),re=e=>{let t=e.attr(`style`),n=t?j.parseStyle(t):{};return{type:`ephox-embed-iri`,source:e.attr(`data-ephox-embed-iri`),altsource:``,poster:``,width:_(n,`max-width`).map(ne).getOr(``),height:_(n,`max-height`).map(ne).getOr(``)}},M=(e,t)=>{let n={},r=A({validate:!1,forced_root_block:!1},t).parse(e);for(let e=r;e;e=e.walk())if(e.type===1){let t=e.name;if(e.attr(`data-ephox-embed-iri`)){n=re(e);break}else !n.source&&t===`param`&&(n.source=e.attr(`movie`)),(t===`iframe`||t===`object`||t===`embed`||t===`video`||t===`audio`)&&(n.type||=t,n=k.extend(e.attributes.map,n)),t===`source`&&(n.source?n.altsource||=e.attr(`src`):n.source=e.attr(`src`)),t===`img`&&!n.poster&&(n.poster=e.attr(`src`))}return n.source=n.source||n.src||``,n.altsource=n.altsource||``,n.poster=n.poster||``,n},N=e=>_({mp3:`audio/mpeg`,m4a:`audio/x-m4a`,wav:`audio/wav`,mp4:`video/mp4`,webm:`video/webm`,ogg:`video/ogg`,swf:`application/x-shockwave-flash`},e.toLowerCase().split(`.`).pop()??``).getOr(``);var ie=tinymce.util.Tools.resolve(`tinymce.html.Node`),ae=tinymce.util.Tools.resolve(`tinymce.html.Serializer`);let oe=(e,t={})=>A({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),P=te.DOM,F=e=>/^[0-9.]+$/.test(e)?e+`px`:e,I=(e,t)=>{let n=t.attr(`style`),r=n?P.parseStyle(n):{};c(e.width)&&(r[`max-width`]=F(e.width)),c(e.height)&&(r[`max-height`]=F(e.height)),t.attr(`style`,P.serializeStyle(r))},se=[`source`,`altsource`],ce=(e,t,n,r)=>{let i=0,a=0,o=oe(r);o.addNodeFilter(`source`,e=>i=e.length);let s=o.parse(e);for(let e=s;e;e=e.walk())if(e.type===1){let r=e.name;if(e.attr(`data-ephox-embed-iri`)){I(t,e);break}else{switch(r){case`video`:case`object`:case`embed`:case`img`:case`iframe`:t.height!==void 0&&t.width!==void 0&&(e.attr(`width`,t.width),e.attr(`height`,t.height));break}if(n)switch(r){case`video`:e.attr(`poster`,t.poster),e.attr(`src`,null);for(let n=i;n<2;n++)if(t[se[n]]){let r=new ie(`source`,1);r.attr(`src`,t[se[n]]),r.attr(`type`,t[se[n]+`mime`]||null),e.append(r)}break;case`iframe`:e.attr(`src`,t.source);break;case`object`:let n=e.getAll(`img`).length>0;if(t.poster&&!n){e.attr(`src`,t.poster);let n=new ie(`img`,1);n.attr(`src`,t.poster),n.attr(`width`,t.width),n.attr(`height`,t.height),e.append(n)}break;case`source`:if(a<2&&(e.attr(`src`,t[se[a]]),e.attr(`type`,t[se[a]+`mime`]||null),!t[se[a]])){e.remove();continue}a++;break;case`img`:t.poster||e.remove();break}}}return ae({},r).serialize(s)},le=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:`iframe`,w:560,h:314,url:`www.youtube.com/embed/$1`,allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:`iframe`,w:560,h:314,url:`www.youtube.com/embed/$2?$4`,allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:`iframe`,w:560,h:314,url:`www.youtube.com/embed/$1`,allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:`iframe`,w:425,h:350,url:`player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc`,allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:`iframe`,w:425,h:350,url:`player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0`,allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:`iframe`,w:425,h:350,url:`player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc`,allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:`iframe`,w:425,h:350,url:`player.vimeo.com/video/$2?title=0&amp;byline=0`,allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:`iframe`,w:425,h:350,url:`maps.google.com/maps/ms?msid=$2&output=embed"`,allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:`iframe`,w:480,h:270,url:`www.dailymotion.com/embed/video/$1`,allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:`iframe`,w:480,h:270,url:`www.dailymotion.com/embed/video/$1`,allowFullscreen:!0}],ue=e=>{let t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?t[1]===`www.`?`https://`:t[1]:`https://`},de=(e,t)=>{let n=ue(t),r=e.regex.exec(t),i=n+e.url;if(c(r))for(let e=0;e<r.length;e++)i=i.replace(`$`+e,()=>r[e]?r[e]:``);return i.replace(/\?$/,``)},fe=e=>{let t=le.filter(t=>t.regex.test(e));return t.length>0?k.extend({},t[0],{url:de(t[0],e)}):null},pe=(e,t)=>{if(t)return t(e);{let t=e.allowfullscreen?` allowFullscreen="1"`:``;return`<iframe src="`+e.source+`" width="`+e.width+`" height="`+e.height+`"`+t+`></iframe>`}},me=e=>{let t=`<object data="`+e.source+`" width="`+e.width+`" height="`+e.height+`" type="application/x-shockwave-flash">`;return e.poster&&(t+=`<img src="`+e.poster+`" width="`+e.width+`" height="`+e.height+`" />`),t+=`</object>`,t},L=(e,t)=>t?t(e):`<audio controls="controls" src="`+e.source+`">`+(e.altsource?`
<source src="`+e.altsource+`"`+(e.altsourcemime?` type="`+e.altsourcemime+`"`:``)+` />
`:``)+`</audio>`,he=(e,t)=>t?t(e):`<video width="`+e.width+`" height="`+e.height+`"`+(e.poster?` poster="`+e.poster+`"`:``)+` controls="controls">
<source src="`+e.source+`"`+(e.sourcemime?` type="`+e.sourcemime+`"`:``)+` />
`+(e.altsource?`<source src="`+e.altsource+`"`+(e.altsourcemime?` type="`+e.altsourcemime+`"`:``)+` />
`:``)+`</video>`,ge=(e,t)=>{let n=k.extend({},t);if(!n.source&&(k.extend(n,M(n.embed??``,e.schema)),!n.source))return``;n.altsource||=``,n.poster||=``,n.source=e.convertURL(n.source,`source`),n.altsource=e.convertURL(n.altsource,`source`),n.sourcemime=N(n.source),n.altsourcemime=N(n.altsource),n.poster=e.convertURL(n.poster,`poster`);let r=fe(n.source);if(r&&(n.source=r.url,n.type=r.type,n.allowfullscreen=r.allowFullscreen,n.width=n.width||String(r.w),n.height=n.height||String(r.h)),n.embed)return ce(n.embed,n,!0,e.schema);{let t=x(e),r=S(e),i=C(e);return n.width=n.width||`300`,n.height=n.height||`150`,k.each(n,(t,r)=>{n[r]=e.dom.encode(``+t)}),n.type===`iframe`?pe(n,i):n.sourcemime===`application/x-shockwave-flash`?me(n):n.sourcemime.indexOf(`audio`)===-1?he(n,r):L(n,t)}},R=e=>e.hasAttribute(`data-mce-object`)||e.hasAttribute(`data-ephox-embed-iri`),_e=e=>{e.on(`click keyup touchend`,()=>{let t=e.selection.getNode();t&&e.dom.hasClass(t,`mce-preview-object`)&&e.dom.getAttrib(t,`data-mce-selected`)&&t.setAttribute(`data-mce-selected`,`2`)}),e.on(`ObjectResized`,t=>{let n=t.target;if(n.getAttribute(`data-mce-object`)){let r=n.getAttribute(`data-mce-html`);r&&(r=unescape(r),n.setAttribute(`data-mce-html`,escape(ce(r,{width:String(t.width),height:String(t.height)},!1,e.schema))))}})},ve={},ye=(e,t,n)=>new Promise((r,i)=>{let a=n=>(n.html&&(ve[e.source]=n),r({url:e.source,html:n.html?n.html:t(e)}));ve[e.source]?a(ve[e.source]):n({url:e.source},a,i)}),be=(e,t)=>Promise.resolve({html:t(e),url:e.source}),xe=e=>t=>ge(e,t),Se=(e,t)=>{let n=E(e);return n?ye(t,xe(e),n):be(t,xe(e))},Ce=e=>v(ve,e),we=(e,t)=>_(t,e).bind(e=>_(e,`meta`)),Te=(e,t,n)=>r=>{let i=()=>_(e,r),o=()=>_(t,r),s=e=>_(e,`value`).bind(e=>e.length>0?l.some(e):l.none()),c=()=>i().bind(e=>a(e)?s(e).orThunk(o):o().orThunk(()=>l.from(e))),u=()=>o().orThunk(()=>i().bind(e=>a(e)?s(e):l.from(e)));return{[r]:(r===n?c():u()).getOr(``)}},Ee=(e,t)=>{let n={};return _(e,`dimensions`).each(e=>{d([`width`,`height`],r=>{_(t,r).orThunk(()=>_(e,r)).each(e=>n[r]=e)})}),n},De=(e,t)=>{let n=t&&t!==`dimensions`?we(t,e).getOr({}):{},r=Te(e,n,t);return{...r(`source`),...r(`altsource`),...r(`poster`),...r(`embed`),...Ee(e,n)}},Oe=e=>{let t={...e,source:{value:_(e,`source`).getOr(``)},altsource:{value:_(e,`altsource`).getOr(``)},poster:{value:_(e,`poster`).getOr(``)}};return d([`width`,`height`],n=>{_(e,n).each(e=>{let r=t.dimensions||{};r[n]=e,t.dimensions=r})}),t},ke=e=>t=>{let n=t&&t.msg?`Media embed handler error: `+t.msg:`Media embed handler threw unknown error.`;e.notificationManager.open({type:`error`,text:n})},Ae=e=>{let t=e.selection.getNode(),n=R(t)?e.serializer.serialize(t,{selection:!0}):``,r=M(n,e.schema),i=(()=>{if(Pe(r.source,r.type)){let n=e.dom.getRect(t);return{width:n.w.toString().replace(/px$/,``),height:n.h.toString().replace(/px$/,``)}}else return{}})();return{embed:n,...r,...i}},je=(e,t)=>n=>{if(i(n.url)&&n.url.trim().length>0){let r=n.html,i={...M(r,t.schema),source:n.url,embed:r};e.setData(Oe(i))}},Me=(e,t)=>{let n=e.dom.select(`*[data-mce-object]`);for(let e=0;e<t.length;e++)for(let r=n.length-1;r>=0;r--)t[e]===n[r]&&n.splice(r,1);e.selection.select(n[0])},Ne=(e,t)=>{let n=e.dom.select(`*[data-mce-object]`);e.insertContent(t),Me(e,n),e.nodeChanged()},Pe=(e,t)=>c(t)&&t===`ephox-embed-iri`&&c(fe(e)),Fe=(e,t)=>((e,t)=>e.width!==t.width||e.height!==t.height)(e,t)&&Pe(t.source,e.type),Ie=(e,t,n)=>{t.embed=Fe(e,t)&&ee(n)?ge(n,{...t,embed:``}):ce(t.embed??``,t,!1,n.schema),t.embed&&(e.source===t.source||Ce(t.source))?Ne(n,t.embed):Se(n,t).then(e=>{Ne(n,e.html)}).catch(ke(n))},Le=e=>{let t=Ae(e),n=p(t),r=Oe(t),i=(t,n)=>{let r=De(n.getData(),`source`);t.source!==r.source&&(je(h,e)({url:r.source,html:``}),Se(e,r).then(je(h,e)).catch(ke(e)))},a=t=>{let n=M(De(t.getData()).embed??``,e.schema);t.setData(Oe(n))},o=(t,n,r)=>{let i=De(t.getData(),n),a=Fe(r,i)&&ee(e)?{...i,embed:``}:i,o=ge(e,a);t.setData(Oe({...a,embed:o}))},s={title:`General`,name:`general`,items:f([[{name:`source`,type:`urlinput`,filetype:`media`,label:`Source`,picker_text:`Browse files`}],ee(e)?[{type:`sizeinput`,name:`dimensions`,label:`Constrain proportions`,constrain:!0}]:[]])},c={title:`Embed`,items:[{type:`textarea`,name:`embed`,label:`Paste your embed code below:`}]},l=[];D(e)&&l.push({name:`altsource`,type:`urlinput`,filetype:`media`,label:`Alternative source URL`}),O(e)&&l.push({name:`poster`,type:`urlinput`,filetype:`image`,label:`Media poster (Image URL)`});let u={title:`Advanced`,name:`advanced`,items:l},d=[s,c];l.length>0&&d.push(u);let m={type:`tabpanel`,tabs:d},h=e.windowManager.open({title:`Insert/Edit Media`,size:`normal`,body:m,buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],onSubmit:t=>{let r=De(t.getData());Ie(n.get(),r,e),t.close()},onChange:(e,t)=>{switch(t.name){case`source`:i(n.get(),e);break;case`embed`:a(e);break;case`dimensions`:case`altsource`:case`poster`:o(e,t.name,n.get());break}n.set(De(e.getData()))},initialData:r})},z=e=>({showDialog:()=>{Le(e)}}),Re=e=>{e.addCommand(`mceMedia`,()=>{Le(e)})},ze=(e,t,n)=>t===``||e.length>=t.length&&e.substr(n,n+t.length)===t,Be=(e,t)=>ze(e,t,0);var Ve=tinymce.util.Tools.resolve(`tinymce.Env`);let He=e=>{let t=e.name;return t===`iframe`||t===`video`||t===`audio`},Ue=(e,t,n,r=null)=>{let i=e.attr(n);return c(i)?i:v(t,n)?null:r},We=(e,t,n)=>{let r=t.name===`img`||e.name===`video`,i=r?`300`:null,a=e.name===`audio`?`30`:`150`,o=r?a:null;t.attr({width:Ue(e,n,`width`,i),height:Ue(e,n,`height`,o)})},Ge=(e,t,n,r)=>{let i=oe(e.schema).parse(r,{context:t});for(;i.firstChild;)n.append(i.firstChild)},Ke=(e,t)=>{let n=t.name,r=new ie(`img`,1);return Je(e,t,r),We(t,r,{}),r.attr({style:t.attr(`style`),src:Ve.transparentSrc,"data-mce-object":n,class:`mce-object mce-object-`+n}),r},qe=(e,t)=>{let n=t.name,r=new ie(`span`,1);r.attr({contentEditable:`false`,style:t.attr(`style`),"data-mce-object":n,class:`mce-preview-object mce-object-`+n}),Je(e,t,r);let i=e.dom.parseStyle(t.attr(`style`)??``),a=new ie(n,1);if(We(t,a,i),a.attr({src:t.attr(`src`),style:t.attr(`style`),class:t.attr(`class`)}),n===`iframe`)a.attr({allowfullscreen:t.attr(`allowfullscreen`),frameborder:`0`,sandbox:t.attr(`sandbox`)});else{d([`controls`,`crossorigin`,`currentTime`,`loop`,`muted`,`poster`,`preload`],e=>{a.attr(e,t.attr(e))});let i=r.attr(`data-mce-html`);c(i)&&Ge(e,n,a,unescape(i))}let o=new ie(`span`,1);return o.attr(`class`,`mce-shim`),r.append(a),r.append(o),r},Je=(e,t,n)=>{let r=t.attributes??[],i=r.length;for(;i--;){let t=r[i].name,a=r[i].value;t!==`width`&&t!==`height`&&t!==`style`&&!Be(t,`data-mce-`)&&((t===`data`||t===`src`)&&(a=e.convertURL(a,t)),n.attr(`data-mce-p-`+t,a))}let a=ae({inner:!0},e.schema),o=new ie(`div`,1);d(t.children(),e=>o.append(e));let s=a.serialize(o);s&&(n.attr(`data-mce-html`,escape(s)),n.empty())},Ye=e=>{let t=e.attr(`class`);return i(t)&&/\btiny-pageembed\b/.test(t)},Xe=e=>{let t=e;for(;t=t.parent;)if(t.attr(`data-ephox-embed-iri`)||Ye(t))return!0;return!1},Ze=e=>t=>{let n=t.length,r;for(;n--;)r=t[n],r.parent&&(r.parent.attr(`data-mce-object`)||(He(r)&&w(e)?Xe(r)||r.replace(qe(e,r)):Xe(r)||r.replace(Ke(e,r))))},Qe=(e,t,n)=>{let r=e.options.get,i=r(`xss_sanitization`),a=T(e);return oe(e.schema,{sanitize:i,validate:a}).parse(n,{context:t})},$e=e=>{e.on(`PreInit`,()=>{let{schema:t,serializer:n,parser:r}=e,i=t.getBoolAttrs();d(`webkitallowfullscreen mozallowfullscreen`.split(` `),e=>{i[e]={}}),g({embed:[`wmode`]},(e,n)=>{let r=t.getElementRule(n);r&&d(e,e=>{r.attributes[e]={},r.attributesOrder.push(e)})}),r.addNodeFilter(`iframe,video,audio,object,embed`,Ze(e)),n.addAttributeFilter(`data-mce-object`,(t,n)=>{let r=t.length;for(;r--;){let i=t[r];if(!i.parent)continue;let a=i.attr(n),o=new ie(a,1);if(a!==`audio`){let e=i.attr(`class`);e&&e.indexOf(`mce-preview-object`)!==-1&&i.firstChild?o.attr({width:i.firstChild.attr(`width`),height:i.firstChild.attr(`height`)}):o.attr({width:i.attr(`width`),height:i.attr(`height`)})}o.attr({style:i.attr(`style`)});let s=i.attributes??[],c=s.length;for(;c--;){let e=s[c].name;e.indexOf(`data-mce-p-`)===0&&o.attr(e.substr(11),s[c].value)}let l=i.attr(`data-mce-html`);l&&d(Qe(e,a,unescape(l)).children(),e=>o.append(e)),i.replace(o)}})}),e.on(`SetContent`,()=>{let t=e.dom;d(t.select(`span.mce-preview-object`),e=>{t.select(`span.mce-shim`,e).length===0&&t.add(e,`span`,{class:`mce-shim`})})})},et=e=>{e.on(`ResolveName`,e=>{let t;e.target.nodeType===1&&(t=e.target.getAttribute(`data-mce-object`))&&(e.name=t)})},tt=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return e.on(`NodeChange`,n),n(),()=>{e.off(`NodeChange`,n)}},nt=e=>{let t=()=>e.execCommand(`mceMedia`);e.ui.registry.addToggleButton(`media`,{tooltip:`Insert/edit media`,icon:`embed`,onAction:t,onSetup:t=>{let n=e.selection;t.setActive(R(n.getNode()));let r=n.selectorChangedWithUnbind(`img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]`,t.setActive).unbind,i=tt(e)(t);return()=>{r(),i()}}}),e.ui.registry.addMenuItem(`media`,{icon:`embed`,text:`Media...`,onAction:t,onSetup:tt(e)})};e.add(`media`,e=>(b(e),Re(e),nt(e),et(e),$e(e),_e(e),z(e)))})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,n=e=>{let n=typeof e;return e===null?`null`:n===`object`&&Array.isArray(e)?`array`:n===`object`&&t(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:n},r=e=>t=>n(t)===e,i=e=>t=>typeof t===e,a=e=>t=>e===t,o=r(`string`),s=r(`array`),c=i(`boolean`),l=a(void 0),u=e=>e==null,d=e=>!u(e),f=i(`function`),p=i(`number`),m=()=>{},h=(e,t)=>n=>e(t(n)),g=e=>()=>e,_=e=>e,v=(e,t)=>e===t;function y(e,...t){return(...n)=>{let r=t.concat(n);return e.apply(null,r)}}let b=e=>{e()},x=g(!1),S=g(!0);class C{constructor(e,t){this.tag=e,this.value=t}static some(e){return new C(!0,e)}static none(){return C.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?C.some(e(this.value)):C.none()}bind(e){return this.tag?e(this.value):C.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:C.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return d(e)?C.some(e):C.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}C.singletonNone=new C(!1);let w=Object.keys,T=Object.hasOwnProperty,E=(e,t)=>{let n=w(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},D=e=>(t,n)=>{e[n]=t},O=(e,t,n,r)=>{E(e,(e,i)=>{(t(e,i)?n:r)(e,i)})},ee=(e,t)=>{let n={};return O(e,t,D(n),m),n},k=(e,t)=>{let n=[];return E(e,(e,r)=>{n.push(t(e,r))}),n},te=e=>k(e,_),A=e=>w(e).length,j=(e,t)=>ne(e,t)?C.from(e[t]):C.none(),ne=(e,t)=>T.call(e,t),re=(e,t)=>ne(e,t)&&e[t]!==void 0&&e[t]!==null,M=e=>{for(let t in e)if(T.call(e,t))return!1;return!0},N=Array.prototype.indexOf,ie=Array.prototype.push,ae=(e,t)=>N.call(e,t),oe=(e,t)=>ae(e,t)>-1,P=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];if(t(r,n))return!0}return!1},F=(e,t)=>{let n=[];for(let r=0;r<e;r++)n.push(t(r));return n},I=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},se=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},ce=(e,t)=>{for(let n=e.length-1;n>=0;n--){let r=e[n];t(r,n)}},le=(e,t)=>{let n=[],r=[];for(let i=0,a=e.length;i<a;i++){let a=e[i];(t(a,i)?n:r).push(a)}return{pass:n,fail:r}},ue=(e,t)=>{let n=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];t(i,r)&&n.push(i)}return n},de=(e,t,n)=>(ce(e,(e,r)=>{n=t(n,e,r)}),n),fe=(e,t,n)=>(se(e,(e,r)=>{n=t(n,e,r)}),n),pe=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return C.some(i);if(n(i,r))break}return C.none()},me=(e,t)=>pe(e,t,x),L=e=>{let t=[];for(let n=0,r=e.length;n<r;++n){if(!s(e[n]))throw Error(`Arr.flatten item `+n+` was not an array, input: `+e);ie.apply(t,e[n])}return t},he=(e,t)=>L(I(e,t)),ge=(e,t)=>{for(let n=0,r=e.length;n<r;++n){let r=e[n];if(t(r,n)!==!0)return!1}return!0},R=(e,t)=>{let n={};for(let r=0,i=e.length;r<i;r++){let i=e[r];n[String(i)]=t(i,r)}return n},_e=(e,t)=>t>=0&&t<e.length?C.some(e[t]):C.none(),ve=e=>_e(e,0),ye=e=>_e(e,e.length-1),be=(e,t)=>{for(let n=0;n<e.length;n++){let r=t(e[n],n);if(r.isSome())return r}return C.none()},xe=(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return we(n.childNodes[0])},Se=(e,t)=>we((t||document).createElement(e)),Ce=(e,t)=>we((t||document).createTextNode(e)),we=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},Te={fromHtml:xe,fromTag:Se,fromText:Ce,fromDom:we,fromPoint:(e,t,n)=>C.from(e.dom.elementFromPoint(t,n)).map(we)},Ee=(e,t)=>{let n=e.dom;if(n.nodeType!==1)return!1;{let e=n;if(e.matches!==void 0)return e.matches(t);if(e.msMatchesSelector!==void 0)return e.msMatchesSelector(t);if(e.webkitMatchesSelector!==void 0)return e.webkitMatchesSelector(t);if(e.mozMatchesSelector!==void 0)return e.mozMatchesSelector(t);throw Error(`Browser lacks native selectors`)}},De=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,Oe=(e,t)=>{let n=t===void 0?document:t.dom;return De(n)?[]:I(n.querySelectorAll(e),Te.fromDom)},ke=(e,t)=>{let n=t===void 0?document:t.dom;return De(n)?C.none():C.from(n.querySelector(e)).map(Te.fromDom)},Ae=(e,t)=>e.dom===t.dom,je=Ee;typeof window<`u`?window:Function(`return this;`)();let Me=e=>e.dom.nodeName.toLowerCase(),Ne=e=>e.dom.nodeType,Pe=e=>t=>Ne(t)===e,Fe=e=>Ne(e)===8||Me(e)===`#comment`,Ie=Pe(1),Le=Pe(3),z=Pe(9),Re=Pe(11),ze=e=>t=>Ie(t)&&Me(t)===e,Be=e=>Te.fromDom(e.dom.ownerDocument),Ve=e=>z(e)?e:Be(e),He=e=>C.from(e.dom.parentNode).map(Te.fromDom),Ue=(e,t)=>{let n=f(t)?t:x,r=e.dom,i=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){let e=r.parentNode,t=Te.fromDom(e);if(i.push(t),n(t)===!0)break;r=e}return i},We=e=>C.from(e.dom.previousSibling).map(Te.fromDom),Ge=e=>C.from(e.dom.nextSibling).map(Te.fromDom),Ke=e=>I(e.dom.childNodes,Te.fromDom),qe=(e,t)=>{let n=e.dom.childNodes;return C.from(n[t]).map(Te.fromDom)},Je=e=>qe(e,0),Ye=e=>Re(e)&&d(e.dom.host),Xe=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode)?e=>Te.fromDom(e.dom.getRootNode()):Ve,Ze=e=>{let t=Xe(e);return Ye(t)?C.some(t):C.none()},Qe=e=>Te.fromDom(e.dom.host),$e=e=>{let t=Le(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;let n=t.ownerDocument;return Ze(Te.fromDom(t)).fold(()=>n.body.contains(t),h($e,Qe))};var et=(e,t,n,r,i)=>e(n,r)?C.some(n):f(i)&&i(n)?C.none():t(n,r,i);let tt=(e,t,n)=>{let r=e.dom,i=f(n)?n:x;for(;r.parentNode;){r=r.parentNode;let e=Te.fromDom(r);if(t(e))return C.some(e);if(i(e))break}return C.none()},nt=(e,t,n)=>et((e,t)=>t(e),tt,e,t,n),rt=(e,t)=>me(e.dom.childNodes,e=>t(Te.fromDom(e))).map(Te.fromDom),it=(e,t,n)=>tt(e,e=>Ee(e,t),n),at=(e,t)=>rt(e,e=>Ee(e,t)),B=(e,t)=>ke(t,e),ot=(e,t,n)=>et((e,t)=>Ee(e,t),it,e,t,n),st=e=>ot(e,`[contenteditable]`),ct=(e,t=!1)=>$e(e)?e.dom.isContentEditable:st(e).fold(g(t),e=>V(e)===`true`),V=e=>e.dom.contentEditable,lt=e=>e.nodeName.toLowerCase(),ut=e=>Te.fromDom(e.getBody()),dt=e=>t=>Ae(t,ut(e)),ft=e=>e?e.replace(/px$/,``):``,pt=e=>/^\d+(\.\d+)?$/.test(e)?e+`px`:e,mt=e=>Te.fromDom(e.selection.getStart()),ht=e=>Te.fromDom(e.selection.getEnd()),gt=e=>nt(e,ze(`table`)).forall(ct),_t=(e,t)=>ue(Ke(e),t),vt=(e,t)=>{let n=[];return se(Ke(e),e=>{t(e)&&(n=n.concat([e])),n=n.concat(vt(e,t))}),n},yt=(e,t)=>_t(e,e=>Ee(e,t)),bt=(e,t)=>Oe(t,e),xt=(e,t,n)=>{if(o(n)||c(n)||p(n))e.setAttribute(t,n+``);else throw console.error(`Invalid call to Attribute.set. Key `,t,`:: Value `,n,`:: Element `,e),Error(`Attribute value was not simple`)},St=(e,t,n)=>{xt(e.dom,t,n)},Ct=(e,t)=>{let n=e.dom;E(t,(e,t)=>{xt(n,t,e)})},wt=(e,t)=>{let n=e.dom.getAttribute(t);return n===null?void 0:n},Tt=(e,t)=>C.from(wt(e,t)),Et=(e,t)=>{e.dom.removeAttribute(t)},Dt=e=>fe(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),Ot=(e,t,n=v)=>e.exists(e=>n(e,t)),kt=e=>{let t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},At=(e,t,n)=>e.isSome()&&t.isSome()?C.some(n(e.getOrDie(),t.getOrDie())):C.none(),jt=e=>e.bind(_),Mt=(e,t)=>e?C.some(t):C.none(),Nt=(e,t)=>e.substring(t),Pt=(e,t,n)=>t===``||e.length>=t.length&&e.substr(n,n+t.length)===t,Ft=(e,t)=>It(e,t)?Nt(e,t.length):e,It=(e,t)=>Pt(e,t,0),Lt=(e=>t=>t.replace(e,``))(/^\s+|\s+$/g),Rt=e=>e.length>0,zt=e=>!Rt(e),Bt=(e,t=10)=>{let n=parseInt(e,t);return isNaN(n)?C.none():C.some(n)},Vt=e=>{let t=parseFloat(e);return isNaN(t)?C.none():C.some(t)},Ht=e=>e.style!==void 0&&f(e.style.getPropertyValue),Ut=(e,t,n)=>{if(!o(n))throw console.error(`Invalid call to CSS.set. Property `,t,`:: Value `,n,`:: Element `,e),Error(`CSS value must be a string: `+n);Ht(e)&&e.style.setProperty(t,n)},Wt=(e,t)=>{Ht(e)&&e.style.removeProperty(t)},Gt=(e,t,n)=>{let r=e.dom;Ut(r,t,n)},Kt=(e,t)=>{let n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return r===``&&!$e(e)?qt(n,t):r},qt=(e,t)=>Ht(e)?e.style.getPropertyValue(t):``,Jt=(e,t)=>{let n=e.dom,r=qt(n,t);return C.from(r).filter(e=>e.length>0)},Yt=(e,t)=>{let n=e.dom;Wt(n,t),Ot(Tt(e,`style`).map(Lt),``)&&Et(e,`style`)},Xt=(e,t,n=0)=>Tt(e,t).map(e=>parseInt(e,10)).getOr(n),Zt=(e,t)=>Qt(e,t,S),Qt=(e,t,n)=>he(Ke(e),e=>Ee(e,t)?n(e)?[e]:[]:Qt(e,t,n)),$t=[`tfoot`,`thead`,`tbody`,`colgroup`],en=e=>oe($t,e),tn=(e,t)=>({rows:e,columns:t}),nn=(e,t,n)=>({element:e,rowspan:t,colspan:n}),rn=(e,t,n,r,i,a)=>({element:e,rowspan:t,colspan:n,row:r,column:i,isLocked:a}),an=(e,t,n)=>({element:e,cells:t,section:n}),on=(e,t,n,r)=>({startRow:e,startCol:t,finishRow:n,finishCol:r}),sn=(e,t,n)=>({element:e,colspan:t,column:n}),cn=(e,t)=>({element:e,columns:t}),ln=(e,t,n=x)=>n(t)?C.none():oe(e,Me(t))?C.some(t):it(t,e.join(`,`),e=>Ee(e,`table`)||n(e)),un=(e,t)=>ln([`td`,`th`],e,t),dn=e=>Zt(e,`th,td`),fn=e=>Ee(e,`colgroup`)?yt(e,`col`):he(hn(e),e=>yt(e,`col`)),pn=(e,t)=>ot(e,`table`,t),mn=e=>Zt(e,`tr`),hn=e=>pn(e).fold(g([]),e=>yt(e,`colgroup`)),gn=(e,t)=>I(e,e=>Me(e)===`colgroup`?an(e,I(fn(e),e=>nn(e,1,Xt(e,`span`,1))),`colgroup`):an(e,I(dn(e),e=>nn(e,Xt(e,`rowspan`,1),Xt(e,`colspan`,1))),t(e))),_n=e=>He(e).map(e=>{let t=Me(e);return en(t)?t:`tbody`}).getOr(`tbody`),H=e=>{let t=mn(e);return gn([...hn(e),...t],_n)},vn=e=>Tt(e,`data-snooker-locked-cols`).bind(e=>C.from(e.match(/\d+/g))).map(e=>R(e,S)),yn=(e,t)=>e+`,`+t,bn=(e,t,n)=>C.from(e.access[yn(t,n)]),xn=(e,t,n)=>{let r=Sn(e,e=>n(t,e.element));return r.length>0?C.some(r[0]):C.none()},Sn=(e,t)=>ue(he(e.all,e=>e.cells),t),Cn=e=>{let t={},n=0;return se(e.cells,e=>{let r=e.colspan;F(r,i=>{let a=n+i;t[a]=sn(e.element,r,a)}),n+=r}),t},wn=e=>{let t={},n=[],r=ve(e).map(e=>e.element).bind(pn).bind(vn).getOr({}),i=0,a=0,o=0,{pass:s,fail:c}=le(e,e=>e.section===`colgroup`);se(c,e=>{let s=[];se(e.cells,e=>{let n=0;for(;t[yn(o,n)]!==void 0;)n++;let i=re(r,n.toString()),c=rn(e.element,e.rowspan,e.colspan,o,n,i);for(let r=0;r<e.colspan;r++)for(let i=0;i<e.rowspan;i++){let e=o+i,s=n+r,l=yn(e,s);t[l]=c,a=Math.max(a,s+1)}s.push(c)}),i++,n.push(an(e.element,s,e.section)),o++});let{columns:l,colgroups:u}=ye(s).map(e=>{let t=Cn(e);return{colgroups:[cn(e.element,te(t))],columns:t}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:tn(i,a),access:t,all:n,columns:l,colgroups:u}},Tn={fromTable:e=>wn(H(e)),generate:wn,getAt:bn,findItem:xn,filterItems:Sn,justCells:e=>he(e.all,e=>e.cells),justColumns:e=>te(e.columns),hasColumns:e=>w(e.columns).length>0,getColumnAt:(e,t)=>C.from(e.columns[t])};var En=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let Dn=(e,t,n)=>{let r=e.select(`td,th`,t),i;for(let t=0;t<r.length;t++){let a=e.getStyle(r[t],n);if(l(i)&&(i=a),i!==a)return``}return i},On=(e,t,n)=>{En.each(`left center right`.split(` `),r=>{r!==n&&e.formatter.remove(`align`+r,{},t)}),n&&e.formatter.apply(`align`+n,{},t)},kn=(e,t,n)=>{En.each(`top middle bottom`.split(` `),r=>{r!==n&&e.formatter.remove(`valign`+r,{},t)}),n&&e.formatter.apply(`valign`+n,{},t)},An=(e,t,n)=>{e.dispatch(`TableModified`,{...n,table:t})},jn=(e,t)=>Vt(e).getOr(t),Mn=(e,t,n)=>jn(Kt(e,t),n),Nn=(e,t,n,r)=>{let i=Mn(e,`padding-${n}`,0),a=Mn(e,`padding-${r}`,0),o=Mn(e,`border-${n}-width`,0),s=Mn(e,`border-${r}-width`,0);return t-i-a-o-s},Pn=(e,t)=>{let n=e.dom,r=n.getBoundingClientRect().width||n.offsetWidth;return t===`border-box`?r:Nn(e,r,`left`,`right`)},Fn=e=>Pn(e,`content-box`);var In=tinymce.util.Tools.resolve(`tinymce.Env`);let Ln=F(5,e=>{let t=`${e+1}px`;return{title:t,value:t}}),Rn=I([`Solid`,`Dotted`,`Dashed`,`Double`,`Groove`,`Ridge`,`Inset`,`Outset`,`None`,`Hidden`],e=>({title:e,value:e.toLowerCase()})),zn=`100%`,Bn=e=>{let t=e.dom,n=t.getParent(e.selection.getStart(),t.isBlock)??e.getBody();return Fn(Te.fromDom(n))+`px`},Vn=(e,t)=>sr(e)||!$n(e)?t:or(e)?{...t,width:Bn(e)}:{...t,width:zn},Hn=(e,t)=>sr(e)||$n(e)?t:or(e)?{...t,width:Bn(e)}:{...t,width:zn},Un=e=>t=>t.options.get(e),Wn=e=>{let t=e.options.register;t(`table_border_widths`,{processor:`object[]`,default:Ln}),t(`table_border_styles`,{processor:`object[]`,default:Rn}),t(`table_cell_advtab`,{processor:`boolean`,default:!0}),t(`table_row_advtab`,{processor:`boolean`,default:!0}),t(`table_advtab`,{processor:`boolean`,default:!0}),t(`table_appearance_options`,{processor:`boolean`,default:!0}),t(`table_grid`,{processor:`boolean`,default:!In.deviceType.isTouch()}),t(`table_cell_class_list`,{processor:`object[]`,default:[]}),t(`table_row_class_list`,{processor:`object[]`,default:[]}),t(`table_class_list`,{processor:`object[]`,default:[]}),t(`table_toolbar`,{processor:`string`,default:`tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol`}),t(`table_background_color_map`,{processor:`object[]`,default:[]}),t(`table_border_color_map`,{processor:`object[]`,default:[]})},Gn=Un(`table_sizing_mode`),Kn=Un(`table_border_widths`),qn=Un(`table_border_styles`),Jn=Un(`table_cell_advtab`),Yn=Un(`table_row_advtab`),Xn=Un(`table_advtab`),Zn=Un(`table_appearance_options`),Qn=Un(`table_grid`),$n=Un(`table_style_by_css`),er=Un(`table_cell_class_list`),tr=Un(`table_row_class_list`),nr=Un(`table_class_list`),rr=Un(`table_toolbar`),ir=Un(`table_background_color_map`),ar=Un(`table_border_color_map`),or=e=>Gn(e)===`fixed`,sr=e=>Gn(e)===`responsive`,cr=e=>{let t=e.options,n=t.get(`table_default_styles`);return t.isSet(`table_default_styles`)?n:Vn(e,n)},lr=e=>{let t=e.options,n=t.get(`table_default_attributes`);return t.isSet(`table_default_attributes`)?n:Hn(e,n)},ur=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,dr=(e,t)=>{let n=!0,r=y(ur,t);for(let i=t.startRow;i<=t.finishRow;i++)for(let a=t.startCol;a<=t.finishCol;a++)n&&=Tn.getAt(e,i,a).exists(r);return n?C.some(t):C.none()},fr=(e,t)=>on(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1)),pr=(e,t,n)=>{let r=Tn.findItem(e,t,Ae),i=Tn.findItem(e,n,Ae);return r.bind(e=>i.map(t=>fr(e,t)))},U=(e,t,n)=>pr(e,t,n).bind(t=>dr(e,t)),mr=(e,t,n)=>U(hr(e),t,n),hr=Tn.fromTable,gr=(e,t)=>{He(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},_r=(e,t)=>{Ge(e).fold(()=>{He(e).each(e=>{yr(e,t)})},e=>{gr(e,t)})},vr=(e,t)=>{Je(e).fold(()=>{yr(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},yr=(e,t)=>{e.dom.appendChild(t.dom)},br=(e,t)=>{gr(e,t),yr(t,e)},xr=(e,t)=>{se(t,(n,r)=>{_r(r===0?e:t[r-1],n)})},Sr=(e,t)=>{se(t,t=>{yr(e,t)})},Cr=e=>{let t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},wr=e=>{let t=Ke(e);t.length>0&&xr(e,t),Cr(e)},Tr=((e,t)=>{let n=n=>{if(!e(n))throw Error(`Can only get `+t+` value of a `+t+` node`);return r(n).getOr(``)},r=t=>e(t)?C.from(t.dom.nodeValue):C.none();return{get:n,getOption:r,set:(n,r)=>{if(!e(n))throw Error(`Can only set raw `+t+` value of a `+t+` node`);n.dom.nodeValue=r}}})(Le,`text`),Er=e=>Tr.get(e),Dr=(e,t)=>Tr.set(e,t);var Or=`body.p.div.article.aside.figcaption.figure.footer.header.nav.section.ol.ul.li.table.thead.tbody.tfoot.caption.tr.td.th.h1.h2.h3.h4.h5.h6.blockquote.pre.address`.split(`.`),kr=()=>({up:g({selector:it,closest:ot,predicate:tt,all:Ue}),down:g({selector:bt,predicate:vt}),styles:g({get:Kt,getRaw:Jt,set:Gt,remove:Yt}),attrs:g({get:wt,set:St,remove:Et,copyTo:(e,t)=>{Ct(t,Dt(e))}}),insert:g({before:gr,after:_r,afterAll:xr,append:yr,appendAll:Sr,prepend:vr,wrap:br}),remove:g({unwrap:wr,remove:Cr}),create:g({nu:Te.fromTag,clone:e=>Te.fromDom(e.dom.cloneNode(!1)),text:Te.fromText}),query:g({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:We,nextSibling:Ge}),property:g({children:Ke,name:Me,parent:He,document:e=>Ve(e).dom,isText:Le,isComment:Fe,isElement:Ie,isSpecial:e=>oe([`script`,`noscript`,`iframe`,`noframes`,`noembed`,`title`,`style`,`textarea`,`xmp`],Me(e)),getLanguage:e=>Ie(e)?Tt(e,`lang`):C.none(),getText:Er,setText:Dr,isBoundary:e=>Ie(e)?Me(e)===`body`?!0:oe(Or,Me(e)):!1,isEmptyTag:e=>Ie(e)?oe([`br`,`img`,`hr`,`input`],Me(e)):!1,isNonEditable:e=>Ie(e)&&wt(e,`contenteditable`)===`false`}),eq:Ae,is:je});let Ar=(e,t,n,r)=>{let i=n[0];return r(e,t,i,n.slice(1))},jr=(e,t,n)=>n.length>0?Ar(e,t,n,Mr):C.none(),Mr=(e,t,n,r)=>de(r,(n,r)=>Nr(e,n,t(e,r)),t(e,n)),Nr=(e,t,n)=>t.bind(t=>n.filter(y(e.eq,t))),Pr=jr,Fr=kr(),Ir=(e,t)=>Pr(Fr,(t,n)=>e(n),t),Lr=e=>it(e,`table`),Rr=(e,t)=>{let n=bt(e,t);return n.length>0?C.some(n):C.none()},zr=(e,t,n)=>B(e,t).bind(t=>B(e,n).bind(e=>Ir(Lr,[t,e]).map(n=>({first:t,last:e,table:n})))),Br=(e,t)=>Rr(e,t),Vr=(e,t,n)=>zr(e,t,n).bind(t=>{let n=t=>Ae(e,t),r=`thead,tfoot,tbody,table`,i=it(t.first,r,n),a=it(t.last,r,n);return i.bind(e=>a.bind(n=>Ae(e,n)?mr(t.table,t.first,t.last):C.none()))}),Hr=e=>I(e,Te.fromDom),Ur=`data-mce-selected`;``+Ur;let Wr=`data-mce-first-selected`;``+Wr;let Gr=`data-mce-last-selected`,Kr={selected:Ur,selectedSelector:`td[data-mce-selected],th[data-mce-selected]`,firstSelected:Wr,firstSelectedSelector:`td[data-mce-first-selected],th[data-mce-first-selected]`,lastSelected:Gr,lastSelectedSelector:`td[`+Gr+`],th[data-mce-last-selected]`},qr=e=>pn(e).bind(e=>Br(e,Kr.firstSelectedSelector)).fold(g(e),e=>e[0]),Jr=e=>(t,n)=>{let r=Me(t);return ot(r===`col`||r===`colgroup`?qr(t):t,e,n)},Yr=Jr(`th,td,caption`),Xr=Jr(`th,td`),Zr=e=>Hr(e.model.table.getSelectedCells()),Qr=(e,t)=>{let n=Xr(e);return At(n,n.bind(e=>pn(e)).map(e=>mn(e)),(e,n)=>ue(n,n=>P(Hr(n.dom.cells),n=>wt(n,t)===`1`||Ae(n,e)))).getOr([])},$r=[{text:`None`,value:``},{text:`Top`,value:`top`},{text:`Middle`,value:`middle`},{text:`Bottom`,value:`bottom`}],ei=e=>({value:ii(e)}),ti=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ni=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ri=e=>ti.test(e)||ni.test(e),ii=e=>Ft(e,`#`).toUpperCase(),ai=e=>ri(e)?C.some({value:ii(e)}):C.none(),oi=e=>{let t=e.toString(16);return(t.length===1?`0`+t:t).toUpperCase()},si=e=>ei(oi(e.red)+oi(e.green)+oi(e.blue)),ci=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,li=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,ui=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),di=(e,t,n,r)=>ui(parseInt(e,10),parseInt(t,10),parseInt(n,10),parseFloat(r)),fi=e=>{if(e===`transparent`)return C.some(ui(0,0,0,0));let t=ci.exec(e);if(t!==null)return C.some(di(t[1],t[2],t[3],`1`));let n=li.exec(e);return n===null?C.none():C.some(di(n[1],n[2],n[3],n[4]))},pi=e=>ai(e).orThunk(()=>fi(e).map(si)).getOrThunk(()=>{let t=document.createElement(`canvas`);t.height=1,t.width=1;let n=t.getContext(`2d`);n.clearRect(0,0,t.width,t.height),n.fillStyle=`#FFFFFF`,n.fillStyle=e,n.fillRect(0,0,1,1);let r=n.getImageData(0,0,1,1).data,i=r[0],a=r[1],o=r[2],s=r[3];return si(ui(i,a,o,s))}),mi=e=>fi(e).map(si).map(e=>`#`+e.value).getOr(e),hi=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},gi=e=>{let t=hi(C.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(C.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(C.some(e))}}},_i=()=>gi(e=>e.unbind()),vi=(e,t,n)=>r=>{let i=_i(),a=zt(n),o=()=>{let o=Zr(e),s=r=>e.formatter.match(t,{value:n},r.dom,a);a?(r.setActive(!P(o,s)),i.set(e.formatter.formatChanged(t,e=>r.setActive(!e),!0))):(r.setActive(ge(o,s)),i.set(e.formatter.formatChanged(t,r.setActive,!1,{value:n})))};return e.initialized?o():e.on(`init`,o),i.clear},yi=e=>re(e,`menu`),bi=e=>I(e,e=>{let t=e.text||e.title||``;return yi(e)?{text:t,items:bi(e.menu)}:{text:t,value:e.value}}),xi=(e,t,n,r)=>I(t,t=>{let i=t.text||t.title;return yi(t)?{type:`nestedmenuitem`,text:i,getSubmenuItems:()=>xi(e,t.menu,n,r)}:{text:i,type:`togglemenuitem`,onAction:()=>r(t.value),onSetup:vi(e,n,t.value)}}),Si=(e,t)=>n=>{e.execCommand(`mceTableApplyCellStyle`,!1,{[t]:n})},Ci=e=>he(e,e=>yi(e)?[{...e,menu:Ci(e.menu)}]:Rt(e.value)?[e]:[]),wi=(e,t,n,r)=>i=>i(xi(e,t,n,r)),Ti=(e,t,n)=>{let r=I(t,e=>({text:e.title,value:`#`+pi(e.value).value,type:`choiceitem`}));return[{type:`fancymenuitem`,fancytype:`colorswatch`,initData:{colors:r.length>0?r:void 0,allowCustomColors:!1},onAction:t=>{let r=t.value===`remove`?``:t.value;e.execCommand(`mceTableApplyCellStyle`,!1,{[n]:r})}}]},Ei=e=>()=>{let t=e.queryCommandValue(`mceTableRowType`)===`header`?`body`:`header`;e.execCommand(`mceTableRowType`,!1,{type:t})},Di=e=>()=>{let t=e.queryCommandValue(`mceTableColType`)===`th`?`td`:`th`;e.execCommand(`mceTableColType`,!1,{type:t})},Oi=e=>{let t=bi(er(e));return t.length>0?C.some({name:`class`,type:`listbox`,label:`Class`,items:t}):C.none()},ki=[{name:`width`,type:`input`,label:`Width`},{name:`height`,type:`input`,label:`Height`},{name:`celltype`,type:`listbox`,label:`Cell type`,items:[{text:`Cell`,value:`td`},{text:`Header cell`,value:`th`}]},{name:`scope`,type:`listbox`,label:`Scope`,items:[{text:`None`,value:``},{text:`Row`,value:`row`},{text:`Column`,value:`col`},{text:`Row group`,value:`rowgroup`},{text:`Column group`,value:`colgroup`}]},{name:`halign`,type:`listbox`,label:`Horizontal align`,items:[{text:`None`,value:``},{text:`Left`,value:`left`},{text:`Center`,value:`center`},{text:`Right`,value:`right`}]},{name:`valign`,type:`listbox`,label:`Vertical align`,items:$r}],Ai=e=>ki.concat(Oi(e).toArray()),ji=(e,t)=>{let n=[{name:`borderstyle`,type:`listbox`,label:`Border style`,items:[{text:`Select...`,value:``}].concat(bi(qn(e)))},{name:`bordercolor`,type:`colorinput`,label:`Border color`},{name:`backgroundcolor`,type:`colorinput`,label:`Background color`}];return{title:`Advanced`,name:`advanced`,items:t===`cell`?[{name:`borderwidth`,type:`input`,label:`Border width`}].concat(n):n}},Mi={normal:(e,t)=>{let n=e.dom;return{setAttrib:(e,r)=>{n.setAttrib(t,e,r)},setStyle:(e,r)=>{n.setStyle(t,e,r)},setFormat:(n,r)=>{r===``?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:r},t)}}}},Ni=ze(`th`),Pi=(e,t)=>e&&t?`sectionCells`:e?`section`:`cells`,Fi=e=>{let t=e.section===`thead`,n=Ot(Ii(e.cells),`th`);return e.section===`tfoot`?{type:`footer`}:t||n?{type:`header`,subType:Pi(t,n)}:{type:`body`}},Ii=e=>{let t=ue(e,e=>Ni(e.element));return t.length===0?C.some(`td`):t.length===e.length?C.some(`th`):C.none()},Li=e=>{let t=I(e,e=>Fi(e).type),n=oe(t,`header`),r=oe(t,`footer`);if(!n&&!r)return C.some(`body`);{let e=oe(t,`body`);return n&&!e&&!r?C.some(`header`):!n&&!e&&r?C.some(`footer`):C.none()}},Ri=e=>{let t=!1,n;return(...r)=>(t||(t=!0,n=e.apply(null,r)),n)},zi=(e,t)=>be(e.all,e=>me(e.cells,e=>Ae(t,e.element))),Bi=(e,t,n)=>{let r=kt(I(t.selection,t=>un(t).bind(t=>zi(e,t)).filter(n)));return Mt(r.length>0,r)},Vi=(e,t)=>t.mergable,Hi=(e,t)=>t.unmergable,Ui=(e,t)=>Bi(e,t,S),Wi=(e,t)=>zi(e,t).exists(e=>!e.isLocked),Gi=(e,t)=>ge(t,t=>Wi(e,t)),Ki=(e,t)=>Vi(e,t).filter(t=>Gi(e,t.cells)),qi=(e,t)=>Hi(e,t).filter(t=>Gi(e,t));({...{generate:e=>{if(!s(e))throw Error(`cases must be an array`);if(e.length===0)throw Error(`there must be at least one case`);let t=[],n={};return se(e,(r,i)=>{let a=w(r);if(a.length!==1)throw Error(`one and only one name per case`);let o=a[0],c=r[o];if(n[o]!==void 0)throw Error(`duplicate key detected:`+o);if(o===`cata`)throw Error(`cannot have a case named cata (sorry)`);if(!s(c))throw Error(`case arguments must be an array`);t.push(o),n[o]=(...n)=>{let r=n.length;if(r!==c.length)throw Error(`Wrong number of arguments to case `+o+`. Expected `+c.length+` (`+c+`), got `+r);return{fold:(...t)=>{if(t.length!==e.length)throw Error(`Wrong number of arguments to fold. Expected `+e.length+`, got `+t.length);return t[i].apply(null,n)},match:e=>{let r=w(e);if(t.length!==r.length)throw Error(`Wrong number of arguments to match. Expected: `+t.join(`,`)+`
Actual: `+r.join(`,`));if(!ge(t,e=>oe(r,e)))throw Error(`Not all branches were specified when using match. Specified: `+r.join(`, `)+`
Required: `+t.join(`, `));return e[o].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:o,params:n})}}}}),n}}.generate([{none:[]},{only:[`index`]},{left:[`index`,`next`]},{middle:[`prev`,`index`,`next`]},{right:[`prev`,`index`]}])});let Ji=(e,t)=>{let n=Tn.fromTable(e);return Ui(n,t).bind(e=>{let t=e[e.length-1],r=e[0].row,i=t.row+t.rowspan;return Li(n.all.slice(r,i))}).getOr(``)},Yi=e=>It(e,`rgb`)?mi(e):e,Xi=e=>{let t=Te.fromDom(e);return{borderwidth:Jt(t,`border-width`).getOr(``),borderstyle:Jt(t,`border-style`).getOr(``),bordercolor:Jt(t,`border-color`).map(Yi).getOr(``),backgroundcolor:Jt(t,`background-color`).map(Yi).getOr(``)}},Zi=e=>{let t=e[0];return se(e.slice(1),e=>{se(w(t),n=>{E(e,(e,r)=>{let i=t[n];i!==``&&n===r&&i!==e&&(t[n]=``)})})}),t},Qi=(e,t,n,r)=>me(e,e=>!l(n.formatter.matchNode(r,t+e))).getOr(``),$i=y(Qi,[`left`,`center`,`right`],`align`),ea=y(Qi,[`top`,`middle`,`bottom`],`valign`),ta=(e,t)=>{let n=cr(e),r=lr(e),i=()=>({borderstyle:j(n,`border-style`).getOr(``),bordercolor:Yi(j(n,`border-color`).getOr(``)),backgroundcolor:Yi(j(n,`background-color`).getOr(``))}),a={height:``,width:`100%`,cellspacing:``,cellpadding:``,caption:!1,class:``,align:``,border:``},o=()=>{let t=n[`border-width`];return $n(e)&&t?{border:t}:j(r,`border`).fold(()=>({}),e=>({border:e}))},s=t?i():{},c=()=>{let e=j(n,`border-spacing`).or(j(r,`cellspacing`)).fold(()=>({}),e=>({cellspacing:e})),t=j(n,`border-padding`).or(j(r,`cellpadding`)).fold(()=>({}),e=>({cellpadding:e}));return{...e,...t}};return{...a,...n,...r,...s,...o(),...c()}},na=e=>pn(Te.fromDom(e)).map(t=>Ji(t,{selection:Hr(e.cells)})).getOr(``),ra=(e,t,n)=>{let r=(t,n)=>{let r=Jt(Te.fromDom(n),`border-width`);return $n(e)&&r.isSome()?r.getOr(``):t.getAttrib(n,`border`)||Dn(e.dom,n,`border-width`)||Dn(e.dom,n,`border`)||``},i=e.dom,a=$n(e)?i.getStyle(t,`border-spacing`)||i.getAttrib(t,`cellspacing`):i.getAttrib(t,`cellspacing`)||i.getStyle(t,`border-spacing`),o=$n(e)?Dn(i,t,`padding`)||i.getAttrib(t,`cellpadding`):i.getAttrib(t,`cellpadding`)||Dn(i,t,`padding`);return{width:i.getStyle(t,`width`)||i.getAttrib(t,`width`),height:i.getStyle(t,`height`)||i.getAttrib(t,`height`),cellspacing:a??``,cellpadding:o??``,border:r(i,t),caption:!!i.select(`caption`,t)[0],class:i.getAttrib(t,`class`,``),align:$i(e,t),...n?Xi(t):{}}},ia=(e,t,n)=>{let r=e.dom;return{height:r.getStyle(t,`height`)||r.getAttrib(t,`height`),class:r.getAttrib(t,`class`,``),type:na(t),align:$i(e,t),...n?Xi(t):{}}},aa=(e,t,n,r)=>{let i=e.dom,a=r.getOr(t),o=(e,t)=>i.getStyle(e,t)||i.getAttrib(e,t);return{width:o(a,`width`),height:o(t,`height`),scope:i.getAttrib(t,`scope`),celltype:lt(t),class:i.getAttrib(t,`class`,``),halign:$i(e,t),valign:ea(e,t),...n?Xi(t):{}}},W=(e,t)=>{let n=Tn.fromTable(e);return I(ue(Tn.justCells(n),e=>P(t,t=>Ae(e.element,t))),e=>({element:e.element.dom,column:Tn.getColumnAt(n,e.column).map(e=>e.element.dom)}))},oa=(e,t,n,r)=>{r(`scope`)&&e.setAttrib(`scope`,n.scope),r(`class`)&&e.setAttrib(`class`,n.class),r(`height`)&&e.setStyle(`height`,pt(n.height)),r(`width`)&&t.setStyle(`width`,pt(n.width))},sa=(e,t,n)=>{n(`backgroundcolor`)&&e.setFormat(`tablecellbackgroundcolor`,t.backgroundcolor),n(`bordercolor`)&&e.setFormat(`tablecellbordercolor`,t.bordercolor),n(`borderstyle`)&&e.setFormat(`tablecellborderstyle`,t.borderstyle),n(`borderwidth`)&&e.setFormat(`tablecellborderwidth`,pt(t.borderwidth))},ca=(e,t,n,r)=>{let i=t.length===1;se(t,t=>{let a=t.element,o=i?S:r,s=Mi.normal(e,a);oa(s,t.column.map(t=>Mi.normal(e,t)).getOr(s),n,o),Jn(e)&&sa(s,n,o),r(`halign`)&&On(e,a,n.halign),r(`valign`)&&kn(e,a,n.valign)})},la=(e,t)=>{e.execCommand(`mceTableCellType`,!1,{type:t.celltype,no_events:!0})},ua=(e,t,n,r)=>{let i=ee(r,(e,t)=>n[t]!==e);A(i)>0&&t.length>=1&&pn(t[0]).each(n=>{let a=W(n,t),o=A(ee(i,(e,t)=>t!==`scope`&&t!==`celltype`))>0,s=ne(i,`celltype`);(o||ne(i,`scope`))&&ca(e,a,r,y(ne,i)),s&&la(e,r),An(e,n.dom,{structure:s,style:o})})},da=(e,t,n,r)=>{let i=r.getData();r.close(),e.undoManager.transact(()=>{ua(e,t,n,i),e.focus()})},fa=(e,t)=>Zi(pn(t[0]).map(n=>I(W(n,t),t=>aa(e,t.element,Jn(e),t.column))).getOrDie()),pa=e=>{let t=Zr(e);if(t.length===0)return;let n=fa(e,t),r={type:`tabpanel`,tabs:[{title:`General`,name:`general`,items:Ai(e)},ji(e,`cell`)]},i={type:`panel`,items:[{type:`grid`,columns:2,items:Ai(e)}]};e.windowManager.open({title:`Cell Properties`,size:`normal`,body:Jn(e)?r:i,buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],initialData:n,onSubmit:y(da,e,t,n)})},ma=e=>{let t=bi(tr(e));return t.length>0?C.some({name:`class`,type:`listbox`,label:`Class`,items:t}):C.none()},ha=[{type:`listbox`,name:`type`,label:`Row type`,items:[{text:`Header`,value:`header`},{text:`Body`,value:`body`},{text:`Footer`,value:`footer`}]},{type:`listbox`,name:`align`,label:`Alignment`,items:[{text:`None`,value:``},{text:`Left`,value:`left`},{text:`Center`,value:`center`},{text:`Right`,value:`right`}]},{label:`Height`,name:`height`,type:`input`}],ga=e=>ha.concat(ma(e).toArray()),_a=(e,t,n)=>{n(`class`)&&e.setAttrib(`class`,t.class),n(`height`)&&e.setStyle(`height`,pt(t.height))},G=(e,t,n)=>{n(`backgroundcolor`)&&e.setStyle(`background-color`,t.backgroundcolor),n(`bordercolor`)&&e.setStyle(`border-color`,t.bordercolor),n(`borderstyle`)&&e.setStyle(`border-style`,t.borderstyle)},va=(e,t,n,r)=>{let i=t.length===1?S:r;se(t,t=>{let a=Mi.normal(e,t);_a(a,n,i),Yn(e)&&G(a,n,i),r(`align`)&&On(e,t,n.align)})},ya=(e,t)=>{e.execCommand(`mceTableRowType`,!1,{type:t.type,no_events:!0})},ba=(e,t,n,r)=>{let i=ee(r,(e,t)=>n[t]!==e);if(A(i)>0){let n=ne(i,`type`),a=n?A(i)>1:!0;a&&va(e,t,r,y(ne,i)),n&&ya(e,r),pn(Te.fromDom(t[0])).each(t=>An(e,t.dom,{structure:n,style:a}))}},xa=(e,t,n,r)=>{let i=r.getData();r.close(),e.undoManager.transact(()=>{ba(e,t,n,i),e.focus()})},Sa=e=>{let t=Qr(mt(e),Kr.selected);if(t.length===0)return;let n=Zi(I(t,t=>ia(e,t.dom,Yn(e)))),r={type:`tabpanel`,tabs:[{title:`General`,name:`general`,items:ga(e)},ji(e,`row`)]},i={type:`panel`,items:[{type:`grid`,columns:2,items:ga(e)}]};e.windowManager.open({title:`Row Properties`,size:`normal`,body:Yn(e)?r:i,buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],initialData:n,onSubmit:y(xa,e,I(t,e=>e.dom),n)})},Ca=(e,t,n)=>{let r=n?[{type:`input`,name:`cols`,label:`Cols`,inputMode:`numeric`},{type:`input`,name:`rows`,label:`Rows`,inputMode:`numeric`}]:[],i=[{type:`input`,name:`width`,label:`Width`},{type:`input`,name:`height`,label:`Height`}],a=Zn(e)?[{type:`input`,name:`cellspacing`,label:`Cell spacing`,inputMode:`numeric`},{type:`input`,name:`cellpadding`,label:`Cell padding`,inputMode:`numeric`},{type:`input`,name:`border`,label:`Border width`},{type:`label`,label:`Caption`,items:[{type:`checkbox`,name:`caption`,label:`Show caption`}]}]:[],o=[{type:`listbox`,name:`align`,label:`Alignment`,items:[{text:`None`,value:``},{text:`Left`,value:`left`},{text:`Center`,value:`center`},{text:`Right`,value:`right`}]}],s=t.length>0?[{type:`listbox`,name:`class`,label:`Class`,items:t}]:[];return r.concat(i).concat(a).concat(o).concat(s)},wa=(e,t,n,r)=>{if(t.tagName===`TD`||t.tagName===`TH`)o(n)&&d(r)?e.setStyle(t,n,r):e.setStyles(t,n);else if(t.children)for(let i=0;i<t.children.length;i++)wa(e,t.children[i],n,r)},Ta=(e,t,n,r)=>{let i=e.dom,a={},o={},s=$n(e),c=Xn(e);if(l(n.class)||(a.class=n.class),o.height=pt(n.height),s?o.width=pt(n.width):i.getAttrib(t,`width`)&&(a.width=ft(n.width)),s?(o[`border-width`]=pt(n.border),o[`border-spacing`]=pt(n.cellspacing)):(a.border=n.border,a.cellpadding=n.cellpadding,a.cellspacing=n.cellspacing),s&&t.children){let e={};if(r.border&&(e[`border-width`]=pt(n.border)),r.cellpadding&&(e.padding=pt(n.cellpadding)),c&&r.bordercolor&&(e[`border-color`]=n.bordercolor),!M(e))for(let n=0;n<t.children.length;n++)wa(i,t.children[n],e)}if(c){let e=n;o[`background-color`]=e.backgroundcolor,o[`border-color`]=e.bordercolor,o[`border-style`]=e.borderstyle}i.setStyles(t,{...cr(e),...o}),i.setAttribs(t,{...lr(e),...a})},Ea=(e,t,n,r)=>{let i=e.dom,a=r.getData(),o=ee(a,(e,t)=>n[t]!==e);r.close(),a.class===``&&delete a.class,e.undoManager.transact(()=>{if(!t){let n=Bt(a.cols).getOr(1),r=Bt(a.rows).getOr(1);e.execCommand(`mceInsertTable`,!1,{rows:r,columns:n}),t=Xr(mt(e),dt(e)).bind(t=>pn(t,dt(e))).map(e=>e.dom).getOrDie()}if(A(o)>0){let n={border:ne(o,`border`),bordercolor:ne(o,`bordercolor`),cellpadding:ne(o,`cellpadding`)};Ta(e,t,a,n);let r=i.select(`caption`,t)[0];(r&&!a.caption||!r&&a.caption)&&e.execCommand(`mceTableToggleCaption`),On(e,t,a.align)}if(e.focus(),e.addVisual(),A(o)>0){let n=ne(o,`caption`),r=n?A(o)>1:!0;An(e,t,{structure:n,style:r})}})},Da=(e,t)=>{let n=e.dom,r,i=ta(e,Xn(e));t?(i.cols=`1`,i.rows=`1`,Xn(e)&&(i.borderstyle=``,i.bordercolor=``,i.backgroundcolor=``)):(r=n.getParent(e.selection.getStart(),`table`,e.getBody()),r?i=ra(e,r,Xn(e)):Xn(e)&&(i.borderstyle=``,i.bordercolor=``,i.backgroundcolor=``));let a=bi(nr(e));a.length>0&&(i.class&&=i.class.replace(/\s*mce\-item\-table\s*/g,``));let o={type:`grid`,columns:2,items:Ca(e,a,t)},s=Xn(e)?(()=>({type:`tabpanel`,tabs:[{title:`General`,name:`general`,items:[o]},ji(e,`table`)]}))():(()=>({type:`panel`,items:[o]}))();e.windowManager.open({title:`Table Properties`,size:`normal`,body:s,onSubmit:y(Ea,e,r,i),buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],initialData:i})},K=e=>{let t=t=>{gt(mt(e))&&t()};E({mceTableProps:y(Da,e,!1),mceTableRowProps:y(Sa,e),mceTableCellProps:y(pa,e),mceInsertTableDialog:y(Da,e,!0)},(n,r)=>e.addCommand(r,()=>t(n)))},Oa=(e,t)=>at(e,t).isSome(),ka=_,Aa=e=>{let t=(e,t)=>Tt(e,t).exists(e=>parseInt(e,10)>1);return e.length>0&&ge(e,e=>t(e,`rowspan`)||t(e,`colspan`))?C.some(e):C.none()},ja=(e,t,n)=>t.length<=1?C.none():Vr(e,n.firstSelectedSelector,n.lastSelectedSelector).map(e=>({bounds:e,cells:t})),Ma=e=>({element:e,mergable:C.none(),unmergable:C.none(),selection:[e]}),Na=(e,t,n)=>({element:n,mergable:ja(t,e,Kr),unmergable:Aa(e),selection:ka(e)}),Pa=e=>{let t=hi(C.none()),n=hi([]),r=C.none(),i=ze(`caption`),a=e=>r.forall(t=>!t[e]),o=()=>Yr(mt(e),dt(e)),s=()=>Yr(ht(e),dt(e)),c=()=>o().bind(t=>jt(At(pn(t),s().bind(pn),(n,r)=>Ae(n,r)?i(t)?C.some(Ma(t)):C.some(Na(Zr(e),n,t)):C.none()))),l=e=>pn(e.element).map(t=>{let n=Tn.fromTable(t),r=fe(Ui(n,e).getOr([]),(e,t)=>(t.isLocked&&(e.onAny=!0,t.column===0?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Ki(n,e).isSome(),unmergeable:qi(n,e).isSome(),locked:r}}),u=()=>{t.set(Ri(c)()),r=t.get().bind(l),se(n.get(),b)},d=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(ue(n.get(),t=>t!==e))}),f=(n,r)=>d(()=>t.get().fold(()=>{n.setEnabled(!1)},t=>{n.setEnabled(!r(t)&&e.selection.isEditable())})),p=(n,r,i)=>d(()=>t.get().fold(()=>{n.setEnabled(!1),n.setActive(!1)},t=>{n.setEnabled(!r(t)&&e.selection.isEditable()),n.setActive(i(t))})),m=e=>r.exists(t=>t.locked[e]),h=e=>f(e,e=>!1),g=e=>f(e,e=>i(e.element)),_=e=>t=>f(t,t=>i(t.element)||m(e)),v=e=>t=>f(t,t=>i(t.element)||e().isNone()),y=(e,t)=>n=>f(n,n=>i(n.element)||e().isNone()||m(t)),S=e=>f(e,e=>a(`mergeable`)),w=e=>f(e,e=>a(`unmergeable`)),T=t=>p(t,x,t=>pn(t.element,dt(e)).exists(e=>Oa(e,`caption`))),E=(t,n)=>r=>p(r,e=>i(e.element),()=>e.queryCommandValue(t)===n),D=E(`mceTableRowType`,`header`),O=E(`mceTableColType`,`th`);return e.on(`NodeChange ExecCommand TableSelectorChange`,u),{onSetupTable:h,onSetupCellOrRow:g,onSetupColumn:_,onSetupPasteable:v,onSetupPasteableColumn:y,onSetupMergeable:S,onSetupUnmergeable:w,resetTargets:u,onSetupTableWithCaption:T,onSetupTableRowHeaders:D,onSetupTableColumnHeaders:O,targets:t.get}};var Fa=tinymce.util.Tools.resolve(`tinymce.FakeClipboard`);let Ia=`x-tinymce/dom-table-`;Ia+``,Ia+``;let La=e=>be(Fa.read()??[],t=>C.from(t.getType(e))),Ra=()=>La(`x-tinymce/dom-table-rows`),za=()=>La(`x-tinymce/dom-table-columns`),Ba=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return e.on(`NodeChange`,n),n(),()=>{e.off(`NodeChange`,n)}},Va=(e,t)=>{e.ui.registry.addMenuButton(`table`,{tooltip:`Table`,icon:`table`,onSetup:Ba(e),fetch:e=>e(`inserttable | cell row column | advtablesort | tableprops deletetable`)});let n=t=>()=>e.execCommand(t),r=(t,r)=>{e.queryCommandSupported(r.command)&&e.ui.registry.addButton(t,{...r,onAction:f(r.onAction)?r.onAction:n(r.command)})},i=(t,r)=>{e.queryCommandSupported(r.command)&&e.ui.registry.addToggleButton(t,{...r,onAction:f(r.onAction)?r.onAction:n(r.command)})};r(`tableprops`,{tooltip:`Table properties`,command:`mceTableProps`,icon:`table`,onSetup:t.onSetupTable}),r(`tabledelete`,{tooltip:`Delete table`,command:`mceTableDelete`,icon:`table-delete-table`,onSetup:t.onSetupTable}),r(`tablecellprops`,{tooltip:`Cell properties`,command:`mceTableCellProps`,icon:`table-cell-properties`,onSetup:t.onSetupCellOrRow}),r(`tablemergecells`,{tooltip:`Merge cells`,command:`mceTableMergeCells`,icon:`table-merge-cells`,onSetup:t.onSetupMergeable}),r(`tablesplitcells`,{tooltip:`Split cell`,command:`mceTableSplitCells`,icon:`table-split-cells`,onSetup:t.onSetupUnmergeable}),r(`tableinsertrowbefore`,{tooltip:`Insert row before`,command:`mceTableInsertRowBefore`,icon:`table-insert-row-above`,onSetup:t.onSetupCellOrRow}),r(`tableinsertrowafter`,{tooltip:`Insert row after`,command:`mceTableInsertRowAfter`,icon:`table-insert-row-after`,onSetup:t.onSetupCellOrRow}),r(`tabledeleterow`,{tooltip:`Delete row`,command:`mceTableDeleteRow`,icon:`table-delete-row`,onSetup:t.onSetupCellOrRow}),r(`tablerowprops`,{tooltip:`Row properties`,command:`mceTableRowProps`,icon:`table-row-properties`,onSetup:t.onSetupCellOrRow}),r(`tableinsertcolbefore`,{tooltip:`Insert column before`,command:`mceTableInsertColBefore`,icon:`table-insert-column-before`,onSetup:t.onSetupColumn(`onFirst`)}),r(`tableinsertcolafter`,{tooltip:`Insert column after`,command:`mceTableInsertColAfter`,icon:`table-insert-column-after`,onSetup:t.onSetupColumn(`onLast`)}),r(`tabledeletecol`,{tooltip:`Delete column`,command:`mceTableDeleteCol`,icon:`table-delete-column`,onSetup:t.onSetupColumn(`onAny`)}),r(`tablecutrow`,{tooltip:`Cut row`,command:`mceTableCutRow`,icon:`cut-row`,onSetup:t.onSetupCellOrRow}),r(`tablecopyrow`,{tooltip:`Copy row`,command:`mceTableCopyRow`,icon:`duplicate-row`,onSetup:t.onSetupCellOrRow}),r(`tablepasterowbefore`,{tooltip:`Paste row before`,command:`mceTablePasteRowBefore`,icon:`paste-row-before`,onSetup:t.onSetupPasteable(Ra)}),r(`tablepasterowafter`,{tooltip:`Paste row after`,command:`mceTablePasteRowAfter`,icon:`paste-row-after`,onSetup:t.onSetupPasteable(Ra)}),r(`tablecutcol`,{tooltip:`Cut column`,command:`mceTableCutCol`,icon:`cut-column`,onSetup:t.onSetupColumn(`onAny`)}),r(`tablecopycol`,{tooltip:`Copy column`,command:`mceTableCopyCol`,icon:`duplicate-column`,onSetup:t.onSetupColumn(`onAny`)}),r(`tablepastecolbefore`,{tooltip:`Paste column before`,command:`mceTablePasteColBefore`,icon:`paste-column-before`,onSetup:t.onSetupPasteableColumn(za,`onFirst`)}),r(`tablepastecolafter`,{tooltip:`Paste column after`,command:`mceTablePasteColAfter`,icon:`paste-column-after`,onSetup:t.onSetupPasteableColumn(za,`onLast`)}),r(`tableinsertdialog`,{tooltip:`Insert table`,command:`mceInsertTableDialog`,icon:`table`,onSetup:Ba(e)});let a=Ci(nr(e));a.length!==0&&e.queryCommandSupported(`mceTableToggleClass`)&&e.ui.registry.addMenuButton(`tableclass`,{icon:`table-classes`,tooltip:`Table styles`,fetch:wi(e,a,`tableclass`,t=>e.execCommand(`mceTableToggleClass`,!1,t)),onSetup:t.onSetupTable});let o=Ci(er(e));o.length!==0&&e.queryCommandSupported(`mceTableCellToggleClass`)&&e.ui.registry.addMenuButton(`tablecellclass`,{icon:`table-cell-classes`,tooltip:`Cell styles`,fetch:wi(e,o,`tablecellclass`,t=>e.execCommand(`mceTableCellToggleClass`,!1,t)),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported(`mceTableApplyCellStyle`)&&(e.ui.registry.addMenuButton(`tablecellvalign`,{icon:`vertical-align`,tooltip:`Vertical align`,fetch:wi(e,$r,`tablecellverticalalign`,Si(e,`vertical-align`)),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton(`tablecellborderwidth`,{icon:`border-width`,tooltip:`Border width`,fetch:wi(e,Kn(e),`tablecellborderwidth`,Si(e,`border-width`)),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton(`tablecellborderstyle`,{icon:`border-style`,tooltip:`Border style`,fetch:wi(e,qn(e),`tablecellborderstyle`,Si(e,`border-style`)),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton(`tablecellbackgroundcolor`,{icon:`cell-background-color`,tooltip:`Background color`,fetch:t=>t(Ti(e,ir(e),`background-color`)),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton(`tablecellbordercolor`,{icon:`cell-border-color`,tooltip:`Border color`,fetch:t=>t(Ti(e,ar(e),`border-color`)),onSetup:t.onSetupCellOrRow})),i(`tablecaption`,{tooltip:`Table caption`,icon:`table-caption`,command:`mceTableToggleCaption`,onSetup:t.onSetupTableWithCaption}),i(`tablerowheader`,{tooltip:`Row header`,icon:`table-top-header`,command:`mceTableRowType`,onAction:Ei(e),onSetup:t.onSetupTableRowHeaders}),i(`tablecolheader`,{tooltip:`Column header`,icon:`table-left-header`,command:`mceTableColType`,onAction:Di(e),onSetup:t.onSetupTableColumnHeaders})},Ha=e=>{let t=t=>e.dom.is(t,`table`)&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),n=rr(e);n.length>0&&e.ui.registry.addContextToolbar(`table`,{predicate:t,items:n,scope:`node`,position:`node`})},Ua=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return e.on(`NodeChange`,n),n(),()=>{e.off(`NodeChange`,n)}},Wa=(e,t)=>{let n=t=>()=>e.execCommand(t),r=(t,r)=>e.queryCommandSupported(r.command)?(e.ui.registry.addMenuItem(t,{...r,onAction:f(r.onAction)?r.onAction:n(r.command)}),!0):!1,i=(t,r)=>{e.queryCommandSupported(r.command)&&e.ui.registry.addToggleMenuItem(t,{...r,onAction:f(r.onAction)?r.onAction:n(r.command)})},a=t=>{e.execCommand(`mceInsertTable`,!1,{rows:t.numRows,columns:t.numColumns})},o=[r(`tableinsertrowbefore`,{text:`Insert row before`,icon:`table-insert-row-above`,command:`mceTableInsertRowBefore`,onSetup:t.onSetupCellOrRow}),r(`tableinsertrowafter`,{text:`Insert row after`,icon:`table-insert-row-after`,command:`mceTableInsertRowAfter`,onSetup:t.onSetupCellOrRow}),r(`tabledeleterow`,{text:`Delete row`,icon:`table-delete-row`,command:`mceTableDeleteRow`,onSetup:t.onSetupCellOrRow}),r(`tablerowprops`,{text:`Row properties`,icon:`table-row-properties`,command:`mceTableRowProps`,onSetup:t.onSetupCellOrRow}),r(`tablecutrow`,{text:`Cut row`,icon:`cut-row`,command:`mceTableCutRow`,onSetup:t.onSetupCellOrRow}),r(`tablecopyrow`,{text:`Copy row`,icon:`duplicate-row`,command:`mceTableCopyRow`,onSetup:t.onSetupCellOrRow}),r(`tablepasterowbefore`,{text:`Paste row before`,icon:`paste-row-before`,command:`mceTablePasteRowBefore`,onSetup:t.onSetupPasteable(Ra)}),r(`tablepasterowafter`,{text:`Paste row after`,icon:`paste-row-after`,command:`mceTablePasteRowAfter`,onSetup:t.onSetupPasteable(Ra)})],s=[r(`tableinsertcolumnbefore`,{text:`Insert column before`,icon:`table-insert-column-before`,command:`mceTableInsertColBefore`,onSetup:t.onSetupColumn(`onFirst`)}),r(`tableinsertcolumnafter`,{text:`Insert column after`,icon:`table-insert-column-after`,command:`mceTableInsertColAfter`,onSetup:t.onSetupColumn(`onLast`)}),r(`tabledeletecolumn`,{text:`Delete column`,icon:`table-delete-column`,command:`mceTableDeleteCol`,onSetup:t.onSetupColumn(`onAny`)}),r(`tablecutcolumn`,{text:`Cut column`,icon:`cut-column`,command:`mceTableCutCol`,onSetup:t.onSetupColumn(`onAny`)}),r(`tablecopycolumn`,{text:`Copy column`,icon:`duplicate-column`,command:`mceTableCopyCol`,onSetup:t.onSetupColumn(`onAny`)}),r(`tablepastecolumnbefore`,{text:`Paste column before`,icon:`paste-column-before`,command:`mceTablePasteColBefore`,onSetup:t.onSetupPasteableColumn(za,`onFirst`)}),r(`tablepastecolumnafter`,{text:`Paste column after`,icon:`paste-column-after`,command:`mceTablePasteColAfter`,onSetup:t.onSetupPasteableColumn(za,`onLast`)})],c=[r(`tablecellprops`,{text:`Cell properties`,icon:`table-cell-properties`,command:`mceTableCellProps`,onSetup:t.onSetupCellOrRow}),r(`tablemergecells`,{text:`Merge cells`,icon:`table-merge-cells`,command:`mceTableMergeCells`,onSetup:t.onSetupMergeable}),r(`tablesplitcells`,{text:`Split cell`,icon:`table-split-cells`,command:`mceTableSplitCells`,onSetup:t.onSetupUnmergeable})];Qn(e)?e.ui.registry.addNestedMenuItem(`inserttable`,{text:`Table`,icon:`table`,getSubmenuItems:()=>[{type:`fancymenuitem`,fancytype:`inserttable`,onAction:a}],onSetup:Ua(e)}):e.ui.registry.addMenuItem(`inserttable`,{text:`Table`,icon:`table`,onAction:n(`mceInsertTableDialog`),onSetup:Ua(e)}),e.ui.registry.addMenuItem(`inserttabledialog`,{text:`Insert table`,icon:`table`,onAction:n(`mceInsertTableDialog`),onSetup:Ua(e)}),r(`tableprops`,{text:`Table properties`,onSetup:t.onSetupTable,command:`mceTableProps`}),r(`deletetable`,{text:`Delete table`,icon:`table-delete-table`,onSetup:t.onSetupTable,command:`mceTableDelete`}),oe(o,!0)&&e.ui.registry.addNestedMenuItem(`row`,{type:`nestedmenuitem`,text:`Row`,getSubmenuItems:g(`tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter`)}),oe(s,!0)&&e.ui.registry.addNestedMenuItem(`column`,{type:`nestedmenuitem`,text:`Column`,getSubmenuItems:g(`tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter`)}),oe(c,!0)&&e.ui.registry.addNestedMenuItem(`cell`,{type:`nestedmenuitem`,text:`Cell`,getSubmenuItems:g(`tablecellprops tablemergecells tablesplitcells`)}),e.ui.registry.addContextMenu(`table`,{update:()=>(t.resetTargets(),t.targets().fold(g(``),e=>Me(e.element)===`caption`?`tableprops deletetable`:`cell row column | advtablesort | tableprops deletetable`))});let l=Ci(nr(e));l.length!==0&&e.queryCommandSupported(`mceTableToggleClass`)&&e.ui.registry.addNestedMenuItem(`tableclass`,{icon:`table-classes`,text:`Table styles`,getSubmenuItems:()=>xi(e,l,`tableclass`,t=>e.execCommand(`mceTableToggleClass`,!1,t)),onSetup:t.onSetupTable});let u=Ci(er(e));u.length!==0&&e.queryCommandSupported(`mceTableCellToggleClass`)&&e.ui.registry.addNestedMenuItem(`tablecellclass`,{icon:`table-cell-classes`,text:`Cell styles`,getSubmenuItems:()=>xi(e,u,`tablecellclass`,t=>e.execCommand(`mceTableCellToggleClass`,!1,t)),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported(`mceTableApplyCellStyle`)&&(e.ui.registry.addNestedMenuItem(`tablecellvalign`,{icon:`vertical-align`,text:`Vertical align`,getSubmenuItems:()=>xi(e,$r,`tablecellverticalalign`,Si(e,`vertical-align`)),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem(`tablecellborderwidth`,{icon:`border-width`,text:`Border width`,getSubmenuItems:()=>xi(e,Kn(e),`tablecellborderwidth`,Si(e,`border-width`)),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem(`tablecellborderstyle`,{icon:`border-style`,text:`Border style`,getSubmenuItems:()=>xi(e,qn(e),`tablecellborderstyle`,Si(e,`border-style`)),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem(`tablecellbackgroundcolor`,{icon:`cell-background-color`,text:`Background color`,getSubmenuItems:()=>Ti(e,ir(e),`background-color`),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem(`tablecellbordercolor`,{icon:`cell-border-color`,text:`Border color`,getSubmenuItems:()=>Ti(e,ar(e),`border-color`),onSetup:t.onSetupCellOrRow})),i(`tablecaption`,{icon:`table-caption`,text:`Table caption`,command:`mceTableToggleCaption`,onSetup:t.onSetupTableWithCaption}),i(`tablerowheader`,{text:`Row header`,icon:`table-top-header`,command:`mceTableRowType`,onAction:Ei(e),onSetup:t.onSetupTableRowHeaders}),i(`tablecolheader`,{text:`Column header`,icon:`table-left-header`,command:`mceTableColType`,onAction:Di(e),onSetup:t.onSetupTableRowHeaders})};e.add(`table`,e=>{let t=Pa(e);Wn(e),K(e),Wa(e,t),Va(e,t),Ha(e)})})()}))(),d((()=>{(function(){let e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let n=0,r=e=>{let t=new Date().getTime(),r=Math.floor(Math.random()*1e9);return n++,e+`_`+r+n+String(t)},i=e=>({addTab:t=>{let n=t.name??r(`tab-name`),i=e.get();i[n]=t,e.set(i)}}),a=(e,t)=>{e.addCommand(`mceHelp`,t)},o=e=>t=>t.options.get(e),s=e=>{let t=e.options.register;t(`help_tabs`,{processor:`array`})},c=o(`help_tabs`),l=o(`forced_plugins`),u=(e,t)=>{e.ui.registry.addButton(`help`,{icon:`help`,tooltip:`Help`,onAction:t}),e.ui.registry.addMenuItem(`help`,{text:`Help`,icon:`help`,shortcut:`Alt+0`,onAction:t})},d=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,f=e=>{let t=typeof e;return e===null?`null`:t===`object`&&Array.isArray(e)?`array`:t===`object`&&d(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:t},p=e=>t=>f(t)===e,m=e=>t=>typeof t===e,h=e=>t=>e===t,g=p(`string`),_=h(void 0),v=e=>e==null,y=e=>!v(e),b=m(`function`),x=(e=>()=>e)(!1);class S{constructor(e,t){this.tag=e,this.value=t}static some(e){return new S(!0,e)}static none(){return S.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?S.some(e(this.value)):S.none()}bind(e){return this.tag?e(this.value):S.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:S.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return y(e)?S.some(e):S.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}S.singletonNone=new S(!1);let C=Array.prototype.slice,w=Array.prototype.indexOf,T=(e,t)=>w.call(e,t),E=(e,t)=>T(e,t)>-1,D=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},O=(e,t)=>{let n=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];t(i,r)&&n.push(i)}return n},ee=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return S.some(i);if(n(i,r))break}return S.none()},k=(e,t)=>ee(e,t,x),te=(e,t)=>{let n=C.call(e,0);return n.sort(t),n},A=Object.keys,j=Object.hasOwnProperty,ne=(e,t)=>re(e,t)?S.from(e[t]):S.none(),re=(e,t)=>j.call(e,t),M=e=>{let t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t};var N=tinymce.util.Tools.resolve(`tinymce.Resource`),ie=tinymce.util.Tools.resolve(`tinymce.util.I18n`);let ae=(e,t)=>N.load(`tinymce.html-i18n.help-keynav.${t}`,`${e}/js/i18n/keynav/${t}.js`),oe=e=>ae(e,ie.getCode()).catch(()=>ae(e,`en`)),P=(e,t)=>{e.on(`init`,()=>{oe(t)})},F=async e=>({name:`keyboardnav`,title:`Keyboard Navigation`,items:[{type:`htmlpanel`,presets:`document`,html:await oe(e)}]});var I=tinymce.util.Tools.resolve(`tinymce.Env`);let se=e=>{let t=I.os.isMacOS()||I.os.isiOS(),n=t?{alt:`&#x2325;`,ctrl:`&#x2303;`,shift:`&#x21E7;`,meta:`&#x2318;`,access:`&#x2303;&#x2325;`}:{meta:`Ctrl `,access:`Shift + Alt `},r=D(e.split(`+`),e=>{let t=e.toLowerCase().trim();return re(n,t)?n[t]:e});return t?r.join(``).replace(/\s/,``):r.join(`+`)},ce=[{shortcuts:[`Meta + B`],action:`Bold`},{shortcuts:[`Meta + I`],action:`Italic`},{shortcuts:[`Meta + U`],action:`Underline`},{shortcuts:[`Meta + A`],action:`Select all`},{shortcuts:[`Meta + Y`,`Meta + Shift + Z`],action:`Redo`},{shortcuts:[`Meta + Z`],action:`Undo`},{shortcuts:[`Access + 1`],action:`Heading 1`},{shortcuts:[`Access + 2`],action:`Heading 2`},{shortcuts:[`Access + 3`],action:`Heading 3`},{shortcuts:[`Access + 4`],action:`Heading 4`},{shortcuts:[`Access + 5`],action:`Heading 5`},{shortcuts:[`Access + 6`],action:`Heading 6`},{shortcuts:[`Access + 7`],action:`Paragraph`},{shortcuts:[`Access + 8`],action:`Div`},{shortcuts:[`Access + 9`],action:`Address`},{shortcuts:[`Alt + 0`],action:`Open help dialog`},{shortcuts:[`Alt + F9`],action:`Focus to menubar`},{shortcuts:[`Alt + F10`],action:`Focus to toolbar`},{shortcuts:[`Alt + F11`],action:`Focus to element path`},{shortcuts:[`Ctrl + F9`],action:`Focus to contextual toolbar`},{shortcuts:[`Shift + Enter`],action:`Open popup menu for split buttons`},{shortcuts:[`Meta + K`],action:`Insert link (if link plugin activated)`},{shortcuts:[`Meta + S`],action:`Save (if save plugin activated)`},{shortcuts:[`Meta + F`],action:`Find (if searchreplace plugin activated)`},{shortcuts:[`Meta + Shift + F`],action:`Switch to or from fullscreen mode`}],le=()=>({name:`shortcuts`,title:`Handy Shortcuts`,items:[{type:`table`,header:[`Action`,`Shortcut`],cells:D(ce,e=>{let t=D(e.shortcuts,se).join(` or `);return[e.action,t]})}]}),ue=D([{key:`accordion`,name:`Accordion`},{key:`advlist`,name:`Advanced List`},{key:`anchor`,name:`Anchor`},{key:`autolink`,name:`Autolink`},{key:`autoresize`,name:`Autoresize`},{key:`autosave`,name:`Autosave`},{key:`charmap`,name:`Character Map`},{key:`code`,name:`Code`},{key:`codesample`,name:`Code Sample`},{key:`colorpicker`,name:`Color Picker`},{key:`directionality`,name:`Directionality`},{key:`emoticons`,name:`Emoticons`},{key:`fullscreen`,name:`Full Screen`},{key:`help`,name:`Help`},{key:`image`,name:`Image`},{key:`importcss`,name:`Import CSS`},{key:`insertdatetime`,name:`Insert Date/Time`},{key:`link`,name:`Link`},{key:`lists`,name:`Lists`},{key:`media`,name:`Media`},{key:`nonbreaking`,name:`Nonbreaking`},{key:`pagebreak`,name:`Page Break`},{key:`preview`,name:`Preview`},{key:`quickbars`,name:`Quick Toolbars`},{key:`save`,name:`Save`},{key:`searchreplace`,name:`Search and Replace`},{key:`table`,name:`Table`},{key:`template`,name:`Template`},{key:`textcolor`,name:`Text Color`},{key:`visualblocks`,name:`Visual Blocks`},{key:`visualchars`,name:`Visual Characters`},{key:`wordcount`,name:`Word Count`},{key:`a11ychecker`,name:`Accessibility Checker`,type:`premium`},{key:`advcode`,name:`Advanced Code Editor`,type:`premium`},{key:`advtable`,name:`Advanced Tables`,type:`premium`},{key:`advtemplate`,name:`Advanced Templates`,type:`premium`,slug:`advanced-templates`},{key:`ai`,name:`AI Assistant`,type:`premium`},{key:`casechange`,name:`Case Change`,type:`premium`},{key:`checklist`,name:`Checklist`,type:`premium`},{key:`editimage`,name:`Enhanced Image Editing`,type:`premium`},{key:`footnotes`,name:`Footnotes`,type:`premium`},{key:`typography`,name:`Advanced Typography`,type:`premium`,slug:`advanced-typography`},{key:`mediaembed`,name:`Enhanced Media Embed`,type:`premium`,slug:`introduction-to-mediaembed`},{key:`export`,name:`Export`,type:`premium`},{key:`formatpainter`,name:`Format Painter`,type:`premium`},{key:`inlinecss`,name:`Inline CSS`,type:`premium`,slug:`inline-css`},{key:`linkchecker`,name:`Link Checker`,type:`premium`},{key:`mentions`,name:`Mentions`,type:`premium`},{key:`mergetags`,name:`Merge Tags`,type:`premium`},{key:`pageembed`,name:`Page Embed`,type:`premium`},{key:`permanentpen`,name:`Permanent Pen`,type:`premium`},{key:`powerpaste`,name:`PowerPaste`,type:`premium`,slug:`introduction-to-powerpaste`},{key:`rtc`,name:`Real-Time Collaboration`,type:`premium`,slug:`rtc-introduction`},{key:`tinymcespellchecker`,name:`Spell Checker Pro`,type:`premium`,slug:`introduction-to-tiny-spellchecker`},{key:`autocorrect`,name:`Spelling Autocorrect`,type:`premium`},{key:`tableofcontents`,name:`Table of Contents`,type:`premium`},{key:`tinycomments`,name:`Tiny Comments`,type:`premium`,slug:`introduction-to-tiny-comments`},{key:`tinydrive`,name:`Tiny Drive`,type:`premium`,slug:`tinydrive-introduction`}],e=>({...e,type:e.type||`opensource`,slug:e.slug||e.key})),de=e=>{let t=()=>{let e=D(te(D(O(ue,({type:e})=>e===`premium`),e=>e.name),(e,t)=>e.localeCompare(t)),e=>`<li>${e}</li>`).join(``);return`<div><p><b>`+ie.translate(`Premium plugins:`)+`</b></p><ul>`+e+`<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">`+ie.translate(`Learn more...`)+`</a></li></ul></div>`},n=e=>`<a data-alloy-tabstop="true" tabindex="-1" href="${e.url}" target="_blank" rel="noopener">${e.name}</a>`,r=(e,t)=>{let r=e.plugins[t].getMetadata;if(b(r)){let e=r();return{name:e.name,html:n(e)}}else return{name:t,html:t}},i=(e,t)=>k(ue,e=>e.key===t).fold(()=>r(e,t),e=>{let t=e.type===`premium`?`${e.name}*`:e.name;return{name:t,html:n({name:t,url:`https://www.tiny.cloud/docs/tinymce/6/${e.slug}/`})}}),a=e=>{let t=A(e.plugins),n=l(e);return _(n)?t:O(t,e=>!E(n,e))},o=e=>{let t=D(te(D(a(e),t=>i(e,t)),(e,t)=>e.name.localeCompare(t.name)),e=>`<li>`+e.html+`</li>`),n=t.length,r=t.join(``);return`<p><b>`+ie.translate([`Plugins installed ({0}):`,n])+`</b></p><ul>`+r+`</ul>`};return{name:`plugins`,title:`Plugins`,items:[{type:`htmlpanel`,presets:`document`,html:[(e=>e==null?``:`<div>`+o(e)+`</div>`)(e),t()].join(``)}]}};var fe=tinymce.util.Tools.resolve(`tinymce.EditorManager`);let pe=()=>{let e=`<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/6/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE `+((e,t)=>e.indexOf(`@`)===0?`X.X.X`:e+`.`+t)(fe.majorVersion,fe.minorVersion)+`</a>`;return{name:`versions`,title:`Version`,items:[{type:`htmlpanel`,html:`<p>`+ie.translate([`You are using {0}`,e])+`</p>`,presets:`document`}]}},me=(e,t)=>{let n={};return{tabs:n,names:D(e,e=>{if(g(e))return re(t,e)&&(n[e]=t[e]),e;{let t=e.name??r(`tab-name`);return n[t]=e,t}})}},L=e=>{let t=A(e),n=t.indexOf(`versions`);return n!==-1&&(t.splice(n,1),t.push(`versions`)),{tabs:e,names:t}},he=async(e,t,n)=>{let r=le(),i=await F(n),a=de(e),o=pe(),s={[r.name]:r,[i.name]:i,[a.name]:a,[o.name]:o,...t.get()};return S.from(c(e)).fold(()=>L(s),e=>me(e,s))},ge=(e,t,n)=>()=>{he(e,t,n).then(({tabs:t,names:n})=>{let r={type:`tabpanel`,tabs:M(D(n,e=>ne(t,e)))};e.windowManager.open({title:`Help`,size:`medium`,body:r,buttons:[{type:`cancel`,name:`close`,text:`Close`,primary:!0}],initialData:{}})})};t.add(`help`,(t,n)=>{let r=e({}),o=i(r);s(t);let c=ge(t,r,n);return u(t,c),a(t,c),t.shortcuts.add(`Alt+0`,`Open help dialog`,`mceHelp`),P(t,n),o})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=(e=>t=>e===t)(null),n=e=>e,r=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},i={aletter:`[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]`,midnumlet:`[-'\\.‘’․﹒＇．]`,midletter:`[:··״‧︓﹕：]`,midnum:`[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]`,numeric:`[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]`,cr:`\\r`,lf:`\\n`,newline:`[\v\f\u2028\u2029]`,extend:`[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]`,format:`[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯﻿￹-￻]`,katakana:`[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]`,extendnumlet:`[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]`,punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},a={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},o=[new RegExp(i.aletter),new RegExp(i.midnumlet),new RegExp(i.midletter),new RegExp(i.midnum),new RegExp(i.numeric),new RegExp(i.cr),new RegExp(i.lf),new RegExp(i.newline),new RegExp(i.extend),new RegExp(i.format),new RegExp(i.katakana),new RegExp(i.extendnumlet),RegExp(`@`)],s=RegExp(`^`+i.punctuation+`$`),c=/^\s+$/,l=o,u=a.OTHER,d=e=>{let t=u,n=l.length;for(let r=0;r<n;++r){let n=l[r];if(n&&n.test(e)){t=r;break}}return t},f=e=>{let t={};return n=>{if(t[n])return t[n];{let r=e(n);return t[n]=r,r}}},p=e=>r(e,f(d)),m=(e,t)=>{let n=e[t],r=e[t+1];if(t<0||t>e.length-1&&t!==0||n===a.ALETTER&&r===a.ALETTER)return!1;let i=e[t+2];if(n===a.ALETTER&&(r===a.MIDLETTER||r===a.MIDNUMLET||r===a.AT)&&i===a.ALETTER)return!1;let o=e[t-1];return(n===a.MIDLETTER||n===a.MIDNUMLET||r===a.AT)&&r===a.ALETTER&&o===a.ALETTER||(n===a.NUMERIC||n===a.ALETTER)&&(r===a.NUMERIC||r===a.ALETTER)||(n===a.MIDNUM||n===a.MIDNUMLET)&&r===a.NUMERIC&&o===a.NUMERIC||n===a.NUMERIC&&(r===a.MIDNUM||r===a.MIDNUMLET)&&i===a.NUMERIC||(n===a.EXTEND||n===a.FORMAT)&&(r===a.ALETTER||r===a.NUMERIC||r===a.KATAKANA||r===a.EXTEND||r===a.FORMAT)||(r===a.EXTEND||r===a.FORMAT&&(i===a.ALETTER||i===a.NUMERIC||i===a.KATAKANA||i===a.EXTEND||i===a.FORMAT))&&(n===a.ALETTER||n===a.NUMERIC||n===a.KATAKANA||n===a.EXTEND||n===a.FORMAT)||n===a.CR&&r===a.LF?!1:n===a.NEWLINE||n===a.CR||n===a.LF||r===a.NEWLINE||r===a.CR||r===a.LF?!0:!(n===a.KATAKANA&&r===a.KATAKANA||r===a.EXTENDNUMLET&&(n===a.ALETTER||n===a.NUMERIC||n===a.KATAKANA||n===a.EXTENDNUMLET)||n===a.EXTENDNUMLET&&(r===a.ALETTER||r===a.NUMERIC||r===a.KATAKANA)||n===a.AT)},h=c,g=s,_=e=>e===`http`||e===`https`,v=(e,t)=>{let n;for(n=t;n<e.length&&!h.test(e[n]);n++);return n},y=(e,t)=>{let n=v(e,t+1);return e.slice(t+1,n).join(``).substr(0,3)===`://`?n:t},b=(e,t,n,r)=>{let i=[],a=[],o=[];for(let s=0;s<n.length;++s)if(o.push(e[s]),m(n,s)){let n=t[s];if((r.includeWhitespace||!h.test(n))&&(r.includePunctuation||!g.test(n))){let n=s-o.length+1,r=s+1;if(_(t.slice(n,r).join(``))){let n=y(t,s),i=e.slice(r,n);Array.prototype.push.apply(o,i),s=n}i.push(o),a.push({start:n,end:r})}o=[]}return{words:i,indices:a}},x=()=>({includeWhitespace:!1,includePunctuation:!1}),S=(e,t,n)=>{n={...x(),...n};let i=r(e,t);return b(e,i,p(i),n)},C=(e,t,n)=>S(e,t,n).words,w=e=>e.replace(/\uFEFF/g,``);var T=tinymce.util.Tools.resolve(`tinymce.dom.TreeWalker`);let E=(e,t)=>{let n=t.getBlockElements(),r=t.getVoidElements(),i=e=>n[e.nodeName]||r[e.nodeName],a=[],o=``,s=new T(e,e),c;for(;c=s.next();)c.nodeType===3?o+=w(c.data):i(c)&&o.length&&(a.push(o),o=``);return o.length&&a.push(o),a},D=e=>e.replace(/\u200B/g,``),O=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,`_`).length,ee=(e,t)=>C(D(E(e,t).join(`
`)).split(``),n).length,k=(e,t)=>O(E(e,t).join(``)),te=(e,t)=>O(E(e,t).join(``).replace(/\s/g,``)),A=(e,t)=>()=>t(e.getBody(),e.schema),j=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),ne=e=>A(e,ee),re=e=>({body:{getWordCount:ne(e),getCharacterCount:A(e,k),getCharacterCountWithoutSpaces:A(e,te)},selection:{getWordCount:j(e,ee),getCharacterCount:j(e,k),getCharacterCountWithoutSpaces:j(e,te)},getCount:ne(e)}),M=(e,t)=>{e.windowManager.open({title:`Word Count`,body:{type:`panel`,items:[{type:`table`,header:[`Count`,`Document`,`Selection`],cells:[[`Words`,String(t.body.getWordCount()),String(t.selection.getWordCount())],[`Characters (no spaces)`,String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],[`Characters`,String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:`cancel`,name:`close`,text:`Close`,primary:!0}]})},N=(e,t)=>{e.addCommand(`mceWordCount`,()=>M(e,t))},ie=(e,n)=>{let r=null;return{cancel:()=>{t(r)||(clearTimeout(r),r=null)},throttle:(...i)=>{t(r)&&(r=setTimeout(()=>{r=null,e.apply(null,i)},n))}}};var ae=tinymce.util.Tools.resolve(`tinymce.util.Delay`);let oe=(e,t)=>{e.dispatch(`wordCountUpdate`,{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})},P=(e,t)=>{oe(e,t)},F=(e,t,n)=>{let r=ie(()=>P(e,t),n);e.on(`init`,()=>{P(e,t),ae.setEditorTimeout(e,()=>{e.on(`SetContent BeforeAddUndo Undo Redo ViewUpdate keyup`,r.throttle)},0),e.on(`remove`,r.cancel)})},I=e=>{let t=()=>e.execCommand(`mceWordCount`);e.ui.registry.addButton(`wordcount`,{tooltip:`Word count`,icon:`character-count`,onAction:t}),e.ui.registry.addMenuItem(`wordcount`,{text:`Word count`,icon:`character-count`,onAction:t})};((t=300)=>{e.add(`wordcount`,e=>{let n=re(e);return N(e,n),I(e),F(e,n,t),n})})()})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`),t=tinymce.util.Tools.resolve(`tinymce.Env`);let n=e=>t=>t.options.get(e),r=e=>{let t=e.options.register;t(`pagebreak_separator`,{processor:`string`,default:`<!-- pagebreak -->`}),t(`pagebreak_split_block`,{processor:`boolean`,default:!1})},i=n(`pagebreak_separator`),a=n(`pagebreak_split_block`),o=`mce-pagebreak`,s=e=>{let n=`<img src="${t.transparentSrc}" class="${o}" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${n}</p>`:n},c=e=>{let t=i(e),n=()=>a(e),r=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,e=>`\\`+e),`gi`);e.on(`BeforeSetContent`,e=>{e.content=e.content.replace(r,s(n()))}),e.on(`PreInit`,()=>{e.serializer.addNodeFilter(`img`,r=>{let i=r.length,a,s;for(;i--;)if(a=r[i],s=a.attr(`class`),s&&s.indexOf(o)!==-1){let r=a.parent;if(r&&e.schema.getBlockElements()[r.name]&&n()){r.type=3,r.value=t,r.raw=!0,a.remove();continue}a.type=3,a.value=t,a.raw=!0}})})},l=e=>{e.addCommand(`mcePageBreak`,()=>{e.insertContent(s(a(e)))})},u=e=>{e.on(`ResolveName`,t=>{t.target.nodeName===`IMG`&&e.dom.hasClass(t.target,o)&&(t.name=`pagebreak`)})},d=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return e.on(`NodeChange`,n),n(),()=>{e.off(`NodeChange`,n)}},f=e=>{let t=()=>e.execCommand(`mcePageBreak`);e.ui.registry.addButton(`pagebreak`,{icon:`page-break`,tooltip:`Page break`,onAction:t,onSetup:d(e)}),e.ui.registry.addMenuItem(`pagebreak`,{text:`Page break`,icon:`page-break`,onAction:t,onSetup:d(e)})};e.add(`pagebreak`,e=>{r(e),l(e),f(e),c(e),u(e)})})()}))(),d((()=>{(function(){let e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let n=e=>({isEnabled:()=>e.get()}),r=(e,t)=>e.dispatch(`VisualChars`,{state:t}),i=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,a=e=>{let t=typeof e;return e===null?`null`:t===`object`&&Array.isArray(e)?`array`:t===`object`&&i(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:t},o=e=>t=>a(t)===e,s=e=>t=>typeof t===e,c=e=>t=>e===t,l=o(`string`),u=o(`object`),d=c(null),f=s(`boolean`),p=e=>e==null,m=e=>!p(e),h=s(`number`);class g{constructor(e,t){this.tag=e,this.value=t}static some(e){return new g(!0,e)}static none(){return g.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?g.some(e(this.value)):g.none()}bind(e){return this.tag?e(this.value):g.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:g.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return m(e)?g.some(e):g.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}g.singletonNone=new g(!1);let _=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},v=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},y=(e,t)=>{let n=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];t(i,r)&&n.push(i)}return n},b=Object.keys,x=(e,t)=>{let n=b(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},S=typeof window<`u`?window:Function(`return this;`)(),C=(e,t)=>{let n=t??S;for(let t=0;t<e.length&&n!=null;++t)n=n[e[t]];return n},w=(e,t)=>C(e.split(`.`),t),T=(e,t)=>w(e,t),E=(e,t)=>{let n=T(e,t);if(n==null)throw Error(e+` not available on this browser`);return n},D=Object.getPrototypeOf,O=e=>E(`HTMLElement`,e),ee=e=>{let t=w(`ownerDocument.defaultView`,e);return u(e)&&(O(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(D(e).constructor.name))},k=e=>e.dom.nodeType,te=e=>e.dom.nodeValue,A=e=>t=>k(t)===e,j=e=>ne(e)&&ee(e.dom),ne=A(1),re=A(3),M=(e,t,n)=>{if(l(n)||f(n)||h(n))e.setAttribute(t,n+``);else throw console.error(`Invalid call to Attribute.set. Key `,t,`:: Value `,n,`:: Element `,e),Error(`Attribute value was not simple`)},N=(e,t,n)=>{M(e.dom,t,n)},ie=(e,t)=>{let n=e.dom.getAttribute(t);return n===null?void 0:n},ae=(e,t)=>{e.dom.removeAttribute(t)},oe=(e,t)=>{let n=ie(e,t);return n===void 0||n===``?[]:n.split(` `)},P=(e,t,n)=>(N(e,t,oe(e,t).concat([n]).join(` `)),!0),F=(e,t,n)=>{let r=y(oe(e,t),e=>e!==n);return r.length>0?N(e,t,r.join(` `)):ae(e,t),!1},I=e=>e.dom.classList!==void 0,se=e=>oe(e,`class`),ce=(e,t)=>P(e,`class`,t),le=(e,t)=>F(e,`class`,t),ue=(e,t)=>{I(e)?e.dom.classList.add(t):ce(e,t)},de=e=>{(I(e)?e.dom.classList:se(e)).length===0&&ae(e,`class`)},fe=(e,t)=>{I(e)?e.dom.classList.remove(t):le(e,t),de(e)},pe=(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return he(n.childNodes[0])},me=(e,t)=>he((t||document).createElement(e)),L=(e,t)=>he((t||document).createTextNode(e)),he=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},ge={fromHtml:pe,fromTag:me,fromText:L,fromDom:he,fromPoint:(e,t,n)=>g.from(e.dom.elementFromPoint(t,n)).map(he)},R={"\xA0":`nbsp`,"­":`shy`},_e=(e,t)=>{let n=``;return x(e,(e,t)=>{n+=t}),RegExp(`[`+n+`]`,t?`g`:``)},ve=e=>{let t=``;return x(e,e=>{t&&(t+=`,`),t+=`span.mce-`+e}),t},ye=_e(R),be=_e(R,!0),xe=ve(R),Se=`mce-nbsp`,Ce=e=>e.dom.contentEditable,we=e=>`<span data-mce-bogus="1" class="mce-`+R[e]+`">`+e+`</span>`,Te=e=>e.nodeName.toLowerCase()===`span`&&e.classList.contains(`mce-nbsp-wrap`),Ee=e=>{let t=te(e);return re(e)&&l(t)&&ye.test(t)},De=e=>j(e)&&Ce(e)===`false`,Oe=(e,t)=>{if(j(e)&&!Te(e.dom)){let t=Ce(e);if(t===`true`)return!0;if(t===`false`)return!1}return t},ke=(e,t,n)=>{let r=[],i=e.dom,a=_(i.childNodes,ge.fromDom),o=e=>Te(e.dom)||!De(e);return v(a,e=>{n&&o(e)&&t(e)&&(r=r.concat([e])),r=r.concat(ke(e,t,Oe(e,n)))}),r},Ae=(e,t)=>{for(;e.parentNode;){if(e.parentNode===t)return t;e=e.parentNode}},je=e=>e.replace(be,we),Me=(e,t)=>{let n=e.dom;v(ke(ge.fromDom(t),Ee,e.dom.isEditable(t)),t=>{let r=t.dom.parentNode;if(Te(r))ue(ge.fromDom(r),Se);else{let r=je(n.encode(te(t)??``)),i=n.create(`div`,{},r),a;for(;a=i.lastChild;)n.insertAfter(a,t.dom);e.dom.remove(t.dom)}})},Ne=(e,t)=>{v(e.dom.select(xe,t),t=>{Te(t)?fe(ge.fromDom(t),Se):e.dom.remove(t,!0)})},Pe=e=>{let t=e.getBody(),n=e.selection.getBookmark(),r=Ae(e.selection.getNode(),t);r=r===void 0?t:r,Ne(e,r),Me(e,r),e.selection.moveToBookmark(n)},Fe=(e,t)=>{r(e,t.get());let n=e.getBody();t.get()===!0?Me(e,n):Ne(e,n)},Ie=(e,t)=>{t.set(!t.get());let n=e.selection.getBookmark();Fe(e,t),e.selection.moveToBookmark(n)},Le=(e,t)=>{e.addCommand(`mceVisualChars`,()=>{Ie(e,t)})},z=e=>t=>t.options.get(e),Re=e=>{let t=e.options.register;t(`visualchars_default_state`,{processor:`boolean`,default:!1})},ze=z(`visualchars_default_state`),Be=(e,t)=>{e.on(`init`,()=>{Fe(e,t)})},Ve=(e,t)=>{let n=null;return{cancel:()=>{d(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{d(n)&&(n=setTimeout(()=>{n=null,e.apply(null,r)},t))}}},He=(e,t)=>{let n=Ve(()=>{Pe(e)},300);e.on(`keydown`,r=>{t.get()===!0&&(r.keyCode===13?Pe(e):n.throttle())}),e.on(`remove`,n.cancel)},Ue=(e,t)=>n=>{n.setActive(t.get());let r=e=>n.setActive(e.state);return e.on(`VisualChars`,r),()=>e.off(`VisualChars`,r)},We=(e,t)=>{let n=()=>e.execCommand(`mceVisualChars`);e.ui.registry.addToggleButton(`visualchars`,{tooltip:`Show invisible characters`,icon:`visualchars`,onAction:n,onSetup:Ue(e,t)}),e.ui.registry.addToggleMenuItem(`visualchars`,{text:`Show invisible characters`,icon:`visualchars`,onAction:n,onSetup:Ue(e,t)})};t.add(`visualchars`,t=>{Re(t);let r=e(ze(t));return Le(t,r),We(t,r),He(t,r),Be(t,r),n(r)})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,n=e=>{let n=typeof e;return e===null?`null`:n===`object`&&Array.isArray(e)?`array`:n===`object`&&t(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:n},r=e=>t=>n(t)===e,i=e=>t=>typeof t===e,a=r(`string`),o=r(`object`),s=r(`array`),c=e=>e==null,l=e=>!c(e),u=i(`function`),d=(e,t)=>{if(s(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},f=e=>()=>e;function p(e,...t){return(...n)=>{let r=t.concat(n);return e.apply(null,r)}}let m=f(!1),h=e=>e.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`);var g=tinymce.util.Tools.resolve(`tinymce.util.Tools`);let _=e=>t=>t.options.get(e),v=e=>{let t=e.options.register;t(`template_cdate_classes`,{processor:`string`,default:`cdate`}),t(`template_mdate_classes`,{processor:`string`,default:`mdate`}),t(`template_selected_content_classes`,{processor:`string`,default:`selcontent`}),t(`template_preview_replace_values`,{processor:`object`}),t(`template_replace_values`,{processor:`object`}),t(`templates`,{processor:e=>a(e)||d(e,o)||u(e),default:[]}),t(`template_cdate_format`,{processor:`string`,default:e.translate(`%Y-%m-%d`)}),t(`template_mdate_format`,{processor:`string`,default:e.translate(`%Y-%m-%d`)})},y=_(`template_cdate_classes`),b=_(`template_mdate_classes`),x=_(`template_selected_content_classes`),S=_(`template_preview_replace_values`),C=_(`template_replace_values`),w=_(`templates`),T=_(`template_cdate_format`),E=_(`template_mdate_format`),D=_(`content_style`),O=_(`content_css_cors`),ee=_(`body_class`),k=(e,t)=>{if(e=``+e,e.length<t)for(let n=0;n<t-e.length;n++)e=`0`+e;return e},te=(e,t,n=new Date)=>{let r=`Sun Mon Tue Wed Thu Fri Sat Sun`.split(` `),i=`Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday`.split(` `),a=`Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec`.split(` `),o=`January February March April May June July August September October November December`.split(` `);return t=t.replace(`%D`,`%m/%d/%Y`),t=t.replace(`%r`,`%I:%M:%S %p`),t=t.replace(`%Y`,``+n.getFullYear()),t=t.replace(`%y`,``+n.getYear()),t=t.replace(`%m`,k(n.getMonth()+1,2)),t=t.replace(`%d`,k(n.getDate(),2)),t=t.replace(`%H`,``+k(n.getHours(),2)),t=t.replace(`%M`,``+k(n.getMinutes(),2)),t=t.replace(`%S`,``+k(n.getSeconds(),2)),t=t.replace(`%I`,``+((n.getHours()+11)%12+1)),t=t.replace(`%p`,n.getHours()<12?`AM`:`PM`),t=t.replace(`%B`,``+e.translate(o[n.getMonth()])),t=t.replace(`%b`,``+e.translate(a[n.getMonth()])),t=t.replace(`%A`,``+e.translate(i[n.getDay()])),t=t.replace(`%a`,``+e.translate(r[n.getDay()])),t=t.replace(`%%`,`%`),t};class A{constructor(e,t){this.tag=e,this.value=t}static some(e){return new A(!0,e)}static none(){return A.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?A.some(e(this.value)):A.none()}bind(e){return this.tag?e(this.value):A.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:A.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return l(e)?A.some(e):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}A.singletonNone=new A(!1);let j=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];if(t(r,n))return!0}return!1},ne=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},re=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){let i=e[r];if(t(i,r))return A.some(i);if(n(i,r))break}return A.none()},M=(e,t)=>re(e,t,m),N=Object.hasOwnProperty,ie=(e,t)=>ae(e,t)?A.from(e[t]):A.none(),ae=(e,t)=>N.call(e,t);var oe=tinymce.util.Tools.resolve(`tinymce.html.Serializer`);let P={'"':`&quot;`,"<":`&lt;`,">":`&gt;`,"&":`&amp;`,"'":`&#039;`},F=e=>e.replace(/["'<>&]/g,e=>ie(P,e).getOr(e)),I=(e,t,n)=>j(n.split(/\s+/),n=>e.hasClass(t,n)),se=(e,t)=>oe({validate:!0},e.schema).serialize(e.parser.parse(t,{insert:!0})),ce=(e,t)=>()=>{let n=w(e);u(n)?n(t):a(n)?fetch(n).then(e=>{e.ok&&e.json().then(t)}):t(n)},le=(e,t)=>(g.each(t,(t,n)=>{u(t)&&(t=t(n)),e=e.replace(RegExp(`\\{\\$`+h(n)+`\\}`,`g`),t)}),e),ue=(e,t)=>{let n=e.dom,r=C(e);g.each(n.select(`*`,t),e=>{g.each(r,(t,r)=>{n.hasClass(e,r)&&u(t)&&t(e)})})},de=(e,t,n)=>{let r=e.dom,i=e.selection.getContent();n=le(n,C(e));let a=r.create(`div`,{},se(e,n)),o=r.select(`.mceTmpl`,a);o&&o.length>0&&(a=r.create(`div`),a.appendChild(o[0].cloneNode(!0))),g.each(r.select(`*`,a),t=>{I(r,t,y(e))&&(t.innerHTML=te(e,T(e))),I(r,t,b(e))&&(t.innerHTML=te(e,E(e))),I(r,t,x(e))&&(t.innerHTML=i)}),ue(e,a),e.execCommand(`mceInsertContent`,!1,a.innerHTML),e.addVisual()};var fe=tinymce.util.Tools.resolve(`tinymce.Env`);let pe=(e,t)=>{let n=se(e,t);if(t.indexOf(`<html>`)===-1){let t=``,r=D(e)??``,i=O(e)?` crossorigin="anonymous"`:``;g.each(e.contentCSS,n=>{t+=`<link type="text/css" rel="stylesheet" href="`+e.documentBaseURI.toAbsolute(n)+`"`+i+`>`}),r&&(t+=`<style type="text/css">`+r+`</style>`);let a=ee(e),o=e.dom.encode,s=`<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !(`+(fe.os.isMacOS()||fe.os.isiOS()?`e.metaKey`:`e.ctrlKey && !e.altKey`)+`)) {e.preventDefault();}}}, false);<\/script> `,c=e.getBody().dir,l=c?` dir="`+o(c)+`"`:``;n=`<!DOCTYPE html><html><head><base href="`+o(e.documentBaseURI.getURI())+`">`+t+s+`</head><body class="`+o(a)+`"`+l+`>`+n+`</body></html>`}return le(n,S(e))},me=(e,t)=>{let n=()=>{if(!t||t.length===0){let t=e.translate(`No templates defined.`);return e.notificationManager.open({text:t,type:`info`}),A.none()}return A.from(g.map(t,(e,t)=>{let n=e=>e.url!==void 0;return{selected:t===0,text:e.title,value:{url:n(e)?A.from(e.url):A.none(),content:n(e)?A.none():A.from(e.content),description:e.description}}}))},r=e=>ne(e,e=>({text:e.text,value:e.text})),i=(e,t)=>M(e,e=>e.text===t),a=t=>{e.windowManager.alert(`Could not load the specified template.`,()=>t.focus(`template`))},o=e=>e.value.url.fold(()=>Promise.resolve(e.value.content.getOr(``)),e=>fetch(e).then(e=>e.ok?e.text():Promise.reject())),s=(e,t)=>(n,r)=>{if(r.name===`template`){let r=n.getData().template;i(e,r).each(e=>{n.block(`Loading...`),o(e).then(r=>{t(n,e,r)}).catch(()=>{t(n,e,``),n.setEnabled(`save`,!1),a(n)})})}},c=t=>n=>{i(t,n.getData().template).each(t=>{o(t).then(t=>{e.execCommand(`mceInsertTemplate`,!1,t),n.close()}).catch(()=>{n.setEnabled(`save`,!1),a(n)})})};n().each(t=>{let n=r(t),i=(e,n)=>({title:`Insert Template`,size:`large`,body:{type:`panel`,items:e},initialData:n,buttons:[{type:`cancel`,name:`cancel`,text:`Cancel`},{type:`submit`,name:`save`,text:`Save`,primary:!0}],onSubmit:c(t),onChange:s(t,l)}),l=(t,r,a)=>{let o=pe(e,a),s=[{type:`listbox`,name:`template`,label:`Templates`,items:n},{type:`htmlpanel`,html:`<p aria-live="polite">${F(r.value.description)}</p>`},{label:`Preview`,type:`iframe`,name:`preview`,sandboxed:!1,transparent:!1}],c={template:r.text,preview:o};t.unblock(),t.redial(i(s,c)),t.focus(`template`)},u=e.windowManager.open(i([],{template:``,preview:``}));u.block(`Loading...`),o(t[0]).then(e=>{l(u,t[0],e)}).catch(()=>{l(u,t[0],``),u.setEnabled(`save`,!1),a(u)})})},L=e=>t=>{me(e,t)},he=e=>{e.addCommand(`mceInsertTemplate`,p(de,e)),e.addCommand(`mceTemplate`,ce(e,L(e)))},ge=e=>{e.on(`PreProcess`,t=>{let n=e.dom,r=E(e);g.each(n.select(`div`,t.node),t=>{n.hasClass(t,`mceTmpl`)&&(g.each(n.select(`*`,t),t=>{I(n,t,b(e))&&(t.innerHTML=te(e,r))}),ue(e,t))})})},R=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return e.on(`NodeChange`,n),n(),()=>{e.off(`NodeChange`,n)}},_e=e=>{let t=()=>e.execCommand(`mceTemplate`);e.ui.registry.addButton(`template`,{icon:`template`,tooltip:`Insert template`,onSetup:R(e),onAction:t}),e.ui.registry.addMenuItem(`template`,{icon:`template`,text:`Insert template...`,onSetup:R(e),onAction:t})};e.add(`template`,e=>{v(e),_e(e),he(e),ge(e)})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=e=>t=>typeof t===e,n=t(`boolean`),r=t(`number`),i=e=>t=>t.options.get(e),a=e=>{let t=e.options.register;t(`nonbreaking_force_tab`,{processor:e=>n(e)?{value:e?3:0,valid:!0}:r(e)?{value:e,valid:!0}:{valid:!1,message:`Must be a boolean or number.`},default:!1}),t(`nonbreaking_wrap`,{processor:`boolean`,default:!0})},o=i(`nonbreaking_force_tab`),s=i(`nonbreaking_wrap`),c=(e,t)=>{let n=``;for(let r=0;r<t;r++)n+=e;return n},l=e=>e.plugins.visualchars?e.plugins.visualchars.isEnabled():!1,u=(e,t)=>{let n=()=>l(e)?`mce-nbsp-wrap mce-nbsp`:`mce-nbsp-wrap`,r=s(e)||e.plugins.visualchars?(()=>`<span class="${n()}" contenteditable="false">${c(`&nbsp;`,t)}</span>`)():c(`&nbsp;`,t);e.undoManager.transact(()=>e.insertContent(r))},d=e=>{e.addCommand(`mceNonBreaking`,()=>{u(e,1)})};var f=tinymce.util.Tools.resolve(`tinymce.util.VK`);let p=e=>{let t=o(e);t>0&&e.on(`keydown`,n=>{if(n.keyCode===f.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),u(e,t)}})},m=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return e.on(`NodeChange`,n),n(),()=>{e.off(`NodeChange`,n)}},h=e=>{let t=()=>e.execCommand(`mceNonBreaking`);e.ui.registry.addButton(`nonbreaking`,{icon:`non-breaking`,tooltip:`Nonbreaking space`,onAction:t,onSetup:m(e)}),e.ui.registry.addMenuItem(`nonbreaking`,{icon:`non-breaking`,text:`Nonbreaking space`,onAction:t,onSetup:m(e)})};e.add(`nonbreaking`,e=>{a(e),d(e),h(e),p(e)})})()}))(),d((()=>{(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=e=>t=>e===t,n=t(null),r=t(void 0),i=e=>e==null,a=e=>!i(e),o=()=>{},s=(e=>()=>e)(!1);class c{constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return a(e)?c.some(e):c.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}c.singletonNone=new c(!1);let l=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];if(t(r,n))return!0}return!1},u=(e,t)=>{let n=e.length,r=Array(n);for(let i=0;i<n;i++){let n=e[i];r[i]=t(n,i)}return r},d=(e,t)=>{for(let n=0,r=e.length;n<r;n++){let r=e[n];t(r,n)}},f=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},p=(e,t)=>{let r=null,i=()=>{n(r)||(clearTimeout(r),r=null)};return{cancel:i,throttle:(...n)=>{i(),r=setTimeout(()=>{r=null,e.apply(null,n)},t)}}},m=(e,t)=>{e.insertContent(t)},h=Object.keys,g=Object.hasOwnProperty,_=(e,t)=>{let n=h(e);for(let r=0,i=n.length;r<i;r++){let i=n[r],a=e[i];t(a,i)}},v=(e,t)=>y(e,(e,n)=>({k:n,v:t(e,n)})),y=(e,t)=>{let n={};return _(e,(e,r)=>{let i=t(e,r);n[i.k]=i.v}),n},b=(e,t)=>g.call(e,t),x=(e=>(...t)=>{if(t.length===0)throw Error(`Can't merge zero objects`);let n={};for(let r=0;r<t.length;r++){let i=t[r];for(let t in i)b(i,t)&&(n[t]=e(n[t],i[t]))}return n})((e,t)=>t),S=e=>{let t=f(c.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(c.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(c.some(e))}}},C=()=>{let e=S(o),t=t=>e.get().each(t);return{...e,on:t}},w=(e,t,n)=>t===``||e.length>=t.length&&e.substr(n,n+t.length)===t,T=(e,t,n=0,i)=>{let a=e.indexOf(t,n);return a===-1?!1:r(i)?!0:a+t.length<=i},E=(e,t)=>w(e,t,0);var D=tinymce.util.Tools.resolve(`tinymce.Resource`);let O=e=>t=>t.options.get(e),ee=(e,t)=>{let n=e.options.register;n(`emoticons_database`,{processor:`string`,default:`emojis`}),n(`emoticons_database_url`,{processor:`string`,default:`${t}/js/${k(e)}${e.suffix}.js`}),n(`emoticons_database_id`,{processor:`string`,default:`tinymce.plugins.emoticons`}),n(`emoticons_append`,{processor:`object`,default:{}}),n(`emoticons_images_url`,{processor:`string`,default:`https://twemoji.maxcdn.com/v/13.0.1/72x72/`})},k=O(`emoticons_database`),te=O(`emoticons_database_url`),A=O(`emoticons_database_id`),j=O(`emoticons_append`),ne=O(`emoticons_images_url`),re={symbols:`Symbols`,people:`People`,animals_and_nature:`Animals and Nature`,food_and_drink:`Food and Drink`,activity:`Activity`,travel_and_places:`Travel and Places`,objects:`Objects`,flags:`Flags`,user:`User Defined`},M=(e,t)=>b(e,t)?e[t]:t,N=e=>v(j(e),e=>({keywords:[],category:`user`,...e})),ie=(e,t,n)=>{let r=C(),i=C(),a=ne(e),o=e=>E(e.char,`<img`)?e.char.replace(/src="([^"]+)"/,(e,t)=>`src="${a}${t}"`):e.char,s=e=>{let t={},n=[];_(e,(e,r)=>{let i={title:r,keywords:e.keywords,char:o(e),category:M(re,e.category)},a=t[i.category]===void 0?[]:t[i.category];t[i.category]=a.concat([i]),n.push(i)}),r.set(t),i.set(n)};e.on(`init`,()=>{D.load(n,t).then(t=>{s(x(t,N(e)))},e=>{console.log(`Failed to load emojis: ${e}`),r.set({}),i.set([])})});let l=e=>e===`All`?u():r.get().bind(t=>c.from(t[e])).getOr([]),u=()=>i.get().getOr([]),d=()=>[`All`].concat(h(r.get().getOr({}))),f=()=>p()?Promise.resolve(!0):new Promise((e,n)=>{let r=15,i=setInterval(()=>{p()?(clearInterval(i),e(!0)):(r--,r<0&&(console.log(`Could not load emojis from url: `+t),clearInterval(i),n(!1)))},100)}),p=()=>r.isSet()&&i.isSet();return{listCategories:d,hasLoaded:p,waitForLoad:f,listAll:u,listCategory:l}},ae=(e,t)=>T(e.title.toLowerCase(),t)||l(e.keywords,e=>T(e.toLowerCase(),t)),oe=(e,t,n)=>{let r=[],i=t.toLowerCase(),a=n.fold(()=>s,e=>t=>t>=e);for(let n=0;n<e.length&&!((t.length===0||ae(e[n],i))&&(r.push({value:e[n].char,text:e[n].title,icon:e[n].char}),a(r.length)));n++);return r},P=`pattern`,F=(e,t)=>{let n={pattern:``,results:oe(t.listAll(),``,c.some(300))},r=f(`All`),i=e=>{let n=e.getData(),i=r.get(),a=oe(t.listCategory(i),n[P],i===`All`?c.some(300):c.none());e.setData({results:a})},a=p(e=>{i(e)},200),o={label:`Search`,type:`input`,name:P},s={type:`collection`,name:`results`},l=()=>({title:`Emojis`,size:`normal`,body:{type:`tabpanel`,tabs:u(t.listCategories(),e=>({title:e,name:e,items:[o,s]}))},initialData:n,onTabChange:(e,t)=>{r.set(t.newTabName),a.throttle(e)},onChange:a.throttle,onAction:(t,n)=>{n.name===`results`&&(m(e,n.value),t.close())},buttons:[{type:`cancel`,text:`Close`,primary:!0}]}),d=e.windowManager.open(l());d.focus(P),t.hasLoaded()||(d.block(`Loading emojis...`),t.waitForLoad().then(()=>{d.redial(l()),a.throttle(d),d.focus(P),d.unblock()}).catch(e=>{d.redial({title:`Emojis`,body:{type:`panel`,items:[{type:`alertbanner`,level:`error`,icon:`warning`,text:`Could not load emojis`}]},buttons:[{type:`cancel`,text:`Close`,primary:!0}],initialData:{pattern:``,results:[]}}),d.focus(P),d.unblock()}))},I=(e,t)=>{e.addCommand(`mceEmoticons`,()=>F(e,t))},se=e=>{e.on(`PreInit`,()=>{e.parser.addAttributeFilter(`data-emoticon`,e=>{d(e,e=>{e.attr(`data-mce-resize`,`false`),e.attr(`data-mce-placeholder`,`1`)})})})},ce=(e,t)=>{e.ui.registry.addAutocompleter(`emoticons`,{trigger:`:`,columns:`auto`,minChars:2,fetch:(e,n)=>t.waitForLoad().then(()=>oe(t.listAll(),e,c.some(n))),onAction:(t,n,r)=>{e.selection.setRng(n),e.insertContent(r),t.hide()}})},le=e=>t=>{let n=()=>{t.setEnabled(e.selection.isEditable())};return e.on(`NodeChange`,n),n(),()=>{e.off(`NodeChange`,n)}},ue=e=>{let t=()=>e.execCommand(`mceEmoticons`);e.ui.registry.addButton(`emoticons`,{tooltip:`Emojis`,icon:`emoji`,onAction:t,onSetup:le(e)}),e.ui.registry.addMenuItem(`emoticons`,{text:`Emojis...`,icon:`emoji`,onAction:t,onSetup:le(e)})};e.add(`emoticons`,(e,t)=>{ee(e,t);let n=ie(e,te(e),A(e));I(e,n),ue(e),ce(e,n),se(e)})})()}))(),window.tinymce.Resource.add(`tinymce.plugins.emoticons`,{grinning:{keywords:[`face`,`smile`,`happy`,`joy`,`:D`,`grin`],char:`😀`,fitzpatrick_scale:!1,category:`people`},grimacing:{keywords:[`face`,`grimace`,`teeth`],char:`😬`,fitzpatrick_scale:!1,category:`people`},grin:{keywords:[`face`,`happy`,`smile`,`joy`,`kawaii`],char:`😁`,fitzpatrick_scale:!1,category:`people`},joy:{keywords:[`face`,`cry`,`tears`,`weep`,`happy`,`happytears`,`haha`],char:`😂`,fitzpatrick_scale:!1,category:`people`},rofl:{keywords:[`face`,`rolling`,`floor`,`laughing`,`lol`,`haha`],char:`🤣`,fitzpatrick_scale:!1,category:`people`},partying:{keywords:[`face`,`celebration`,`woohoo`],char:`🥳`,fitzpatrick_scale:!1,category:`people`},smiley:{keywords:[`face`,`happy`,`joy`,`haha`,`:D`,`:)`,`smile`,`funny`],char:`😃`,fitzpatrick_scale:!1,category:`people`},smile:{keywords:[`face`,`happy`,`joy`,`funny`,`haha`,`laugh`,`like`,`:D`,`:)`],char:`😄`,fitzpatrick_scale:!1,category:`people`},sweat_smile:{keywords:[`face`,`hot`,`happy`,`laugh`,`sweat`,`smile`,`relief`],char:`😅`,fitzpatrick_scale:!1,category:`people`},laughing:{keywords:[`happy`,`joy`,`lol`,`satisfied`,`haha`,`face`,`glad`,`XD`,`laugh`],char:`😆`,fitzpatrick_scale:!1,category:`people`},innocent:{keywords:[`face`,`angel`,`heaven`,`halo`],char:`😇`,fitzpatrick_scale:!1,category:`people`},wink:{keywords:[`face`,`happy`,`mischievous`,`secret`,`;)`,`smile`,`eye`],char:`😉`,fitzpatrick_scale:!1,category:`people`},blush:{keywords:[`face`,`smile`,`happy`,`flushed`,`crush`,`embarrassed`,`shy`,`joy`],char:`😊`,fitzpatrick_scale:!1,category:`people`},slightly_smiling_face:{keywords:[`face`,`smile`],char:`🙂`,fitzpatrick_scale:!1,category:`people`},upside_down_face:{keywords:[`face`,`flipped`,`silly`,`smile`],char:`🙃`,fitzpatrick_scale:!1,category:`people`},relaxed:{keywords:[`face`,`blush`,`massage`,`happiness`],char:`☺️`,fitzpatrick_scale:!1,category:`people`},yum:{keywords:[`happy`,`joy`,`tongue`,`smile`,`face`,`silly`,`yummy`,`nom`,`delicious`,`savouring`],char:`😋`,fitzpatrick_scale:!1,category:`people`},relieved:{keywords:[`face`,`relaxed`,`phew`,`massage`,`happiness`],char:`😌`,fitzpatrick_scale:!1,category:`people`},heart_eyes:{keywords:[`face`,`love`,`like`,`affection`,`valentines`,`infatuation`,`crush`,`heart`],char:`😍`,fitzpatrick_scale:!1,category:`people`},smiling_face_with_three_hearts:{keywords:[`face`,`love`,`like`,`affection`,`valentines`,`infatuation`,`crush`,`hearts`,`adore`],char:`🥰`,fitzpatrick_scale:!1,category:`people`},kissing_heart:{keywords:[`face`,`love`,`like`,`affection`,`valentines`,`infatuation`,`kiss`],char:`😘`,fitzpatrick_scale:!1,category:`people`},kissing:{keywords:[`love`,`like`,`face`,`3`,`valentines`,`infatuation`,`kiss`],char:`😗`,fitzpatrick_scale:!1,category:`people`},kissing_smiling_eyes:{keywords:[`face`,`affection`,`valentines`,`infatuation`,`kiss`],char:`😙`,fitzpatrick_scale:!1,category:`people`},kissing_closed_eyes:{keywords:[`face`,`love`,`like`,`affection`,`valentines`,`infatuation`,`kiss`],char:`😚`,fitzpatrick_scale:!1,category:`people`},stuck_out_tongue_winking_eye:{keywords:[`face`,`prank`,`childish`,`playful`,`mischievous`,`smile`,`wink`,`tongue`],char:`😜`,fitzpatrick_scale:!1,category:`people`},zany:{keywords:[`face`,`goofy`,`crazy`],char:`🤪`,fitzpatrick_scale:!1,category:`people`},raised_eyebrow:{keywords:[`face`,`distrust`,`scepticism`,`disapproval`,`disbelief`,`surprise`],char:`🤨`,fitzpatrick_scale:!1,category:`people`},monocle:{keywords:[`face`,`stuffy`,`wealthy`],char:`🧐`,fitzpatrick_scale:!1,category:`people`},stuck_out_tongue_closed_eyes:{keywords:[`face`,`prank`,`playful`,`mischievous`,`smile`,`tongue`],char:`😝`,fitzpatrick_scale:!1,category:`people`},stuck_out_tongue:{keywords:[`face`,`prank`,`childish`,`playful`,`mischievous`,`smile`,`tongue`],char:`😛`,fitzpatrick_scale:!1,category:`people`},money_mouth_face:{keywords:[`face`,`rich`,`dollar`,`money`],char:`🤑`,fitzpatrick_scale:!1,category:`people`},nerd_face:{keywords:[`face`,`nerdy`,`geek`,`dork`],char:`🤓`,fitzpatrick_scale:!1,category:`people`},sunglasses:{keywords:[`face`,`cool`,`smile`,`summer`,`beach`,`sunglass`],char:`😎`,fitzpatrick_scale:!1,category:`people`},star_struck:{keywords:[`face`,`smile`,`starry`,`eyes`,`grinning`],char:`🤩`,fitzpatrick_scale:!1,category:`people`},clown_face:{keywords:[`face`],char:`🤡`,fitzpatrick_scale:!1,category:`people`},cowboy_hat_face:{keywords:[`face`,`cowgirl`,`hat`],char:`🤠`,fitzpatrick_scale:!1,category:`people`},hugs:{keywords:[`face`,`smile`,`hug`],char:`🤗`,fitzpatrick_scale:!1,category:`people`},smirk:{keywords:[`face`,`smile`,`mean`,`prank`,`smug`,`sarcasm`],char:`😏`,fitzpatrick_scale:!1,category:`people`},no_mouth:{keywords:[`face`,`hellokitty`],char:`😶`,fitzpatrick_scale:!1,category:`people`},neutral_face:{keywords:[`indifference`,`meh`,`:|`,`neutral`],char:`😐`,fitzpatrick_scale:!1,category:`people`},expressionless:{keywords:[`face`,`indifferent`,`-_-`,`meh`,`deadpan`],char:`😑`,fitzpatrick_scale:!1,category:`people`},unamused:{keywords:[`indifference`,`bored`,`straight face`,`serious`,`sarcasm`,`unimpressed`,`skeptical`,`dubious`,`side_eye`],char:`😒`,fitzpatrick_scale:!1,category:`people`},roll_eyes:{keywords:[`face`,`eyeroll`,`frustrated`],char:`🙄`,fitzpatrick_scale:!1,category:`people`},thinking:{keywords:[`face`,`hmmm`,`think`,`consider`],char:`🤔`,fitzpatrick_scale:!1,category:`people`},lying_face:{keywords:[`face`,`lie`,`pinocchio`],char:`🤥`,fitzpatrick_scale:!1,category:`people`},hand_over_mouth:{keywords:[`face`,`whoops`,`shock`,`surprise`],char:`🤭`,fitzpatrick_scale:!1,category:`people`},shushing:{keywords:[`face`,`quiet`,`shhh`],char:`🤫`,fitzpatrick_scale:!1,category:`people`},symbols_over_mouth:{keywords:[`face`,`swearing`,`cursing`,`cussing`,`profanity`,`expletive`],char:`🤬`,fitzpatrick_scale:!1,category:`people`},exploding_head:{keywords:[`face`,`shocked`,`mind`,`blown`],char:`🤯`,fitzpatrick_scale:!1,category:`people`},flushed:{keywords:[`face`,`blush`,`shy`,`flattered`],char:`😳`,fitzpatrick_scale:!1,category:`people`},disappointed:{keywords:[`face`,`sad`,`upset`,`depressed`,`:(`],char:`😞`,fitzpatrick_scale:!1,category:`people`},worried:{keywords:[`face`,`concern`,`nervous`,`:(`],char:`😟`,fitzpatrick_scale:!1,category:`people`},angry:{keywords:[`mad`,`face`,`annoyed`,`frustrated`],char:`😠`,fitzpatrick_scale:!1,category:`people`},rage:{keywords:[`angry`,`mad`,`hate`,`despise`],char:`😡`,fitzpatrick_scale:!1,category:`people`},pensive:{keywords:[`face`,`sad`,`depressed`,`upset`],char:`😔`,fitzpatrick_scale:!1,category:`people`},confused:{keywords:[`face`,`indifference`,`huh`,`weird`,`hmmm`,`:/`],char:`😕`,fitzpatrick_scale:!1,category:`people`},slightly_frowning_face:{keywords:[`face`,`frowning`,`disappointed`,`sad`,`upset`],char:`🙁`,fitzpatrick_scale:!1,category:`people`},frowning_face:{keywords:[`face`,`sad`,`upset`,`frown`],char:`☹`,fitzpatrick_scale:!1,category:`people`},persevere:{keywords:[`face`,`sick`,`no`,`upset`,`oops`],char:`😣`,fitzpatrick_scale:!1,category:`people`},confounded:{keywords:[`face`,`confused`,`sick`,`unwell`,`oops`,`:S`],char:`😖`,fitzpatrick_scale:!1,category:`people`},tired_face:{keywords:[`sick`,`whine`,`upset`,`frustrated`],char:`😫`,fitzpatrick_scale:!1,category:`people`},weary:{keywords:[`face`,`tired`,`sleepy`,`sad`,`frustrated`,`upset`],char:`😩`,fitzpatrick_scale:!1,category:`people`},pleading:{keywords:[`face`,`begging`,`mercy`],char:`🥺`,fitzpatrick_scale:!1,category:`people`},triumph:{keywords:[`face`,`gas`,`phew`,`proud`,`pride`],char:`😤`,fitzpatrick_scale:!1,category:`people`},open_mouth:{keywords:[`face`,`surprise`,`impressed`,`wow`,`whoa`,`:O`],char:`😮`,fitzpatrick_scale:!1,category:`people`},scream:{keywords:[`face`,`munch`,`scared`,`omg`],char:`😱`,fitzpatrick_scale:!1,category:`people`},fearful:{keywords:[`face`,`scared`,`terrified`,`nervous`,`oops`,`huh`],char:`😨`,fitzpatrick_scale:!1,category:`people`},cold_sweat:{keywords:[`face`,`nervous`,`sweat`],char:`😰`,fitzpatrick_scale:!1,category:`people`},hushed:{keywords:[`face`,`woo`,`shh`],char:`😯`,fitzpatrick_scale:!1,category:`people`},frowning:{keywords:[`face`,`aw`,`what`],char:`😦`,fitzpatrick_scale:!1,category:`people`},anguished:{keywords:[`face`,`stunned`,`nervous`],char:`😧`,fitzpatrick_scale:!1,category:`people`},cry:{keywords:[`face`,`tears`,`sad`,`depressed`,`upset`,`:'(`],char:`😢`,fitzpatrick_scale:!1,category:`people`},disappointed_relieved:{keywords:[`face`,`phew`,`sweat`,`nervous`],char:`😥`,fitzpatrick_scale:!1,category:`people`},drooling_face:{keywords:[`face`],char:`🤤`,fitzpatrick_scale:!1,category:`people`},sleepy:{keywords:[`face`,`tired`,`rest`,`nap`],char:`😪`,fitzpatrick_scale:!1,category:`people`},sweat:{keywords:[`face`,`hot`,`sad`,`tired`,`exercise`],char:`😓`,fitzpatrick_scale:!1,category:`people`},hot:{keywords:[`face`,`feverish`,`heat`,`red`,`sweating`],char:`🥵`,fitzpatrick_scale:!1,category:`people`},cold:{keywords:[`face`,`blue`,`freezing`,`frozen`,`frostbite`,`icicles`],char:`🥶`,fitzpatrick_scale:!1,category:`people`},sob:{keywords:[`face`,`cry`,`tears`,`sad`,`upset`,`depressed`],char:`😭`,fitzpatrick_scale:!1,category:`people`},dizzy_face:{keywords:[`spent`,`unconscious`,`xox`,`dizzy`],char:`😵`,fitzpatrick_scale:!1,category:`people`},astonished:{keywords:[`face`,`xox`,`surprised`,`poisoned`],char:`😲`,fitzpatrick_scale:!1,category:`people`},zipper_mouth_face:{keywords:[`face`,`sealed`,`zipper`,`secret`],char:`🤐`,fitzpatrick_scale:!1,category:`people`},nauseated_face:{keywords:[`face`,`vomit`,`gross`,`green`,`sick`,`throw up`,`ill`],char:`🤢`,fitzpatrick_scale:!1,category:`people`},sneezing_face:{keywords:[`face`,`gesundheit`,`sneeze`,`sick`,`allergy`],char:`🤧`,fitzpatrick_scale:!1,category:`people`},vomiting:{keywords:[`face`,`sick`],char:`🤮`,fitzpatrick_scale:!1,category:`people`},mask:{keywords:[`face`,`sick`,`ill`,`disease`],char:`😷`,fitzpatrick_scale:!1,category:`people`},face_with_thermometer:{keywords:[`sick`,`temperature`,`thermometer`,`cold`,`fever`],char:`🤒`,fitzpatrick_scale:!1,category:`people`},face_with_head_bandage:{keywords:[`injured`,`clumsy`,`bandage`,`hurt`],char:`🤕`,fitzpatrick_scale:!1,category:`people`},woozy:{keywords:[`face`,`dizzy`,`intoxicated`,`tipsy`,`wavy`],char:`🥴`,fitzpatrick_scale:!1,category:`people`},sleeping:{keywords:[`face`,`tired`,`sleepy`,`night`,`zzz`],char:`😴`,fitzpatrick_scale:!1,category:`people`},zzz:{keywords:[`sleepy`,`tired`,`dream`],char:`💤`,fitzpatrick_scale:!1,category:`people`},poop:{keywords:[`hankey`,`shitface`,`fail`,`turd`,`shit`],char:`💩`,fitzpatrick_scale:!1,category:`people`},smiling_imp:{keywords:[`devil`,`horns`],char:`😈`,fitzpatrick_scale:!1,category:`people`},imp:{keywords:[`devil`,`angry`,`horns`],char:`👿`,fitzpatrick_scale:!1,category:`people`},japanese_ogre:{keywords:[`monster`,`red`,`mask`,`halloween`,`scary`,`creepy`,`devil`,`demon`,`japanese`,`ogre`],char:`👹`,fitzpatrick_scale:!1,category:`people`},japanese_goblin:{keywords:[`red`,`evil`,`mask`,`monster`,`scary`,`creepy`,`japanese`,`goblin`],char:`👺`,fitzpatrick_scale:!1,category:`people`},skull:{keywords:[`dead`,`skeleton`,`creepy`,`death`],char:`💀`,fitzpatrick_scale:!1,category:`people`},ghost:{keywords:[`halloween`,`spooky`,`scary`],char:`👻`,fitzpatrick_scale:!1,category:`people`},alien:{keywords:[`UFO`,`paul`,`weird`,`outer_space`],char:`👽`,fitzpatrick_scale:!1,category:`people`},robot:{keywords:[`computer`,`machine`,`bot`],char:`🤖`,fitzpatrick_scale:!1,category:`people`},smiley_cat:{keywords:[`animal`,`cats`,`happy`,`smile`],char:`😺`,fitzpatrick_scale:!1,category:`people`},smile_cat:{keywords:[`animal`,`cats`,`smile`],char:`😸`,fitzpatrick_scale:!1,category:`people`},joy_cat:{keywords:[`animal`,`cats`,`haha`,`happy`,`tears`],char:`😹`,fitzpatrick_scale:!1,category:`people`},heart_eyes_cat:{keywords:[`animal`,`love`,`like`,`affection`,`cats`,`valentines`,`heart`],char:`😻`,fitzpatrick_scale:!1,category:`people`},smirk_cat:{keywords:[`animal`,`cats`,`smirk`],char:`😼`,fitzpatrick_scale:!1,category:`people`},kissing_cat:{keywords:[`animal`,`cats`,`kiss`],char:`😽`,fitzpatrick_scale:!1,category:`people`},scream_cat:{keywords:[`animal`,`cats`,`munch`,`scared`,`scream`],char:`🙀`,fitzpatrick_scale:!1,category:`people`},crying_cat_face:{keywords:[`animal`,`tears`,`weep`,`sad`,`cats`,`upset`,`cry`],char:`😿`,fitzpatrick_scale:!1,category:`people`},pouting_cat:{keywords:[`animal`,`cats`],char:`😾`,fitzpatrick_scale:!1,category:`people`},palms_up:{keywords:[`hands`,`gesture`,`cupped`,`prayer`],char:`🤲`,fitzpatrick_scale:!0,category:`people`},raised_hands:{keywords:[`gesture`,`hooray`,`yea`,`celebration`,`hands`],char:`🙌`,fitzpatrick_scale:!0,category:`people`},clap:{keywords:[`hands`,`praise`,`applause`,`congrats`,`yay`],char:`👏`,fitzpatrick_scale:!0,category:`people`},wave:{keywords:[`hands`,`gesture`,`goodbye`,`solong`,`farewell`,`hello`,`hi`,`palm`],char:`👋`,fitzpatrick_scale:!0,category:`people`},call_me_hand:{keywords:[`hands`,`gesture`],char:`🤙`,fitzpatrick_scale:!0,category:`people`},"+1":{keywords:[`thumbsup`,`yes`,`awesome`,`good`,`agree`,`accept`,`cool`,`hand`,`like`],char:`👍`,fitzpatrick_scale:!0,category:`people`},"-1":{keywords:[`thumbsdown`,`no`,`dislike`,`hand`],char:`👎`,fitzpatrick_scale:!0,category:`people`},facepunch:{keywords:[`angry`,`violence`,`fist`,`hit`,`attack`,`hand`],char:`👊`,fitzpatrick_scale:!0,category:`people`},fist:{keywords:[`fingers`,`hand`,`grasp`],char:`✊`,fitzpatrick_scale:!0,category:`people`},fist_left:{keywords:[`hand`,`fistbump`],char:`🤛`,fitzpatrick_scale:!0,category:`people`},fist_right:{keywords:[`hand`,`fistbump`],char:`🤜`,fitzpatrick_scale:!0,category:`people`},v:{keywords:[`fingers`,`ohyeah`,`hand`,`peace`,`victory`,`two`],char:`✌`,fitzpatrick_scale:!0,category:`people`},ok_hand:{keywords:[`fingers`,`limbs`,`perfect`,`ok`,`okay`],char:`👌`,fitzpatrick_scale:!0,category:`people`},raised_hand:{keywords:[`fingers`,`stop`,`highfive`,`palm`,`ban`],char:`✋`,fitzpatrick_scale:!0,category:`people`},raised_back_of_hand:{keywords:[`fingers`,`raised`,`backhand`],char:`🤚`,fitzpatrick_scale:!0,category:`people`},open_hands:{keywords:[`fingers`,`butterfly`,`hands`,`open`],char:`👐`,fitzpatrick_scale:!0,category:`people`},muscle:{keywords:[`arm`,`flex`,`hand`,`summer`,`strong`,`biceps`],char:`💪`,fitzpatrick_scale:!0,category:`people`},pray:{keywords:[`please`,`hope`,`wish`,`namaste`,`highfive`],char:`🙏`,fitzpatrick_scale:!0,category:`people`},foot:{keywords:[`kick`,`stomp`],char:`🦶`,fitzpatrick_scale:!0,category:`people`},leg:{keywords:[`kick`,`limb`],char:`🦵`,fitzpatrick_scale:!0,category:`people`},handshake:{keywords:[`agreement`,`shake`],char:`🤝`,fitzpatrick_scale:!1,category:`people`},point_up:{keywords:[`hand`,`fingers`,`direction`,`up`],char:`☝`,fitzpatrick_scale:!0,category:`people`},point_up_2:{keywords:[`fingers`,`hand`,`direction`,`up`],char:`👆`,fitzpatrick_scale:!0,category:`people`},point_down:{keywords:[`fingers`,`hand`,`direction`,`down`],char:`👇`,fitzpatrick_scale:!0,category:`people`},point_left:{keywords:[`direction`,`fingers`,`hand`,`left`],char:`👈`,fitzpatrick_scale:!0,category:`people`},point_right:{keywords:[`fingers`,`hand`,`direction`,`right`],char:`👉`,fitzpatrick_scale:!0,category:`people`},fu:{keywords:[`hand`,`fingers`,`rude`,`middle`,`flipping`],char:`🖕`,fitzpatrick_scale:!0,category:`people`},raised_hand_with_fingers_splayed:{keywords:[`hand`,`fingers`,`palm`],char:`🖐`,fitzpatrick_scale:!0,category:`people`},love_you:{keywords:[`hand`,`fingers`,`gesture`],char:`🤟`,fitzpatrick_scale:!0,category:`people`},metal:{keywords:[`hand`,`fingers`,`evil_eye`,`sign_of_horns`,`rock_on`],char:`🤘`,fitzpatrick_scale:!0,category:`people`},crossed_fingers:{keywords:[`good`,`lucky`],char:`🤞`,fitzpatrick_scale:!0,category:`people`},vulcan_salute:{keywords:[`hand`,`fingers`,`spock`,`star trek`],char:`🖖`,fitzpatrick_scale:!0,category:`people`},writing_hand:{keywords:[`lower_left_ballpoint_pen`,`stationery`,`write`,`compose`],char:`✍`,fitzpatrick_scale:!0,category:`people`},selfie:{keywords:[`camera`,`phone`],char:`🤳`,fitzpatrick_scale:!0,category:`people`},nail_care:{keywords:[`beauty`,`manicure`,`finger`,`fashion`,`nail`],char:`💅`,fitzpatrick_scale:!0,category:`people`},lips:{keywords:[`mouth`,`kiss`],char:`👄`,fitzpatrick_scale:!1,category:`people`},tooth:{keywords:[`teeth`,`dentist`],char:`🦷`,fitzpatrick_scale:!1,category:`people`},tongue:{keywords:[`mouth`,`playful`],char:`👅`,fitzpatrick_scale:!1,category:`people`},ear:{keywords:[`face`,`hear`,`sound`,`listen`],char:`👂`,fitzpatrick_scale:!0,category:`people`},nose:{keywords:[`smell`,`sniff`],char:`👃`,fitzpatrick_scale:!0,category:`people`},eye:{keywords:[`face`,`look`,`see`,`watch`,`stare`],char:`👁`,fitzpatrick_scale:!1,category:`people`},eyes:{keywords:[`look`,`watch`,`stalk`,`peek`,`see`],char:`👀`,fitzpatrick_scale:!1,category:`people`},brain:{keywords:[`smart`,`intelligent`],char:`🧠`,fitzpatrick_scale:!1,category:`people`},bust_in_silhouette:{keywords:[`user`,`person`,`human`],char:`👤`,fitzpatrick_scale:!1,category:`people`},busts_in_silhouette:{keywords:[`user`,`person`,`human`,`group`,`team`],char:`👥`,fitzpatrick_scale:!1,category:`people`},speaking_head:{keywords:[`user`,`person`,`human`,`sing`,`say`,`talk`],char:`🗣`,fitzpatrick_scale:!1,category:`people`},baby:{keywords:[`child`,`boy`,`girl`,`toddler`],char:`👶`,fitzpatrick_scale:!0,category:`people`},child:{keywords:[`gender-neutral`,`young`],char:`🧒`,fitzpatrick_scale:!0,category:`people`},boy:{keywords:[`man`,`male`,`guy`,`teenager`],char:`👦`,fitzpatrick_scale:!0,category:`people`},girl:{keywords:[`female`,`woman`,`teenager`],char:`👧`,fitzpatrick_scale:!0,category:`people`},adult:{keywords:[`gender-neutral`,`person`],char:`🧑`,fitzpatrick_scale:!0,category:`people`},man:{keywords:[`mustache`,`father`,`dad`,`guy`,`classy`,`sir`,`moustache`],char:`👨`,fitzpatrick_scale:!0,category:`people`},woman:{keywords:[`female`,`girls`,`lady`],char:`👩`,fitzpatrick_scale:!0,category:`people`},blonde_woman:{keywords:[`woman`,`female`,`girl`,`blonde`,`person`],char:`👱‍♀️`,fitzpatrick_scale:!0,category:`people`},blonde_man:{keywords:[`man`,`male`,`boy`,`blonde`,`guy`,`person`],char:`👱`,fitzpatrick_scale:!0,category:`people`},bearded_person:{keywords:[`person`,`bewhiskered`],char:`🧔`,fitzpatrick_scale:!0,category:`people`},older_adult:{keywords:[`human`,`elder`,`senior`,`gender-neutral`],char:`🧓`,fitzpatrick_scale:!0,category:`people`},older_man:{keywords:[`human`,`male`,`men`,`old`,`elder`,`senior`],char:`👴`,fitzpatrick_scale:!0,category:`people`},older_woman:{keywords:[`human`,`female`,`women`,`lady`,`old`,`elder`,`senior`],char:`👵`,fitzpatrick_scale:!0,category:`people`},man_with_gua_pi_mao:{keywords:[`male`,`boy`,`chinese`],char:`👲`,fitzpatrick_scale:!0,category:`people`},woman_with_headscarf:{keywords:[`female`,`hijab`,`mantilla`,`tichel`],char:`🧕`,fitzpatrick_scale:!0,category:`people`},woman_with_turban:{keywords:[`female`,`indian`,`hinduism`,`arabs`,`woman`],char:`👳‍♀️`,fitzpatrick_scale:!0,category:`people`},man_with_turban:{keywords:[`male`,`indian`,`hinduism`,`arabs`],char:`👳`,fitzpatrick_scale:!0,category:`people`},policewoman:{keywords:[`woman`,`police`,`law`,`legal`,`enforcement`,`arrest`,`911`,`female`],char:`👮‍♀️`,fitzpatrick_scale:!0,category:`people`},policeman:{keywords:[`man`,`police`,`law`,`legal`,`enforcement`,`arrest`,`911`],char:`👮`,fitzpatrick_scale:!0,category:`people`},construction_worker_woman:{keywords:[`female`,`human`,`wip`,`build`,`construction`,`worker`,`labor`,`woman`],char:`👷‍♀️`,fitzpatrick_scale:!0,category:`people`},construction_worker_man:{keywords:[`male`,`human`,`wip`,`guy`,`build`,`construction`,`worker`,`labor`],char:`👷`,fitzpatrick_scale:!0,category:`people`},guardswoman:{keywords:[`uk`,`gb`,`british`,`female`,`royal`,`woman`],char:`💂‍♀️`,fitzpatrick_scale:!0,category:`people`},guardsman:{keywords:[`uk`,`gb`,`british`,`male`,`guy`,`royal`],char:`💂`,fitzpatrick_scale:!0,category:`people`},female_detective:{keywords:[`human`,`spy`,`detective`,`female`,`woman`],char:`🕵️‍♀️`,fitzpatrick_scale:!0,category:`people`},male_detective:{keywords:[`human`,`spy`,`detective`],char:`🕵`,fitzpatrick_scale:!0,category:`people`},woman_health_worker:{keywords:[`doctor`,`nurse`,`therapist`,`healthcare`,`woman`,`human`],char:`👩‍⚕️`,fitzpatrick_scale:!0,category:`people`},man_health_worker:{keywords:[`doctor`,`nurse`,`therapist`,`healthcare`,`man`,`human`],char:`👨‍⚕️`,fitzpatrick_scale:!0,category:`people`},woman_farmer:{keywords:[`rancher`,`gardener`,`woman`,`human`],char:`👩‍🌾`,fitzpatrick_scale:!0,category:`people`},man_farmer:{keywords:[`rancher`,`gardener`,`man`,`human`],char:`👨‍🌾`,fitzpatrick_scale:!0,category:`people`},woman_cook:{keywords:[`chef`,`woman`,`human`],char:`👩‍🍳`,fitzpatrick_scale:!0,category:`people`},man_cook:{keywords:[`chef`,`man`,`human`],char:`👨‍🍳`,fitzpatrick_scale:!0,category:`people`},woman_student:{keywords:[`graduate`,`woman`,`human`],char:`👩‍🎓`,fitzpatrick_scale:!0,category:`people`},man_student:{keywords:[`graduate`,`man`,`human`],char:`👨‍🎓`,fitzpatrick_scale:!0,category:`people`},woman_singer:{keywords:[`rockstar`,`entertainer`,`woman`,`human`],char:`👩‍🎤`,fitzpatrick_scale:!0,category:`people`},man_singer:{keywords:[`rockstar`,`entertainer`,`man`,`human`],char:`👨‍🎤`,fitzpatrick_scale:!0,category:`people`},woman_teacher:{keywords:[`instructor`,`professor`,`woman`,`human`],char:`👩‍🏫`,fitzpatrick_scale:!0,category:`people`},man_teacher:{keywords:[`instructor`,`professor`,`man`,`human`],char:`👨‍🏫`,fitzpatrick_scale:!0,category:`people`},woman_factory_worker:{keywords:[`assembly`,`industrial`,`woman`,`human`],char:`👩‍🏭`,fitzpatrick_scale:!0,category:`people`},man_factory_worker:{keywords:[`assembly`,`industrial`,`man`,`human`],char:`👨‍🏭`,fitzpatrick_scale:!0,category:`people`},woman_technologist:{keywords:[`coder`,`developer`,`engineer`,`programmer`,`software`,`woman`,`human`,`laptop`,`computer`],char:`👩‍💻`,fitzpatrick_scale:!0,category:`people`},man_technologist:{keywords:[`coder`,`developer`,`engineer`,`programmer`,`software`,`man`,`human`,`laptop`,`computer`],char:`👨‍💻`,fitzpatrick_scale:!0,category:`people`},woman_office_worker:{keywords:[`business`,`manager`,`woman`,`human`],char:`👩‍💼`,fitzpatrick_scale:!0,category:`people`},man_office_worker:{keywords:[`business`,`manager`,`man`,`human`],char:`👨‍💼`,fitzpatrick_scale:!0,category:`people`},woman_mechanic:{keywords:[`plumber`,`woman`,`human`,`wrench`],char:`👩‍🔧`,fitzpatrick_scale:!0,category:`people`},man_mechanic:{keywords:[`plumber`,`man`,`human`,`wrench`],char:`👨‍🔧`,fitzpatrick_scale:!0,category:`people`},woman_scientist:{keywords:[`biologist`,`chemist`,`engineer`,`physicist`,`woman`,`human`],char:`👩‍🔬`,fitzpatrick_scale:!0,category:`people`},man_scientist:{keywords:[`biologist`,`chemist`,`engineer`,`physicist`,`man`,`human`],char:`👨‍🔬`,fitzpatrick_scale:!0,category:`people`},woman_artist:{keywords:[`painter`,`woman`,`human`],char:`👩‍🎨`,fitzpatrick_scale:!0,category:`people`},man_artist:{keywords:[`painter`,`man`,`human`],char:`👨‍🎨`,fitzpatrick_scale:!0,category:`people`},woman_firefighter:{keywords:[`fireman`,`woman`,`human`],char:`👩‍🚒`,fitzpatrick_scale:!0,category:`people`},man_firefighter:{keywords:[`fireman`,`man`,`human`],char:`👨‍🚒`,fitzpatrick_scale:!0,category:`people`},woman_pilot:{keywords:[`aviator`,`plane`,`woman`,`human`],char:`👩‍✈️`,fitzpatrick_scale:!0,category:`people`},man_pilot:{keywords:[`aviator`,`plane`,`man`,`human`],char:`👨‍✈️`,fitzpatrick_scale:!0,category:`people`},woman_astronaut:{keywords:[`space`,`rocket`,`woman`,`human`],char:`👩‍🚀`,fitzpatrick_scale:!0,category:`people`},man_astronaut:{keywords:[`space`,`rocket`,`man`,`human`],char:`👨‍🚀`,fitzpatrick_scale:!0,category:`people`},woman_judge:{keywords:[`justice`,`court`,`woman`,`human`],char:`👩‍⚖️`,fitzpatrick_scale:!0,category:`people`},man_judge:{keywords:[`justice`,`court`,`man`,`human`],char:`👨‍⚖️`,fitzpatrick_scale:!0,category:`people`},woman_superhero:{keywords:[`woman`,`female`,`good`,`heroine`,`superpowers`],char:`🦸‍♀️`,fitzpatrick_scale:!0,category:`people`},man_superhero:{keywords:[`man`,`male`,`good`,`hero`,`superpowers`],char:`🦸‍♂️`,fitzpatrick_scale:!0,category:`people`},woman_supervillain:{keywords:[`woman`,`female`,`evil`,`bad`,`criminal`,`heroine`,`superpowers`],char:`🦹‍♀️`,fitzpatrick_scale:!0,category:`people`},man_supervillain:{keywords:[`man`,`male`,`evil`,`bad`,`criminal`,`hero`,`superpowers`],char:`🦹‍♂️`,fitzpatrick_scale:!0,category:`people`},mrs_claus:{keywords:[`woman`,`female`,`xmas`,`mother christmas`],char:`🤶`,fitzpatrick_scale:!0,category:`people`},santa:{keywords:[`festival`,`man`,`male`,`xmas`,`father christmas`],char:`🎅`,fitzpatrick_scale:!0,category:`people`},sorceress:{keywords:[`woman`,`female`,`mage`,`witch`],char:`🧙‍♀️`,fitzpatrick_scale:!0,category:`people`},wizard:{keywords:[`man`,`male`,`mage`,`sorcerer`],char:`🧙‍♂️`,fitzpatrick_scale:!0,category:`people`},woman_elf:{keywords:[`woman`,`female`],char:`🧝‍♀️`,fitzpatrick_scale:!0,category:`people`},man_elf:{keywords:[`man`,`male`],char:`🧝‍♂️`,fitzpatrick_scale:!0,category:`people`},woman_vampire:{keywords:[`woman`,`female`],char:`🧛‍♀️`,fitzpatrick_scale:!0,category:`people`},man_vampire:{keywords:[`man`,`male`,`dracula`],char:`🧛‍♂️`,fitzpatrick_scale:!0,category:`people`},woman_zombie:{keywords:[`woman`,`female`,`undead`,`walking dead`],char:`🧟‍♀️`,fitzpatrick_scale:!1,category:`people`},man_zombie:{keywords:[`man`,`male`,`dracula`,`undead`,`walking dead`],char:`🧟‍♂️`,fitzpatrick_scale:!1,category:`people`},woman_genie:{keywords:[`woman`,`female`],char:`🧞‍♀️`,fitzpatrick_scale:!1,category:`people`},man_genie:{keywords:[`man`,`male`],char:`🧞‍♂️`,fitzpatrick_scale:!1,category:`people`},mermaid:{keywords:[`woman`,`female`,`merwoman`,`ariel`],char:`🧜‍♀️`,fitzpatrick_scale:!0,category:`people`},merman:{keywords:[`man`,`male`,`triton`],char:`🧜‍♂️`,fitzpatrick_scale:!0,category:`people`},woman_fairy:{keywords:[`woman`,`female`],char:`🧚‍♀️`,fitzpatrick_scale:!0,category:`people`},man_fairy:{keywords:[`man`,`male`],char:`🧚‍♂️`,fitzpatrick_scale:!0,category:`people`},angel:{keywords:[`heaven`,`wings`,`halo`],char:`👼`,fitzpatrick_scale:!0,category:`people`},pregnant_woman:{keywords:[`baby`],char:`🤰`,fitzpatrick_scale:!0,category:`people`},breastfeeding:{keywords:[`nursing`,`baby`],char:`🤱`,fitzpatrick_scale:!0,category:`people`},princess:{keywords:[`girl`,`woman`,`female`,`blond`,`crown`,`royal`,`queen`],char:`👸`,fitzpatrick_scale:!0,category:`people`},prince:{keywords:[`boy`,`man`,`male`,`crown`,`royal`,`king`],char:`🤴`,fitzpatrick_scale:!0,category:`people`},bride_with_veil:{keywords:[`couple`,`marriage`,`wedding`,`woman`,`bride`],char:`👰`,fitzpatrick_scale:!0,category:`people`},man_in_tuxedo:{keywords:[`couple`,`marriage`,`wedding`,`groom`],char:`🤵`,fitzpatrick_scale:!0,category:`people`},running_woman:{keywords:[`woman`,`walking`,`exercise`,`race`,`running`,`female`],char:`🏃‍♀️`,fitzpatrick_scale:!0,category:`people`},running_man:{keywords:[`man`,`walking`,`exercise`,`race`,`running`],char:`🏃`,fitzpatrick_scale:!0,category:`people`},walking_woman:{keywords:[`human`,`feet`,`steps`,`woman`,`female`],char:`🚶‍♀️`,fitzpatrick_scale:!0,category:`people`},walking_man:{keywords:[`human`,`feet`,`steps`],char:`🚶`,fitzpatrick_scale:!0,category:`people`},dancer:{keywords:[`female`,`girl`,`woman`,`fun`],char:`💃`,fitzpatrick_scale:!0,category:`people`},man_dancing:{keywords:[`male`,`boy`,`fun`,`dancer`],char:`🕺`,fitzpatrick_scale:!0,category:`people`},dancing_women:{keywords:[`female`,`bunny`,`women`,`girls`],char:`👯`,fitzpatrick_scale:!1,category:`people`},dancing_men:{keywords:[`male`,`bunny`,`men`,`boys`],char:`👯‍♂️`,fitzpatrick_scale:!1,category:`people`},couple:{keywords:[`pair`,`people`,`human`,`love`,`date`,`dating`,`like`,`affection`,`valentines`,`marriage`],char:`👫`,fitzpatrick_scale:!1,category:`people`},two_men_holding_hands:{keywords:[`pair`,`couple`,`love`,`like`,`bromance`,`friendship`,`people`,`human`],char:`👬`,fitzpatrick_scale:!1,category:`people`},two_women_holding_hands:{keywords:[`pair`,`friendship`,`couple`,`love`,`like`,`female`,`people`,`human`],char:`👭`,fitzpatrick_scale:!1,category:`people`},bowing_woman:{keywords:[`woman`,`female`,`girl`],char:`🙇‍♀️`,fitzpatrick_scale:!0,category:`people`},bowing_man:{keywords:[`man`,`male`,`boy`],char:`🙇`,fitzpatrick_scale:!0,category:`people`},man_facepalming:{keywords:[`man`,`male`,`boy`,`disbelief`],char:`🤦‍♂️`,fitzpatrick_scale:!0,category:`people`},woman_facepalming:{keywords:[`woman`,`female`,`girl`,`disbelief`],char:`🤦‍♀️`,fitzpatrick_scale:!0,category:`people`},woman_shrugging:{keywords:[`woman`,`female`,`girl`,`confused`,`indifferent`,`doubt`],char:`🤷`,fitzpatrick_scale:!0,category:`people`},man_shrugging:{keywords:[`man`,`male`,`boy`,`confused`,`indifferent`,`doubt`],char:`🤷‍♂️`,fitzpatrick_scale:!0,category:`people`},tipping_hand_woman:{keywords:[`female`,`girl`,`woman`,`human`,`information`],char:`💁`,fitzpatrick_scale:!0,category:`people`},tipping_hand_man:{keywords:[`male`,`boy`,`man`,`human`,`information`],char:`💁‍♂️`,fitzpatrick_scale:!0,category:`people`},no_good_woman:{keywords:[`female`,`girl`,`woman`,`nope`],char:`🙅`,fitzpatrick_scale:!0,category:`people`},no_good_man:{keywords:[`male`,`boy`,`man`,`nope`],char:`🙅‍♂️`,fitzpatrick_scale:!0,category:`people`},ok_woman:{keywords:[`women`,`girl`,`female`,`pink`,`human`,`woman`],char:`🙆`,fitzpatrick_scale:!0,category:`people`},ok_man:{keywords:[`men`,`boy`,`male`,`blue`,`human`,`man`],char:`🙆‍♂️`,fitzpatrick_scale:!0,category:`people`},raising_hand_woman:{keywords:[`female`,`girl`,`woman`],char:`🙋`,fitzpatrick_scale:!0,category:`people`},raising_hand_man:{keywords:[`male`,`boy`,`man`],char:`🙋‍♂️`,fitzpatrick_scale:!0,category:`people`},pouting_woman:{keywords:[`female`,`girl`,`woman`],char:`🙎`,fitzpatrick_scale:!0,category:`people`},pouting_man:{keywords:[`male`,`boy`,`man`],char:`🙎‍♂️`,fitzpatrick_scale:!0,category:`people`},frowning_woman:{keywords:[`female`,`girl`,`woman`,`sad`,`depressed`,`discouraged`,`unhappy`],char:`🙍`,fitzpatrick_scale:!0,category:`people`},frowning_man:{keywords:[`male`,`boy`,`man`,`sad`,`depressed`,`discouraged`,`unhappy`],char:`🙍‍♂️`,fitzpatrick_scale:!0,category:`people`},haircut_woman:{keywords:[`female`,`girl`,`woman`],char:`💇`,fitzpatrick_scale:!0,category:`people`},haircut_man:{keywords:[`male`,`boy`,`man`],char:`💇‍♂️`,fitzpatrick_scale:!0,category:`people`},massage_woman:{keywords:[`female`,`girl`,`woman`,`head`],char:`💆`,fitzpatrick_scale:!0,category:`people`},massage_man:{keywords:[`male`,`boy`,`man`,`head`],char:`💆‍♂️`,fitzpatrick_scale:!0,category:`people`},woman_in_steamy_room:{keywords:[`female`,`woman`,`spa`,`steamroom`,`sauna`],char:`🧖‍♀️`,fitzpatrick_scale:!0,category:`people`},man_in_steamy_room:{keywords:[`male`,`man`,`spa`,`steamroom`,`sauna`],char:`🧖‍♂️`,fitzpatrick_scale:!0,category:`people`},couple_with_heart_woman_man:{keywords:[`pair`,`love`,`like`,`affection`,`human`,`dating`,`valentines`,`marriage`],char:`💑`,fitzpatrick_scale:!1,category:`people`},couple_with_heart_woman_woman:{keywords:[`pair`,`love`,`like`,`affection`,`human`,`dating`,`valentines`,`marriage`],char:`👩‍❤️‍👩`,fitzpatrick_scale:!1,category:`people`},couple_with_heart_man_man:{keywords:[`pair`,`love`,`like`,`affection`,`human`,`dating`,`valentines`,`marriage`],char:`👨‍❤️‍👨`,fitzpatrick_scale:!1,category:`people`},couplekiss_man_woman:{keywords:[`pair`,`valentines`,`love`,`like`,`dating`,`marriage`],char:`💏`,fitzpatrick_scale:!1,category:`people`},couplekiss_woman_woman:{keywords:[`pair`,`valentines`,`love`,`like`,`dating`,`marriage`],char:`👩‍❤️‍💋‍👩`,fitzpatrick_scale:!1,category:`people`},couplekiss_man_man:{keywords:[`pair`,`valentines`,`love`,`like`,`dating`,`marriage`],char:`👨‍❤️‍💋‍👨`,fitzpatrick_scale:!1,category:`people`},family_man_woman_boy:{keywords:[`home`,`parents`,`child`,`mom`,`dad`,`father`,`mother`,`people`,`human`],char:`👪`,fitzpatrick_scale:!1,category:`people`},family_man_woman_girl:{keywords:[`home`,`parents`,`people`,`human`,`child`],char:`👨‍👩‍👧`,fitzpatrick_scale:!1,category:`people`},family_man_woman_girl_boy:{keywords:[`home`,`parents`,`people`,`human`,`children`],char:`👨‍👩‍👧‍👦`,fitzpatrick_scale:!1,category:`people`},family_man_woman_boy_boy:{keywords:[`home`,`parents`,`people`,`human`,`children`],char:`👨‍👩‍👦‍👦`,fitzpatrick_scale:!1,category:`people`},family_man_woman_girl_girl:{keywords:[`home`,`parents`,`people`,`human`,`children`],char:`👨‍👩‍👧‍👧`,fitzpatrick_scale:!1,category:`people`},family_woman_woman_boy:{keywords:[`home`,`parents`,`people`,`human`,`children`],char:`👩‍👩‍👦`,fitzpatrick_scale:!1,category:`people`},family_woman_woman_girl:{keywords:[`home`,`parents`,`people`,`human`,`children`],char:`👩‍👩‍👧`,fitzpatrick_scale:!1,category:`people`},family_woman_woman_girl_boy:{keywords:[`home`,`parents`,`people`,`human`,`children`],char:`👩‍👩‍👧‍👦`,fitzpatrick_scale:!1,category:`people`},family_woman_woman_boy_boy:{keywords:[`home`,`parents`,`people`,`human`,`children`],char:`👩‍👩‍👦‍👦`,fitzpatrick_scale:!1,category:`people`},family_woman_woman_girl_girl:{keywords:[`home`,`parents`,`people`,`human`,`children`],char:`👩‍👩‍👧‍👧`,fitzpatrick_scale:!1,category:`people`},family_man_man_boy:{keywords:[`home`,`parents`,`people`,`human`,`children`],char:`👨‍👨‍👦`,fitzpatrick_scale:!1,category:`people`},family_man_man_girl:{keywords:[`home`,`parents`,`people`,`human`,`children`],char:`👨‍👨‍👧`,fitzpatrick_scale:!1,category:`people`},family_man_man_girl_boy:{keywords:[`home`,`parents`,`people`,`human`,`children`],char:`👨‍👨‍👧‍👦`,fitzpatrick_scale:!1,category:`people`},family_man_man_boy_boy:{keywords:[`home`,`parents`,`people`,`human`,`children`],char:`👨‍👨‍👦‍👦`,fitzpatrick_scale:!1,category:`people`},family_man_man_girl_girl:{keywords:[`home`,`parents`,`people`,`human`,`children`],char:`👨‍👨‍👧‍👧`,fitzpatrick_scale:!1,category:`people`},family_woman_boy:{keywords:[`home`,`parent`,`people`,`human`,`child`],char:`👩‍👦`,fitzpatrick_scale:!1,category:`people`},family_woman_girl:{keywords:[`home`,`parent`,`people`,`human`,`child`],char:`👩‍👧`,fitzpatrick_scale:!1,category:`people`},family_woman_girl_boy:{keywords:[`home`,`parent`,`people`,`human`,`children`],char:`👩‍👧‍👦`,fitzpatrick_scale:!1,category:`people`},family_woman_boy_boy:{keywords:[`home`,`parent`,`people`,`human`,`children`],char:`👩‍👦‍👦`,fitzpatrick_scale:!1,category:`people`},family_woman_girl_girl:{keywords:[`home`,`parent`,`people`,`human`,`children`],char:`👩‍👧‍👧`,fitzpatrick_scale:!1,category:`people`},family_man_boy:{keywords:[`home`,`parent`,`people`,`human`,`child`],char:`👨‍👦`,fitzpatrick_scale:!1,category:`people`},family_man_girl:{keywords:[`home`,`parent`,`people`,`human`,`child`],char:`👨‍👧`,fitzpatrick_scale:!1,category:`people`},family_man_girl_boy:{keywords:[`home`,`parent`,`people`,`human`,`children`],char:`👨‍👧‍👦`,fitzpatrick_scale:!1,category:`people`},family_man_boy_boy:{keywords:[`home`,`parent`,`people`,`human`,`children`],char:`👨‍👦‍👦`,fitzpatrick_scale:!1,category:`people`},family_man_girl_girl:{keywords:[`home`,`parent`,`people`,`human`,`children`],char:`👨‍👧‍👧`,fitzpatrick_scale:!1,category:`people`},yarn:{keywords:[`ball`,`crochet`,`knit`],char:`🧶`,fitzpatrick_scale:!1,category:`people`},thread:{keywords:[`needle`,`sewing`,`spool`,`string`],char:`🧵`,fitzpatrick_scale:!1,category:`people`},coat:{keywords:[`jacket`],char:`🧥`,fitzpatrick_scale:!1,category:`people`},labcoat:{keywords:[`doctor`,`experiment`,`scientist`,`chemist`],char:`🥼`,fitzpatrick_scale:!1,category:`people`},womans_clothes:{keywords:[`fashion`,`shopping_bags`,`female`],char:`👚`,fitzpatrick_scale:!1,category:`people`},tshirt:{keywords:[`fashion`,`cloth`,`casual`,`shirt`,`tee`],char:`👕`,fitzpatrick_scale:!1,category:`people`},jeans:{keywords:[`fashion`,`shopping`],char:`👖`,fitzpatrick_scale:!1,category:`people`},necktie:{keywords:[`shirt`,`suitup`,`formal`,`fashion`,`cloth`,`business`],char:`👔`,fitzpatrick_scale:!1,category:`people`},dress:{keywords:[`clothes`,`fashion`,`shopping`],char:`👗`,fitzpatrick_scale:!1,category:`people`},bikini:{keywords:[`swimming`,`female`,`woman`,`girl`,`fashion`,`beach`,`summer`],char:`👙`,fitzpatrick_scale:!1,category:`people`},kimono:{keywords:[`dress`,`fashion`,`women`,`female`,`japanese`],char:`👘`,fitzpatrick_scale:!1,category:`people`},lipstick:{keywords:[`female`,`girl`,`fashion`,`woman`],char:`💄`,fitzpatrick_scale:!1,category:`people`},kiss:{keywords:[`face`,`lips`,`love`,`like`,`affection`,`valentines`],char:`💋`,fitzpatrick_scale:!1,category:`people`},footprints:{keywords:[`feet`,`tracking`,`walking`,`beach`],char:`👣`,fitzpatrick_scale:!1,category:`people`},flat_shoe:{keywords:[`ballet`,`slip-on`,`slipper`],char:`🥿`,fitzpatrick_scale:!1,category:`people`},high_heel:{keywords:[`fashion`,`shoes`,`female`,`pumps`,`stiletto`],char:`👠`,fitzpatrick_scale:!1,category:`people`},sandal:{keywords:[`shoes`,`fashion`,`flip flops`],char:`👡`,fitzpatrick_scale:!1,category:`people`},boot:{keywords:[`shoes`,`fashion`],char:`👢`,fitzpatrick_scale:!1,category:`people`},mans_shoe:{keywords:[`fashion`,`male`],char:`👞`,fitzpatrick_scale:!1,category:`people`},athletic_shoe:{keywords:[`shoes`,`sports`,`sneakers`],char:`👟`,fitzpatrick_scale:!1,category:`people`},hiking_boot:{keywords:[`backpacking`,`camping`,`hiking`],char:`🥾`,fitzpatrick_scale:!1,category:`people`},socks:{keywords:[`stockings`,`clothes`],char:`🧦`,fitzpatrick_scale:!1,category:`people`},gloves:{keywords:[`hands`,`winter`,`clothes`],char:`🧤`,fitzpatrick_scale:!1,category:`people`},scarf:{keywords:[`neck`,`winter`,`clothes`],char:`🧣`,fitzpatrick_scale:!1,category:`people`},womans_hat:{keywords:[`fashion`,`accessories`,`female`,`lady`,`spring`],char:`👒`,fitzpatrick_scale:!1,category:`people`},tophat:{keywords:[`magic`,`gentleman`,`classy`,`circus`],char:`🎩`,fitzpatrick_scale:!1,category:`people`},billed_hat:{keywords:[`cap`,`baseball`],char:`🧢`,fitzpatrick_scale:!1,category:`people`},rescue_worker_helmet:{keywords:[`construction`,`build`],char:`⛑`,fitzpatrick_scale:!1,category:`people`},mortar_board:{keywords:[`school`,`college`,`degree`,`university`,`graduation`,`cap`,`hat`,`legal`,`learn`,`education`],char:`🎓`,fitzpatrick_scale:!1,category:`people`},crown:{keywords:[`king`,`kod`,`leader`,`royalty`,`lord`],char:`👑`,fitzpatrick_scale:!1,category:`people`},school_satchel:{keywords:[`student`,`education`,`bag`,`backpack`],char:`🎒`,fitzpatrick_scale:!1,category:`people`},luggage:{keywords:[`packing`,`travel`],char:`🧳`,fitzpatrick_scale:!1,category:`people`},pouch:{keywords:[`bag`,`accessories`,`shopping`],char:`👝`,fitzpatrick_scale:!1,category:`people`},purse:{keywords:[`fashion`,`accessories`,`money`,`sales`,`shopping`],char:`👛`,fitzpatrick_scale:!1,category:`people`},handbag:{keywords:[`fashion`,`accessory`,`accessories`,`shopping`],char:`👜`,fitzpatrick_scale:!1,category:`people`},briefcase:{keywords:[`business`,`documents`,`work`,`law`,`legal`,`job`,`career`],char:`💼`,fitzpatrick_scale:!1,category:`people`},eyeglasses:{keywords:[`fashion`,`accessories`,`eyesight`,`nerdy`,`dork`,`geek`],char:`👓`,fitzpatrick_scale:!1,category:`people`},dark_sunglasses:{keywords:[`face`,`cool`,`accessories`],char:`🕶`,fitzpatrick_scale:!1,category:`people`},goggles:{keywords:[`eyes`,`protection`,`safety`],char:`🥽`,fitzpatrick_scale:!1,category:`people`},ring:{keywords:[`wedding`,`propose`,`marriage`,`valentines`,`diamond`,`fashion`,`jewelry`,`gem`,`engagement`],char:`💍`,fitzpatrick_scale:!1,category:`people`},closed_umbrella:{keywords:[`weather`,`rain`,`drizzle`],char:`🌂`,fitzpatrick_scale:!1,category:`people`},dog:{keywords:[`animal`,`friend`,`nature`,`woof`,`puppy`,`pet`,`faithful`],char:`🐶`,fitzpatrick_scale:!1,category:`animals_and_nature`},cat:{keywords:[`animal`,`meow`,`nature`,`pet`,`kitten`],char:`🐱`,fitzpatrick_scale:!1,category:`animals_and_nature`},mouse:{keywords:[`animal`,`nature`,`cheese_wedge`,`rodent`],char:`🐭`,fitzpatrick_scale:!1,category:`animals_and_nature`},hamster:{keywords:[`animal`,`nature`],char:`🐹`,fitzpatrick_scale:!1,category:`animals_and_nature`},rabbit:{keywords:[`animal`,`nature`,`pet`,`spring`,`magic`,`bunny`],char:`🐰`,fitzpatrick_scale:!1,category:`animals_and_nature`},fox_face:{keywords:[`animal`,`nature`,`face`],char:`🦊`,fitzpatrick_scale:!1,category:`animals_and_nature`},bear:{keywords:[`animal`,`nature`,`wild`],char:`🐻`,fitzpatrick_scale:!1,category:`animals_and_nature`},panda_face:{keywords:[`animal`,`nature`,`panda`],char:`🐼`,fitzpatrick_scale:!1,category:`animals_and_nature`},koala:{keywords:[`animal`,`nature`],char:`🐨`,fitzpatrick_scale:!1,category:`animals_and_nature`},tiger:{keywords:[`animal`,`cat`,`danger`,`wild`,`nature`,`roar`],char:`🐯`,fitzpatrick_scale:!1,category:`animals_and_nature`},lion:{keywords:[`animal`,`nature`],char:`🦁`,fitzpatrick_scale:!1,category:`animals_and_nature`},cow:{keywords:[`beef`,`ox`,`animal`,`nature`,`moo`,`milk`],char:`🐮`,fitzpatrick_scale:!1,category:`animals_and_nature`},pig:{keywords:[`animal`,`oink`,`nature`],char:`🐷`,fitzpatrick_scale:!1,category:`animals_and_nature`},pig_nose:{keywords:[`animal`,`oink`],char:`🐽`,fitzpatrick_scale:!1,category:`animals_and_nature`},frog:{keywords:[`animal`,`nature`,`croak`,`toad`],char:`🐸`,fitzpatrick_scale:!1,category:`animals_and_nature`},squid:{keywords:[`animal`,`nature`,`ocean`,`sea`],char:`🦑`,fitzpatrick_scale:!1,category:`animals_and_nature`},octopus:{keywords:[`animal`,`creature`,`ocean`,`sea`,`nature`,`beach`],char:`🐙`,fitzpatrick_scale:!1,category:`animals_and_nature`},shrimp:{keywords:[`animal`,`ocean`,`nature`,`seafood`],char:`🦐`,fitzpatrick_scale:!1,category:`animals_and_nature`},monkey_face:{keywords:[`animal`,`nature`,`circus`],char:`🐵`,fitzpatrick_scale:!1,category:`animals_and_nature`},gorilla:{keywords:[`animal`,`nature`,`circus`],char:`🦍`,fitzpatrick_scale:!1,category:`animals_and_nature`},see_no_evil:{keywords:[`monkey`,`animal`,`nature`,`haha`],char:`🙈`,fitzpatrick_scale:!1,category:`animals_and_nature`},hear_no_evil:{keywords:[`animal`,`monkey`,`nature`],char:`🙉`,fitzpatrick_scale:!1,category:`animals_and_nature`},speak_no_evil:{keywords:[`monkey`,`animal`,`nature`,`omg`],char:`🙊`,fitzpatrick_scale:!1,category:`animals_and_nature`},monkey:{keywords:[`animal`,`nature`,`banana`,`circus`],char:`🐒`,fitzpatrick_scale:!1,category:`animals_and_nature`},chicken:{keywords:[`animal`,`cluck`,`nature`,`bird`],char:`🐔`,fitzpatrick_scale:!1,category:`animals_and_nature`},penguin:{keywords:[`animal`,`nature`],char:`🐧`,fitzpatrick_scale:!1,category:`animals_and_nature`},bird:{keywords:[`animal`,`nature`,`fly`,`tweet`,`spring`],char:`🐦`,fitzpatrick_scale:!1,category:`animals_and_nature`},baby_chick:{keywords:[`animal`,`chicken`,`bird`],char:`🐤`,fitzpatrick_scale:!1,category:`animals_and_nature`},hatching_chick:{keywords:[`animal`,`chicken`,`egg`,`born`,`baby`,`bird`],char:`🐣`,fitzpatrick_scale:!1,category:`animals_and_nature`},hatched_chick:{keywords:[`animal`,`chicken`,`baby`,`bird`],char:`🐥`,fitzpatrick_scale:!1,category:`animals_and_nature`},duck:{keywords:[`animal`,`nature`,`bird`,`mallard`],char:`🦆`,fitzpatrick_scale:!1,category:`animals_and_nature`},eagle:{keywords:[`animal`,`nature`,`bird`],char:`🦅`,fitzpatrick_scale:!1,category:`animals_and_nature`},owl:{keywords:[`animal`,`nature`,`bird`,`hoot`],char:`🦉`,fitzpatrick_scale:!1,category:`animals_and_nature`},bat:{keywords:[`animal`,`nature`,`blind`,`vampire`],char:`🦇`,fitzpatrick_scale:!1,category:`animals_and_nature`},wolf:{keywords:[`animal`,`nature`,`wild`],char:`🐺`,fitzpatrick_scale:!1,category:`animals_and_nature`},boar:{keywords:[`animal`,`nature`],char:`🐗`,fitzpatrick_scale:!1,category:`animals_and_nature`},horse:{keywords:[`animal`,`brown`,`nature`],char:`🐴`,fitzpatrick_scale:!1,category:`animals_and_nature`},unicorn:{keywords:[`animal`,`nature`,`mystical`],char:`🦄`,fitzpatrick_scale:!1,category:`animals_and_nature`},honeybee:{keywords:[`animal`,`insect`,`nature`,`bug`,`spring`,`honey`],char:`🐝`,fitzpatrick_scale:!1,category:`animals_and_nature`},bug:{keywords:[`animal`,`insect`,`nature`,`worm`],char:`🐛`,fitzpatrick_scale:!1,category:`animals_and_nature`},butterfly:{keywords:[`animal`,`insect`,`nature`,`caterpillar`],char:`🦋`,fitzpatrick_scale:!1,category:`animals_and_nature`},snail:{keywords:[`slow`,`animal`,`shell`],char:`🐌`,fitzpatrick_scale:!1,category:`animals_and_nature`},beetle:{keywords:[`animal`,`insect`,`nature`,`ladybug`],char:`🐞`,fitzpatrick_scale:!1,category:`animals_and_nature`},ant:{keywords:[`animal`,`insect`,`nature`,`bug`],char:`🐜`,fitzpatrick_scale:!1,category:`animals_and_nature`},grasshopper:{keywords:[`animal`,`cricket`,`chirp`],char:`🦗`,fitzpatrick_scale:!1,category:`animals_and_nature`},spider:{keywords:[`animal`,`arachnid`],char:`🕷`,fitzpatrick_scale:!1,category:`animals_and_nature`},scorpion:{keywords:[`animal`,`arachnid`],char:`🦂`,fitzpatrick_scale:!1,category:`animals_and_nature`},crab:{keywords:[`animal`,`crustacean`],char:`🦀`,fitzpatrick_scale:!1,category:`animals_and_nature`},snake:{keywords:[`animal`,`evil`,`nature`,`hiss`,`python`],char:`🐍`,fitzpatrick_scale:!1,category:`animals_and_nature`},lizard:{keywords:[`animal`,`nature`,`reptile`],char:`🦎`,fitzpatrick_scale:!1,category:`animals_and_nature`},"t-rex":{keywords:[`animal`,`nature`,`dinosaur`,`tyrannosaurus`,`extinct`],char:`🦖`,fitzpatrick_scale:!1,category:`animals_and_nature`},sauropod:{keywords:[`animal`,`nature`,`dinosaur`,`brachiosaurus`,`brontosaurus`,`diplodocus`,`extinct`],char:`🦕`,fitzpatrick_scale:!1,category:`animals_and_nature`},turtle:{keywords:[`animal`,`slow`,`nature`,`tortoise`],char:`🐢`,fitzpatrick_scale:!1,category:`animals_and_nature`},tropical_fish:{keywords:[`animal`,`swim`,`ocean`,`beach`,`nemo`],char:`🐠`,fitzpatrick_scale:!1,category:`animals_and_nature`},fish:{keywords:[`animal`,`food`,`nature`],char:`🐟`,fitzpatrick_scale:!1,category:`animals_and_nature`},blowfish:{keywords:[`animal`,`nature`,`food`,`sea`,`ocean`],char:`🐡`,fitzpatrick_scale:!1,category:`animals_and_nature`},dolphin:{keywords:[`animal`,`nature`,`fish`,`sea`,`ocean`,`flipper`,`fins`,`beach`],char:`🐬`,fitzpatrick_scale:!1,category:`animals_and_nature`},shark:{keywords:[`animal`,`nature`,`fish`,`sea`,`ocean`,`jaws`,`fins`,`beach`],char:`🦈`,fitzpatrick_scale:!1,category:`animals_and_nature`},whale:{keywords:[`animal`,`nature`,`sea`,`ocean`],char:`🐳`,fitzpatrick_scale:!1,category:`animals_and_nature`},whale2:{keywords:[`animal`,`nature`,`sea`,`ocean`],char:`🐋`,fitzpatrick_scale:!1,category:`animals_and_nature`},crocodile:{keywords:[`animal`,`nature`,`reptile`,`lizard`,`alligator`],char:`🐊`,fitzpatrick_scale:!1,category:`animals_and_nature`},leopard:{keywords:[`animal`,`nature`],char:`🐆`,fitzpatrick_scale:!1,category:`animals_and_nature`},zebra:{keywords:[`animal`,`nature`,`stripes`,`safari`],char:`🦓`,fitzpatrick_scale:!1,category:`animals_and_nature`},tiger2:{keywords:[`animal`,`nature`,`roar`],char:`🐅`,fitzpatrick_scale:!1,category:`animals_and_nature`},water_buffalo:{keywords:[`animal`,`nature`,`ox`,`cow`],char:`🐃`,fitzpatrick_scale:!1,category:`animals_and_nature`},ox:{keywords:[`animal`,`cow`,`beef`],char:`🐂`,fitzpatrick_scale:!1,category:`animals_and_nature`},cow2:{keywords:[`beef`,`ox`,`animal`,`nature`,`moo`,`milk`],char:`🐄`,fitzpatrick_scale:!1,category:`animals_and_nature`},deer:{keywords:[`animal`,`nature`,`horns`,`venison`],char:`🦌`,fitzpatrick_scale:!1,category:`animals_and_nature`},dromedary_camel:{keywords:[`animal`,`hot`,`desert`,`hump`],char:`🐪`,fitzpatrick_scale:!1,category:`animals_and_nature`},camel:{keywords:[`animal`,`nature`,`hot`,`desert`,`hump`],char:`🐫`,fitzpatrick_scale:!1,category:`animals_and_nature`},giraffe:{keywords:[`animal`,`nature`,`spots`,`safari`],char:`🦒`,fitzpatrick_scale:!1,category:`animals_and_nature`},elephant:{keywords:[`animal`,`nature`,`nose`,`th`,`circus`],char:`🐘`,fitzpatrick_scale:!1,category:`animals_and_nature`},rhinoceros:{keywords:[`animal`,`nature`,`horn`],char:`🦏`,fitzpatrick_scale:!1,category:`animals_and_nature`},goat:{keywords:[`animal`,`nature`],char:`🐐`,fitzpatrick_scale:!1,category:`animals_and_nature`},ram:{keywords:[`animal`,`sheep`,`nature`],char:`🐏`,fitzpatrick_scale:!1,category:`animals_and_nature`},sheep:{keywords:[`animal`,`nature`,`wool`,`shipit`],char:`🐑`,fitzpatrick_scale:!1,category:`animals_and_nature`},racehorse:{keywords:[`animal`,`gamble`,`luck`],char:`🐎`,fitzpatrick_scale:!1,category:`animals_and_nature`},pig2:{keywords:[`animal`,`nature`],char:`🐖`,fitzpatrick_scale:!1,category:`animals_and_nature`},rat:{keywords:[`animal`,`mouse`,`rodent`],char:`🐀`,fitzpatrick_scale:!1,category:`animals_and_nature`},mouse2:{keywords:[`animal`,`nature`,`rodent`],char:`🐁`,fitzpatrick_scale:!1,category:`animals_and_nature`},rooster:{keywords:[`animal`,`nature`,`chicken`],char:`🐓`,fitzpatrick_scale:!1,category:`animals_and_nature`},turkey:{keywords:[`animal`,`bird`],char:`🦃`,fitzpatrick_scale:!1,category:`animals_and_nature`},dove:{keywords:[`animal`,`bird`],char:`🕊`,fitzpatrick_scale:!1,category:`animals_and_nature`},dog2:{keywords:[`animal`,`nature`,`friend`,`doge`,`pet`,`faithful`],char:`🐕`,fitzpatrick_scale:!1,category:`animals_and_nature`},poodle:{keywords:[`dog`,`animal`,`101`,`nature`,`pet`],char:`🐩`,fitzpatrick_scale:!1,category:`animals_and_nature`},cat2:{keywords:[`animal`,`meow`,`pet`,`cats`],char:`🐈`,fitzpatrick_scale:!1,category:`animals_and_nature`},rabbit2:{keywords:[`animal`,`nature`,`pet`,`magic`,`spring`],char:`🐇`,fitzpatrick_scale:!1,category:`animals_and_nature`},chipmunk:{keywords:[`animal`,`nature`,`rodent`,`squirrel`],char:`🐿`,fitzpatrick_scale:!1,category:`animals_and_nature`},hedgehog:{keywords:[`animal`,`nature`,`spiny`],char:`🦔`,fitzpatrick_scale:!1,category:`animals_and_nature`},raccoon:{keywords:[`animal`,`nature`],char:`🦝`,fitzpatrick_scale:!1,category:`animals_and_nature`},llama:{keywords:[`animal`,`nature`,`alpaca`],char:`🦙`,fitzpatrick_scale:!1,category:`animals_and_nature`},hippopotamus:{keywords:[`animal`,`nature`],char:`🦛`,fitzpatrick_scale:!1,category:`animals_and_nature`},kangaroo:{keywords:[`animal`,`nature`,`australia`,`joey`,`hop`,`marsupial`],char:`🦘`,fitzpatrick_scale:!1,category:`animals_and_nature`},badger:{keywords:[`animal`,`nature`,`honey`],char:`🦡`,fitzpatrick_scale:!1,category:`animals_and_nature`},swan:{keywords:[`animal`,`nature`,`bird`],char:`🦢`,fitzpatrick_scale:!1,category:`animals_and_nature`},peacock:{keywords:[`animal`,`nature`,`peahen`,`bird`],char:`🦚`,fitzpatrick_scale:!1,category:`animals_and_nature`},parrot:{keywords:[`animal`,`nature`,`bird`,`pirate`,`talk`],char:`🦜`,fitzpatrick_scale:!1,category:`animals_and_nature`},lobster:{keywords:[`animal`,`nature`,`bisque`,`claws`,`seafood`],char:`🦞`,fitzpatrick_scale:!1,category:`animals_and_nature`},mosquito:{keywords:[`animal`,`nature`,`insect`,`malaria`],char:`🦟`,fitzpatrick_scale:!1,category:`animals_and_nature`},paw_prints:{keywords:[`animal`,`tracking`,`footprints`,`dog`,`cat`,`pet`,`feet`],char:`🐾`,fitzpatrick_scale:!1,category:`animals_and_nature`},dragon:{keywords:[`animal`,`myth`,`nature`,`chinese`,`green`],char:`🐉`,fitzpatrick_scale:!1,category:`animals_and_nature`},dragon_face:{keywords:[`animal`,`myth`,`nature`,`chinese`,`green`],char:`🐲`,fitzpatrick_scale:!1,category:`animals_and_nature`},cactus:{keywords:[`vegetable`,`plant`,`nature`],char:`🌵`,fitzpatrick_scale:!1,category:`animals_and_nature`},christmas_tree:{keywords:[`festival`,`vacation`,`december`,`xmas`,`celebration`],char:`🎄`,fitzpatrick_scale:!1,category:`animals_and_nature`},evergreen_tree:{keywords:[`plant`,`nature`],char:`🌲`,fitzpatrick_scale:!1,category:`animals_and_nature`},deciduous_tree:{keywords:[`plant`,`nature`],char:`🌳`,fitzpatrick_scale:!1,category:`animals_and_nature`},palm_tree:{keywords:[`plant`,`vegetable`,`nature`,`summer`,`beach`,`mojito`,`tropical`],char:`🌴`,fitzpatrick_scale:!1,category:`animals_and_nature`},seedling:{keywords:[`plant`,`nature`,`grass`,`lawn`,`spring`],char:`🌱`,fitzpatrick_scale:!1,category:`animals_and_nature`},herb:{keywords:[`vegetable`,`plant`,`medicine`,`weed`,`grass`,`lawn`],char:`🌿`,fitzpatrick_scale:!1,category:`animals_and_nature`},shamrock:{keywords:[`vegetable`,`plant`,`nature`,`irish`,`clover`],char:`☘`,fitzpatrick_scale:!1,category:`animals_and_nature`},four_leaf_clover:{keywords:[`vegetable`,`plant`,`nature`,`lucky`,`irish`],char:`🍀`,fitzpatrick_scale:!1,category:`animals_and_nature`},bamboo:{keywords:[`plant`,`nature`,`vegetable`,`panda`,`pine_decoration`],char:`🎍`,fitzpatrick_scale:!1,category:`animals_and_nature`},tanabata_tree:{keywords:[`plant`,`nature`,`branch`,`summer`],char:`🎋`,fitzpatrick_scale:!1,category:`animals_and_nature`},leaves:{keywords:[`nature`,`plant`,`tree`,`vegetable`,`grass`,`lawn`,`spring`],char:`🍃`,fitzpatrick_scale:!1,category:`animals_and_nature`},fallen_leaf:{keywords:[`nature`,`plant`,`vegetable`,`leaves`],char:`🍂`,fitzpatrick_scale:!1,category:`animals_and_nature`},maple_leaf:{keywords:[`nature`,`plant`,`vegetable`,`ca`,`fall`],char:`🍁`,fitzpatrick_scale:!1,category:`animals_and_nature`},ear_of_rice:{keywords:[`nature`,`plant`],char:`🌾`,fitzpatrick_scale:!1,category:`animals_and_nature`},hibiscus:{keywords:[`plant`,`vegetable`,`flowers`,`beach`],char:`🌺`,fitzpatrick_scale:!1,category:`animals_and_nature`},sunflower:{keywords:[`nature`,`plant`,`fall`],char:`🌻`,fitzpatrick_scale:!1,category:`animals_and_nature`},rose:{keywords:[`flowers`,`valentines`,`love`,`spring`],char:`🌹`,fitzpatrick_scale:!1,category:`animals_and_nature`},wilted_flower:{keywords:[`plant`,`nature`,`flower`],char:`🥀`,fitzpatrick_scale:!1,category:`animals_and_nature`},tulip:{keywords:[`flowers`,`plant`,`nature`,`summer`,`spring`],char:`🌷`,fitzpatrick_scale:!1,category:`animals_and_nature`},blossom:{keywords:[`nature`,`flowers`,`yellow`],char:`🌼`,fitzpatrick_scale:!1,category:`animals_and_nature`},cherry_blossom:{keywords:[`nature`,`plant`,`spring`,`flower`],char:`🌸`,fitzpatrick_scale:!1,category:`animals_and_nature`},bouquet:{keywords:[`flowers`,`nature`,`spring`],char:`💐`,fitzpatrick_scale:!1,category:`animals_and_nature`},mushroom:{keywords:[`plant`,`vegetable`],char:`🍄`,fitzpatrick_scale:!1,category:`animals_and_nature`},chestnut:{keywords:[`food`,`squirrel`],char:`🌰`,fitzpatrick_scale:!1,category:`animals_and_nature`},jack_o_lantern:{keywords:[`halloween`,`light`,`pumpkin`,`creepy`,`fall`],char:`🎃`,fitzpatrick_scale:!1,category:`animals_and_nature`},shell:{keywords:[`nature`,`sea`,`beach`],char:`🐚`,fitzpatrick_scale:!1,category:`animals_and_nature`},spider_web:{keywords:[`animal`,`insect`,`arachnid`,`silk`],char:`🕸`,fitzpatrick_scale:!1,category:`animals_and_nature`},earth_americas:{keywords:[`globe`,`world`,`USA`,`international`],char:`🌎`,fitzpatrick_scale:!1,category:`animals_and_nature`},earth_africa:{keywords:[`globe`,`world`,`international`],char:`🌍`,fitzpatrick_scale:!1,category:`animals_and_nature`},earth_asia:{keywords:[`globe`,`world`,`east`,`international`],char:`🌏`,fitzpatrick_scale:!1,category:`animals_and_nature`},full_moon:{keywords:[`nature`,`yellow`,`twilight`,`planet`,`space`,`night`,`evening`,`sleep`],char:`🌕`,fitzpatrick_scale:!1,category:`animals_and_nature`},waning_gibbous_moon:{keywords:[`nature`,`twilight`,`planet`,`space`,`night`,`evening`,`sleep`,`waxing_gibbous_moon`],char:`🌖`,fitzpatrick_scale:!1,category:`animals_and_nature`},last_quarter_moon:{keywords:[`nature`,`twilight`,`planet`,`space`,`night`,`evening`,`sleep`],char:`🌗`,fitzpatrick_scale:!1,category:`animals_and_nature`},waning_crescent_moon:{keywords:[`nature`,`twilight`,`planet`,`space`,`night`,`evening`,`sleep`],char:`🌘`,fitzpatrick_scale:!1,category:`animals_and_nature`},new_moon:{keywords:[`nature`,`twilight`,`planet`,`space`,`night`,`evening`,`sleep`],char:`🌑`,fitzpatrick_scale:!1,category:`animals_and_nature`},waxing_crescent_moon:{keywords:[`nature`,`twilight`,`planet`,`space`,`night`,`evening`,`sleep`],char:`🌒`,fitzpatrick_scale:!1,category:`animals_and_nature`},first_quarter_moon:{keywords:[`nature`,`twilight`,`planet`,`space`,`night`,`evening`,`sleep`],char:`🌓`,fitzpatrick_scale:!1,category:`animals_and_nature`},waxing_gibbous_moon:{keywords:[`nature`,`night`,`sky`,`gray`,`twilight`,`planet`,`space`,`evening`,`sleep`],char:`🌔`,fitzpatrick_scale:!1,category:`animals_and_nature`},new_moon_with_face:{keywords:[`nature`,`twilight`,`planet`,`space`,`night`,`evening`,`sleep`],char:`🌚`,fitzpatrick_scale:!1,category:`animals_and_nature`},full_moon_with_face:{keywords:[`nature`,`twilight`,`planet`,`space`,`night`,`evening`,`sleep`],char:`🌝`,fitzpatrick_scale:!1,category:`animals_and_nature`},first_quarter_moon_with_face:{keywords:[`nature`,`twilight`,`planet`,`space`,`night`,`evening`,`sleep`],char:`🌛`,fitzpatrick_scale:!1,category:`animals_and_nature`},last_quarter_moon_with_face:{keywords:[`nature`,`twilight`,`planet`,`space`,`night`,`evening`,`sleep`],char:`🌜`,fitzpatrick_scale:!1,category:`animals_and_nature`},sun_with_face:{keywords:[`nature`,`morning`,`sky`],char:`🌞`,fitzpatrick_scale:!1,category:`animals_and_nature`},crescent_moon:{keywords:[`night`,`sleep`,`sky`,`evening`,`magic`],char:`🌙`,fitzpatrick_scale:!1,category:`animals_and_nature`},star:{keywords:[`night`,`yellow`],char:`⭐`,fitzpatrick_scale:!1,category:`animals_and_nature`},star2:{keywords:[`night`,`sparkle`,`awesome`,`good`,`magic`],char:`🌟`,fitzpatrick_scale:!1,category:`animals_and_nature`},dizzy:{keywords:[`star`,`sparkle`,`shoot`,`magic`],char:`💫`,fitzpatrick_scale:!1,category:`animals_and_nature`},sparkles:{keywords:[`stars`,`shine`,`shiny`,`cool`,`awesome`,`good`,`magic`],char:`✨`,fitzpatrick_scale:!1,category:`animals_and_nature`},comet:{keywords:[`space`],char:`☄`,fitzpatrick_scale:!1,category:`animals_and_nature`},sunny:{keywords:[`weather`,`nature`,`brightness`,`summer`,`beach`,`spring`],char:`☀️`,fitzpatrick_scale:!1,category:`animals_and_nature`},sun_behind_small_cloud:{keywords:[`weather`],char:`🌤`,fitzpatrick_scale:!1,category:`animals_and_nature`},partly_sunny:{keywords:[`weather`,`nature`,`cloudy`,`morning`,`fall`,`spring`],char:`⛅`,fitzpatrick_scale:!1,category:`animals_and_nature`},sun_behind_large_cloud:{keywords:[`weather`],char:`🌥`,fitzpatrick_scale:!1,category:`animals_and_nature`},sun_behind_rain_cloud:{keywords:[`weather`],char:`🌦`,fitzpatrick_scale:!1,category:`animals_and_nature`},cloud:{keywords:[`weather`,`sky`],char:`☁️`,fitzpatrick_scale:!1,category:`animals_and_nature`},cloud_with_rain:{keywords:[`weather`],char:`🌧`,fitzpatrick_scale:!1,category:`animals_and_nature`},cloud_with_lightning_and_rain:{keywords:[`weather`,`lightning`],char:`⛈`,fitzpatrick_scale:!1,category:`animals_and_nature`},cloud_with_lightning:{keywords:[`weather`,`thunder`],char:`🌩`,fitzpatrick_scale:!1,category:`animals_and_nature`},zap:{keywords:[`thunder`,`weather`,`lightning bolt`,`fast`],char:`⚡`,fitzpatrick_scale:!1,category:`animals_and_nature`},fire:{keywords:[`hot`,`cook`,`flame`],char:`🔥`,fitzpatrick_scale:!1,category:`animals_and_nature`},boom:{keywords:[`bomb`,`explode`,`explosion`,`collision`,`blown`],char:`💥`,fitzpatrick_scale:!1,category:`animals_and_nature`},snowflake:{keywords:[`winter`,`season`,`cold`,`weather`,`christmas`,`xmas`],char:`❄️`,fitzpatrick_scale:!1,category:`animals_and_nature`},cloud_with_snow:{keywords:[`weather`],char:`🌨`,fitzpatrick_scale:!1,category:`animals_and_nature`},snowman:{keywords:[`winter`,`season`,`cold`,`weather`,`christmas`,`xmas`,`frozen`,`without_snow`],char:`⛄`,fitzpatrick_scale:!1,category:`animals_and_nature`},snowman_with_snow:{keywords:[`winter`,`season`,`cold`,`weather`,`christmas`,`xmas`,`frozen`],char:`☃`,fitzpatrick_scale:!1,category:`animals_and_nature`},wind_face:{keywords:[`gust`,`air`],char:`🌬`,fitzpatrick_scale:!1,category:`animals_and_nature`},dash:{keywords:[`wind`,`air`,`fast`,`shoo`,`fart`,`smoke`,`puff`],char:`💨`,fitzpatrick_scale:!1,category:`animals_and_nature`},tornado:{keywords:[`weather`,`cyclone`,`twister`],char:`🌪`,fitzpatrick_scale:!1,category:`animals_and_nature`},fog:{keywords:[`weather`],char:`🌫`,fitzpatrick_scale:!1,category:`animals_and_nature`},open_umbrella:{keywords:[`weather`,`spring`],char:`☂`,fitzpatrick_scale:!1,category:`animals_and_nature`},umbrella:{keywords:[`rainy`,`weather`,`spring`],char:`☔`,fitzpatrick_scale:!1,category:`animals_and_nature`},droplet:{keywords:[`water`,`drip`,`faucet`,`spring`],char:`💧`,fitzpatrick_scale:!1,category:`animals_and_nature`},sweat_drops:{keywords:[`water`,`drip`,`oops`],char:`💦`,fitzpatrick_scale:!1,category:`animals_and_nature`},ocean:{keywords:[`sea`,`water`,`wave`,`nature`,`tsunami`,`disaster`],char:`🌊`,fitzpatrick_scale:!1,category:`animals_and_nature`},green_apple:{keywords:[`fruit`,`nature`],char:`🍏`,fitzpatrick_scale:!1,category:`food_and_drink`},apple:{keywords:[`fruit`,`mac`,`school`],char:`🍎`,fitzpatrick_scale:!1,category:`food_and_drink`},pear:{keywords:[`fruit`,`nature`,`food`],char:`🍐`,fitzpatrick_scale:!1,category:`food_and_drink`},tangerine:{keywords:[`food`,`fruit`,`nature`,`orange`],char:`🍊`,fitzpatrick_scale:!1,category:`food_and_drink`},lemon:{keywords:[`fruit`,`nature`],char:`🍋`,fitzpatrick_scale:!1,category:`food_and_drink`},banana:{keywords:[`fruit`,`food`,`monkey`],char:`🍌`,fitzpatrick_scale:!1,category:`food_and_drink`},watermelon:{keywords:[`fruit`,`food`,`picnic`,`summer`],char:`🍉`,fitzpatrick_scale:!1,category:`food_and_drink`},grapes:{keywords:[`fruit`,`food`,`wine`],char:`🍇`,fitzpatrick_scale:!1,category:`food_and_drink`},strawberry:{keywords:[`fruit`,`food`,`nature`],char:`🍓`,fitzpatrick_scale:!1,category:`food_and_drink`},melon:{keywords:[`fruit`,`nature`,`food`],char:`🍈`,fitzpatrick_scale:!1,category:`food_and_drink`},cherries:{keywords:[`food`,`fruit`],char:`🍒`,fitzpatrick_scale:!1,category:`food_and_drink`},peach:{keywords:[`fruit`,`nature`,`food`],char:`🍑`,fitzpatrick_scale:!1,category:`food_and_drink`},pineapple:{keywords:[`fruit`,`nature`,`food`],char:`🍍`,fitzpatrick_scale:!1,category:`food_and_drink`},coconut:{keywords:[`fruit`,`nature`,`food`,`palm`],char:`🥥`,fitzpatrick_scale:!1,category:`food_and_drink`},kiwi_fruit:{keywords:[`fruit`,`food`],char:`🥝`,fitzpatrick_scale:!1,category:`food_and_drink`},mango:{keywords:[`fruit`,`food`,`tropical`],char:`🥭`,fitzpatrick_scale:!1,category:`food_and_drink`},avocado:{keywords:[`fruit`,`food`],char:`🥑`,fitzpatrick_scale:!1,category:`food_and_drink`},broccoli:{keywords:[`fruit`,`food`,`vegetable`],char:`🥦`,fitzpatrick_scale:!1,category:`food_and_drink`},tomato:{keywords:[`fruit`,`vegetable`,`nature`,`food`],char:`🍅`,fitzpatrick_scale:!1,category:`food_and_drink`},eggplant:{keywords:[`vegetable`,`nature`,`food`,`aubergine`],char:`🍆`,fitzpatrick_scale:!1,category:`food_and_drink`},cucumber:{keywords:[`fruit`,`food`,`pickle`],char:`🥒`,fitzpatrick_scale:!1,category:`food_and_drink`},carrot:{keywords:[`vegetable`,`food`,`orange`],char:`🥕`,fitzpatrick_scale:!1,category:`food_and_drink`},hot_pepper:{keywords:[`food`,`spicy`,`chilli`,`chili`],char:`🌶`,fitzpatrick_scale:!1,category:`food_and_drink`},potato:{keywords:[`food`,`tuber`,`vegatable`,`starch`],char:`🥔`,fitzpatrick_scale:!1,category:`food_and_drink`},corn:{keywords:[`food`,`vegetable`,`plant`],char:`🌽`,fitzpatrick_scale:!1,category:`food_and_drink`},leafy_greens:{keywords:[`food`,`vegetable`,`plant`,`bok choy`,`cabbage`,`kale`,`lettuce`],char:`🥬`,fitzpatrick_scale:!1,category:`food_and_drink`},sweet_potato:{keywords:[`food`,`nature`],char:`🍠`,fitzpatrick_scale:!1,category:`food_and_drink`},peanuts:{keywords:[`food`,`nut`],char:`🥜`,fitzpatrick_scale:!1,category:`food_and_drink`},honey_pot:{keywords:[`bees`,`sweet`,`kitchen`],char:`🍯`,fitzpatrick_scale:!1,category:`food_and_drink`},croissant:{keywords:[`food`,`bread`,`french`],char:`🥐`,fitzpatrick_scale:!1,category:`food_and_drink`},bread:{keywords:[`food`,`wheat`,`breakfast`,`toast`],char:`🍞`,fitzpatrick_scale:!1,category:`food_and_drink`},baguette_bread:{keywords:[`food`,`bread`,`french`],char:`🥖`,fitzpatrick_scale:!1,category:`food_and_drink`},bagel:{keywords:[`food`,`bread`,`bakery`,`schmear`],char:`🥯`,fitzpatrick_scale:!1,category:`food_and_drink`},pretzel:{keywords:[`food`,`bread`,`twisted`],char:`🥨`,fitzpatrick_scale:!1,category:`food_and_drink`},cheese:{keywords:[`food`,`chadder`],char:`🧀`,fitzpatrick_scale:!1,category:`food_and_drink`},egg:{keywords:[`food`,`chicken`,`breakfast`],char:`🥚`,fitzpatrick_scale:!1,category:`food_and_drink`},bacon:{keywords:[`food`,`breakfast`,`pork`,`pig`,`meat`],char:`🥓`,fitzpatrick_scale:!1,category:`food_and_drink`},steak:{keywords:[`food`,`cow`,`meat`,`cut`,`chop`,`lambchop`,`porkchop`],char:`🥩`,fitzpatrick_scale:!1,category:`food_and_drink`},pancakes:{keywords:[`food`,`breakfast`,`flapjacks`,`hotcakes`],char:`🥞`,fitzpatrick_scale:!1,category:`food_and_drink`},poultry_leg:{keywords:[`food`,`meat`,`drumstick`,`bird`,`chicken`,`turkey`],char:`🍗`,fitzpatrick_scale:!1,category:`food_and_drink`},meat_on_bone:{keywords:[`good`,`food`,`drumstick`],char:`🍖`,fitzpatrick_scale:!1,category:`food_and_drink`},bone:{keywords:[`skeleton`],char:`🦴`,fitzpatrick_scale:!1,category:`food_and_drink`},fried_shrimp:{keywords:[`food`,`animal`,`appetizer`,`summer`],char:`🍤`,fitzpatrick_scale:!1,category:`food_and_drink`},fried_egg:{keywords:[`food`,`breakfast`,`kitchen`,`egg`],char:`🍳`,fitzpatrick_scale:!1,category:`food_and_drink`},hamburger:{keywords:[`meat`,`fast food`,`beef`,`cheeseburger`,`mcdonalds`,`burger king`],char:`🍔`,fitzpatrick_scale:!1,category:`food_and_drink`},fries:{keywords:[`chips`,`snack`,`fast food`],char:`🍟`,fitzpatrick_scale:!1,category:`food_and_drink`},stuffed_flatbread:{keywords:[`food`,`flatbread`,`stuffed`,`gyro`],char:`🥙`,fitzpatrick_scale:!1,category:`food_and_drink`},hotdog:{keywords:[`food`,`frankfurter`],char:`🌭`,fitzpatrick_scale:!1,category:`food_and_drink`},pizza:{keywords:[`food`,`party`],char:`🍕`,fitzpatrick_scale:!1,category:`food_and_drink`},sandwich:{keywords:[`food`,`lunch`,`bread`],char:`🥪`,fitzpatrick_scale:!1,category:`food_and_drink`},canned_food:{keywords:[`food`,`soup`],char:`🥫`,fitzpatrick_scale:!1,category:`food_and_drink`},spaghetti:{keywords:[`food`,`italian`,`noodle`],char:`🍝`,fitzpatrick_scale:!1,category:`food_and_drink`},taco:{keywords:[`food`,`mexican`],char:`🌮`,fitzpatrick_scale:!1,category:`food_and_drink`},burrito:{keywords:[`food`,`mexican`],char:`🌯`,fitzpatrick_scale:!1,category:`food_and_drink`},green_salad:{keywords:[`food`,`healthy`,`lettuce`],char:`🥗`,fitzpatrick_scale:!1,category:`food_and_drink`},shallow_pan_of_food:{keywords:[`food`,`cooking`,`casserole`,`paella`],char:`🥘`,fitzpatrick_scale:!1,category:`food_and_drink`},ramen:{keywords:[`food`,`japanese`,`noodle`,`chopsticks`],char:`🍜`,fitzpatrick_scale:!1,category:`food_and_drink`},stew:{keywords:[`food`,`meat`,`soup`],char:`🍲`,fitzpatrick_scale:!1,category:`food_and_drink`},fish_cake:{keywords:[`food`,`japan`,`sea`,`beach`,`narutomaki`,`pink`,`swirl`,`kamaboko`,`surimi`,`ramen`],char:`🍥`,fitzpatrick_scale:!1,category:`food_and_drink`},fortune_cookie:{keywords:[`food`,`prophecy`],char:`🥠`,fitzpatrick_scale:!1,category:`food_and_drink`},sushi:{keywords:[`food`,`fish`,`japanese`,`rice`],char:`🍣`,fitzpatrick_scale:!1,category:`food_and_drink`},bento:{keywords:[`food`,`japanese`,`box`],char:`🍱`,fitzpatrick_scale:!1,category:`food_and_drink`},curry:{keywords:[`food`,`spicy`,`hot`,`indian`],char:`🍛`,fitzpatrick_scale:!1,category:`food_and_drink`},rice_ball:{keywords:[`food`,`japanese`],char:`🍙`,fitzpatrick_scale:!1,category:`food_and_drink`},rice:{keywords:[`food`,`china`,`asian`],char:`🍚`,fitzpatrick_scale:!1,category:`food_and_drink`},rice_cracker:{keywords:[`food`,`japanese`],char:`🍘`,fitzpatrick_scale:!1,category:`food_and_drink`},oden:{keywords:[`food`,`japanese`],char:`🍢`,fitzpatrick_scale:!1,category:`food_and_drink`},dango:{keywords:[`food`,`dessert`,`sweet`,`japanese`,`barbecue`,`meat`],char:`🍡`,fitzpatrick_scale:!1,category:`food_and_drink`},shaved_ice:{keywords:[`hot`,`dessert`,`summer`],char:`🍧`,fitzpatrick_scale:!1,category:`food_and_drink`},ice_cream:{keywords:[`food`,`hot`,`dessert`],char:`🍨`,fitzpatrick_scale:!1,category:`food_and_drink`},icecream:{keywords:[`food`,`hot`,`dessert`,`summer`],char:`🍦`,fitzpatrick_scale:!1,category:`food_and_drink`},pie:{keywords:[`food`,`dessert`,`pastry`],char:`🥧`,fitzpatrick_scale:!1,category:`food_and_drink`},cake:{keywords:[`food`,`dessert`],char:`🍰`,fitzpatrick_scale:!1,category:`food_and_drink`},cupcake:{keywords:[`food`,`dessert`,`bakery`,`sweet`],char:`🧁`,fitzpatrick_scale:!1,category:`food_and_drink`},moon_cake:{keywords:[`food`,`autumn`],char:`🥮`,fitzpatrick_scale:!1,category:`food_and_drink`},birthday:{keywords:[`food`,`dessert`,`cake`],char:`🎂`,fitzpatrick_scale:!1,category:`food_and_drink`},custard:{keywords:[`dessert`,`food`],char:`🍮`,fitzpatrick_scale:!1,category:`food_and_drink`},candy:{keywords:[`snack`,`dessert`,`sweet`,`lolly`],char:`🍬`,fitzpatrick_scale:!1,category:`food_and_drink`},lollipop:{keywords:[`food`,`snack`,`candy`,`sweet`],char:`🍭`,fitzpatrick_scale:!1,category:`food_and_drink`},chocolate_bar:{keywords:[`food`,`snack`,`dessert`,`sweet`],char:`🍫`,fitzpatrick_scale:!1,category:`food_and_drink`},popcorn:{keywords:[`food`,`movie theater`,`films`,`snack`],char:`🍿`,fitzpatrick_scale:!1,category:`food_and_drink`},dumpling:{keywords:[`food`,`empanada`,`pierogi`,`potsticker`],char:`🥟`,fitzpatrick_scale:!1,category:`food_and_drink`},doughnut:{keywords:[`food`,`dessert`,`snack`,`sweet`,`donut`],char:`🍩`,fitzpatrick_scale:!1,category:`food_and_drink`},cookie:{keywords:[`food`,`snack`,`oreo`,`chocolate`,`sweet`,`dessert`],char:`🍪`,fitzpatrick_scale:!1,category:`food_and_drink`},milk_glass:{keywords:[`beverage`,`drink`,`cow`],char:`🥛`,fitzpatrick_scale:!1,category:`food_and_drink`},beer:{keywords:[`relax`,`beverage`,`drink`,`drunk`,`party`,`pub`,`summer`,`alcohol`,`booze`],char:`🍺`,fitzpatrick_scale:!1,category:`food_and_drink`},beers:{keywords:[`relax`,`beverage`,`drink`,`drunk`,`party`,`pub`,`summer`,`alcohol`,`booze`],char:`🍻`,fitzpatrick_scale:!1,category:`food_and_drink`},clinking_glasses:{keywords:[`beverage`,`drink`,`party`,`alcohol`,`celebrate`,`cheers`,`wine`,`champagne`,`toast`],char:`🥂`,fitzpatrick_scale:!1,category:`food_and_drink`},wine_glass:{keywords:[`drink`,`beverage`,`drunk`,`alcohol`,`booze`],char:`🍷`,fitzpatrick_scale:!1,category:`food_and_drink`},tumbler_glass:{keywords:[`drink`,`beverage`,`drunk`,`alcohol`,`liquor`,`booze`,`bourbon`,`scotch`,`whisky`,`glass`,`shot`],char:`🥃`,fitzpatrick_scale:!1,category:`food_and_drink`},cocktail:{keywords:[`drink`,`drunk`,`alcohol`,`beverage`,`booze`,`mojito`],char:`🍸`,fitzpatrick_scale:!1,category:`food_and_drink`},tropical_drink:{keywords:[`beverage`,`cocktail`,`summer`,`beach`,`alcohol`,`booze`,`mojito`],char:`🍹`,fitzpatrick_scale:!1,category:`food_and_drink`},champagne:{keywords:[`drink`,`wine`,`bottle`,`celebration`],char:`🍾`,fitzpatrick_scale:!1,category:`food_and_drink`},sake:{keywords:[`wine`,`drink`,`drunk`,`beverage`,`japanese`,`alcohol`,`booze`],char:`🍶`,fitzpatrick_scale:!1,category:`food_and_drink`},tea:{keywords:[`drink`,`bowl`,`breakfast`,`green`,`british`],char:`🍵`,fitzpatrick_scale:!1,category:`food_and_drink`},cup_with_straw:{keywords:[`drink`,`soda`],char:`🥤`,fitzpatrick_scale:!1,category:`food_and_drink`},coffee:{keywords:[`beverage`,`caffeine`,`latte`,`espresso`],char:`☕`,fitzpatrick_scale:!1,category:`food_and_drink`},baby_bottle:{keywords:[`food`,`container`,`milk`],char:`🍼`,fitzpatrick_scale:!1,category:`food_and_drink`},salt:{keywords:[`condiment`,`shaker`],char:`🧂`,fitzpatrick_scale:!1,category:`food_and_drink`},spoon:{keywords:[`cutlery`,`kitchen`,`tableware`],char:`🥄`,fitzpatrick_scale:!1,category:`food_and_drink`},fork_and_knife:{keywords:[`cutlery`,`kitchen`],char:`🍴`,fitzpatrick_scale:!1,category:`food_and_drink`},plate_with_cutlery:{keywords:[`food`,`eat`,`meal`,`lunch`,`dinner`,`restaurant`],char:`🍽`,fitzpatrick_scale:!1,category:`food_and_drink`},bowl_with_spoon:{keywords:[`food`,`breakfast`,`cereal`,`oatmeal`,`porridge`],char:`🥣`,fitzpatrick_scale:!1,category:`food_and_drink`},takeout_box:{keywords:[`food`,`leftovers`],char:`🥡`,fitzpatrick_scale:!1,category:`food_and_drink`},chopsticks:{keywords:[`food`],char:`🥢`,fitzpatrick_scale:!1,category:`food_and_drink`},soccer:{keywords:[`sports`,`football`],char:`⚽`,fitzpatrick_scale:!1,category:`activity`},basketball:{keywords:[`sports`,`balls`,`NBA`],char:`🏀`,fitzpatrick_scale:!1,category:`activity`},football:{keywords:[`sports`,`balls`,`NFL`],char:`🏈`,fitzpatrick_scale:!1,category:`activity`},baseball:{keywords:[`sports`,`balls`],char:`⚾`,fitzpatrick_scale:!1,category:`activity`},softball:{keywords:[`sports`,`balls`],char:`🥎`,fitzpatrick_scale:!1,category:`activity`},tennis:{keywords:[`sports`,`balls`,`green`],char:`🎾`,fitzpatrick_scale:!1,category:`activity`},volleyball:{keywords:[`sports`,`balls`],char:`🏐`,fitzpatrick_scale:!1,category:`activity`},rugby_football:{keywords:[`sports`,`team`],char:`🏉`,fitzpatrick_scale:!1,category:`activity`},flying_disc:{keywords:[`sports`,`frisbee`,`ultimate`],char:`🥏`,fitzpatrick_scale:!1,category:`activity`},"8ball":{keywords:[`pool`,`hobby`,`game`,`luck`,`magic`],char:`🎱`,fitzpatrick_scale:!1,category:`activity`},golf:{keywords:[`sports`,`business`,`flag`,`hole`,`summer`],char:`⛳`,fitzpatrick_scale:!1,category:`activity`},golfing_woman:{keywords:[`sports`,`business`,`woman`,`female`],char:`🏌️‍♀️`,fitzpatrick_scale:!1,category:`activity`},golfing_man:{keywords:[`sports`,`business`],char:`🏌`,fitzpatrick_scale:!0,category:`activity`},ping_pong:{keywords:[`sports`,`pingpong`],char:`🏓`,fitzpatrick_scale:!1,category:`activity`},badminton:{keywords:[`sports`],char:`🏸`,fitzpatrick_scale:!1,category:`activity`},goal_net:{keywords:[`sports`],char:`🥅`,fitzpatrick_scale:!1,category:`activity`},ice_hockey:{keywords:[`sports`],char:`🏒`,fitzpatrick_scale:!1,category:`activity`},field_hockey:{keywords:[`sports`],char:`🏑`,fitzpatrick_scale:!1,category:`activity`},lacrosse:{keywords:[`sports`,`ball`,`stick`],char:`🥍`,fitzpatrick_scale:!1,category:`activity`},cricket:{keywords:[`sports`],char:`🏏`,fitzpatrick_scale:!1,category:`activity`},ski:{keywords:[`sports`,`winter`,`cold`,`snow`],char:`🎿`,fitzpatrick_scale:!1,category:`activity`},skier:{keywords:[`sports`,`winter`,`snow`],char:`⛷`,fitzpatrick_scale:!1,category:`activity`},snowboarder:{keywords:[`sports`,`winter`],char:`🏂`,fitzpatrick_scale:!0,category:`activity`},person_fencing:{keywords:[`sports`,`fencing`,`sword`],char:`🤺`,fitzpatrick_scale:!1,category:`activity`},women_wrestling:{keywords:[`sports`,`wrestlers`],char:`🤼‍♀️`,fitzpatrick_scale:!1,category:`activity`},men_wrestling:{keywords:[`sports`,`wrestlers`],char:`🤼‍♂️`,fitzpatrick_scale:!1,category:`activity`},woman_cartwheeling:{keywords:[`gymnastics`],char:`🤸‍♀️`,fitzpatrick_scale:!0,category:`activity`},man_cartwheeling:{keywords:[`gymnastics`],char:`🤸‍♂️`,fitzpatrick_scale:!0,category:`activity`},woman_playing_handball:{keywords:[`sports`],char:`🤾‍♀️`,fitzpatrick_scale:!0,category:`activity`},man_playing_handball:{keywords:[`sports`],char:`🤾‍♂️`,fitzpatrick_scale:!0,category:`activity`},ice_skate:{keywords:[`sports`],char:`⛸`,fitzpatrick_scale:!1,category:`activity`},curling_stone:{keywords:[`sports`],char:`🥌`,fitzpatrick_scale:!1,category:`activity`},skateboard:{keywords:[`board`],char:`🛹`,fitzpatrick_scale:!1,category:`activity`},sled:{keywords:[`sleigh`,`luge`,`toboggan`],char:`🛷`,fitzpatrick_scale:!1,category:`activity`},bow_and_arrow:{keywords:[`sports`],char:`🏹`,fitzpatrick_scale:!1,category:`activity`},fishing_pole_and_fish:{keywords:[`food`,`hobby`,`summer`],char:`🎣`,fitzpatrick_scale:!1,category:`activity`},boxing_glove:{keywords:[`sports`,`fighting`],char:`🥊`,fitzpatrick_scale:!1,category:`activity`},martial_arts_uniform:{keywords:[`judo`,`karate`,`taekwondo`],char:`🥋`,fitzpatrick_scale:!1,category:`activity`},rowing_woman:{keywords:[`sports`,`hobby`,`water`,`ship`,`woman`,`female`],char:`🚣‍♀️`,fitzpatrick_scale:!0,category:`activity`},rowing_man:{keywords:[`sports`,`hobby`,`water`,`ship`],char:`🚣`,fitzpatrick_scale:!0,category:`activity`},climbing_woman:{keywords:[`sports`,`hobby`,`woman`,`female`,`rock`],char:`🧗‍♀️`,fitzpatrick_scale:!0,category:`activity`},climbing_man:{keywords:[`sports`,`hobby`,`man`,`male`,`rock`],char:`🧗‍♂️`,fitzpatrick_scale:!0,category:`activity`},swimming_woman:{keywords:[`sports`,`exercise`,`human`,`athlete`,`water`,`summer`,`woman`,`female`],char:`🏊‍♀️`,fitzpatrick_scale:!0,category:`activity`},swimming_man:{keywords:[`sports`,`exercise`,`human`,`athlete`,`water`,`summer`],char:`🏊`,fitzpatrick_scale:!0,category:`activity`},woman_playing_water_polo:{keywords:[`sports`,`pool`],char:`🤽‍♀️`,fitzpatrick_scale:!0,category:`activity`},man_playing_water_polo:{keywords:[`sports`,`pool`],char:`🤽‍♂️`,fitzpatrick_scale:!0,category:`activity`},woman_in_lotus_position:{keywords:[`woman`,`female`,`meditation`,`yoga`,`serenity`,`zen`,`mindfulness`],char:`🧘‍♀️`,fitzpatrick_scale:!0,category:`activity`},man_in_lotus_position:{keywords:[`man`,`male`,`meditation`,`yoga`,`serenity`,`zen`,`mindfulness`],char:`🧘‍♂️`,fitzpatrick_scale:!0,category:`activity`},surfing_woman:{keywords:[`sports`,`ocean`,`sea`,`summer`,`beach`,`woman`,`female`],char:`🏄‍♀️`,fitzpatrick_scale:!0,category:`activity`},surfing_man:{keywords:[`sports`,`ocean`,`sea`,`summer`,`beach`],char:`🏄`,fitzpatrick_scale:!0,category:`activity`},bath:{keywords:[`clean`,`shower`,`bathroom`],char:`🛀`,fitzpatrick_scale:!0,category:`activity`},basketball_woman:{keywords:[`sports`,`human`,`woman`,`female`],char:`⛹️‍♀️`,fitzpatrick_scale:!0,category:`activity`},basketball_man:{keywords:[`sports`,`human`],char:`⛹`,fitzpatrick_scale:!0,category:`activity`},weight_lifting_woman:{keywords:[`sports`,`training`,`exercise`,`woman`,`female`],char:`🏋️‍♀️`,fitzpatrick_scale:!0,category:`activity`},weight_lifting_man:{keywords:[`sports`,`training`,`exercise`],char:`🏋`,fitzpatrick_scale:!0,category:`activity`},biking_woman:{keywords:[`sports`,`bike`,`exercise`,`hipster`,`woman`,`female`],char:`🚴‍♀️`,fitzpatrick_scale:!0,category:`activity`},biking_man:{keywords:[`sports`,`bike`,`exercise`,`hipster`],char:`🚴`,fitzpatrick_scale:!0,category:`activity`},mountain_biking_woman:{keywords:[`transportation`,`sports`,`human`,`race`,`bike`,`woman`,`female`],char:`🚵‍♀️`,fitzpatrick_scale:!0,category:`activity`},mountain_biking_man:{keywords:[`transportation`,`sports`,`human`,`race`,`bike`],char:`🚵`,fitzpatrick_scale:!0,category:`activity`},horse_racing:{keywords:[`animal`,`betting`,`competition`,`gambling`,`luck`],char:`🏇`,fitzpatrick_scale:!0,category:`activity`},business_suit_levitating:{keywords:[`suit`,`business`,`levitate`,`hover`,`jump`],char:`🕴`,fitzpatrick_scale:!0,category:`activity`},trophy:{keywords:[`win`,`award`,`contest`,`place`,`ftw`,`ceremony`],char:`🏆`,fitzpatrick_scale:!1,category:`activity`},running_shirt_with_sash:{keywords:[`play`,`pageant`],char:`🎽`,fitzpatrick_scale:!1,category:`activity`},medal_sports:{keywords:[`award`,`winning`],char:`🏅`,fitzpatrick_scale:!1,category:`activity`},medal_military:{keywords:[`award`,`winning`,`army`],char:`🎖`,fitzpatrick_scale:!1,category:`activity`},"1st_place_medal":{keywords:[`award`,`winning`,`first`],char:`🥇`,fitzpatrick_scale:!1,category:`activity`},"2nd_place_medal":{keywords:[`award`,`second`],char:`🥈`,fitzpatrick_scale:!1,category:`activity`},"3rd_place_medal":{keywords:[`award`,`third`],char:`🥉`,fitzpatrick_scale:!1,category:`activity`},reminder_ribbon:{keywords:[`sports`,`cause`,`support`,`awareness`],char:`🎗`,fitzpatrick_scale:!1,category:`activity`},rosette:{keywords:[`flower`,`decoration`,`military`],char:`🏵`,fitzpatrick_scale:!1,category:`activity`},ticket:{keywords:[`event`,`concert`,`pass`],char:`🎫`,fitzpatrick_scale:!1,category:`activity`},tickets:{keywords:[`sports`,`concert`,`entrance`],char:`🎟`,fitzpatrick_scale:!1,category:`activity`},performing_arts:{keywords:[`acting`,`theater`,`drama`],char:`🎭`,fitzpatrick_scale:!1,category:`activity`},art:{keywords:[`design`,`paint`,`draw`,`colors`],char:`🎨`,fitzpatrick_scale:!1,category:`activity`},circus_tent:{keywords:[`festival`,`carnival`,`party`],char:`🎪`,fitzpatrick_scale:!1,category:`activity`},woman_juggling:{keywords:[`juggle`,`balance`,`skill`,`multitask`],char:`🤹‍♀️`,fitzpatrick_scale:!0,category:`activity`},man_juggling:{keywords:[`juggle`,`balance`,`skill`,`multitask`],char:`🤹‍♂️`,fitzpatrick_scale:!0,category:`activity`},microphone:{keywords:[`sound`,`music`,`PA`,`sing`,`talkshow`],char:`🎤`,fitzpatrick_scale:!1,category:`activity`},headphones:{keywords:[`music`,`score`,`gadgets`],char:`🎧`,fitzpatrick_scale:!1,category:`activity`},musical_score:{keywords:[`treble`,`clef`,`compose`],char:`🎼`,fitzpatrick_scale:!1,category:`activity`},musical_keyboard:{keywords:[`piano`,`instrument`,`compose`],char:`🎹`,fitzpatrick_scale:!1,category:`activity`},drum:{keywords:[`music`,`instrument`,`drumsticks`,`snare`],char:`🥁`,fitzpatrick_scale:!1,category:`activity`},saxophone:{keywords:[`music`,`instrument`,`jazz`,`blues`],char:`🎷`,fitzpatrick_scale:!1,category:`activity`},trumpet:{keywords:[`music`,`brass`],char:`🎺`,fitzpatrick_scale:!1,category:`activity`},guitar:{keywords:[`music`,`instrument`],char:`🎸`,fitzpatrick_scale:!1,category:`activity`},violin:{keywords:[`music`,`instrument`,`orchestra`,`symphony`],char:`🎻`,fitzpatrick_scale:!1,category:`activity`},clapper:{keywords:[`movie`,`film`,`record`],char:`🎬`,fitzpatrick_scale:!1,category:`activity`},video_game:{keywords:[`play`,`console`,`PS4`,`controller`],char:`🎮`,fitzpatrick_scale:!1,category:`activity`},space_invader:{keywords:[`game`,`arcade`,`play`],char:`👾`,fitzpatrick_scale:!1,category:`activity`},dart:{keywords:[`game`,`play`,`bar`,`target`,`bullseye`],char:`🎯`,fitzpatrick_scale:!1,category:`activity`},game_die:{keywords:[`dice`,`random`,`tabletop`,`play`,`luck`],char:`🎲`,fitzpatrick_scale:!1,category:`activity`},chess_pawn:{keywords:[`expendable`],char:`♟`,fitzpatrick_scale:!1,category:`activity`},slot_machine:{keywords:[`bet`,`gamble`,`vegas`,`fruit machine`,`luck`,`casino`],char:`🎰`,fitzpatrick_scale:!1,category:`activity`},jigsaw:{keywords:[`interlocking`,`puzzle`,`piece`],char:`🧩`,fitzpatrick_scale:!1,category:`activity`},bowling:{keywords:[`sports`,`fun`,`play`],char:`🎳`,fitzpatrick_scale:!1,category:`activity`},red_car:{keywords:[`red`,`transportation`,`vehicle`],char:`🚗`,fitzpatrick_scale:!1,category:`travel_and_places`},taxi:{keywords:[`uber`,`vehicle`,`cars`,`transportation`],char:`🚕`,fitzpatrick_scale:!1,category:`travel_and_places`},blue_car:{keywords:[`transportation`,`vehicle`],char:`🚙`,fitzpatrick_scale:!1,category:`travel_and_places`},bus:{keywords:[`car`,`vehicle`,`transportation`],char:`🚌`,fitzpatrick_scale:!1,category:`travel_and_places`},trolleybus:{keywords:[`bart`,`transportation`,`vehicle`],char:`🚎`,fitzpatrick_scale:!1,category:`travel_and_places`},racing_car:{keywords:[`sports`,`race`,`fast`,`formula`,`f1`],char:`🏎`,fitzpatrick_scale:!1,category:`travel_and_places`},police_car:{keywords:[`vehicle`,`cars`,`transportation`,`law`,`legal`,`enforcement`],char:`🚓`,fitzpatrick_scale:!1,category:`travel_and_places`},ambulance:{keywords:[`health`,`911`,`hospital`],char:`🚑`,fitzpatrick_scale:!1,category:`travel_and_places`},fire_engine:{keywords:[`transportation`,`cars`,`vehicle`],char:`🚒`,fitzpatrick_scale:!1,category:`travel_and_places`},minibus:{keywords:[`vehicle`,`car`,`transportation`],char:`🚐`,fitzpatrick_scale:!1,category:`travel_and_places`},truck:{keywords:[`cars`,`transportation`],char:`🚚`,fitzpatrick_scale:!1,category:`travel_and_places`},articulated_lorry:{keywords:[`vehicle`,`cars`,`transportation`,`express`],char:`🚛`,fitzpatrick_scale:!1,category:`travel_and_places`},tractor:{keywords:[`vehicle`,`car`,`farming`,`agriculture`],char:`🚜`,fitzpatrick_scale:!1,category:`travel_and_places`},kick_scooter:{keywords:[`vehicle`,`kick`,`razor`],char:`🛴`,fitzpatrick_scale:!1,category:`travel_and_places`},motorcycle:{keywords:[`race`,`sports`,`fast`],char:`🏍`,fitzpatrick_scale:!1,category:`travel_and_places`},bike:{keywords:[`sports`,`bicycle`,`exercise`,`hipster`],char:`🚲`,fitzpatrick_scale:!1,category:`travel_and_places`},motor_scooter:{keywords:[`vehicle`,`vespa`,`sasha`],char:`🛵`,fitzpatrick_scale:!1,category:`travel_and_places`},rotating_light:{keywords:[`police`,`ambulance`,`911`,`emergency`,`alert`,`error`,`pinged`,`law`,`legal`],char:`🚨`,fitzpatrick_scale:!1,category:`travel_and_places`},oncoming_police_car:{keywords:[`vehicle`,`law`,`legal`,`enforcement`,`911`],char:`🚔`,fitzpatrick_scale:!1,category:`travel_and_places`},oncoming_bus:{keywords:[`vehicle`,`transportation`],char:`🚍`,fitzpatrick_scale:!1,category:`travel_and_places`},oncoming_automobile:{keywords:[`car`,`vehicle`,`transportation`],char:`🚘`,fitzpatrick_scale:!1,category:`travel_and_places`},oncoming_taxi:{keywords:[`vehicle`,`cars`,`uber`],char:`🚖`,fitzpatrick_scale:!1,category:`travel_and_places`},aerial_tramway:{keywords:[`transportation`,`vehicle`,`ski`],char:`🚡`,fitzpatrick_scale:!1,category:`travel_and_places`},mountain_cableway:{keywords:[`transportation`,`vehicle`,`ski`],char:`🚠`,fitzpatrick_scale:!1,category:`travel_and_places`},suspension_railway:{keywords:[`vehicle`,`transportation`],char:`🚟`,fitzpatrick_scale:!1,category:`travel_and_places`},railway_car:{keywords:[`transportation`,`vehicle`],char:`🚃`,fitzpatrick_scale:!1,category:`travel_and_places`},train:{keywords:[`transportation`,`vehicle`,`carriage`,`public`,`travel`],char:`🚋`,fitzpatrick_scale:!1,category:`travel_and_places`},monorail:{keywords:[`transportation`,`vehicle`],char:`🚝`,fitzpatrick_scale:!1,category:`travel_and_places`},bullettrain_side:{keywords:[`transportation`,`vehicle`],char:`🚄`,fitzpatrick_scale:!1,category:`travel_and_places`},bullettrain_front:{keywords:[`transportation`,`vehicle`,`speed`,`fast`,`public`,`travel`],char:`🚅`,fitzpatrick_scale:!1,category:`travel_and_places`},light_rail:{keywords:[`transportation`,`vehicle`],char:`🚈`,fitzpatrick_scale:!1,category:`travel_and_places`},mountain_railway:{keywords:[`transportation`,`vehicle`],char:`🚞`,fitzpatrick_scale:!1,category:`travel_and_places`},steam_locomotive:{keywords:[`transportation`,`vehicle`,`train`],char:`🚂`,fitzpatrick_scale:!1,category:`travel_and_places`},train2:{keywords:[`transportation`,`vehicle`],char:`🚆`,fitzpatrick_scale:!1,category:`travel_and_places`},metro:{keywords:[`transportation`,`blue-square`,`mrt`,`underground`,`tube`],char:`🚇`,fitzpatrick_scale:!1,category:`travel_and_places`},tram:{keywords:[`transportation`,`vehicle`],char:`🚊`,fitzpatrick_scale:!1,category:`travel_and_places`},station:{keywords:[`transportation`,`vehicle`,`public`],char:`🚉`,fitzpatrick_scale:!1,category:`travel_and_places`},flying_saucer:{keywords:[`transportation`,`vehicle`,`ufo`],char:`🛸`,fitzpatrick_scale:!1,category:`travel_and_places`},helicopter:{keywords:[`transportation`,`vehicle`,`fly`],char:`🚁`,fitzpatrick_scale:!1,category:`travel_and_places`},small_airplane:{keywords:[`flight`,`transportation`,`fly`,`vehicle`],char:`🛩`,fitzpatrick_scale:!1,category:`travel_and_places`},airplane:{keywords:[`vehicle`,`transportation`,`flight`,`fly`],char:`✈️`,fitzpatrick_scale:!1,category:`travel_and_places`},flight_departure:{keywords:[`airport`,`flight`,`landing`],char:`🛫`,fitzpatrick_scale:!1,category:`travel_and_places`},flight_arrival:{keywords:[`airport`,`flight`,`boarding`],char:`🛬`,fitzpatrick_scale:!1,category:`travel_and_places`},sailboat:{keywords:[`ship`,`summer`,`transportation`,`water`,`sailing`],char:`⛵`,fitzpatrick_scale:!1,category:`travel_and_places`},motor_boat:{keywords:[`ship`],char:`🛥`,fitzpatrick_scale:!1,category:`travel_and_places`},speedboat:{keywords:[`ship`,`transportation`,`vehicle`,`summer`],char:`🚤`,fitzpatrick_scale:!1,category:`travel_and_places`},ferry:{keywords:[`boat`,`ship`,`yacht`],char:`⛴`,fitzpatrick_scale:!1,category:`travel_and_places`},passenger_ship:{keywords:[`yacht`,`cruise`,`ferry`],char:`🛳`,fitzpatrick_scale:!1,category:`travel_and_places`},rocket:{keywords:[`launch`,`ship`,`staffmode`,`NASA`,`outer space`,`outer_space`,`fly`],char:`🚀`,fitzpatrick_scale:!1,category:`travel_and_places`},artificial_satellite:{keywords:[`communication`,`gps`,`orbit`,`spaceflight`,`NASA`,`ISS`],char:`🛰`,fitzpatrick_scale:!1,category:`travel_and_places`},seat:{keywords:[`sit`,`airplane`,`transport`,`bus`,`flight`,`fly`],char:`💺`,fitzpatrick_scale:!1,category:`travel_and_places`},canoe:{keywords:[`boat`,`paddle`,`water`,`ship`],char:`🛶`,fitzpatrick_scale:!1,category:`travel_and_places`},anchor:{keywords:[`ship`,`ferry`,`sea`,`boat`],char:`⚓`,fitzpatrick_scale:!1,category:`travel_and_places`},construction:{keywords:[`wip`,`progress`,`caution`,`warning`],char:`🚧`,fitzpatrick_scale:!1,category:`travel_and_places`},fuelpump:{keywords:[`gas station`,`petroleum`],char:`⛽`,fitzpatrick_scale:!1,category:`travel_and_places`},busstop:{keywords:[`transportation`,`wait`],char:`🚏`,fitzpatrick_scale:!1,category:`travel_and_places`},vertical_traffic_light:{keywords:[`transportation`,`driving`],char:`🚦`,fitzpatrick_scale:!1,category:`travel_and_places`},traffic_light:{keywords:[`transportation`,`signal`],char:`🚥`,fitzpatrick_scale:!1,category:`travel_and_places`},checkered_flag:{keywords:[`contest`,`finishline`,`race`,`gokart`],char:`🏁`,fitzpatrick_scale:!1,category:`travel_and_places`},ship:{keywords:[`transportation`,`titanic`,`deploy`],char:`🚢`,fitzpatrick_scale:!1,category:`travel_and_places`},ferris_wheel:{keywords:[`photo`,`carnival`,`londoneye`],char:`🎡`,fitzpatrick_scale:!1,category:`travel_and_places`},roller_coaster:{keywords:[`carnival`,`playground`,`photo`,`fun`],char:`🎢`,fitzpatrick_scale:!1,category:`travel_and_places`},carousel_horse:{keywords:[`photo`,`carnival`],char:`🎠`,fitzpatrick_scale:!1,category:`travel_and_places`},building_construction:{keywords:[`wip`,`working`,`progress`],char:`🏗`,fitzpatrick_scale:!1,category:`travel_and_places`},foggy:{keywords:[`photo`,`mountain`],char:`🌁`,fitzpatrick_scale:!1,category:`travel_and_places`},tokyo_tower:{keywords:[`photo`,`japanese`],char:`🗼`,fitzpatrick_scale:!1,category:`travel_and_places`},factory:{keywords:[`building`,`industry`,`pollution`,`smoke`],char:`🏭`,fitzpatrick_scale:!1,category:`travel_and_places`},fountain:{keywords:[`photo`,`summer`,`water`,`fresh`],char:`⛲`,fitzpatrick_scale:!1,category:`travel_and_places`},rice_scene:{keywords:[`photo`,`japan`,`asia`,`tsukimi`],char:`🎑`,fitzpatrick_scale:!1,category:`travel_and_places`},mountain:{keywords:[`photo`,`nature`,`environment`],char:`⛰`,fitzpatrick_scale:!1,category:`travel_and_places`},mountain_snow:{keywords:[`photo`,`nature`,`environment`,`winter`,`cold`],char:`🏔`,fitzpatrick_scale:!1,category:`travel_and_places`},mount_fuji:{keywords:[`photo`,`mountain`,`nature`,`japanese`],char:`🗻`,fitzpatrick_scale:!1,category:`travel_and_places`},volcano:{keywords:[`photo`,`nature`,`disaster`],char:`🌋`,fitzpatrick_scale:!1,category:`travel_and_places`},japan:{keywords:[`nation`,`country`,`japanese`,`asia`],char:`🗾`,fitzpatrick_scale:!1,category:`travel_and_places`},camping:{keywords:[`photo`,`outdoors`,`tent`],char:`🏕`,fitzpatrick_scale:!1,category:`travel_and_places`},tent:{keywords:[`photo`,`camping`,`outdoors`],char:`⛺`,fitzpatrick_scale:!1,category:`travel_and_places`},national_park:{keywords:[`photo`,`environment`,`nature`],char:`🏞`,fitzpatrick_scale:!1,category:`travel_and_places`},motorway:{keywords:[`road`,`cupertino`,`interstate`,`highway`],char:`🛣`,fitzpatrick_scale:!1,category:`travel_and_places`},railway_track:{keywords:[`train`,`transportation`],char:`🛤`,fitzpatrick_scale:!1,category:`travel_and_places`},sunrise:{keywords:[`morning`,`view`,`vacation`,`photo`],char:`🌅`,fitzpatrick_scale:!1,category:`travel_and_places`},sunrise_over_mountains:{keywords:[`view`,`vacation`,`photo`],char:`🌄`,fitzpatrick_scale:!1,category:`travel_and_places`},desert:{keywords:[`photo`,`warm`,`saharah`],char:`🏜`,fitzpatrick_scale:!1,category:`travel_and_places`},beach_umbrella:{keywords:[`weather`,`summer`,`sunny`,`sand`,`mojito`],char:`🏖`,fitzpatrick_scale:!1,category:`travel_and_places`},desert_island:{keywords:[`photo`,`tropical`,`mojito`],char:`🏝`,fitzpatrick_scale:!1,category:`travel_and_places`},city_sunrise:{keywords:[`photo`,`good morning`,`dawn`],char:`🌇`,fitzpatrick_scale:!1,category:`travel_and_places`},city_sunset:{keywords:[`photo`,`evening`,`sky`,`buildings`],char:`🌆`,fitzpatrick_scale:!1,category:`travel_and_places`},cityscape:{keywords:[`photo`,`night life`,`urban`],char:`🏙`,fitzpatrick_scale:!1,category:`travel_and_places`},night_with_stars:{keywords:[`evening`,`city`,`downtown`],char:`🌃`,fitzpatrick_scale:!1,category:`travel_and_places`},bridge_at_night:{keywords:[`photo`,`sanfrancisco`],char:`🌉`,fitzpatrick_scale:!1,category:`travel_and_places`},milky_way:{keywords:[`photo`,`space`,`stars`],char:`🌌`,fitzpatrick_scale:!1,category:`travel_and_places`},stars:{keywords:[`night`,`photo`],char:`🌠`,fitzpatrick_scale:!1,category:`travel_and_places`},sparkler:{keywords:[`stars`,`night`,`shine`],char:`🎇`,fitzpatrick_scale:!1,category:`travel_and_places`},fireworks:{keywords:[`photo`,`festival`,`carnival`,`congratulations`],char:`🎆`,fitzpatrick_scale:!1,category:`travel_and_places`},rainbow:{keywords:[`nature`,`happy`,`unicorn_face`,`photo`,`sky`,`spring`],char:`🌈`,fitzpatrick_scale:!1,category:`travel_and_places`},houses:{keywords:[`buildings`,`photo`],char:`🏘`,fitzpatrick_scale:!1,category:`travel_and_places`},european_castle:{keywords:[`building`,`royalty`,`history`],char:`🏰`,fitzpatrick_scale:!1,category:`travel_and_places`},japanese_castle:{keywords:[`photo`,`building`],char:`🏯`,fitzpatrick_scale:!1,category:`travel_and_places`},stadium:{keywords:[`photo`,`place`,`sports`,`concert`,`venue`],char:`🏟`,fitzpatrick_scale:!1,category:`travel_and_places`},statue_of_liberty:{keywords:[`american`,`newyork`],char:`🗽`,fitzpatrick_scale:!1,category:`travel_and_places`},house:{keywords:[`building`,`home`],char:`🏠`,fitzpatrick_scale:!1,category:`travel_and_places`},house_with_garden:{keywords:[`home`,`plant`,`nature`],char:`🏡`,fitzpatrick_scale:!1,category:`travel_and_places`},derelict_house:{keywords:[`abandon`,`evict`,`broken`,`building`],char:`🏚`,fitzpatrick_scale:!1,category:`travel_and_places`},office:{keywords:[`building`,`bureau`,`work`],char:`🏢`,fitzpatrick_scale:!1,category:`travel_and_places`},department_store:{keywords:[`building`,`shopping`,`mall`],char:`🏬`,fitzpatrick_scale:!1,category:`travel_and_places`},post_office:{keywords:[`building`,`envelope`,`communication`],char:`🏣`,fitzpatrick_scale:!1,category:`travel_and_places`},european_post_office:{keywords:[`building`,`email`],char:`🏤`,fitzpatrick_scale:!1,category:`travel_and_places`},hospital:{keywords:[`building`,`health`,`surgery`,`doctor`],char:`🏥`,fitzpatrick_scale:!1,category:`travel_and_places`},bank:{keywords:[`building`,`money`,`sales`,`cash`,`business`,`enterprise`],char:`🏦`,fitzpatrick_scale:!1,category:`travel_and_places`},hotel:{keywords:[`building`,`accomodation`,`checkin`],char:`🏨`,fitzpatrick_scale:!1,category:`travel_and_places`},convenience_store:{keywords:[`building`,`shopping`,`groceries`],char:`🏪`,fitzpatrick_scale:!1,category:`travel_and_places`},school:{keywords:[`building`,`student`,`education`,`learn`,`teach`],char:`🏫`,fitzpatrick_scale:!1,category:`travel_and_places`},love_hotel:{keywords:[`like`,`affection`,`dating`],char:`🏩`,fitzpatrick_scale:!1,category:`travel_and_places`},wedding:{keywords:[`love`,`like`,`affection`,`couple`,`marriage`,`bride`,`groom`],char:`💒`,fitzpatrick_scale:!1,category:`travel_and_places`},classical_building:{keywords:[`art`,`culture`,`history`],char:`🏛`,fitzpatrick_scale:!1,category:`travel_and_places`},church:{keywords:[`building`,`religion`,`christ`],char:`⛪`,fitzpatrick_scale:!1,category:`travel_and_places`},mosque:{keywords:[`islam`,`worship`,`minaret`],char:`🕌`,fitzpatrick_scale:!1,category:`travel_and_places`},synagogue:{keywords:[`judaism`,`worship`,`temple`,`jewish`],char:`🕍`,fitzpatrick_scale:!1,category:`travel_and_places`},kaaba:{keywords:[`mecca`,`mosque`,`islam`],char:`🕋`,fitzpatrick_scale:!1,category:`travel_and_places`},shinto_shrine:{keywords:[`temple`,`japan`,`kyoto`],char:`⛩`,fitzpatrick_scale:!1,category:`travel_and_places`},watch:{keywords:[`time`,`accessories`],char:`⌚`,fitzpatrick_scale:!1,category:`objects`},iphone:{keywords:[`technology`,`apple`,`gadgets`,`dial`],char:`📱`,fitzpatrick_scale:!1,category:`objects`},calling:{keywords:[`iphone`,`incoming`],char:`📲`,fitzpatrick_scale:!1,category:`objects`},computer:{keywords:[`technology`,`laptop`,`screen`,`display`,`monitor`],char:`💻`,fitzpatrick_scale:!1,category:`objects`},keyboard:{keywords:[`technology`,`computer`,`type`,`input`,`text`],char:`⌨`,fitzpatrick_scale:!1,category:`objects`},desktop_computer:{keywords:[`technology`,`computing`,`screen`],char:`🖥`,fitzpatrick_scale:!1,category:`objects`},printer:{keywords:[`paper`,`ink`],char:`🖨`,fitzpatrick_scale:!1,category:`objects`},computer_mouse:{keywords:[`click`],char:`🖱`,fitzpatrick_scale:!1,category:`objects`},trackball:{keywords:[`technology`,`trackpad`],char:`🖲`,fitzpatrick_scale:!1,category:`objects`},joystick:{keywords:[`game`,`play`],char:`🕹`,fitzpatrick_scale:!1,category:`objects`},clamp:{keywords:[`tool`],char:`🗜`,fitzpatrick_scale:!1,category:`objects`},minidisc:{keywords:[`technology`,`record`,`data`,`disk`,`90s`],char:`💽`,fitzpatrick_scale:!1,category:`objects`},floppy_disk:{keywords:[`oldschool`,`technology`,`save`,`90s`,`80s`],char:`💾`,fitzpatrick_scale:!1,category:`objects`},cd:{keywords:[`technology`,`dvd`,`disk`,`disc`,`90s`],char:`💿`,fitzpatrick_scale:!1,category:`objects`},dvd:{keywords:[`cd`,`disk`,`disc`],char:`📀`,fitzpatrick_scale:!1,category:`objects`},vhs:{keywords:[`record`,`video`,`oldschool`,`90s`,`80s`],char:`📼`,fitzpatrick_scale:!1,category:`objects`},camera:{keywords:[`gadgets`,`photography`],char:`📷`,fitzpatrick_scale:!1,category:`objects`},camera_flash:{keywords:[`photography`,`gadgets`],char:`📸`,fitzpatrick_scale:!1,category:`objects`},video_camera:{keywords:[`film`,`record`],char:`📹`,fitzpatrick_scale:!1,category:`objects`},movie_camera:{keywords:[`film`,`record`],char:`🎥`,fitzpatrick_scale:!1,category:`objects`},film_projector:{keywords:[`video`,`tape`,`record`,`movie`],char:`📽`,fitzpatrick_scale:!1,category:`objects`},film_strip:{keywords:[`movie`],char:`🎞`,fitzpatrick_scale:!1,category:`objects`},telephone_receiver:{keywords:[`technology`,`communication`,`dial`],char:`📞`,fitzpatrick_scale:!1,category:`objects`},phone:{keywords:[`technology`,`communication`,`dial`,`telephone`],char:`☎️`,fitzpatrick_scale:!1,category:`objects`},pager:{keywords:[`bbcall`,`oldschool`,`90s`],char:`📟`,fitzpatrick_scale:!1,category:`objects`},fax:{keywords:[`communication`,`technology`],char:`📠`,fitzpatrick_scale:!1,category:`objects`},tv:{keywords:[`technology`,`program`,`oldschool`,`show`,`television`],char:`📺`,fitzpatrick_scale:!1,category:`objects`},radio:{keywords:[`communication`,`music`,`podcast`,`program`],char:`📻`,fitzpatrick_scale:!1,category:`objects`},studio_microphone:{keywords:[`sing`,`recording`,`artist`,`talkshow`],char:`🎙`,fitzpatrick_scale:!1,category:`objects`},level_slider:{keywords:[`scale`],char:`🎚`,fitzpatrick_scale:!1,category:`objects`},control_knobs:{keywords:[`dial`],char:`🎛`,fitzpatrick_scale:!1,category:`objects`},compass:{keywords:[`magnetic`,`navigation`,`orienteering`],char:`🧭`,fitzpatrick_scale:!1,category:`objects`},stopwatch:{keywords:[`time`,`deadline`],char:`⏱`,fitzpatrick_scale:!1,category:`objects`},timer_clock:{keywords:[`alarm`],char:`⏲`,fitzpatrick_scale:!1,category:`objects`},alarm_clock:{keywords:[`time`,`wake`],char:`⏰`,fitzpatrick_scale:!1,category:`objects`},mantelpiece_clock:{keywords:[`time`],char:`🕰`,fitzpatrick_scale:!1,category:`objects`},hourglass_flowing_sand:{keywords:[`oldschool`,`time`,`countdown`],char:`⏳`,fitzpatrick_scale:!1,category:`objects`},hourglass:{keywords:[`time`,`clock`,`oldschool`,`limit`,`exam`,`quiz`,`test`],char:`⌛`,fitzpatrick_scale:!1,category:`objects`},satellite:{keywords:[`communication`,`future`,`radio`,`space`],char:`📡`,fitzpatrick_scale:!1,category:`objects`},battery:{keywords:[`power`,`energy`,`sustain`],char:`🔋`,fitzpatrick_scale:!1,category:`objects`},electric_plug:{keywords:[`charger`,`power`],char:`🔌`,fitzpatrick_scale:!1,category:`objects`},bulb:{keywords:[`light`,`electricity`,`idea`],char:`💡`,fitzpatrick_scale:!1,category:`objects`},flashlight:{keywords:[`dark`,`camping`,`sight`,`night`],char:`🔦`,fitzpatrick_scale:!1,category:`objects`},candle:{keywords:[`fire`,`wax`],char:`🕯`,fitzpatrick_scale:!1,category:`objects`},fire_extinguisher:{keywords:[`quench`],char:`🧯`,fitzpatrick_scale:!1,category:`objects`},wastebasket:{keywords:[`bin`,`trash`,`rubbish`,`garbage`,`toss`],char:`🗑`,fitzpatrick_scale:!1,category:`objects`},oil_drum:{keywords:[`barrell`],char:`🛢`,fitzpatrick_scale:!1,category:`objects`},money_with_wings:{keywords:[`dollar`,`bills`,`payment`,`sale`],char:`💸`,fitzpatrick_scale:!1,category:`objects`},dollar:{keywords:[`money`,`sales`,`bill`,`currency`],char:`💵`,fitzpatrick_scale:!1,category:`objects`},yen:{keywords:[`money`,`sales`,`japanese`,`dollar`,`currency`],char:`💴`,fitzpatrick_scale:!1,category:`objects`},euro:{keywords:[`money`,`sales`,`dollar`,`currency`],char:`💶`,fitzpatrick_scale:!1,category:`objects`},pound:{keywords:[`british`,`sterling`,`money`,`sales`,`bills`,`uk`,`england`,`currency`],char:`💷`,fitzpatrick_scale:!1,category:`objects`},moneybag:{keywords:[`dollar`,`payment`,`coins`,`sale`],char:`💰`,fitzpatrick_scale:!1,category:`objects`},credit_card:{keywords:[`money`,`sales`,`dollar`,`bill`,`payment`,`shopping`],char:`💳`,fitzpatrick_scale:!1,category:`objects`},gem:{keywords:[`blue`,`ruby`,`diamond`,`jewelry`],char:`💎`,fitzpatrick_scale:!1,category:`objects`},balance_scale:{keywords:[`law`,`fairness`,`weight`],char:`⚖`,fitzpatrick_scale:!1,category:`objects`},toolbox:{keywords:[`tools`,`diy`,`fix`,`maintainer`,`mechanic`],char:`🧰`,fitzpatrick_scale:!1,category:`objects`},wrench:{keywords:[`tools`,`diy`,`ikea`,`fix`,`maintainer`],char:`🔧`,fitzpatrick_scale:!1,category:`objects`},hammer:{keywords:[`tools`,`build`,`create`],char:`🔨`,fitzpatrick_scale:!1,category:`objects`},hammer_and_pick:{keywords:[`tools`,`build`,`create`],char:`⚒`,fitzpatrick_scale:!1,category:`objects`},hammer_and_wrench:{keywords:[`tools`,`build`,`create`],char:`🛠`,fitzpatrick_scale:!1,category:`objects`},pick:{keywords:[`tools`,`dig`],char:`⛏`,fitzpatrick_scale:!1,category:`objects`},nut_and_bolt:{keywords:[`handy`,`tools`,`fix`],char:`🔩`,fitzpatrick_scale:!1,category:`objects`},gear:{keywords:[`cog`],char:`⚙`,fitzpatrick_scale:!1,category:`objects`},brick:{keywords:[`bricks`],char:`🧱`,fitzpatrick_scale:!1,category:`objects`},chains:{keywords:[`lock`,`arrest`],char:`⛓`,fitzpatrick_scale:!1,category:`objects`},magnet:{keywords:[`attraction`,`magnetic`],char:`🧲`,fitzpatrick_scale:!1,category:`objects`},gun:{keywords:[`violence`,`weapon`,`pistol`,`revolver`],char:`🔫`,fitzpatrick_scale:!1,category:`objects`},bomb:{keywords:[`boom`,`explode`,`explosion`,`terrorism`],char:`💣`,fitzpatrick_scale:!1,category:`objects`},firecracker:{keywords:[`dynamite`,`boom`,`explode`,`explosion`,`explosive`],char:`🧨`,fitzpatrick_scale:!1,category:`objects`},hocho:{keywords:[`knife`,`blade`,`cutlery`,`kitchen`,`weapon`],char:`🔪`,fitzpatrick_scale:!1,category:`objects`},dagger:{keywords:[`weapon`],char:`🗡`,fitzpatrick_scale:!1,category:`objects`},crossed_swords:{keywords:[`weapon`],char:`⚔`,fitzpatrick_scale:!1,category:`objects`},shield:{keywords:[`protection`,`security`],char:`🛡`,fitzpatrick_scale:!1,category:`objects`},smoking:{keywords:[`kills`,`tobacco`,`cigarette`,`joint`,`smoke`],char:`🚬`,fitzpatrick_scale:!1,category:`objects`},skull_and_crossbones:{keywords:[`poison`,`danger`,`deadly`,`scary`,`death`,`pirate`,`evil`],char:`☠`,fitzpatrick_scale:!1,category:`objects`},coffin:{keywords:[`vampire`,`dead`,`die`,`death`,`rip`,`graveyard`,`cemetery`,`casket`,`funeral`,`box`],char:`⚰`,fitzpatrick_scale:!1,category:`objects`},funeral_urn:{keywords:[`dead`,`die`,`death`,`rip`,`ashes`],char:`⚱`,fitzpatrick_scale:!1,category:`objects`},amphora:{keywords:[`vase`,`jar`],char:`🏺`,fitzpatrick_scale:!1,category:`objects`},crystal_ball:{keywords:[`disco`,`party`,`magic`,`circus`,`fortune_teller`],char:`🔮`,fitzpatrick_scale:!1,category:`objects`},prayer_beads:{keywords:[`dhikr`,`religious`],char:`📿`,fitzpatrick_scale:!1,category:`objects`},nazar_amulet:{keywords:[`bead`,`charm`],char:`🧿`,fitzpatrick_scale:!1,category:`objects`},barber:{keywords:[`hair`,`salon`,`style`],char:`💈`,fitzpatrick_scale:!1,category:`objects`},alembic:{keywords:[`distilling`,`science`,`experiment`,`chemistry`],char:`⚗`,fitzpatrick_scale:!1,category:`objects`},telescope:{keywords:[`stars`,`space`,`zoom`,`science`,`astronomy`],char:`🔭`,fitzpatrick_scale:!1,category:`objects`},microscope:{keywords:[`laboratory`,`experiment`,`zoomin`,`science`,`study`],char:`🔬`,fitzpatrick_scale:!1,category:`objects`},hole:{keywords:[`embarrassing`],char:`🕳`,fitzpatrick_scale:!1,category:`objects`},pill:{keywords:[`health`,`medicine`,`doctor`,`pharmacy`,`drug`],char:`💊`,fitzpatrick_scale:!1,category:`objects`},syringe:{keywords:[`health`,`hospital`,`drugs`,`blood`,`medicine`,`needle`,`doctor`,`nurse`],char:`💉`,fitzpatrick_scale:!1,category:`objects`},dna:{keywords:[`biologist`,`genetics`,`life`],char:`🧬`,fitzpatrick_scale:!1,category:`objects`},microbe:{keywords:[`amoeba`,`bacteria`,`germs`],char:`🦠`,fitzpatrick_scale:!1,category:`objects`},petri_dish:{keywords:[`bacteria`,`biology`,`culture`,`lab`],char:`🧫`,fitzpatrick_scale:!1,category:`objects`},test_tube:{keywords:[`chemistry`,`experiment`,`lab`,`science`],char:`🧪`,fitzpatrick_scale:!1,category:`objects`},thermometer:{keywords:[`weather`,`temperature`,`hot`,`cold`],char:`🌡`,fitzpatrick_scale:!1,category:`objects`},broom:{keywords:[`cleaning`,`sweeping`,`witch`],char:`🧹`,fitzpatrick_scale:!1,category:`objects`},basket:{keywords:[`laundry`],char:`🧺`,fitzpatrick_scale:!1,category:`objects`},toilet_paper:{keywords:[`roll`],char:`🧻`,fitzpatrick_scale:!1,category:`objects`},label:{keywords:[`sale`,`tag`],char:`🏷`,fitzpatrick_scale:!1,category:`objects`},bookmark:{keywords:[`favorite`,`label`,`save`],char:`🔖`,fitzpatrick_scale:!1,category:`objects`},toilet:{keywords:[`restroom`,`wc`,`washroom`,`bathroom`,`potty`],char:`🚽`,fitzpatrick_scale:!1,category:`objects`},shower:{keywords:[`clean`,`water`,`bathroom`],char:`🚿`,fitzpatrick_scale:!1,category:`objects`},bathtub:{keywords:[`clean`,`shower`,`bathroom`],char:`🛁`,fitzpatrick_scale:!1,category:`objects`},soap:{keywords:[`bar`,`bathing`,`cleaning`,`lather`],char:`🧼`,fitzpatrick_scale:!1,category:`objects`},sponge:{keywords:[`absorbing`,`cleaning`,`porous`],char:`🧽`,fitzpatrick_scale:!1,category:`objects`},lotion_bottle:{keywords:[`moisturizer`,`sunscreen`],char:`🧴`,fitzpatrick_scale:!1,category:`objects`},key:{keywords:[`lock`,`door`,`password`],char:`🔑`,fitzpatrick_scale:!1,category:`objects`},old_key:{keywords:[`lock`,`door`,`password`],char:`🗝`,fitzpatrick_scale:!1,category:`objects`},couch_and_lamp:{keywords:[`read`,`chill`],char:`🛋`,fitzpatrick_scale:!1,category:`objects`},sleeping_bed:{keywords:[`bed`,`rest`],char:`🛌`,fitzpatrick_scale:!0,category:`objects`},bed:{keywords:[`sleep`,`rest`],char:`🛏`,fitzpatrick_scale:!1,category:`objects`},door:{keywords:[`house`,`entry`,`exit`],char:`🚪`,fitzpatrick_scale:!1,category:`objects`},bellhop_bell:{keywords:[`service`],char:`🛎`,fitzpatrick_scale:!1,category:`objects`},teddy_bear:{keywords:[`plush`,`stuffed`],char:`🧸`,fitzpatrick_scale:!1,category:`objects`},framed_picture:{keywords:[`photography`],char:`🖼`,fitzpatrick_scale:!1,category:`objects`},world_map:{keywords:[`location`,`direction`],char:`🗺`,fitzpatrick_scale:!1,category:`objects`},parasol_on_ground:{keywords:[`weather`,`summer`],char:`⛱`,fitzpatrick_scale:!1,category:`objects`},moyai:{keywords:[`rock`,`easter island`,`moai`],char:`🗿`,fitzpatrick_scale:!1,category:`objects`},shopping:{keywords:[`mall`,`buy`,`purchase`],char:`🛍`,fitzpatrick_scale:!1,category:`objects`},shopping_cart:{keywords:[`trolley`],char:`🛒`,fitzpatrick_scale:!1,category:`objects`},balloon:{keywords:[`party`,`celebration`,`birthday`,`circus`],char:`🎈`,fitzpatrick_scale:!1,category:`objects`},flags:{keywords:[`fish`,`japanese`,`koinobori`,`carp`,`banner`],char:`🎏`,fitzpatrick_scale:!1,category:`objects`},ribbon:{keywords:[`decoration`,`pink`,`girl`,`bowtie`],char:`🎀`,fitzpatrick_scale:!1,category:`objects`},gift:{keywords:[`present`,`birthday`,`christmas`,`xmas`],char:`🎁`,fitzpatrick_scale:!1,category:`objects`},confetti_ball:{keywords:[`festival`,`party`,`birthday`,`circus`],char:`🎊`,fitzpatrick_scale:!1,category:`objects`},tada:{keywords:[`party`,`congratulations`,`birthday`,`magic`,`circus`,`celebration`],char:`🎉`,fitzpatrick_scale:!1,category:`objects`},dolls:{keywords:[`japanese`,`toy`,`kimono`],char:`🎎`,fitzpatrick_scale:!1,category:`objects`},wind_chime:{keywords:[`nature`,`ding`,`spring`,`bell`],char:`🎐`,fitzpatrick_scale:!1,category:`objects`},crossed_flags:{keywords:[`japanese`,`nation`,`country`,`border`],char:`🎌`,fitzpatrick_scale:!1,category:`objects`},izakaya_lantern:{keywords:[`light`,`paper`,`halloween`,`spooky`],char:`🏮`,fitzpatrick_scale:!1,category:`objects`},red_envelope:{keywords:[`gift`],char:`🧧`,fitzpatrick_scale:!1,category:`objects`},email:{keywords:[`letter`,`postal`,`inbox`,`communication`],char:`✉️`,fitzpatrick_scale:!1,category:`objects`},envelope_with_arrow:{keywords:[`email`,`communication`],char:`📩`,fitzpatrick_scale:!1,category:`objects`},incoming_envelope:{keywords:[`email`,`inbox`],char:`📨`,fitzpatrick_scale:!1,category:`objects`},"e-mail":{keywords:[`communication`,`inbox`],char:`📧`,fitzpatrick_scale:!1,category:`objects`},love_letter:{keywords:[`email`,`like`,`affection`,`envelope`,`valentines`],char:`💌`,fitzpatrick_scale:!1,category:`objects`},postbox:{keywords:[`email`,`letter`,`envelope`],char:`📮`,fitzpatrick_scale:!1,category:`objects`},mailbox_closed:{keywords:[`email`,`communication`,`inbox`],char:`📪`,fitzpatrick_scale:!1,category:`objects`},mailbox:{keywords:[`email`,`inbox`,`communication`],char:`📫`,fitzpatrick_scale:!1,category:`objects`},mailbox_with_mail:{keywords:[`email`,`inbox`,`communication`],char:`📬`,fitzpatrick_scale:!1,category:`objects`},mailbox_with_no_mail:{keywords:[`email`,`inbox`],char:`📭`,fitzpatrick_scale:!1,category:`objects`},package:{keywords:[`mail`,`gift`,`cardboard`,`box`,`moving`],char:`📦`,fitzpatrick_scale:!1,category:`objects`},postal_horn:{keywords:[`instrument`,`music`],char:`📯`,fitzpatrick_scale:!1,category:`objects`},inbox_tray:{keywords:[`email`,`documents`],char:`📥`,fitzpatrick_scale:!1,category:`objects`},outbox_tray:{keywords:[`inbox`,`email`],char:`📤`,fitzpatrick_scale:!1,category:`objects`},scroll:{keywords:[`documents`,`ancient`,`history`,`paper`],char:`📜`,fitzpatrick_scale:!1,category:`objects`},page_with_curl:{keywords:[`documents`,`office`,`paper`],char:`📃`,fitzpatrick_scale:!1,category:`objects`},bookmark_tabs:{keywords:[`favorite`,`save`,`order`,`tidy`],char:`📑`,fitzpatrick_scale:!1,category:`objects`},receipt:{keywords:[`accounting`,`expenses`],char:`🧾`,fitzpatrick_scale:!1,category:`objects`},bar_chart:{keywords:[`graph`,`presentation`,`stats`],char:`📊`,fitzpatrick_scale:!1,category:`objects`},chart_with_upwards_trend:{keywords:[`graph`,`presentation`,`stats`,`recovery`,`business`,`economics`,`money`,`sales`,`good`,`success`],char:`📈`,fitzpatrick_scale:!1,category:`objects`},chart_with_downwards_trend:{keywords:[`graph`,`presentation`,`stats`,`recession`,`business`,`economics`,`money`,`sales`,`bad`,`failure`],char:`📉`,fitzpatrick_scale:!1,category:`objects`},page_facing_up:{keywords:[`documents`,`office`,`paper`,`information`],char:`📄`,fitzpatrick_scale:!1,category:`objects`},date:{keywords:[`calendar`,`schedule`],char:`📅`,fitzpatrick_scale:!1,category:`objects`},calendar:{keywords:[`schedule`,`date`,`planning`],char:`📆`,fitzpatrick_scale:!1,category:`objects`},spiral_calendar:{keywords:[`date`,`schedule`,`planning`],char:`🗓`,fitzpatrick_scale:!1,category:`objects`},card_index:{keywords:[`business`,`stationery`],char:`📇`,fitzpatrick_scale:!1,category:`objects`},card_file_box:{keywords:[`business`,`stationery`],char:`🗃`,fitzpatrick_scale:!1,category:`objects`},ballot_box:{keywords:[`election`,`vote`],char:`🗳`,fitzpatrick_scale:!1,category:`objects`},file_cabinet:{keywords:[`filing`,`organizing`],char:`🗄`,fitzpatrick_scale:!1,category:`objects`},clipboard:{keywords:[`stationery`,`documents`],char:`📋`,fitzpatrick_scale:!1,category:`objects`},spiral_notepad:{keywords:[`memo`,`stationery`],char:`🗒`,fitzpatrick_scale:!1,category:`objects`},file_folder:{keywords:[`documents`,`business`,`office`],char:`📁`,fitzpatrick_scale:!1,category:`objects`},open_file_folder:{keywords:[`documents`,`load`],char:`📂`,fitzpatrick_scale:!1,category:`objects`},card_index_dividers:{keywords:[`organizing`,`business`,`stationery`],char:`🗂`,fitzpatrick_scale:!1,category:`objects`},newspaper_roll:{keywords:[`press`,`headline`],char:`🗞`,fitzpatrick_scale:!1,category:`objects`},newspaper:{keywords:[`press`,`headline`],char:`📰`,fitzpatrick_scale:!1,category:`objects`},notebook:{keywords:[`stationery`,`record`,`notes`,`paper`,`study`],char:`📓`,fitzpatrick_scale:!1,category:`objects`},closed_book:{keywords:[`read`,`library`,`knowledge`,`textbook`,`learn`],char:`📕`,fitzpatrick_scale:!1,category:`objects`},green_book:{keywords:[`read`,`library`,`knowledge`,`study`],char:`📗`,fitzpatrick_scale:!1,category:`objects`},blue_book:{keywords:[`read`,`library`,`knowledge`,`learn`,`study`],char:`📘`,fitzpatrick_scale:!1,category:`objects`},orange_book:{keywords:[`read`,`library`,`knowledge`,`textbook`,`study`],char:`📙`,fitzpatrick_scale:!1,category:`objects`},notebook_with_decorative_cover:{keywords:[`classroom`,`notes`,`record`,`paper`,`study`],char:`📔`,fitzpatrick_scale:!1,category:`objects`},ledger:{keywords:[`notes`,`paper`],char:`📒`,fitzpatrick_scale:!1,category:`objects`},books:{keywords:[`literature`,`library`,`study`],char:`📚`,fitzpatrick_scale:!1,category:`objects`},open_book:{keywords:[`book`,`read`,`library`,`knowledge`,`literature`,`learn`,`study`],char:`📖`,fitzpatrick_scale:!1,category:`objects`},safety_pin:{keywords:[`diaper`],char:`🧷`,fitzpatrick_scale:!1,category:`objects`},link:{keywords:[`rings`,`url`],char:`🔗`,fitzpatrick_scale:!1,category:`objects`},paperclip:{keywords:[`documents`,`stationery`],char:`📎`,fitzpatrick_scale:!1,category:`objects`},paperclips:{keywords:[`documents`,`stationery`],char:`🖇`,fitzpatrick_scale:!1,category:`objects`},scissors:{keywords:[`stationery`,`cut`],char:`✂️`,fitzpatrick_scale:!1,category:`objects`},triangular_ruler:{keywords:[`stationery`,`math`,`architect`,`sketch`],char:`📐`,fitzpatrick_scale:!1,category:`objects`},straight_ruler:{keywords:[`stationery`,`calculate`,`length`,`math`,`school`,`drawing`,`architect`,`sketch`],char:`📏`,fitzpatrick_scale:!1,category:`objects`},abacus:{keywords:[`calculation`],char:`🧮`,fitzpatrick_scale:!1,category:`objects`},pushpin:{keywords:[`stationery`,`mark`,`here`],char:`📌`,fitzpatrick_scale:!1,category:`objects`},round_pushpin:{keywords:[`stationery`,`location`,`map`,`here`],char:`📍`,fitzpatrick_scale:!1,category:`objects`},triangular_flag_on_post:{keywords:[`mark`,`milestone`,`place`],char:`🚩`,fitzpatrick_scale:!1,category:`objects`},white_flag:{keywords:[`losing`,`loser`,`lost`,`surrender`,`give up`,`fail`],char:`🏳`,fitzpatrick_scale:!1,category:`objects`},black_flag:{keywords:[`pirate`],char:`🏴`,fitzpatrick_scale:!1,category:`objects`},rainbow_flag:{keywords:[`flag`,`rainbow`,`pride`,`gay`,`lgbt`,`glbt`,`queer`,`homosexual`,`lesbian`,`bisexual`,`transgender`],char:`🏳️‍🌈`,fitzpatrick_scale:!1,category:`objects`},closed_lock_with_key:{keywords:[`security`,`privacy`],char:`🔐`,fitzpatrick_scale:!1,category:`objects`},lock:{keywords:[`security`,`password`,`padlock`],char:`🔒`,fitzpatrick_scale:!1,category:`objects`},unlock:{keywords:[`privacy`,`security`],char:`🔓`,fitzpatrick_scale:!1,category:`objects`},lock_with_ink_pen:{keywords:[`security`,`secret`],char:`🔏`,fitzpatrick_scale:!1,category:`objects`},pen:{keywords:[`stationery`,`writing`,`write`],char:`🖊`,fitzpatrick_scale:!1,category:`objects`},fountain_pen:{keywords:[`stationery`,`writing`,`write`],char:`🖋`,fitzpatrick_scale:!1,category:`objects`},black_nib:{keywords:[`pen`,`stationery`,`writing`,`write`],char:`✒️`,fitzpatrick_scale:!1,category:`objects`},memo:{keywords:[`write`,`documents`,`stationery`,`pencil`,`paper`,`writing`,`legal`,`exam`,`quiz`,`test`,`study`,`compose`],char:`📝`,fitzpatrick_scale:!1,category:`objects`},pencil2:{keywords:[`stationery`,`write`,`paper`,`writing`,`school`,`study`],char:`✏️`,fitzpatrick_scale:!1,category:`objects`},crayon:{keywords:[`drawing`,`creativity`],char:`🖍`,fitzpatrick_scale:!1,category:`objects`},paintbrush:{keywords:[`drawing`,`creativity`,`art`],char:`🖌`,fitzpatrick_scale:!1,category:`objects`},mag:{keywords:[`search`,`zoom`,`find`,`detective`],char:`🔍`,fitzpatrick_scale:!1,category:`objects`},mag_right:{keywords:[`search`,`zoom`,`find`,`detective`],char:`🔎`,fitzpatrick_scale:!1,category:`objects`},heart:{keywords:[`love`,`like`,`valentines`],char:`❤️`,fitzpatrick_scale:!1,category:`symbols`},orange_heart:{keywords:[`love`,`like`,`affection`,`valentines`],char:`🧡`,fitzpatrick_scale:!1,category:`symbols`},yellow_heart:{keywords:[`love`,`like`,`affection`,`valentines`],char:`💛`,fitzpatrick_scale:!1,category:`symbols`},green_heart:{keywords:[`love`,`like`,`affection`,`valentines`],char:`💚`,fitzpatrick_scale:!1,category:`symbols`},blue_heart:{keywords:[`love`,`like`,`affection`,`valentines`],char:`💙`,fitzpatrick_scale:!1,category:`symbols`},purple_heart:{keywords:[`love`,`like`,`affection`,`valentines`],char:`💜`,fitzpatrick_scale:!1,category:`symbols`},black_heart:{keywords:[`evil`],char:`🖤`,fitzpatrick_scale:!1,category:`symbols`},broken_heart:{keywords:[`sad`,`sorry`,`break`,`heart`,`heartbreak`],char:`💔`,fitzpatrick_scale:!1,category:`symbols`},heavy_heart_exclamation:{keywords:[`decoration`,`love`],char:`❣`,fitzpatrick_scale:!1,category:`symbols`},two_hearts:{keywords:[`love`,`like`,`affection`,`valentines`,`heart`],char:`💕`,fitzpatrick_scale:!1,category:`symbols`},revolving_hearts:{keywords:[`love`,`like`,`affection`,`valentines`],char:`💞`,fitzpatrick_scale:!1,category:`symbols`},heartbeat:{keywords:[`love`,`like`,`affection`,`valentines`,`pink`,`heart`],char:`💓`,fitzpatrick_scale:!1,category:`symbols`},heartpulse:{keywords:[`like`,`love`,`affection`,`valentines`,`pink`],char:`💗`,fitzpatrick_scale:!1,category:`symbols`},sparkling_heart:{keywords:[`love`,`like`,`affection`,`valentines`],char:`💖`,fitzpatrick_scale:!1,category:`symbols`},cupid:{keywords:[`love`,`like`,`heart`,`affection`,`valentines`],char:`💘`,fitzpatrick_scale:!1,category:`symbols`},gift_heart:{keywords:[`love`,`valentines`],char:`💝`,fitzpatrick_scale:!1,category:`symbols`},heart_decoration:{keywords:[`purple-square`,`love`,`like`],char:`💟`,fitzpatrick_scale:!1,category:`symbols`},peace_symbol:{keywords:[`hippie`],char:`☮`,fitzpatrick_scale:!1,category:`symbols`},latin_cross:{keywords:[`christianity`],char:`✝`,fitzpatrick_scale:!1,category:`symbols`},star_and_crescent:{keywords:[`islam`],char:`☪`,fitzpatrick_scale:!1,category:`symbols`},om:{keywords:[`hinduism`,`buddhism`,`sikhism`,`jainism`],char:`🕉`,fitzpatrick_scale:!1,category:`symbols`},wheel_of_dharma:{keywords:[`hinduism`,`buddhism`,`sikhism`,`jainism`],char:`☸`,fitzpatrick_scale:!1,category:`symbols`},star_of_david:{keywords:[`judaism`],char:`✡`,fitzpatrick_scale:!1,category:`symbols`},six_pointed_star:{keywords:[`purple-square`,`religion`,`jewish`,`hexagram`],char:`🔯`,fitzpatrick_scale:!1,category:`symbols`},menorah:{keywords:[`hanukkah`,`candles`,`jewish`],char:`🕎`,fitzpatrick_scale:!1,category:`symbols`},yin_yang:{keywords:[`balance`],char:`☯`,fitzpatrick_scale:!1,category:`symbols`},orthodox_cross:{keywords:[`suppedaneum`,`religion`],char:`☦`,fitzpatrick_scale:!1,category:`symbols`},place_of_worship:{keywords:[`religion`,`church`,`temple`,`prayer`],char:`🛐`,fitzpatrick_scale:!1,category:`symbols`},ophiuchus:{keywords:[`sign`,`purple-square`,`constellation`,`astrology`],char:`⛎`,fitzpatrick_scale:!1,category:`symbols`},aries:{keywords:[`sign`,`purple-square`,`zodiac`,`astrology`],char:`♈`,fitzpatrick_scale:!1,category:`symbols`},taurus:{keywords:[`purple-square`,`sign`,`zodiac`,`astrology`],char:`♉`,fitzpatrick_scale:!1,category:`symbols`},gemini:{keywords:[`sign`,`zodiac`,`purple-square`,`astrology`],char:`♊`,fitzpatrick_scale:!1,category:`symbols`},cancer:{keywords:[`sign`,`zodiac`,`purple-square`,`astrology`],char:`♋`,fitzpatrick_scale:!1,category:`symbols`},leo:{keywords:[`sign`,`purple-square`,`zodiac`,`astrology`],char:`♌`,fitzpatrick_scale:!1,category:`symbols`},virgo:{keywords:[`sign`,`zodiac`,`purple-square`,`astrology`],char:`♍`,fitzpatrick_scale:!1,category:`symbols`},libra:{keywords:[`sign`,`purple-square`,`zodiac`,`astrology`],char:`♎`,fitzpatrick_scale:!1,category:`symbols`},scorpius:{keywords:[`sign`,`zodiac`,`purple-square`,`astrology`,`scorpio`],char:`♏`,fitzpatrick_scale:!1,category:`symbols`},sagittarius:{keywords:[`sign`,`zodiac`,`purple-square`,`astrology`],char:`♐`,fitzpatrick_scale:!1,category:`symbols`},capricorn:{keywords:[`sign`,`zodiac`,`purple-square`,`astrology`],char:`♑`,fitzpatrick_scale:!1,category:`symbols`},aquarius:{keywords:[`sign`,`purple-square`,`zodiac`,`astrology`],char:`♒`,fitzpatrick_scale:!1,category:`symbols`},pisces:{keywords:[`purple-square`,`sign`,`zodiac`,`astrology`],char:`♓`,fitzpatrick_scale:!1,category:`symbols`},id:{keywords:[`purple-square`,`words`],char:`🆔`,fitzpatrick_scale:!1,category:`symbols`},atom_symbol:{keywords:[`science`,`physics`,`chemistry`],char:`⚛`,fitzpatrick_scale:!1,category:`symbols`},u7a7a:{keywords:[`kanji`,`japanese`,`chinese`,`empty`,`sky`,`blue-square`],char:`🈳`,fitzpatrick_scale:!1,category:`symbols`},u5272:{keywords:[`cut`,`divide`,`chinese`,`kanji`,`pink-square`],char:`🈹`,fitzpatrick_scale:!1,category:`symbols`},radioactive:{keywords:[`nuclear`,`danger`],char:`☢`,fitzpatrick_scale:!1,category:`symbols`},biohazard:{keywords:[`danger`],char:`☣`,fitzpatrick_scale:!1,category:`symbols`},mobile_phone_off:{keywords:[`mute`,`orange-square`,`silence`,`quiet`],char:`📴`,fitzpatrick_scale:!1,category:`symbols`},vibration_mode:{keywords:[`orange-square`,`phone`],char:`📳`,fitzpatrick_scale:!1,category:`symbols`},u6709:{keywords:[`orange-square`,`chinese`,`have`,`kanji`],char:`🈶`,fitzpatrick_scale:!1,category:`symbols`},u7121:{keywords:[`nothing`,`chinese`,`kanji`,`japanese`,`orange-square`],char:`🈚`,fitzpatrick_scale:!1,category:`symbols`},u7533:{keywords:[`chinese`,`japanese`,`kanji`,`orange-square`],char:`🈸`,fitzpatrick_scale:!1,category:`symbols`},u55b6:{keywords:[`japanese`,`opening hours`,`orange-square`],char:`🈺`,fitzpatrick_scale:!1,category:`symbols`},u6708:{keywords:[`chinese`,`month`,`moon`,`japanese`,`orange-square`,`kanji`],char:`🈷️`,fitzpatrick_scale:!1,category:`symbols`},eight_pointed_black_star:{keywords:[`orange-square`,`shape`,`polygon`],char:`✴️`,fitzpatrick_scale:!1,category:`symbols`},vs:{keywords:[`words`,`orange-square`],char:`🆚`,fitzpatrick_scale:!1,category:`symbols`},accept:{keywords:[`ok`,`good`,`chinese`,`kanji`,`agree`,`yes`,`orange-circle`],char:`🉑`,fitzpatrick_scale:!1,category:`symbols`},white_flower:{keywords:[`japanese`,`spring`],char:`💮`,fitzpatrick_scale:!1,category:`symbols`},ideograph_advantage:{keywords:[`chinese`,`kanji`,`obtain`,`get`,`circle`],char:`🉐`,fitzpatrick_scale:!1,category:`symbols`},secret:{keywords:[`privacy`,`chinese`,`sshh`,`kanji`,`red-circle`],char:`㊙️`,fitzpatrick_scale:!1,category:`symbols`},congratulations:{keywords:[`chinese`,`kanji`,`japanese`,`red-circle`],char:`㊗️`,fitzpatrick_scale:!1,category:`symbols`},u5408:{keywords:[`japanese`,`chinese`,`join`,`kanji`,`red-square`],char:`🈴`,fitzpatrick_scale:!1,category:`symbols`},u6e80:{keywords:[`full`,`chinese`,`japanese`,`red-square`,`kanji`],char:`🈵`,fitzpatrick_scale:!1,category:`symbols`},u7981:{keywords:[`kanji`,`japanese`,`chinese`,`forbidden`,`limit`,`restricted`,`red-square`],char:`🈲`,fitzpatrick_scale:!1,category:`symbols`},a:{keywords:[`red-square`,`alphabet`,`letter`],char:`🅰️`,fitzpatrick_scale:!1,category:`symbols`},b:{keywords:[`red-square`,`alphabet`,`letter`],char:`🅱️`,fitzpatrick_scale:!1,category:`symbols`},ab:{keywords:[`red-square`,`alphabet`],char:`🆎`,fitzpatrick_scale:!1,category:`symbols`},cl:{keywords:[`alphabet`,`words`,`red-square`],char:`🆑`,fitzpatrick_scale:!1,category:`symbols`},o2:{keywords:[`alphabet`,`red-square`,`letter`],char:`🅾️`,fitzpatrick_scale:!1,category:`symbols`},sos:{keywords:[`help`,`red-square`,`words`,`emergency`,`911`],char:`🆘`,fitzpatrick_scale:!1,category:`symbols`},no_entry:{keywords:[`limit`,`security`,`privacy`,`bad`,`denied`,`stop`,`circle`],char:`⛔`,fitzpatrick_scale:!1,category:`symbols`},name_badge:{keywords:[`fire`,`forbid`],char:`📛`,fitzpatrick_scale:!1,category:`symbols`},no_entry_sign:{keywords:[`forbid`,`stop`,`limit`,`denied`,`disallow`,`circle`],char:`🚫`,fitzpatrick_scale:!1,category:`symbols`},x:{keywords:[`no`,`delete`,`remove`,`cancel`,`red`],char:`❌`,fitzpatrick_scale:!1,category:`symbols`},o:{keywords:[`circle`,`round`],char:`⭕`,fitzpatrick_scale:!1,category:`symbols`},stop_sign:{keywords:[`stop`],char:`🛑`,fitzpatrick_scale:!1,category:`symbols`},anger:{keywords:[`angry`,`mad`],char:`💢`,fitzpatrick_scale:!1,category:`symbols`},hotsprings:{keywords:[`bath`,`warm`,`relax`],char:`♨️`,fitzpatrick_scale:!1,category:`symbols`},no_pedestrians:{keywords:[`rules`,`crossing`,`walking`,`circle`],char:`🚷`,fitzpatrick_scale:!1,category:`symbols`},do_not_litter:{keywords:[`trash`,`bin`,`garbage`,`circle`],char:`🚯`,fitzpatrick_scale:!1,category:`symbols`},no_bicycles:{keywords:[`cyclist`,`prohibited`,`circle`],char:`🚳`,fitzpatrick_scale:!1,category:`symbols`},"non-potable_water":{keywords:[`drink`,`faucet`,`tap`,`circle`],char:`🚱`,fitzpatrick_scale:!1,category:`symbols`},underage:{keywords:[`18`,`drink`,`pub`,`night`,`minor`,`circle`],char:`🔞`,fitzpatrick_scale:!1,category:`symbols`},no_mobile_phones:{keywords:[`iphone`,`mute`,`circle`],char:`📵`,fitzpatrick_scale:!1,category:`symbols`},exclamation:{keywords:[`heavy_exclamation_mark`,`danger`,`surprise`,`punctuation`,`wow`,`warning`],char:`❗`,fitzpatrick_scale:!1,category:`symbols`},grey_exclamation:{keywords:[`surprise`,`punctuation`,`gray`,`wow`,`warning`],char:`❕`,fitzpatrick_scale:!1,category:`symbols`},question:{keywords:[`doubt`,`confused`],char:`❓`,fitzpatrick_scale:!1,category:`symbols`},grey_question:{keywords:[`doubts`,`gray`,`huh`,`confused`],char:`❔`,fitzpatrick_scale:!1,category:`symbols`},bangbang:{keywords:[`exclamation`,`surprise`],char:`‼️`,fitzpatrick_scale:!1,category:`symbols`},interrobang:{keywords:[`wat`,`punctuation`,`surprise`],char:`⁉️`,fitzpatrick_scale:!1,category:`symbols`},100:{keywords:[`score`,`perfect`,`numbers`,`century`,`exam`,`quiz`,`test`,`pass`,`hundred`],char:`💯`,fitzpatrick_scale:!1,category:`symbols`},low_brightness:{keywords:[`sun`,`afternoon`,`warm`,`summer`],char:`🔅`,fitzpatrick_scale:!1,category:`symbols`},high_brightness:{keywords:[`sun`,`light`],char:`🔆`,fitzpatrick_scale:!1,category:`symbols`},trident:{keywords:[`weapon`,`spear`],char:`🔱`,fitzpatrick_scale:!1,category:`symbols`},fleur_de_lis:{keywords:[`decorative`,`scout`],char:`⚜`,fitzpatrick_scale:!1,category:`symbols`},part_alternation_mark:{keywords:[`graph`,`presentation`,`stats`,`business`,`economics`,`bad`],char:`〽️`,fitzpatrick_scale:!1,category:`symbols`},warning:{keywords:[`exclamation`,`wip`,`alert`,`error`,`problem`,`issue`],char:`⚠️`,fitzpatrick_scale:!1,category:`symbols`},children_crossing:{keywords:[`school`,`warning`,`danger`,`sign`,`driving`,`yellow-diamond`],char:`🚸`,fitzpatrick_scale:!1,category:`symbols`},beginner:{keywords:[`badge`,`shield`],char:`🔰`,fitzpatrick_scale:!1,category:`symbols`},recycle:{keywords:[`arrow`,`environment`,`garbage`,`trash`],char:`♻️`,fitzpatrick_scale:!1,category:`symbols`},u6307:{keywords:[`chinese`,`point`,`green-square`,`kanji`],char:`🈯`,fitzpatrick_scale:!1,category:`symbols`},chart:{keywords:[`green-square`,`graph`,`presentation`,`stats`],char:`💹`,fitzpatrick_scale:!1,category:`symbols`},sparkle:{keywords:[`stars`,`green-square`,`awesome`,`good`,`fireworks`],char:`❇️`,fitzpatrick_scale:!1,category:`symbols`},eight_spoked_asterisk:{keywords:[`star`,`sparkle`,`green-square`],char:`✳️`,fitzpatrick_scale:!1,category:`symbols`},negative_squared_cross_mark:{keywords:[`x`,`green-square`,`no`,`deny`],char:`❎`,fitzpatrick_scale:!1,category:`symbols`},white_check_mark:{keywords:[`green-square`,`ok`,`agree`,`vote`,`election`,`answer`,`tick`],char:`✅`,fitzpatrick_scale:!1,category:`symbols`},diamond_shape_with_a_dot_inside:{keywords:[`jewel`,`blue`,`gem`,`crystal`,`fancy`],char:`💠`,fitzpatrick_scale:!1,category:`symbols`},cyclone:{keywords:[`weather`,`swirl`,`blue`,`cloud`,`vortex`,`spiral`,`whirlpool`,`spin`,`tornado`,`hurricane`,`typhoon`],char:`🌀`,fitzpatrick_scale:!1,category:`symbols`},loop:{keywords:[`tape`,`cassette`],char:`➿`,fitzpatrick_scale:!1,category:`symbols`},globe_with_meridians:{keywords:[`earth`,`international`,`world`,`internet`,`interweb`,`i18n`],char:`🌐`,fitzpatrick_scale:!1,category:`symbols`},m:{keywords:[`alphabet`,`blue-circle`,`letter`],char:`Ⓜ️`,fitzpatrick_scale:!1,category:`symbols`},atm:{keywords:[`money`,`sales`,`cash`,`blue-square`,`payment`,`bank`],char:`🏧`,fitzpatrick_scale:!1,category:`symbols`},sa:{keywords:[`japanese`,`blue-square`,`katakana`],char:`🈂️`,fitzpatrick_scale:!1,category:`symbols`},passport_control:{keywords:[`custom`,`blue-square`],char:`🛂`,fitzpatrick_scale:!1,category:`symbols`},customs:{keywords:[`passport`,`border`,`blue-square`],char:`🛃`,fitzpatrick_scale:!1,category:`symbols`},baggage_claim:{keywords:[`blue-square`,`airport`,`transport`],char:`🛄`,fitzpatrick_scale:!1,category:`symbols`},left_luggage:{keywords:[`blue-square`,`travel`],char:`🛅`,fitzpatrick_scale:!1,category:`symbols`},wheelchair:{keywords:[`blue-square`,`disabled`,`a11y`,`accessibility`],char:`♿`,fitzpatrick_scale:!1,category:`symbols`},no_smoking:{keywords:[`cigarette`,`blue-square`,`smell`,`smoke`],char:`🚭`,fitzpatrick_scale:!1,category:`symbols`},wc:{keywords:[`toilet`,`restroom`,`blue-square`],char:`🚾`,fitzpatrick_scale:!1,category:`symbols`},parking:{keywords:[`cars`,`blue-square`,`alphabet`,`letter`],char:`🅿️`,fitzpatrick_scale:!1,category:`symbols`},potable_water:{keywords:[`blue-square`,`liquid`,`restroom`,`cleaning`,`faucet`],char:`🚰`,fitzpatrick_scale:!1,category:`symbols`},mens:{keywords:[`toilet`,`restroom`,`wc`,`blue-square`,`gender`,`male`],char:`🚹`,fitzpatrick_scale:!1,category:`symbols`},womens:{keywords:[`purple-square`,`woman`,`female`,`toilet`,`loo`,`restroom`,`gender`],char:`🚺`,fitzpatrick_scale:!1,category:`symbols`},baby_symbol:{keywords:[`orange-square`,`child`],char:`🚼`,fitzpatrick_scale:!1,category:`symbols`},restroom:{keywords:[`blue-square`,`toilet`,`refresh`,`wc`,`gender`],char:`🚻`,fitzpatrick_scale:!1,category:`symbols`},put_litter_in_its_place:{keywords:[`blue-square`,`sign`,`human`,`info`],char:`🚮`,fitzpatrick_scale:!1,category:`symbols`},cinema:{keywords:[`blue-square`,`record`,`film`,`movie`,`curtain`,`stage`,`theater`],char:`🎦`,fitzpatrick_scale:!1,category:`symbols`},signal_strength:{keywords:[`blue-square`,`reception`,`phone`,`internet`,`connection`,`wifi`,`bluetooth`,`bars`],char:`📶`,fitzpatrick_scale:!1,category:`symbols`},koko:{keywords:[`blue-square`,`here`,`katakana`,`japanese`,`destination`],char:`🈁`,fitzpatrick_scale:!1,category:`symbols`},ng:{keywords:[`blue-square`,`words`,`shape`,`icon`],char:`🆖`,fitzpatrick_scale:!1,category:`symbols`},ok:{keywords:[`good`,`agree`,`yes`,`blue-square`],char:`🆗`,fitzpatrick_scale:!1,category:`symbols`},up:{keywords:[`blue-square`,`above`,`high`],char:`🆙`,fitzpatrick_scale:!1,category:`symbols`},cool:{keywords:[`words`,`blue-square`],char:`🆒`,fitzpatrick_scale:!1,category:`symbols`},new:{keywords:[`blue-square`,`words`,`start`],char:`🆕`,fitzpatrick_scale:!1,category:`symbols`},free:{keywords:[`blue-square`,`words`],char:`🆓`,fitzpatrick_scale:!1,category:`symbols`},zero:{keywords:[`0`,`numbers`,`blue-square`,`null`],char:`0️⃣`,fitzpatrick_scale:!1,category:`symbols`},one:{keywords:[`blue-square`,`numbers`,`1`],char:`1️⃣`,fitzpatrick_scale:!1,category:`symbols`},two:{keywords:[`numbers`,`2`,`prime`,`blue-square`],char:`2️⃣`,fitzpatrick_scale:!1,category:`symbols`},three:{keywords:[`3`,`numbers`,`prime`,`blue-square`],char:`3️⃣`,fitzpatrick_scale:!1,category:`symbols`},four:{keywords:[`4`,`numbers`,`blue-square`],char:`4️⃣`,fitzpatrick_scale:!1,category:`symbols`},five:{keywords:[`5`,`numbers`,`blue-square`,`prime`],char:`5️⃣`,fitzpatrick_scale:!1,category:`symbols`},six:{keywords:[`6`,`numbers`,`blue-square`],char:`6️⃣`,fitzpatrick_scale:!1,category:`symbols`},seven:{keywords:[`7`,`numbers`,`blue-square`,`prime`],char:`7️⃣`,fitzpatrick_scale:!1,category:`symbols`},eight:{keywords:[`8`,`blue-square`,`numbers`],char:`8️⃣`,fitzpatrick_scale:!1,category:`symbols`},nine:{keywords:[`blue-square`,`numbers`,`9`],char:`9️⃣`,fitzpatrick_scale:!1,category:`symbols`},keycap_ten:{keywords:[`numbers`,`10`,`blue-square`],char:`🔟`,fitzpatrick_scale:!1,category:`symbols`},asterisk:{keywords:[`star`,`keycap`],char:`*⃣`,fitzpatrick_scale:!1,category:`symbols`},1234:{keywords:[`numbers`,`blue-square`],char:`🔢`,fitzpatrick_scale:!1,category:`symbols`},eject_button:{keywords:[`blue-square`],char:`⏏️`,fitzpatrick_scale:!1,category:`symbols`},arrow_forward:{keywords:[`blue-square`,`right`,`direction`,`play`],char:`▶️`,fitzpatrick_scale:!1,category:`symbols`},pause_button:{keywords:[`pause`,`blue-square`],char:`⏸`,fitzpatrick_scale:!1,category:`symbols`},next_track_button:{keywords:[`forward`,`next`,`blue-square`],char:`⏭`,fitzpatrick_scale:!1,category:`symbols`},stop_button:{keywords:[`blue-square`],char:`⏹`,fitzpatrick_scale:!1,category:`symbols`},record_button:{keywords:[`blue-square`],char:`⏺`,fitzpatrick_scale:!1,category:`symbols`},play_or_pause_button:{keywords:[`blue-square`,`play`,`pause`],char:`⏯`,fitzpatrick_scale:!1,category:`symbols`},previous_track_button:{keywords:[`backward`],char:`⏮`,fitzpatrick_scale:!1,category:`symbols`},fast_forward:{keywords:[`blue-square`,`play`,`speed`,`continue`],char:`⏩`,fitzpatrick_scale:!1,category:`symbols`},rewind:{keywords:[`play`,`blue-square`],char:`⏪`,fitzpatrick_scale:!1,category:`symbols`},twisted_rightwards_arrows:{keywords:[`blue-square`,`shuffle`,`music`,`random`],char:`🔀`,fitzpatrick_scale:!1,category:`symbols`},repeat:{keywords:[`loop`,`record`],char:`🔁`,fitzpatrick_scale:!1,category:`symbols`},repeat_one:{keywords:[`blue-square`,`loop`],char:`🔂`,fitzpatrick_scale:!1,category:`symbols`},arrow_backward:{keywords:[`blue-square`,`left`,`direction`],char:`◀️`,fitzpatrick_scale:!1,category:`symbols`},arrow_up_small:{keywords:[`blue-square`,`triangle`,`direction`,`point`,`forward`,`top`],char:`🔼`,fitzpatrick_scale:!1,category:`symbols`},arrow_down_small:{keywords:[`blue-square`,`direction`,`bottom`],char:`🔽`,fitzpatrick_scale:!1,category:`symbols`},arrow_double_up:{keywords:[`blue-square`,`direction`,`top`],char:`⏫`,fitzpatrick_scale:!1,category:`symbols`},arrow_double_down:{keywords:[`blue-square`,`direction`,`bottom`],char:`⏬`,fitzpatrick_scale:!1,category:`symbols`},arrow_right:{keywords:[`blue-square`,`next`],char:`➡️`,fitzpatrick_scale:!1,category:`symbols`},arrow_left:{keywords:[`blue-square`,`previous`,`back`],char:`⬅️`,fitzpatrick_scale:!1,category:`symbols`},arrow_up:{keywords:[`blue-square`,`continue`,`top`,`direction`],char:`⬆️`,fitzpatrick_scale:!1,category:`symbols`},arrow_down:{keywords:[`blue-square`,`direction`,`bottom`],char:`⬇️`,fitzpatrick_scale:!1,category:`symbols`},arrow_upper_right:{keywords:[`blue-square`,`point`,`direction`,`diagonal`,`northeast`],char:`↗️`,fitzpatrick_scale:!1,category:`symbols`},arrow_lower_right:{keywords:[`blue-square`,`direction`,`diagonal`,`southeast`],char:`↘️`,fitzpatrick_scale:!1,category:`symbols`},arrow_lower_left:{keywords:[`blue-square`,`direction`,`diagonal`,`southwest`],char:`↙️`,fitzpatrick_scale:!1,category:`symbols`},arrow_upper_left:{keywords:[`blue-square`,`point`,`direction`,`diagonal`,`northwest`],char:`↖️`,fitzpatrick_scale:!1,category:`symbols`},arrow_up_down:{keywords:[`blue-square`,`direction`,`way`,`vertical`],char:`↕️`,fitzpatrick_scale:!1,category:`symbols`},left_right_arrow:{keywords:[`shape`,`direction`,`horizontal`,`sideways`],char:`↔️`,fitzpatrick_scale:!1,category:`symbols`},arrows_counterclockwise:{keywords:[`blue-square`,`sync`,`cycle`],char:`🔄`,fitzpatrick_scale:!1,category:`symbols`},arrow_right_hook:{keywords:[`blue-square`,`return`,`rotate`,`direction`],char:`↪️`,fitzpatrick_scale:!1,category:`symbols`},leftwards_arrow_with_hook:{keywords:[`back`,`return`,`blue-square`,`undo`,`enter`],char:`↩️`,fitzpatrick_scale:!1,category:`symbols`},arrow_heading_up:{keywords:[`blue-square`,`direction`,`top`],char:`⤴️`,fitzpatrick_scale:!1,category:`symbols`},arrow_heading_down:{keywords:[`blue-square`,`direction`,`bottom`],char:`⤵️`,fitzpatrick_scale:!1,category:`symbols`},hash:{keywords:[`symbol`,`blue-square`,`twitter`],char:`#️⃣`,fitzpatrick_scale:!1,category:`symbols`},information_source:{keywords:[`blue-square`,`alphabet`,`letter`],char:`ℹ️`,fitzpatrick_scale:!1,category:`symbols`},abc:{keywords:[`blue-square`,`alphabet`],char:`🔤`,fitzpatrick_scale:!1,category:`symbols`},abcd:{keywords:[`blue-square`,`alphabet`],char:`🔡`,fitzpatrick_scale:!1,category:`symbols`},capital_abcd:{keywords:[`alphabet`,`words`,`blue-square`],char:`🔠`,fitzpatrick_scale:!1,category:`symbols`},symbols:{keywords:[`blue-square`,`music`,`note`,`ampersand`,`percent`,`glyphs`,`characters`],char:`🔣`,fitzpatrick_scale:!1,category:`symbols`},musical_note:{keywords:[`score`,`tone`,`sound`],char:`🎵`,fitzpatrick_scale:!1,category:`symbols`},notes:{keywords:[`music`,`score`],char:`🎶`,fitzpatrick_scale:!1,category:`symbols`},wavy_dash:{keywords:[`draw`,`line`,`moustache`,`mustache`,`squiggle`,`scribble`],char:`〰️`,fitzpatrick_scale:!1,category:`symbols`},curly_loop:{keywords:[`scribble`,`draw`,`shape`,`squiggle`],char:`➰`,fitzpatrick_scale:!1,category:`symbols`},heavy_check_mark:{keywords:[`ok`,`nike`,`answer`,`yes`,`tick`],char:`✔️`,fitzpatrick_scale:!1,category:`symbols`},arrows_clockwise:{keywords:[`sync`,`cycle`,`round`,`repeat`],char:`🔃`,fitzpatrick_scale:!1,category:`symbols`},heavy_plus_sign:{keywords:[`math`,`calculation`,`addition`,`more`,`increase`],char:`➕`,fitzpatrick_scale:!1,category:`symbols`},heavy_minus_sign:{keywords:[`math`,`calculation`,`subtract`,`less`],char:`➖`,fitzpatrick_scale:!1,category:`symbols`},heavy_division_sign:{keywords:[`divide`,`math`,`calculation`],char:`➗`,fitzpatrick_scale:!1,category:`symbols`},heavy_multiplication_x:{keywords:[`math`,`calculation`],char:`✖️`,fitzpatrick_scale:!1,category:`symbols`},infinity:{keywords:[`forever`],char:`♾`,fitzpatrick_scale:!1,category:`symbols`},heavy_dollar_sign:{keywords:[`money`,`sales`,`payment`,`currency`,`buck`],char:`💲`,fitzpatrick_scale:!1,category:`symbols`},currency_exchange:{keywords:[`money`,`sales`,`dollar`,`travel`],char:`💱`,fitzpatrick_scale:!1,category:`symbols`},copyright:{keywords:[`ip`,`license`,`circle`,`law`,`legal`],char:`©️`,fitzpatrick_scale:!1,category:`symbols`},registered:{keywords:[`alphabet`,`circle`],char:`®️`,fitzpatrick_scale:!1,category:`symbols`},tm:{keywords:[`trademark`,`brand`,`law`,`legal`],char:`™️`,fitzpatrick_scale:!1,category:`symbols`},end:{keywords:[`words`,`arrow`],char:`🔚`,fitzpatrick_scale:!1,category:`symbols`},back:{keywords:[`arrow`,`words`,`return`],char:`🔙`,fitzpatrick_scale:!1,category:`symbols`},on:{keywords:[`arrow`,`words`],char:`🔛`,fitzpatrick_scale:!1,category:`symbols`},top:{keywords:[`words`,`blue-square`],char:`🔝`,fitzpatrick_scale:!1,category:`symbols`},soon:{keywords:[`arrow`,`words`],char:`🔜`,fitzpatrick_scale:!1,category:`symbols`},ballot_box_with_check:{keywords:[`ok`,`agree`,`confirm`,`black-square`,`vote`,`election`,`yes`,`tick`],char:`☑️`,fitzpatrick_scale:!1,category:`symbols`},radio_button:{keywords:[`input`,`old`,`music`,`circle`],char:`🔘`,fitzpatrick_scale:!1,category:`symbols`},white_circle:{keywords:[`shape`,`round`],char:`⚪`,fitzpatrick_scale:!1,category:`symbols`},black_circle:{keywords:[`shape`,`button`,`round`],char:`⚫`,fitzpatrick_scale:!1,category:`symbols`},red_circle:{keywords:[`shape`,`error`,`danger`],char:`🔴`,fitzpatrick_scale:!1,category:`symbols`},large_blue_circle:{keywords:[`shape`,`icon`,`button`],char:`🔵`,fitzpatrick_scale:!1,category:`symbols`},small_orange_diamond:{keywords:[`shape`,`jewel`,`gem`],char:`🔸`,fitzpatrick_scale:!1,category:`symbols`},small_blue_diamond:{keywords:[`shape`,`jewel`,`gem`],char:`🔹`,fitzpatrick_scale:!1,category:`symbols`},large_orange_diamond:{keywords:[`shape`,`jewel`,`gem`],char:`🔶`,fitzpatrick_scale:!1,category:`symbols`},large_blue_diamond:{keywords:[`shape`,`jewel`,`gem`],char:`🔷`,fitzpatrick_scale:!1,category:`symbols`},small_red_triangle:{keywords:[`shape`,`direction`,`up`,`top`],char:`🔺`,fitzpatrick_scale:!1,category:`symbols`},black_small_square:{keywords:[`shape`,`icon`],char:`▪️`,fitzpatrick_scale:!1,category:`symbols`},white_small_square:{keywords:[`shape`,`icon`],char:`▫️`,fitzpatrick_scale:!1,category:`symbols`},black_large_square:{keywords:[`shape`,`icon`,`button`],char:`⬛`,fitzpatrick_scale:!1,category:`symbols`},white_large_square:{keywords:[`shape`,`icon`,`stone`,`button`],char:`⬜`,fitzpatrick_scale:!1,category:`symbols`},small_red_triangle_down:{keywords:[`shape`,`direction`,`bottom`],char:`🔻`,fitzpatrick_scale:!1,category:`symbols`},black_medium_square:{keywords:[`shape`,`button`,`icon`],char:`◼️`,fitzpatrick_scale:!1,category:`symbols`},white_medium_square:{keywords:[`shape`,`stone`,`icon`],char:`◻️`,fitzpatrick_scale:!1,category:`symbols`},black_medium_small_square:{keywords:[`icon`,`shape`,`button`],char:`◾`,fitzpatrick_scale:!1,category:`symbols`},white_medium_small_square:{keywords:[`shape`,`stone`,`icon`,`button`],char:`◽`,fitzpatrick_scale:!1,category:`symbols`},black_square_button:{keywords:[`shape`,`input`,`frame`],char:`🔲`,fitzpatrick_scale:!1,category:`symbols`},white_square_button:{keywords:[`shape`,`input`],char:`🔳`,fitzpatrick_scale:!1,category:`symbols`},speaker:{keywords:[`sound`,`volume`,`silence`,`broadcast`],char:`🔈`,fitzpatrick_scale:!1,category:`symbols`},sound:{keywords:[`volume`,`speaker`,`broadcast`],char:`🔉`,fitzpatrick_scale:!1,category:`symbols`},loud_sound:{keywords:[`volume`,`noise`,`noisy`,`speaker`,`broadcast`],char:`🔊`,fitzpatrick_scale:!1,category:`symbols`},mute:{keywords:[`sound`,`volume`,`silence`,`quiet`],char:`🔇`,fitzpatrick_scale:!1,category:`symbols`},mega:{keywords:[`sound`,`speaker`,`volume`],char:`📣`,fitzpatrick_scale:!1,category:`symbols`},loudspeaker:{keywords:[`volume`,`sound`],char:`📢`,fitzpatrick_scale:!1,category:`symbols`},bell:{keywords:[`sound`,`notification`,`christmas`,`xmas`,`chime`],char:`🔔`,fitzpatrick_scale:!1,category:`symbols`},no_bell:{keywords:[`sound`,`volume`,`mute`,`quiet`,`silent`],char:`🔕`,fitzpatrick_scale:!1,category:`symbols`},black_joker:{keywords:[`poker`,`cards`,`game`,`play`,`magic`],char:`🃏`,fitzpatrick_scale:!1,category:`symbols`},mahjong:{keywords:[`game`,`play`,`chinese`,`kanji`],char:`🀄`,fitzpatrick_scale:!1,category:`symbols`},spades:{keywords:[`poker`,`cards`,`suits`,`magic`],char:`♠️`,fitzpatrick_scale:!1,category:`symbols`},clubs:{keywords:[`poker`,`cards`,`magic`,`suits`],char:`♣️`,fitzpatrick_scale:!1,category:`symbols`},hearts:{keywords:[`poker`,`cards`,`magic`,`suits`],char:`♥️`,fitzpatrick_scale:!1,category:`symbols`},diamonds:{keywords:[`poker`,`cards`,`magic`,`suits`],char:`♦️`,fitzpatrick_scale:!1,category:`symbols`},flower_playing_cards:{keywords:[`game`,`sunset`,`red`],char:`🎴`,fitzpatrick_scale:!1,category:`symbols`},thought_balloon:{keywords:[`bubble`,`cloud`,`speech`,`thinking`,`dream`],char:`💭`,fitzpatrick_scale:!1,category:`symbols`},right_anger_bubble:{keywords:[`caption`,`speech`,`thinking`,`mad`],char:`🗯`,fitzpatrick_scale:!1,category:`symbols`},speech_balloon:{keywords:[`bubble`,`words`,`message`,`talk`,`chatting`],char:`💬`,fitzpatrick_scale:!1,category:`symbols`},left_speech_bubble:{keywords:[`words`,`message`,`talk`,`chatting`],char:`🗨`,fitzpatrick_scale:!1,category:`symbols`},clock1:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕐`,fitzpatrick_scale:!1,category:`symbols`},clock2:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕑`,fitzpatrick_scale:!1,category:`symbols`},clock3:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕒`,fitzpatrick_scale:!1,category:`symbols`},clock4:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕓`,fitzpatrick_scale:!1,category:`symbols`},clock5:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕔`,fitzpatrick_scale:!1,category:`symbols`},clock6:{keywords:[`time`,`late`,`early`,`schedule`,`dawn`,`dusk`],char:`🕕`,fitzpatrick_scale:!1,category:`symbols`},clock7:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕖`,fitzpatrick_scale:!1,category:`symbols`},clock8:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕗`,fitzpatrick_scale:!1,category:`symbols`},clock9:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕘`,fitzpatrick_scale:!1,category:`symbols`},clock10:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕙`,fitzpatrick_scale:!1,category:`symbols`},clock11:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕚`,fitzpatrick_scale:!1,category:`symbols`},clock12:{keywords:[`time`,`noon`,`midnight`,`midday`,`late`,`early`,`schedule`],char:`🕛`,fitzpatrick_scale:!1,category:`symbols`},clock130:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕜`,fitzpatrick_scale:!1,category:`symbols`},clock230:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕝`,fitzpatrick_scale:!1,category:`symbols`},clock330:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕞`,fitzpatrick_scale:!1,category:`symbols`},clock430:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕟`,fitzpatrick_scale:!1,category:`symbols`},clock530:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕠`,fitzpatrick_scale:!1,category:`symbols`},clock630:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕡`,fitzpatrick_scale:!1,category:`symbols`},clock730:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕢`,fitzpatrick_scale:!1,category:`symbols`},clock830:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕣`,fitzpatrick_scale:!1,category:`symbols`},clock930:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕤`,fitzpatrick_scale:!1,category:`symbols`},clock1030:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕥`,fitzpatrick_scale:!1,category:`symbols`},clock1130:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕦`,fitzpatrick_scale:!1,category:`symbols`},clock1230:{keywords:[`time`,`late`,`early`,`schedule`],char:`🕧`,fitzpatrick_scale:!1,category:`symbols`},afghanistan:{keywords:[`af`,`flag`,`nation`,`country`,`banner`],char:`🇦🇫`,fitzpatrick_scale:!1,category:`flags`},aland_islands:{keywords:[`Åland`,`islands`,`flag`,`nation`,`country`,`banner`],char:`🇦🇽`,fitzpatrick_scale:!1,category:`flags`},albania:{keywords:[`al`,`flag`,`nation`,`country`,`banner`],char:`🇦🇱`,fitzpatrick_scale:!1,category:`flags`},algeria:{keywords:[`dz`,`flag`,`nation`,`country`,`banner`],char:`🇩🇿`,fitzpatrick_scale:!1,category:`flags`},american_samoa:{keywords:[`american`,`ws`,`flag`,`nation`,`country`,`banner`],char:`🇦🇸`,fitzpatrick_scale:!1,category:`flags`},andorra:{keywords:[`ad`,`flag`,`nation`,`country`,`banner`],char:`🇦🇩`,fitzpatrick_scale:!1,category:`flags`},angola:{keywords:[`ao`,`flag`,`nation`,`country`,`banner`],char:`🇦🇴`,fitzpatrick_scale:!1,category:`flags`},anguilla:{keywords:[`ai`,`flag`,`nation`,`country`,`banner`],char:`🇦🇮`,fitzpatrick_scale:!1,category:`flags`},antarctica:{keywords:[`aq`,`flag`,`nation`,`country`,`banner`],char:`🇦🇶`,fitzpatrick_scale:!1,category:`flags`},antigua_barbuda:{keywords:[`antigua`,`barbuda`,`flag`,`nation`,`country`,`banner`],char:`🇦🇬`,fitzpatrick_scale:!1,category:`flags`},argentina:{keywords:[`ar`,`flag`,`nation`,`country`,`banner`],char:`🇦🇷`,fitzpatrick_scale:!1,category:`flags`},armenia:{keywords:[`am`,`flag`,`nation`,`country`,`banner`],char:`🇦🇲`,fitzpatrick_scale:!1,category:`flags`},aruba:{keywords:[`aw`,`flag`,`nation`,`country`,`banner`],char:`🇦🇼`,fitzpatrick_scale:!1,category:`flags`},australia:{keywords:[`au`,`flag`,`nation`,`country`,`banner`],char:`🇦🇺`,fitzpatrick_scale:!1,category:`flags`},austria:{keywords:[`at`,`flag`,`nation`,`country`,`banner`],char:`🇦🇹`,fitzpatrick_scale:!1,category:`flags`},azerbaijan:{keywords:[`az`,`flag`,`nation`,`country`,`banner`],char:`🇦🇿`,fitzpatrick_scale:!1,category:`flags`},bahamas:{keywords:[`bs`,`flag`,`nation`,`country`,`banner`],char:`🇧🇸`,fitzpatrick_scale:!1,category:`flags`},bahrain:{keywords:[`bh`,`flag`,`nation`,`country`,`banner`],char:`🇧🇭`,fitzpatrick_scale:!1,category:`flags`},bangladesh:{keywords:[`bd`,`flag`,`nation`,`country`,`banner`],char:`🇧🇩`,fitzpatrick_scale:!1,category:`flags`},barbados:{keywords:[`bb`,`flag`,`nation`,`country`,`banner`],char:`🇧🇧`,fitzpatrick_scale:!1,category:`flags`},belarus:{keywords:[`by`,`flag`,`nation`,`country`,`banner`],char:`🇧🇾`,fitzpatrick_scale:!1,category:`flags`},belgium:{keywords:[`be`,`flag`,`nation`,`country`,`banner`],char:`🇧🇪`,fitzpatrick_scale:!1,category:`flags`},belize:{keywords:[`bz`,`flag`,`nation`,`country`,`banner`],char:`🇧🇿`,fitzpatrick_scale:!1,category:`flags`},benin:{keywords:[`bj`,`flag`,`nation`,`country`,`banner`],char:`🇧🇯`,fitzpatrick_scale:!1,category:`flags`},bermuda:{keywords:[`bm`,`flag`,`nation`,`country`,`banner`],char:`🇧🇲`,fitzpatrick_scale:!1,category:`flags`},bhutan:{keywords:[`bt`,`flag`,`nation`,`country`,`banner`],char:`🇧🇹`,fitzpatrick_scale:!1,category:`flags`},bolivia:{keywords:[`bo`,`flag`,`nation`,`country`,`banner`],char:`🇧🇴`,fitzpatrick_scale:!1,category:`flags`},caribbean_netherlands:{keywords:[`bonaire`,`flag`,`nation`,`country`,`banner`],char:`🇧🇶`,fitzpatrick_scale:!1,category:`flags`},bosnia_herzegovina:{keywords:[`bosnia`,`herzegovina`,`flag`,`nation`,`country`,`banner`],char:`🇧🇦`,fitzpatrick_scale:!1,category:`flags`},botswana:{keywords:[`bw`,`flag`,`nation`,`country`,`banner`],char:`🇧🇼`,fitzpatrick_scale:!1,category:`flags`},brazil:{keywords:[`br`,`flag`,`nation`,`country`,`banner`],char:`🇧🇷`,fitzpatrick_scale:!1,category:`flags`},british_indian_ocean_territory:{keywords:[`british`,`indian`,`ocean`,`territory`,`flag`,`nation`,`country`,`banner`],char:`🇮🇴`,fitzpatrick_scale:!1,category:`flags`},british_virgin_islands:{keywords:[`british`,`virgin`,`islands`,`bvi`,`flag`,`nation`,`country`,`banner`],char:`🇻🇬`,fitzpatrick_scale:!1,category:`flags`},brunei:{keywords:[`bn`,`darussalam`,`flag`,`nation`,`country`,`banner`],char:`🇧🇳`,fitzpatrick_scale:!1,category:`flags`},bulgaria:{keywords:[`bg`,`flag`,`nation`,`country`,`banner`],char:`🇧🇬`,fitzpatrick_scale:!1,category:`flags`},burkina_faso:{keywords:[`burkina`,`faso`,`flag`,`nation`,`country`,`banner`],char:`🇧🇫`,fitzpatrick_scale:!1,category:`flags`},burundi:{keywords:[`bi`,`flag`,`nation`,`country`,`banner`],char:`🇧🇮`,fitzpatrick_scale:!1,category:`flags`},cape_verde:{keywords:[`cabo`,`verde`,`flag`,`nation`,`country`,`banner`],char:`🇨🇻`,fitzpatrick_scale:!1,category:`flags`},cambodia:{keywords:[`kh`,`flag`,`nation`,`country`,`banner`],char:`🇰🇭`,fitzpatrick_scale:!1,category:`flags`},cameroon:{keywords:[`cm`,`flag`,`nation`,`country`,`banner`],char:`🇨🇲`,fitzpatrick_scale:!1,category:`flags`},canada:{keywords:[`ca`,`flag`,`nation`,`country`,`banner`],char:`🇨🇦`,fitzpatrick_scale:!1,category:`flags`},canary_islands:{keywords:[`canary`,`islands`,`flag`,`nation`,`country`,`banner`],char:`🇮🇨`,fitzpatrick_scale:!1,category:`flags`},cayman_islands:{keywords:[`cayman`,`islands`,`flag`,`nation`,`country`,`banner`],char:`🇰🇾`,fitzpatrick_scale:!1,category:`flags`},central_african_republic:{keywords:[`central`,`african`,`republic`,`flag`,`nation`,`country`,`banner`],char:`🇨🇫`,fitzpatrick_scale:!1,category:`flags`},chad:{keywords:[`td`,`flag`,`nation`,`country`,`banner`],char:`🇹🇩`,fitzpatrick_scale:!1,category:`flags`},chile:{keywords:[`flag`,`nation`,`country`,`banner`],char:`🇨🇱`,fitzpatrick_scale:!1,category:`flags`},cn:{keywords:[`china`,`chinese`,`prc`,`flag`,`country`,`nation`,`banner`],char:`🇨🇳`,fitzpatrick_scale:!1,category:`flags`},christmas_island:{keywords:[`christmas`,`island`,`flag`,`nation`,`country`,`banner`],char:`🇨🇽`,fitzpatrick_scale:!1,category:`flags`},cocos_islands:{keywords:[`cocos`,`keeling`,`islands`,`flag`,`nation`,`country`,`banner`],char:`🇨🇨`,fitzpatrick_scale:!1,category:`flags`},colombia:{keywords:[`co`,`flag`,`nation`,`country`,`banner`],char:`🇨🇴`,fitzpatrick_scale:!1,category:`flags`},comoros:{keywords:[`km`,`flag`,`nation`,`country`,`banner`],char:`🇰🇲`,fitzpatrick_scale:!1,category:`flags`},congo_brazzaville:{keywords:[`congo`,`flag`,`nation`,`country`,`banner`],char:`🇨🇬`,fitzpatrick_scale:!1,category:`flags`},congo_kinshasa:{keywords:[`congo`,`democratic`,`republic`,`flag`,`nation`,`country`,`banner`],char:`🇨🇩`,fitzpatrick_scale:!1,category:`flags`},cook_islands:{keywords:[`cook`,`islands`,`flag`,`nation`,`country`,`banner`],char:`🇨🇰`,fitzpatrick_scale:!1,category:`flags`},costa_rica:{keywords:[`costa`,`rica`,`flag`,`nation`,`country`,`banner`],char:`🇨🇷`,fitzpatrick_scale:!1,category:`flags`},croatia:{keywords:[`hr`,`flag`,`nation`,`country`,`banner`],char:`🇭🇷`,fitzpatrick_scale:!1,category:`flags`},cuba:{keywords:[`cu`,`flag`,`nation`,`country`,`banner`],char:`🇨🇺`,fitzpatrick_scale:!1,category:`flags`},curacao:{keywords:[`curaçao`,`flag`,`nation`,`country`,`banner`],char:`🇨🇼`,fitzpatrick_scale:!1,category:`flags`},cyprus:{keywords:[`cy`,`flag`,`nation`,`country`,`banner`],char:`🇨🇾`,fitzpatrick_scale:!1,category:`flags`},czech_republic:{keywords:[`cz`,`flag`,`nation`,`country`,`banner`],char:`🇨🇿`,fitzpatrick_scale:!1,category:`flags`},denmark:{keywords:[`dk`,`flag`,`nation`,`country`,`banner`],char:`🇩🇰`,fitzpatrick_scale:!1,category:`flags`},djibouti:{keywords:[`dj`,`flag`,`nation`,`country`,`banner`],char:`🇩🇯`,fitzpatrick_scale:!1,category:`flags`},dominica:{keywords:[`dm`,`flag`,`nation`,`country`,`banner`],char:`🇩🇲`,fitzpatrick_scale:!1,category:`flags`},dominican_republic:{keywords:[`dominican`,`republic`,`flag`,`nation`,`country`,`banner`],char:`🇩🇴`,fitzpatrick_scale:!1,category:`flags`},ecuador:{keywords:[`ec`,`flag`,`nation`,`country`,`banner`],char:`🇪🇨`,fitzpatrick_scale:!1,category:`flags`},egypt:{keywords:[`eg`,`flag`,`nation`,`country`,`banner`],char:`🇪🇬`,fitzpatrick_scale:!1,category:`flags`},el_salvador:{keywords:[`el`,`salvador`,`flag`,`nation`,`country`,`banner`],char:`🇸🇻`,fitzpatrick_scale:!1,category:`flags`},equatorial_guinea:{keywords:[`equatorial`,`gn`,`flag`,`nation`,`country`,`banner`],char:`🇬🇶`,fitzpatrick_scale:!1,category:`flags`},eritrea:{keywords:[`er`,`flag`,`nation`,`country`,`banner`],char:`🇪🇷`,fitzpatrick_scale:!1,category:`flags`},estonia:{keywords:[`ee`,`flag`,`nation`,`country`,`banner`],char:`🇪🇪`,fitzpatrick_scale:!1,category:`flags`},ethiopia:{keywords:[`et`,`flag`,`nation`,`country`,`banner`],char:`🇪🇹`,fitzpatrick_scale:!1,category:`flags`},eu:{keywords:[`european`,`union`,`flag`,`banner`],char:`🇪🇺`,fitzpatrick_scale:!1,category:`flags`},falkland_islands:{keywords:[`falkland`,`islands`,`malvinas`,`flag`,`nation`,`country`,`banner`],char:`🇫🇰`,fitzpatrick_scale:!1,category:`flags`},faroe_islands:{keywords:[`faroe`,`islands`,`flag`,`nation`,`country`,`banner`],char:`🇫🇴`,fitzpatrick_scale:!1,category:`flags`},fiji:{keywords:[`fj`,`flag`,`nation`,`country`,`banner`],char:`🇫🇯`,fitzpatrick_scale:!1,category:`flags`},finland:{keywords:[`fi`,`flag`,`nation`,`country`,`banner`],char:`🇫🇮`,fitzpatrick_scale:!1,category:`flags`},fr:{keywords:[`banner`,`flag`,`nation`,`france`,`french`,`country`],char:`🇫🇷`,fitzpatrick_scale:!1,category:`flags`},french_guiana:{keywords:[`french`,`guiana`,`flag`,`nation`,`country`,`banner`],char:`🇬🇫`,fitzpatrick_scale:!1,category:`flags`},french_polynesia:{keywords:[`french`,`polynesia`,`flag`,`nation`,`country`,`banner`],char:`🇵🇫`,fitzpatrick_scale:!1,category:`flags`},french_southern_territories:{keywords:[`french`,`southern`,`territories`,`flag`,`nation`,`country`,`banner`],char:`🇹🇫`,fitzpatrick_scale:!1,category:`flags`},gabon:{keywords:[`ga`,`flag`,`nation`,`country`,`banner`],char:`🇬🇦`,fitzpatrick_scale:!1,category:`flags`},gambia:{keywords:[`gm`,`flag`,`nation`,`country`,`banner`],char:`🇬🇲`,fitzpatrick_scale:!1,category:`flags`},georgia:{keywords:[`ge`,`flag`,`nation`,`country`,`banner`],char:`🇬🇪`,fitzpatrick_scale:!1,category:`flags`},de:{keywords:[`german`,`nation`,`flag`,`country`,`banner`],char:`🇩🇪`,fitzpatrick_scale:!1,category:`flags`},ghana:{keywords:[`gh`,`flag`,`nation`,`country`,`banner`],char:`🇬🇭`,fitzpatrick_scale:!1,category:`flags`},gibraltar:{keywords:[`gi`,`flag`,`nation`,`country`,`banner`],char:`🇬🇮`,fitzpatrick_scale:!1,category:`flags`},greece:{keywords:[`gr`,`flag`,`nation`,`country`,`banner`],char:`🇬🇷`,fitzpatrick_scale:!1,category:`flags`},greenland:{keywords:[`gl`,`flag`,`nation`,`country`,`banner`],char:`🇬🇱`,fitzpatrick_scale:!1,category:`flags`},grenada:{keywords:[`gd`,`flag`,`nation`,`country`,`banner`],char:`🇬🇩`,fitzpatrick_scale:!1,category:`flags`},guadeloupe:{keywords:[`gp`,`flag`,`nation`,`country`,`banner`],char:`🇬🇵`,fitzpatrick_scale:!1,category:`flags`},guam:{keywords:[`gu`,`flag`,`nation`,`country`,`banner`],char:`🇬🇺`,fitzpatrick_scale:!1,category:`flags`},guatemala:{keywords:[`gt`,`flag`,`nation`,`country`,`banner`],char:`🇬🇹`,fitzpatrick_scale:!1,category:`flags`},guernsey:{keywords:[`gg`,`flag`,`nation`,`country`,`banner`],char:`🇬🇬`,fitzpatrick_scale:!1,category:`flags`},guinea:{keywords:[`gn`,`flag`,`nation`,`country`,`banner`],char:`🇬🇳`,fitzpatrick_scale:!1,category:`flags`},guinea_bissau:{keywords:[`gw`,`bissau`,`flag`,`nation`,`country`,`banner`],char:`🇬🇼`,fitzpatrick_scale:!1,category:`flags`},guyana:{keywords:[`gy`,`flag`,`nation`,`country`,`banner`],char:`🇬🇾`,fitzpatrick_scale:!1,category:`flags`},haiti:{keywords:[`ht`,`flag`,`nation`,`country`,`banner`],char:`🇭🇹`,fitzpatrick_scale:!1,category:`flags`},honduras:{keywords:[`hn`,`flag`,`nation`,`country`,`banner`],char:`🇭🇳`,fitzpatrick_scale:!1,category:`flags`},hong_kong:{keywords:[`hong`,`kong`,`flag`,`nation`,`country`,`banner`],char:`🇭🇰`,fitzpatrick_scale:!1,category:`flags`},hungary:{keywords:[`hu`,`flag`,`nation`,`country`,`banner`],char:`🇭🇺`,fitzpatrick_scale:!1,category:`flags`},iceland:{keywords:[`is`,`flag`,`nation`,`country`,`banner`],char:`🇮🇸`,fitzpatrick_scale:!1,category:`flags`},india:{keywords:[`in`,`flag`,`nation`,`country`,`banner`],char:`🇮🇳`,fitzpatrick_scale:!1,category:`flags`},indonesia:{keywords:[`flag`,`nation`,`country`,`banner`],char:`🇮🇩`,fitzpatrick_scale:!1,category:`flags`},iran:{keywords:[`iran,`,`islamic`,`republic`,`flag`,`nation`,`country`,`banner`],char:`🇮🇷`,fitzpatrick_scale:!1,category:`flags`},iraq:{keywords:[`iq`,`flag`,`nation`,`country`,`banner`],char:`🇮🇶`,fitzpatrick_scale:!1,category:`flags`},ireland:{keywords:[`ie`,`flag`,`nation`,`country`,`banner`],char:`🇮🇪`,fitzpatrick_scale:!1,category:`flags`},isle_of_man:{keywords:[`isle`,`man`,`flag`,`nation`,`country`,`banner`],char:`🇮🇲`,fitzpatrick_scale:!1,category:`flags`},israel:{keywords:[`il`,`flag`,`nation`,`country`,`banner`],char:`🇮🇱`,fitzpatrick_scale:!1,category:`flags`},it:{keywords:[`italy`,`flag`,`nation`,`country`,`banner`],char:`🇮🇹`,fitzpatrick_scale:!1,category:`flags`},cote_divoire:{keywords:[`ivory`,`coast`,`flag`,`nation`,`country`,`banner`],char:`🇨🇮`,fitzpatrick_scale:!1,category:`flags`},jamaica:{keywords:[`jm`,`flag`,`nation`,`country`,`banner`],char:`🇯🇲`,fitzpatrick_scale:!1,category:`flags`},jp:{keywords:[`japanese`,`nation`,`flag`,`country`,`banner`],char:`🇯🇵`,fitzpatrick_scale:!1,category:`flags`},jersey:{keywords:[`je`,`flag`,`nation`,`country`,`banner`],char:`🇯🇪`,fitzpatrick_scale:!1,category:`flags`},jordan:{keywords:[`jo`,`flag`,`nation`,`country`,`banner`],char:`🇯🇴`,fitzpatrick_scale:!1,category:`flags`},kazakhstan:{keywords:[`kz`,`flag`,`nation`,`country`,`banner`],char:`🇰🇿`,fitzpatrick_scale:!1,category:`flags`},kenya:{keywords:[`ke`,`flag`,`nation`,`country`,`banner`],char:`🇰🇪`,fitzpatrick_scale:!1,category:`flags`},kiribati:{keywords:[`ki`,`flag`,`nation`,`country`,`banner`],char:`🇰🇮`,fitzpatrick_scale:!1,category:`flags`},kosovo:{keywords:[`xk`,`flag`,`nation`,`country`,`banner`],char:`🇽🇰`,fitzpatrick_scale:!1,category:`flags`},kuwait:{keywords:[`kw`,`flag`,`nation`,`country`,`banner`],char:`🇰🇼`,fitzpatrick_scale:!1,category:`flags`},kyrgyzstan:{keywords:[`kg`,`flag`,`nation`,`country`,`banner`],char:`🇰🇬`,fitzpatrick_scale:!1,category:`flags`},laos:{keywords:[`lao`,`democratic`,`republic`,`flag`,`nation`,`country`,`banner`],char:`🇱🇦`,fitzpatrick_scale:!1,category:`flags`},latvia:{keywords:[`lv`,`flag`,`nation`,`country`,`banner`],char:`🇱🇻`,fitzpatrick_scale:!1,category:`flags`},lebanon:{keywords:[`lb`,`flag`,`nation`,`country`,`banner`],char:`🇱🇧`,fitzpatrick_scale:!1,category:`flags`},lesotho:{keywords:[`ls`,`flag`,`nation`,`country`,`banner`],char:`🇱🇸`,fitzpatrick_scale:!1,category:`flags`},liberia:{keywords:[`lr`,`flag`,`nation`,`country`,`banner`],char:`🇱🇷`,fitzpatrick_scale:!1,category:`flags`},libya:{keywords:[`ly`,`flag`,`nation`,`country`,`banner`],char:`🇱🇾`,fitzpatrick_scale:!1,category:`flags`},liechtenstein:{keywords:[`li`,`flag`,`nation`,`country`,`banner`],char:`🇱🇮`,fitzpatrick_scale:!1,category:`flags`},lithuania:{keywords:[`lt`,`flag`,`nation`,`country`,`banner`],char:`🇱🇹`,fitzpatrick_scale:!1,category:`flags`},luxembourg:{keywords:[`lu`,`flag`,`nation`,`country`,`banner`],char:`🇱🇺`,fitzpatrick_scale:!1,category:`flags`},macau:{keywords:[`macao`,`flag`,`nation`,`country`,`banner`],char:`🇲🇴`,fitzpatrick_scale:!1,category:`flags`},macedonia:{keywords:[`macedonia,`,`flag`,`nation`,`country`,`banner`],char:`🇲🇰`,fitzpatrick_scale:!1,category:`flags`},madagascar:{keywords:[`mg`,`flag`,`nation`,`country`,`banner`],char:`🇲🇬`,fitzpatrick_scale:!1,category:`flags`},malawi:{keywords:[`mw`,`flag`,`nation`,`country`,`banner`],char:`🇲🇼`,fitzpatrick_scale:!1,category:`flags`},malaysia:{keywords:[`my`,`flag`,`nation`,`country`,`banner`],char:`🇲🇾`,fitzpatrick_scale:!1,category:`flags`},maldives:{keywords:[`mv`,`flag`,`nation`,`country`,`banner`],char:`🇲🇻`,fitzpatrick_scale:!1,category:`flags`},mali:{keywords:[`ml`,`flag`,`nation`,`country`,`banner`],char:`🇲🇱`,fitzpatrick_scale:!1,category:`flags`},malta:{keywords:[`mt`,`flag`,`nation`,`country`,`banner`],char:`🇲🇹`,fitzpatrick_scale:!1,category:`flags`},marshall_islands:{keywords:[`marshall`,`islands`,`flag`,`nation`,`country`,`banner`],char:`🇲🇭`,fitzpatrick_scale:!1,category:`flags`},martinique:{keywords:[`mq`,`flag`,`nation`,`country`,`banner`],char:`🇲🇶`,fitzpatrick_scale:!1,category:`flags`},mauritania:{keywords:[`mr`,`flag`,`nation`,`country`,`banner`],char:`🇲🇷`,fitzpatrick_scale:!1,category:`flags`},mauritius:{keywords:[`mu`,`flag`,`nation`,`country`,`banner`],char:`🇲🇺`,fitzpatrick_scale:!1,category:`flags`},mayotte:{keywords:[`yt`,`flag`,`nation`,`country`,`banner`],char:`🇾🇹`,fitzpatrick_scale:!1,category:`flags`},mexico:{keywords:[`mx`,`flag`,`nation`,`country`,`banner`],char:`🇲🇽`,fitzpatrick_scale:!1,category:`flags`},micronesia:{keywords:[`micronesia,`,`federated`,`states`,`flag`,`nation`,`country`,`banner`],char:`🇫🇲`,fitzpatrick_scale:!1,category:`flags`},moldova:{keywords:[`moldova,`,`republic`,`flag`,`nation`,`country`,`banner`],char:`🇲🇩`,fitzpatrick_scale:!1,category:`flags`},monaco:{keywords:[`mc`,`flag`,`nation`,`country`,`banner`],char:`🇲🇨`,fitzpatrick_scale:!1,category:`flags`},mongolia:{keywords:[`mn`,`flag`,`nation`,`country`,`banner`],char:`🇲🇳`,fitzpatrick_scale:!1,category:`flags`},montenegro:{keywords:[`me`,`flag`,`nation`,`country`,`banner`],char:`🇲🇪`,fitzpatrick_scale:!1,category:`flags`},montserrat:{keywords:[`ms`,`flag`,`nation`,`country`,`banner`],char:`🇲🇸`,fitzpatrick_scale:!1,category:`flags`},morocco:{keywords:[`ma`,`flag`,`nation`,`country`,`banner`],char:`🇲🇦`,fitzpatrick_scale:!1,category:`flags`},mozambique:{keywords:[`mz`,`flag`,`nation`,`country`,`banner`],char:`🇲🇿`,fitzpatrick_scale:!1,category:`flags`},myanmar:{keywords:[`mm`,`flag`,`nation`,`country`,`banner`],char:`🇲🇲`,fitzpatrick_scale:!1,category:`flags`},namibia:{keywords:[`na`,`flag`,`nation`,`country`,`banner`],char:`🇳🇦`,fitzpatrick_scale:!1,category:`flags`},nauru:{keywords:[`nr`,`flag`,`nation`,`country`,`banner`],char:`🇳🇷`,fitzpatrick_scale:!1,category:`flags`},nepal:{keywords:[`np`,`flag`,`nation`,`country`,`banner`],char:`🇳🇵`,fitzpatrick_scale:!1,category:`flags`},netherlands:{keywords:[`nl`,`flag`,`nation`,`country`,`banner`],char:`🇳🇱`,fitzpatrick_scale:!1,category:`flags`},new_caledonia:{keywords:[`new`,`caledonia`,`flag`,`nation`,`country`,`banner`],char:`🇳🇨`,fitzpatrick_scale:!1,category:`flags`},new_zealand:{keywords:[`new`,`zealand`,`flag`,`nation`,`country`,`banner`],char:`🇳🇿`,fitzpatrick_scale:!1,category:`flags`},nicaragua:{keywords:[`ni`,`flag`,`nation`,`country`,`banner`],char:`🇳🇮`,fitzpatrick_scale:!1,category:`flags`},niger:{keywords:[`ne`,`flag`,`nation`,`country`,`banner`],char:`🇳🇪`,fitzpatrick_scale:!1,category:`flags`},nigeria:{keywords:[`flag`,`nation`,`country`,`banner`],char:`🇳🇬`,fitzpatrick_scale:!1,category:`flags`},niue:{keywords:[`nu`,`flag`,`nation`,`country`,`banner`],char:`🇳🇺`,fitzpatrick_scale:!1,category:`flags`},norfolk_island:{keywords:[`norfolk`,`island`,`flag`,`nation`,`country`,`banner`],char:`🇳🇫`,fitzpatrick_scale:!1,category:`flags`},northern_mariana_islands:{keywords:[`northern`,`mariana`,`islands`,`flag`,`nation`,`country`,`banner`],char:`🇲🇵`,fitzpatrick_scale:!1,category:`flags`},north_korea:{keywords:[`north`,`korea`,`nation`,`flag`,`country`,`banner`],char:`🇰🇵`,fitzpatrick_scale:!1,category:`flags`},norway:{keywords:[`no`,`flag`,`nation`,`country`,`banner`],char:`🇳🇴`,fitzpatrick_scale:!1,category:`flags`},oman:{keywords:[`om_symbol`,`flag`,`nation`,`country`,`banner`],char:`🇴🇲`,fitzpatrick_scale:!1,category:`flags`},pakistan:{keywords:[`pk`,`flag`,`nation`,`country`,`banner`],char:`🇵🇰`,fitzpatrick_scale:!1,category:`flags`},palau:{keywords:[`pw`,`flag`,`nation`,`country`,`banner`],char:`🇵🇼`,fitzpatrick_scale:!1,category:`flags`},palestinian_territories:{keywords:[`palestine`,`palestinian`,`territories`,`flag`,`nation`,`country`,`banner`],char:`🇵🇸`,fitzpatrick_scale:!1,category:`flags`},panama:{keywords:[`pa`,`flag`,`nation`,`country`,`banner`],char:`🇵🇦`,fitzpatrick_scale:!1,category:`flags`},papua_new_guinea:{keywords:[`papua`,`new`,`guinea`,`flag`,`nation`,`country`,`banner`],char:`🇵🇬`,fitzpatrick_scale:!1,category:`flags`},paraguay:{keywords:[`py`,`flag`,`nation`,`country`,`banner`],char:`🇵🇾`,fitzpatrick_scale:!1,category:`flags`},peru:{keywords:[`pe`,`flag`,`nation`,`country`,`banner`],char:`🇵🇪`,fitzpatrick_scale:!1,category:`flags`},philippines:{keywords:[`ph`,`flag`,`nation`,`country`,`banner`],char:`🇵🇭`,fitzpatrick_scale:!1,category:`flags`},pitcairn_islands:{keywords:[`pitcairn`,`flag`,`nation`,`country`,`banner`],char:`🇵🇳`,fitzpatrick_scale:!1,category:`flags`},poland:{keywords:[`pl`,`flag`,`nation`,`country`,`banner`],char:`🇵🇱`,fitzpatrick_scale:!1,category:`flags`},portugal:{keywords:[`pt`,`flag`,`nation`,`country`,`banner`],char:`🇵🇹`,fitzpatrick_scale:!1,category:`flags`},puerto_rico:{keywords:[`puerto`,`rico`,`flag`,`nation`,`country`,`banner`],char:`🇵🇷`,fitzpatrick_scale:!1,category:`flags`},qatar:{keywords:[`qa`,`flag`,`nation`,`country`,`banner`],char:`🇶🇦`,fitzpatrick_scale:!1,category:`flags`},reunion:{keywords:[`réunion`,`flag`,`nation`,`country`,`banner`],char:`🇷🇪`,fitzpatrick_scale:!1,category:`flags`},romania:{keywords:[`ro`,`flag`,`nation`,`country`,`banner`],char:`🇷🇴`,fitzpatrick_scale:!1,category:`flags`},ru:{keywords:[`russian`,`federation`,`flag`,`nation`,`country`,`banner`],char:`🇷🇺`,fitzpatrick_scale:!1,category:`flags`},rwanda:{keywords:[`rw`,`flag`,`nation`,`country`,`banner`],char:`🇷🇼`,fitzpatrick_scale:!1,category:`flags`},st_barthelemy:{keywords:[`saint`,`barthélemy`,`flag`,`nation`,`country`,`banner`],char:`🇧🇱`,fitzpatrick_scale:!1,category:`flags`},st_helena:{keywords:[`saint`,`helena`,`ascension`,`tristan`,`cunha`,`flag`,`nation`,`country`,`banner`],char:`🇸🇭`,fitzpatrick_scale:!1,category:`flags`},st_kitts_nevis:{keywords:[`saint`,`kitts`,`nevis`,`flag`,`nation`,`country`,`banner`],char:`🇰🇳`,fitzpatrick_scale:!1,category:`flags`},st_lucia:{keywords:[`saint`,`lucia`,`flag`,`nation`,`country`,`banner`],char:`🇱🇨`,fitzpatrick_scale:!1,category:`flags`},st_pierre_miquelon:{keywords:[`saint`,`pierre`,`miquelon`,`flag`,`nation`,`country`,`banner`],char:`🇵🇲`,fitzpatrick_scale:!1,category:`flags`},st_vincent_grenadines:{keywords:[`saint`,`vincent`,`grenadines`,`flag`,`nation`,`country`,`banner`],char:`🇻🇨`,fitzpatrick_scale:!1,category:`flags`},samoa:{keywords:[`ws`,`flag`,`nation`,`country`,`banner`],char:`🇼🇸`,fitzpatrick_scale:!1,category:`flags`},san_marino:{keywords:[`san`,`marino`,`flag`,`nation`,`country`,`banner`],char:`🇸🇲`,fitzpatrick_scale:!1,category:`flags`},sao_tome_principe:{keywords:[`sao`,`tome`,`principe`,`flag`,`nation`,`country`,`banner`],char:`🇸🇹`,fitzpatrick_scale:!1,category:`flags`},saudi_arabia:{keywords:[`flag`,`nation`,`country`,`banner`],char:`🇸🇦`,fitzpatrick_scale:!1,category:`flags`},senegal:{keywords:[`sn`,`flag`,`nation`,`country`,`banner`],char:`🇸🇳`,fitzpatrick_scale:!1,category:`flags`},serbia:{keywords:[`rs`,`flag`,`nation`,`country`,`banner`],char:`🇷🇸`,fitzpatrick_scale:!1,category:`flags`},seychelles:{keywords:[`sc`,`flag`,`nation`,`country`,`banner`],char:`🇸🇨`,fitzpatrick_scale:!1,category:`flags`},sierra_leone:{keywords:[`sierra`,`leone`,`flag`,`nation`,`country`,`banner`],char:`🇸🇱`,fitzpatrick_scale:!1,category:`flags`},singapore:{keywords:[`sg`,`flag`,`nation`,`country`,`banner`],char:`🇸🇬`,fitzpatrick_scale:!1,category:`flags`},sint_maarten:{keywords:[`sint`,`maarten`,`dutch`,`flag`,`nation`,`country`,`banner`],char:`🇸🇽`,fitzpatrick_scale:!1,category:`flags`},slovakia:{keywords:[`sk`,`flag`,`nation`,`country`,`banner`],char:`🇸🇰`,fitzpatrick_scale:!1,category:`flags`},slovenia:{keywords:[`si`,`flag`,`nation`,`country`,`banner`],char:`🇸🇮`,fitzpatrick_scale:!1,category:`flags`},solomon_islands:{keywords:[`solomon`,`islands`,`flag`,`nation`,`country`,`banner`],char:`🇸🇧`,fitzpatrick_scale:!1,category:`flags`},somalia:{keywords:[`so`,`flag`,`nation`,`country`,`banner`],char:`🇸🇴`,fitzpatrick_scale:!1,category:`flags`},south_africa:{keywords:[`south`,`africa`,`flag`,`nation`,`country`,`banner`],char:`🇿🇦`,fitzpatrick_scale:!1,category:`flags`},south_georgia_south_sandwich_islands:{keywords:[`south`,`georgia`,`sandwich`,`islands`,`flag`,`nation`,`country`,`banner`],char:`🇬🇸`,fitzpatrick_scale:!1,category:`flags`},kr:{keywords:[`south`,`korea`,`nation`,`flag`,`country`,`banner`],char:`🇰🇷`,fitzpatrick_scale:!1,category:`flags`},south_sudan:{keywords:[`south`,`sd`,`flag`,`nation`,`country`,`banner`],char:`🇸🇸`,fitzpatrick_scale:!1,category:`flags`},es:{keywords:[`spain`,`flag`,`nation`,`country`,`banner`],char:`🇪🇸`,fitzpatrick_scale:!1,category:`flags`},sri_lanka:{keywords:[`sri`,`lanka`,`flag`,`nation`,`country`,`banner`],char:`🇱🇰`,fitzpatrick_scale:!1,category:`flags`},sudan:{keywords:[`sd`,`flag`,`nation`,`country`,`banner`],char:`🇸🇩`,fitzpatrick_scale:!1,category:`flags`},suriname:{keywords:[`sr`,`flag`,`nation`,`country`,`banner`],char:`🇸🇷`,fitzpatrick_scale:!1,category:`flags`},swaziland:{keywords:[`sz`,`flag`,`nation`,`country`,`banner`],char:`🇸🇿`,fitzpatrick_scale:!1,category:`flags`},sweden:{keywords:[`se`,`flag`,`nation`,`country`,`banner`],char:`🇸🇪`,fitzpatrick_scale:!1,category:`flags`},switzerland:{keywords:[`ch`,`flag`,`nation`,`country`,`banner`],char:`🇨🇭`,fitzpatrick_scale:!1,category:`flags`},syria:{keywords:[`syrian`,`arab`,`republic`,`flag`,`nation`,`country`,`banner`],char:`🇸🇾`,fitzpatrick_scale:!1,category:`flags`},taiwan:{keywords:[`tw`,`flag`,`nation`,`country`,`banner`],char:`🇹🇼`,fitzpatrick_scale:!1,category:`flags`},tajikistan:{keywords:[`tj`,`flag`,`nation`,`country`,`banner`],char:`🇹🇯`,fitzpatrick_scale:!1,category:`flags`},tanzania:{keywords:[`tanzania,`,`united`,`republic`,`flag`,`nation`,`country`,`banner`],char:`🇹🇿`,fitzpatrick_scale:!1,category:`flags`},thailand:{keywords:[`th`,`flag`,`nation`,`country`,`banner`],char:`🇹🇭`,fitzpatrick_scale:!1,category:`flags`},timor_leste:{keywords:[`timor`,`leste`,`flag`,`nation`,`country`,`banner`],char:`🇹🇱`,fitzpatrick_scale:!1,category:`flags`},togo:{keywords:[`tg`,`flag`,`nation`,`country`,`banner`],char:`🇹🇬`,fitzpatrick_scale:!1,category:`flags`},tokelau:{keywords:[`tk`,`flag`,`nation`,`country`,`banner`],char:`🇹🇰`,fitzpatrick_scale:!1,category:`flags`},tonga:{keywords:[`to`,`flag`,`nation`,`country`,`banner`],char:`🇹🇴`,fitzpatrick_scale:!1,category:`flags`},trinidad_tobago:{keywords:[`trinidad`,`tobago`,`flag`,`nation`,`country`,`banner`],char:`🇹🇹`,fitzpatrick_scale:!1,category:`flags`},tunisia:{keywords:[`tn`,`flag`,`nation`,`country`,`banner`],char:`🇹🇳`,fitzpatrick_scale:!1,category:`flags`},tr:{keywords:[`turkey`,`flag`,`nation`,`country`,`banner`],char:`🇹🇷`,fitzpatrick_scale:!1,category:`flags`},turkmenistan:{keywords:[`flag`,`nation`,`country`,`banner`],char:`🇹🇲`,fitzpatrick_scale:!1,category:`flags`},turks_caicos_islands:{keywords:[`turks`,`caicos`,`islands`,`flag`,`nation`,`country`,`banner`],char:`🇹🇨`,fitzpatrick_scale:!1,category:`flags`},tuvalu:{keywords:[`flag`,`nation`,`country`,`banner`],char:`🇹🇻`,fitzpatrick_scale:!1,category:`flags`},uganda:{keywords:[`ug`,`flag`,`nation`,`country`,`banner`],char:`🇺🇬`,fitzpatrick_scale:!1,category:`flags`},ukraine:{keywords:[`ua`,`flag`,`nation`,`country`,`banner`],char:`🇺🇦`,fitzpatrick_scale:!1,category:`flags`},united_arab_emirates:{keywords:[`united`,`arab`,`emirates`,`flag`,`nation`,`country`,`banner`],char:`🇦🇪`,fitzpatrick_scale:!1,category:`flags`},uk:{keywords:[`united`,`kingdom`,`great`,`britain`,`northern`,`ireland`,`flag`,`nation`,`country`,`banner`,`british`,`UK`,`english`,`england`,`union jack`],char:`🇬🇧`,fitzpatrick_scale:!1,category:`flags`},england:{keywords:[`flag`,`english`],char:`🏴󠁧󠁢󠁥󠁮󠁧󠁿`,fitzpatrick_scale:!1,category:`flags`},scotland:{keywords:[`flag`,`scottish`],char:`🏴󠁧󠁢󠁳󠁣󠁴󠁿`,fitzpatrick_scale:!1,category:`flags`},wales:{keywords:[`flag`,`welsh`],char:`🏴󠁧󠁢󠁷󠁬󠁳󠁿`,fitzpatrick_scale:!1,category:`flags`},us:{keywords:[`united`,`states`,`america`,`flag`,`nation`,`country`,`banner`],char:`🇺🇸`,fitzpatrick_scale:!1,category:`flags`},us_virgin_islands:{keywords:[`virgin`,`islands`,`us`,`flag`,`nation`,`country`,`banner`],char:`🇻🇮`,fitzpatrick_scale:!1,category:`flags`},uruguay:{keywords:[`uy`,`flag`,`nation`,`country`,`banner`],char:`🇺🇾`,fitzpatrick_scale:!1,category:`flags`},uzbekistan:{keywords:[`uz`,`flag`,`nation`,`country`,`banner`],char:`🇺🇿`,fitzpatrick_scale:!1,category:`flags`},vanuatu:{keywords:[`vu`,`flag`,`nation`,`country`,`banner`],char:`🇻🇺`,fitzpatrick_scale:!1,category:`flags`},vatican_city:{keywords:[`vatican`,`city`,`flag`,`nation`,`country`,`banner`],char:`🇻🇦`,fitzpatrick_scale:!1,category:`flags`},venezuela:{keywords:[`ve`,`bolivarian`,`republic`,`flag`,`nation`,`country`,`banner`],char:`🇻🇪`,fitzpatrick_scale:!1,category:`flags`},vietnam:{keywords:[`viet`,`nam`,`flag`,`nation`,`country`,`banner`],char:`🇻🇳`,fitzpatrick_scale:!1,category:`flags`},wallis_futuna:{keywords:[`wallis`,`futuna`,`flag`,`nation`,`country`,`banner`],char:`🇼🇫`,fitzpatrick_scale:!1,category:`flags`},western_sahara:{keywords:[`western`,`sahara`,`flag`,`nation`,`country`,`banner`],char:`🇪🇭`,fitzpatrick_scale:!1,category:`flags`},yemen:{keywords:[`ye`,`flag`,`nation`,`country`,`banner`],char:`🇾🇪`,fitzpatrick_scale:!1,category:`flags`},zambia:{keywords:[`zm`,`flag`,`nation`,`country`,`banner`],char:`🇿🇲`,fitzpatrick_scale:!1,category:`flags`},zimbabwe:{keywords:[`zw`,`flag`,`nation`,`country`,`banner`],char:`🇿🇼`,fitzpatrick_scale:!1,category:`flags`},united_nations:{keywords:[`un`,`flag`,`banner`],char:`🇺🇳`,fitzpatrick_scale:!1,category:`flags`},pirate_flag:{keywords:[`skull`,`crossbones`,`flag`,`banner`],char:`🏴‍☠️`,fitzpatrick_scale:!1,category:`flags`}}),(function(){var e=tinymce.util.Tools.resolve(`tinymce.PluginManager`);let t=(e,t,n)=>n(e,t.prototype)?!0:e.constructor?.name===t.name,n=e=>{let n=typeof e;return e===null?`null`:n===`object`&&Array.isArray(e)?`array`:n===`object`&&t(e,String,(e,t)=>t.isPrototypeOf(e))?`string`:n},r=e=>t=>n(t)===e,i=e=>t=>typeof t===e,a=r(`string`),o=i(`boolean`),s=e=>e==null,c=e=>!s(e),l=i(`function`),u=e=>t=>t.options.get(e),d=e=>{let t=e.options.register,n=e=>t=>{let n=o(t)||a(t);return n?o(t)?{value:t?e:``,valid:n}:{value:t.trim(),valid:n}:{valid:!1,message:`Must be a boolean or string.`}},r=`bold italic | quicklink h2 h3 blockquote`;t(`quickbars_selection_toolbar`,{processor:n(r),default:r});let i=`quickimage quicktable`;t(`quickbars_insert_toolbar`,{processor:n(i),default:i});let s=`alignleft aligncenter alignright`;t(`quickbars_image_toolbar`,{processor:n(s),default:s})},f=u(`quickbars_selection_toolbar`),p=u(`quickbars_insert_toolbar`),m=u(`quickbars_image_toolbar`),h=0,g=e=>{let t=new Date().getTime(),n=Math.floor(Math.random()*1e9);return h++,e+`_`+n+h+String(t)},_=(e,t,n)=>{e.execCommand(`mceInsertTable`,!1,{rows:n,columns:t})},v=(e,t,n)=>{let r=e.editorUpload.blobCache,i=r.create(g(`mceu`),n,t);r.add(i),e.insertContent(e.dom.createHTML(`img`,{src:i.blobUri()}))},y=e=>new Promise(t=>{let n=new FileReader;n.onloadend=()=>{t(n.result.split(`,`)[1])},n.readAsDataURL(e)});var b=tinymce.util.Tools.resolve(`tinymce.util.Delay`);let x=e=>new Promise(t=>{let n=!1,r=document.createElement(`input`);r.type=`file`,r.accept=`image/*`,r.style.position=`fixed`,r.style.left=`0`,r.style.top=`0`,r.style.opacity=`0.001`,document.body.appendChild(r);let i=e=>{var i;n||((i=r.parentNode)==null||i.removeChild(r),n=!0,t(e))},a=e=>{i(Array.prototype.slice.call(e.target.files))};r.addEventListener(`input`,a),r.addEventListener(`change`,a);let o=t=>{let r=()=>{i([])};n||(t.type===`focusin`?b.setEditorTimeout(e,r,1e3):r()),e.off(`focusin remove`,o)};e.on(`focusin remove`,o),r.click()}),S=e=>{e.ui.registry.addButton(`quickimage`,{icon:`image`,tooltip:`Insert image`,onAction:()=>{x(e).then(t=>{if(t.length>0){let n=t[0];y(n).then(t=>{v(e,t,n)})}})}}),e.ui.registry.addButton(`quicktable`,{icon:`table`,tooltip:`Insert table`,onAction:()=>{_(e,2,2)}})},C=(e=>()=>e)(!1);class w{constructor(e,t){this.tag=e,this.value=t}static some(e){return new w(!0,e)}static none(){return w.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?w.some(e(this.value)):w.none()}bind(e){return this.tag?e(this.value):w.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:w.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(e??`Called getOrDie on None`)}static from(e){return c(e)?w.some(e):w.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:`none()`}}w.singletonNone=new w(!1),typeof window<`u`?window:Function(`return this;`)();let T=e=>e.dom.nodeName.toLowerCase(),E=(e,t)=>{let n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1};var D=(e,t,n,r,i)=>e(n,r)?w.some(n):l(i)&&i(n)?w.none():t(n,r,i);let O=(e,t)=>{let n=(t||document).createElement(`div`);if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){let t=`HTML does not have a single root node`;throw console.error(t,e),Error(t)}return te(n.childNodes[0])},ee=(e,t)=>te((t||document).createElement(e)),k=(e,t)=>te((t||document).createTextNode(e)),te=e=>{if(e==null)throw Error(`Node cannot be null or undefined`);return{dom:e}},A={fromHtml:O,fromTag:ee,fromText:k,fromDom:te,fromPoint:(e,t,n)=>w.from(e.dom.elementFromPoint(t,n)).map(te)},j=(e,t)=>{let n=e.dom;if(n.nodeType!==1)return!1;{let e=n;if(e.matches!==void 0)return e.matches(t);if(e.msMatchesSelector!==void 0)return e.msMatchesSelector(t);if(e.webkitMatchesSelector!==void 0)return e.webkitMatchesSelector(t);if(e.mozMatchesSelector!==void 0)return e.mozMatchesSelector(t);throw Error(`Browser lacks native selectors`)}},ne=(e,t,n)=>{let r=e.dom,i=l(n)?n:C;for(;r.parentNode;){r=r.parentNode;let e=A.fromDom(r);if(t(e))return w.some(e);if(i(e))break}return w.none()},re=(e,t,n)=>D((e,t)=>t(e),ne,e,t,n),M=(e,t,n)=>re(e,t,n).isSome(),N=(e,t,n)=>ne(e,e=>j(e,t),n),ie=(e,t,n)=>D((e,t)=>j(e,t),N,e,t,n),ae=e=>{let t=p(e);t.length>0&&e.ui.registry.addContextToolbar(`quickblock`,{predicate:t=>{let n=A.fromDom(t),r=e.schema.getTextBlockElements(),i=t=>t.dom===e.getBody();return!E(n,`data-mce-bogus`)&&ie(n,`table,[data-mce-bogus="all"]`,i).fold(()=>M(n,t=>T(t)in r&&e.dom.isEmpty(t.dom),i),C)},items:t,position:`line`,scope:`editor`})},oe=e=>e.dom.classList!==void 0,P=(e,t)=>oe(e)&&e.dom.classList.contains(t),F=e=>{let t=t=>e.dom.isEditable(t),n=e=>t(e.parentElement),r=e=>{let t=e.nodeName===`FIGURE`&&/image/i.test(e.className),r=e.nodeName===`IMG`||t,i=P(A.fromDom(e),`mce-pagebreak`);return r&&n(e)&&!i},i=m(e);i.length>0&&e.ui.registry.addContextToolbar(`imageselection`,{predicate:r,items:i,position:`node`});let a=f(e);a.length>0&&e.ui.registry.addContextToolbar(`textselection`,{predicate:n=>!r(n)&&!e.selection.isCollapsed()&&t(n),items:a,position:`selection`,scope:`editor`})};e.add(`quickbars`,e=>{d(e),S(e),ae(e),F(e)})})(),tinymce.Resource.add(`tinymce.html-i18n.help-keynav.zh_CN`,`<h1>开始键盘导航</h1>

<dl>
  <dt>聚焦于菜单栏</dt>
  <dd>Windows 或 Linux：Alt+F9</dd>
  <dd>macOS：&#x2325;F9</dd>
  <dt>聚焦于工具栏</dt>
  <dd>Windows 或 Linux：Alt+F10</dd>
  <dd>macOS：&#x2325;F10</dd>
  <dt>聚焦于页脚</dt>
  <dd>Windows 或 Linux：Alt+F11</dd>
  <dd>macOS：&#x2325;F11</dd>
  <dt>聚焦于上下文工具栏</dt>
  <dd>Windows、Linux 或 macOS：Ctrl+F9
</dl>

<p>导航将在第一个 UI 项上开始，其中突出显示该项，或者对于页脚元素路径中的第一项，将为其添加下划线。</p>

<h1>在 UI 部分之间导航</h1>

<p>要从一个 UI 部分移至下一个，请按 <strong>Tab</strong>。</p>

<p>要从一个 UI 部分移至上一个，请按 <strong>Shift+Tab</strong>。</p>

<p>这些 UI 部分的 <strong>Tab</strong> 顺序为：</p>

<ol>
  <li>菜单栏</li>
  <li>每个工具栏组</li>
  <li>边栏</li>
  <li>页脚中的元素路径</li>
  <li>页脚中的字数切换按钮</li>
  <li>页脚中的品牌链接</li>
  <li>页脚中的编辑器调整大小图柄</li>
</ol>

<p>如果不存在某个 UI 部分，则跳过它。</p>

<p>如果键盘导航焦点在页脚，并且没有可见的边栏，则按 <strong>Shift+Tab</strong> 将焦点移至第一个工具栏组而非最后一个。</p>

<h1>在 UI 部分内导航</h1>

<p>要从一个 UI 元素移至下一个，请按相应的<strong>箭头</strong>键。</p>

<p><strong>左</strong>和<strong>右</strong>箭头键</p>

<ul>
  <li>在菜单栏中的菜单之间移动。</li>
  <li>打开菜单中的子菜单。</li>
  <li>在工具栏组中的按钮之间移动。</li>
  <li>在页脚的元素路径中的各项之间移动。</li>
</ul>

<p><strong>下</strong>和<strong>上</strong>箭头键</p>

<ul>
  <li>在菜单中的菜单项之间移动。</li>
  <li>在工具栏弹出菜单中的各项之间移动。</li>
</ul>

<p><strong>箭头</strong>键在具有焦点的 UI 部分内循环。</p>

<p>要关闭打开的菜单、打开的子菜单或打开的弹出菜单，请按 <strong>Esc</strong> 键。</p>

<p>如果当前的焦点在特定 UI 部分的“顶部”，则按 <strong>Esc</strong> 键还将完全退出键盘导航。</p>

<h1>执行菜单项或工具栏按钮</h1>

<p>当突出显示所需的菜单项或工具栏按钮时，按 <strong>Return</strong>、<strong>Enter</strong> 或<strong>空格</strong>以执行该项。</p>

<h1>在非标签页式对话框中导航</h1>

<p>在非标签页式对话框中，当对话框打开时，第一个交互组件获得焦点。</p>

<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在交互对话框组件之间导航。</p>

<h1>在标签页式对话框中导航</h1>

<p>在标签页式对话框中，当对话框打开时，标签页菜单中的第一个按钮获得焦点。</p>

<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在此对话框的交互组件之间导航。</p>

<p>通过将焦点移至另一对话框标签页的菜单，然后按相应的<strong>箭头</strong>键以在可用的标签页间循环，从而切换到该对话框标签页。</p>
`),tinymce.Resource.add(`tinymce.html-i18n.help-keynav.en`,`<h1>Begin keyboard navigation</h1>

<dl>
  <dt>Focus the Menu bar</dt>
  <dd>Windows or Linux: Alt+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Focus the Toolbar</dt>
  <dd>Windows or Linux: Alt+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Focus the footer</dt>
  <dd>Windows or Linux: Alt+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Focus a contextual toolbar</dt>
  <dd>Windows, Linux or macOS: Ctrl+F9
</dl>

<p>Navigation will start at the first UI item, which will be highlighted, or underlined in the case of the first item in
  the Footer element path.</p>

<h1>Navigate between UI sections</h1>

<p>To move from one UI section to the next, press <strong>Tab</strong>.</p>

<p>To move from one UI section to the previous, press <strong>Shift+Tab</strong>.</p>

<p>The <strong>Tab</strong> order of these UI sections is:</p>

<ol>
  <li>Menu bar</li>
  <li>Each toolbar group</li>
  <li>Sidebar</li>
  <li>Element path in the footer</li>
  <li>Word count toggle button in the footer</li>
  <li>Branding link in the footer</li>
  <li>Editor resize handle in the footer</li>
</ol>

<p>If a UI section is not present, it is skipped.</p>

<p>If the footer has keyboard navigation focus, and there is no visible sidebar, pressing <strong>Shift+Tab</strong>
  moves focus to the first toolbar group, not the last.</p>

<h1>Navigate within UI sections</h1>

<p>To move from one UI element to the next, press the appropriate <strong>Arrow</strong> key.</p>

<p>The <strong>Left</strong> and <strong>Right</strong> arrow keys</p>

<ul>
  <li>move between menus in the menu bar.</li>
  <li>open a sub-menu in a menu.</li>
  <li>move between buttons in a toolbar group.</li>
  <li>move between items in the footer’s element path.</li>
</ul>

<p>The <strong>Down</strong> and <strong>Up</strong> arrow keys</p>

<ul>
  <li>move between menu items in a menu.</li>
  <li>move between items in a toolbar pop-up menu.</li>
</ul>

<p><strong>Arrow</strong> keys cycle within the focused UI section.</p>

<p>To close an open menu, an open sub-menu, or an open pop-up menu, press the <strong>Esc</strong> key.</p>

<p>If the current focus is at the ‘top’ of a particular UI section, pressing the <strong>Esc</strong> key also exits
  keyboard navigation entirely.</p>

<h1>Execute a menu item or toolbar button</h1>

<p>When the desired menu item or toolbar button is highlighted, press <strong>Return</strong>, <strong>Enter</strong>,
  or the <strong>Space bar</strong> to execute the item.</p>

<h1>Navigate non-tabbed dialogs</h1>

<p>In non-tabbed dialogs, the first interactive component takes focus when the dialog opens.</p>

<p>Navigate between interactive dialog components by pressing <strong>Tab</strong> or <strong>Shift+Tab</strong>.</p>

<h1>Navigate tabbed dialogs</h1>

<p>In tabbed dialogs, the first button in the tab menu takes focus when the dialog opens.</p>

<p>Navigate between interactive components of this dialog tab by pressing <strong>Tab</strong> or
  <strong>Shift+Tab</strong>.</p>

<p>Switch to another dialog tab by giving the tab menu focus and then pressing the appropriate <strong>Arrow</strong>
  key to cycle through the available tabs.</p>
`),tinymce.Resource.add(`tinymce.html-i18n.help-keynav.de`,`<h1>Grundlagen der Tastaturnavigation</h1>

<dl>
  <dt>Fokus auf Menüleiste</dt>
  <dd>Windows oder Linux: ALT+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Fokus auf Symbolleiste</dt>
  <dd>Windows oder Linux: ALT+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Fokus auf Fußzeile</dt>
  <dd>Windows oder Linux: ALT+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Fokus auf kontextbezogene Symbolleiste</dt>
  <dd>Windows, Linux oder macOS: STRG+F9
</dl>

<p>Die Navigation beginnt beim ersten Benutzeroberflächenelement, welches hervorgehoben ist. Falls sich das erste Element im Pfad der Fußzeile befindet,
  ist es unterstrichen.</p>

<h1>Zwischen Abschnitten der Benutzeroberfläche navigieren</h1>

<p>Um von einem Abschnitt der Benutzeroberfläche zum nächsten zu wechseln, drücken Sie <strong>TAB</strong>.</p>

<p>Um von einem Abschnitt der Benutzeroberfläche zum vorherigen zu wechseln, drücken Sie <strong>UMSCHALT+TAB</strong>.</p>

<p>Die Abschnitte der Benutzeroberfläche haben folgende <strong>TAB</strong>-Reihenfolge:</p>

<ol>
  <li>Menüleiste</li>
  <li>Einzelne Gruppen der Symbolleiste</li>
  <li>Randleiste</li>
  <li>Elementpfad in der Fußzeile</li>
  <li>Umschaltfläche „Wörter zählen“ in der Fußzeile</li>
  <li>Branding-Link in der Fußzeile</li>
  <li>Editor-Ziehpunkt zur Größenänderung in der Fußzeile</li>
</ol>

<p>Falls ein Abschnitt der Benutzeroberflächen nicht vorhanden ist, wird er übersprungen.</p>

<p>Wenn in der Fußzeile die Tastaturnavigation fokussiert ist und keine Randleiste angezeigt wird, wechselt der Fokus durch Drücken von <strong>UMSCHALT+TAB</strong>
  zur ersten Gruppe der Symbolleiste, nicht zur letzten.</p>

<h1>Innerhalb von Abschnitten der Benutzeroberfläche navigieren</h1>

<p>Um von einem Element der Benutzeroberfläche zum nächsten zu wechseln, drücken Sie die entsprechende <strong>Pfeiltaste</strong>.</p>

<p>Die Pfeiltasten <strong>Links</strong> und <strong>Rechts</strong></p>

<ul>
  <li>wechseln zwischen Menüs in der Menüleiste.</li>
  <li>öffnen das Untermenü eines Menüs.</li>
  <li>wechseln zwischen Schaltflächen in einer Gruppe der Symbolleiste.</li>
  <li>wechseln zwischen Elementen im Elementpfad der Fußzeile.</li>
</ul>

<p>Die Pfeiltasten <strong>Abwärts</strong> und <strong>Aufwärts</strong></p>

<ul>
  <li>wechseln zwischen Menüelementen in einem Menü.</li>
  <li>wechseln zwischen Elementen in einem Popupmenü der Symbolleiste.</li>
</ul>

<p>Die <strong>Pfeiltasten</strong> rotieren innerhalb des fokussierten Abschnitts der Benutzeroberfläche.</p>

<p>Um ein geöffnetes Menü, ein geöffnetes Untermenü oder ein geöffnetes Popupmenü zu schließen, drücken Sie die <strong>ESC</strong>-Taste.</p>

<p>Wenn sich der aktuelle Fokus ganz oben in einem bestimmten Abschnitt der Benutzeroberfläche befindet, wird durch Drücken der <strong>ESC</strong>-Taste auch
  die Tastaturnavigation beendet.</p>

<h1>Ein Menüelement oder eine Symbolleistenschaltfläche ausführen</h1>

<p>Wenn das gewünschte Menüelement oder die gewünschte Symbolleistenschaltfläche hervorgehoben ist, drücken Sie <strong>Zurück</strong>, <strong>Eingabe</strong>
  oder die <strong>Leertaste</strong>, um das Element auszuführen.</p>

<h1>In Dialogfeldern ohne Registerkarten navigieren</h1>

<p>In Dialogfeldern ohne Registerkarten ist beim Öffnen eines Dialogfelds die erste interaktive Komponente fokussiert.</p>

<p>Navigieren Sie zwischen den interaktiven Komponenten eines Dialogfelds, indem Sie <strong>TAB</strong> oder <strong>UMSCHALT+TAB</strong> drücken.</p>

<h1>In Dialogfeldern mit Registerkarten navigieren</h1>

<p>In Dialogfeldern mit Registerkarten ist beim Öffnen eines Dialogfelds die erste Schaltfläche eines Registerkartenmenüs fokussiert.</p>

<p>Navigieren Sie zwischen den interaktiven Komponenten auf dieser Registerkarte des Dialogfelds, indem Sie <strong>TAB</strong> oder
  <strong>UMSCHALT+TAB</strong> drücken.</p>

<p>Wechseln Sie zu einer anderen Registerkarte des Dialogfelds, indem Sie den Fokus auf das Registerkartenmenü legen und dann die entsprechende <strong>Pfeiltaste</strong>
  drücken, um durch die verfügbaren Registerkarten zu rotieren.</p>
`);var g=e(f()),_=e(l()),v=function(e){s(i,e);function i(){var t=e!==null&&e.apply(this,arguments)||this;return t.unmounted=!1,t.editorInitialized=!1,t.elementRef=h.createRef(),t}return i.prototype.componentDidMount=function(){this.initTiny()},i.prototype.componentDidUpdate=function(e){var t,n=this.props;n.model!==e.model&&n.model!==this.currentContent&&this.editorInitialized&&((t=this.editor)==null||t.setContent(this.currentContent=n.model||``)),this.editor&&!(0,_.default)(this.props.config,e.config)&&(this.editor.contentWindow.removeEventListener(`unload`,this.handleIframeUnload),m.default.remove(this.editor),this.initTiny())},i.prototype.componentWillUnmount=function(){this.editor&&(this.editor.contentWindow.removeEventListener(`unload`,this.handleIframeUnload),m.default.remove(this.editor)),this.unmounted=!0},i.prototype.initTiny=function(){return u(this,void 0,void 0,function(){var e,n,r,i,o=this;return c(this,function(s){switch(s.label){case 0:return e=this.props.locale,n=this.props.config||{},r=n.onLoaded,i=a(n,[`onLoaded`]),this.config=t(t({inline:!1,skin:!1,content_css:!1,height:400,language:!e||e===`zh-CN`?`zh_CN`:`en`,branding:!1,plugins:[`advlist`,`autolink`,`autoresize`,`link`,`image`,`lists`,`charmap`,`preview`,`anchor`,`pagebreak`,`searchreplace`,`wordcount`,`visualblocks`,`visualchars`,`code`,`fullscreen`,`insertdatetime`,`media`,`nonbreaking`,`table`,`emoticons`,`template`,`help`,`quickbars`],toolbar:`undo redo | blocks | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | preview media | fontfamily fontsize forecolor backcolor emoticons | print help`,quickbars_selection_toolbar:`bold italic | link h2 h3 blockquote`,quickbars_insert_toolbar:`quickimage quicktable`,menu:{file:{title:`File`,items:`newdocument restoredraft | preview | print `},edit:{title:`Edit`,items:`undo redo | cut copy paste | selectall | searchreplace`},view:{title:`View`,items:`code | visualaid visualchars visualblocks | preview fullscreen`},insert:{title:`Insert`,items:`image link media template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime`},format:{title:`Format`,items:`bold italic underline strikethrough superscript subscript codeformat | styles blocks fontsize align | forecolor backcolor | removeformat`},tools:{title:`Tools`,items:`code wordcount`},table:{title:`Table`,items:`inserttable | cell row column | tableprops deletetable`},help:{title:`Help`,items:`help`}},paste_data_images:!0,content_style:[`.mce-content-body div.mce-resizehandle { background-color: #4099ff; border-color: #4099ff; border-style: solid; border-width: 1px; box-sizing: border-box; height: 10px; position: absolute; width: 10px; z-index: 1298 } .mce-content-body .mce-clonedresizable { cursor: default; opacity: .5; outline: 1px dashed #000; position: absolute; z-index: 10001 }`,`[data-mce-bogus] video {display:none;}`].join(`
`)},i),{target:this.elementRef.current,readOnly:this.props.disabled,promotion:!1,setup:function(e){o.editor=e,e.on(`init`,function(t){o.editorInitialized=!0,o.initEditor(t,e)})}}),[4,r?.(m.default)];case 1:return s.sent(),this.unmounted||m.default.init(this.config),[2]}})})},i.prototype.handleIframeUnload=function(){var e=this;this.editor.contentWindow.removeEventListener(`unload`,this.handleIframeUnload),requestAnimationFrame(function(){m.default.remove(e.editor),e.initTiny()})},i.prototype.initEditor=function(e,t){var n=this,r=this.props,i=r.model,a=r.onModelChange,o=r.outputFormat,s=r.onFocus,c=r.onBlur,l=i||``;t.setContent(this.currentContent=l),a&&t.on(`change keyup setcontent`,function(e){var r=t.getContent({format:o});r!==n.currentContent&&(n.currentContent=r,a(r))}),s&&t.on(`focus`,s),c&&t.on(`blur`,c),t.contentWindow.addEventListener(`unload`,this.handleIframeUnload)},i.prototype.render=function(){return h.createElement(`textarea`,{ref:this.elementRef})},i.defaultProps={outputFormat:`html`},o([n,r(`design:type`,Function),r(`design:paramtypes`,[]),r(`design:returntype`,Promise)],i.prototype,`initTiny`,null),o([n,r(`design:type`,Function),r(`design:paramtypes`,[]),r(`design:returntype`,void 0)],i.prototype,`handleIframeUnload`,null),i}(h.Component);m.default.addI18n(`zh_CN`,{Redo:`重做`,Undo:`撤销`,Cut:`剪切`,Copy:`复制`,Paste:`粘贴`,"Select all":`全选`,"New document":`新文件`,Ok:`确定`,Cancel:`取消`,"Visual aids":`网格线`,Bold:`粗体`,Italic:`斜体`,Underline:`下划线`,Strikethrough:`删除线`,Superscript:`上标`,Subscript:`下标`,"Clear formatting":`清除格式`,"Align left":`左边对齐`,"Align center":`中间对齐`,"Align right":`右边对齐`,Justify:`两端对齐`,"Bullet list":`项目符号`,"Numbered list":`编号列表`,"Decrease indent":`减少缩进`,"Increase indent":`增加缩进`,Close:`关闭`,Formats:`格式`,"Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":`你的浏览器不支持打开剪贴板，请使用Ctrl+X/C/V等快捷键。`,Headers:`标题`,"Header 1":`标题1`,"Header 2":`标题2`,"Header 3":`标题3`,"Header 4":`标题4`,"Header 5":`标题5`,"Header 6":`标题6`,Headings:`标题`,"Heading 1":`标题1`,"Heading 2":`标题2`,"Heading 3":`标题3`,"Heading 4":`标题4`,"Heading 5":`标题5`,"Heading 6":`标题6`,Preformatted:`预先格式化的`,Div:`Div`,Pre:`Pre`,Code:`代码`,Paragraph:`段落`,Blockquote:`引文区块`,Inline:`文本`,Blocks:`基块`,"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":`当前为纯文本粘贴模式，再次点击可以回到普通粘贴模式。`,Fonts:`字体`,"Font Sizes":`字号`,Class:`类型`,"Browse for an image":`浏览图像`,OR:`或`,"Drop an image here":`拖放一张图像至此`,Upload:`上传`,Block:`块`,Align:`对齐`,Default:`默认`,Circle:`空心圆`,Disc:`实心圆`,Square:`方块`,"Lower Alpha":`小写英文字母`,"Lower Greek":`小写希腊字母`,"Lower Roman":`小写罗马字母`,"Upper Alpha":`大写英文字母`,"Upper Roman":`大写罗马字母`,"Anchor...":`锚点...`,Name:`名称`,Id:`标识符`,"Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":`标识符应该以字母开头，后跟字母、数字、破折号、点、冒号或下划线。`,"You have unsaved changes are you sure you want to navigate away?":`你还有文档尚未保存，确定要离开？`,"Restore last draft":`恢复上次的草稿`,"Special character...":`特殊字符...`,"Source code":`源代码`,"Insert/Edit code sample":`插入/编辑代码示例`,Language:`语言`,"Code sample...":`示例代码...`,"Color Picker":`选色器`,R:`R`,G:`G`,B:`B`,"Left to right":`从左到右`,"Right to left":`从右到左`,"Emoticons...":`表情符号...`,"Metadata and Document Properties":`元数据和文档属性`,Title:`标题`,Keywords:`关键词`,Description:`描述`,Robots:`机器人`,Author:`作者`,Encoding:`编码`,Fullscreen:`全屏`,Action:`操作`,Shortcut:`快捷键`,Help:`帮助`,Address:`地址`,"Focus to menubar":`移动焦点到菜单栏`,"Focus to toolbar":`移动焦点到工具栏`,"Focus to element path":`移动焦点到元素路径`,"Focus to contextual toolbar":`移动焦点到上下文菜单`,"Insert link (if link plugin activated)":`插入链接 (如果链接插件已激活)`,"Save (if save plugin activated)":`保存(如果保存插件已激活)`,"Find (if searchreplace plugin activated)":`查找(如果查找替换插件已激活)`,"Plugins installed ({0}):":`已安装插件 ({0}):`,"Premium plugins:":`优秀插件：`,"Learn more...":`了解更多...`,"You are using {0}":`你正在使用 {0}`,Plugins:`插件`,"Handy Shortcuts":`快捷键`,"Horizontal line":`水平分割线`,"Insert/edit image":`插入/编辑图片`,"Image description":`图片描述`,Source:`地址`,Dimensions:`大小`,"Constrain proportions":`保持纵横比`,General:`普通`,Advanced:`高级`,Style:`样式`,"Vertical space":`垂直边距`,"Horizontal space":`水平边距`,Border:`边框`,"Insert image":`插入图片`,"Image...":`图片...`,"Image list":`图片列表`,"Rotate counterclockwise":`逆时针旋转`,"Rotate clockwise":`顺时针旋转`,"Flip vertically":`垂直翻转`,"Flip horizontally":`水平翻转`,"Edit image":`编辑图片`,"Image options":`图片选项`,"Zoom in":`放大`,"Zoom out":`缩小`,Crop:`裁剪`,Resize:`调整大小`,Orientation:`方向`,Brightness:`亮度`,Sharpen:`锐化`,Contrast:`对比度`,"Color levels":`颜色层次`,Gamma:`伽马值`,Invert:`反转`,Apply:`应用`,Back:`后退`,"Insert date/time":`插入日期/时间`,"Date/time":`日期/时间`,"Insert/Edit Link":`插入/编辑链接`,"Insert/edit link":`插入/编辑链接`,"Text to display":`显示文字`,Url:`地址`,"Open link in...":`链接打开位置...`,"Current window":`当前窗口`,None:`无`,"New window":`在新窗口打开`,"Remove link":`删除链接`,Anchors:`锚点`,"Link...":`链接...`,"Paste or type a link":`粘贴或输入链接`,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":`你所填写的URL地址为邮件地址，需要加上mailto:前缀吗？`,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":`你所填写的URL地址属于外部链接，需要加上http://:前缀吗？`,"Link list":`链接列表`,"Insert video":`插入视频`,"Insert/edit video":`插入/编辑视频`,"Insert/edit media":`插入/编辑媒体`,"Alternative source":`镜像`,"Alternative source URL":`替代来源网址`,"Media poster (Image URL)":`封面(图片地址)`,"Paste your embed code below:":`将内嵌代码粘贴在下面:`,Embed:`内嵌`,"Media...":`多媒体...`,"Nonbreaking space":`不间断空格`,"Page break":`分页符`,"Paste as text":`粘贴为文本`,Preview:`预览`,"Print...":`打印...`,Save:`保存`,Find:`查找`,"Replace with":`替换为`,Replace:`替换`,"Replace all":`全部替换`,Previous:`上一个`,Next:`下一个`,"Find and replace...":`查找并替换...`,"Could not find the specified string.":`未找到搜索内容.`,"Match case":`区分大小写`,"Find whole words only":`全字匹配`,"Spell check":`拼写检查`,Ignore:`忽略`,"Ignore all":`全部忽略`,Finish:`完成`,"Add to Dictionary":`添加到字典`,"Insert table":`插入表格`,"Table properties":`表格属性`,"Delete table":`删除表格`,Cell:`单元格`,Row:`行`,Column:`列`,"Cell properties":`单元格属性`,"Merge cells":`合并单元格`,"Split cell":`拆分单元格`,"Insert row before":`在上方插入`,"Insert row after":`在下方插入`,"Delete row":`删除行`,"Row properties":`行属性`,"Cut row":`剪切行`,"Copy row":`复制行`,"Paste row before":`粘贴到上方`,"Paste row after":`粘贴到下方`,"Insert column before":`在左侧插入`,"Insert column after":`在右侧插入`,"Delete column":`删除列`,Cols:`列`,Rows:`行`,Width:`宽`,Height:`高`,"Cell spacing":`单元格外间距`,"Cell padding":`单元格内边距`,"Show caption":`显示标题`,Left:`左对齐`,Center:`居中`,Right:`右对齐`,"Cell type":`单元格类型`,Scope:`范围`,Alignment:`对齐方式`,"H Align":`水平对齐`,"V Align":`垂直对齐`,Top:`顶部对齐`,Middle:`垂直居中`,Bottom:`底部对齐`,"Header cell":`表头单元格`,"Row group":`行组`,"Column group":`列组`,"Row type":`行类型`,Header:`表头`,Body:`表体`,Footer:`表尾`,"Border color":`边框颜色`,"Insert template...":`插入模板...`,Templates:`模板`,Template:`模板`,"Text color":`文字颜色`,"Background color":`背景色`,"Custom...":`自定义...`,"Custom color":`自定义颜色`,"No color":`无`,"Remove color":`移除颜色`,"Table of Contents":`内容列表`,"Show blocks":`显示区块边框`,"Show invisible characters":`显示不可见字符`,"Word count":`字数`,Count:`计数`,Document:`文档`,Selection:`选择`,Words:`单词`,"Words: {0}":`字数：{0}`,"{0} words":`{0} 字`,File:`文件`,Edit:`编辑`,Insert:`插入`,View:`视图`,Format:`格式`,Table:`表格`,Tools:`工具`,"Powered by {0}":`由{0}驱动`,"Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":`在编辑区按ALT-F9打开菜单，按ALT-F10打开工具栏，按ALT-0查看帮助`,"Image title":`图片标题`,"Border width":`边框宽度`,"Border style":`边框样式`,Error:`错误`,Warn:`警告`,Valid:`有效`,"To open the popup, press Shift+Enter":`按Shitf+Enter键打开对话框`,"Rich Text Area. Press ALT-0 for help.":`编辑区。按Alt+0键打开帮助。`,"System Font":`系统字体`,"Failed to upload image: {0}":`图片上传失败: {0}`,"Failed to load plugin: {0} from url {1}":`插件加载失败: {0} 来自链接 {1}`,"Failed to load plugin url: {0}":`插件加载失败 链接: {0}`,"Failed to initialize plugin: {0}":`插件初始化失败: {0}`,example:`示例`,Search:`搜索`,All:`全部`,Currency:`货币`,Text:`文字`,Quotations:`引用`,Mathematical:`数学`,"Extended Latin":`拉丁语扩充`,Symbols:`符号`,Arrows:`箭头`,"User Defined":`自定义`,"dollar sign":`美元符号`,"currency sign":`货币符号`,"euro-currency sign":`欧元符号`,"colon sign":`冒号`,"cruzeiro sign":`克鲁赛罗币符号`,"french franc sign":`法郎符号`,"lira sign":`里拉符号`,"mill sign":`密尔符号`,"naira sign":`奈拉符号`,"peseta sign":`比塞塔符号`,"rupee sign":`卢比符号`,"won sign":`韩元符号`,"new sheqel sign":`新谢克尔符号`,"dong sign":`越南盾符号`,"kip sign":`老挝基普符号`,"tugrik sign":`图格里克符号`,"drachma sign":`德拉克马符号`,"german penny symbol":`德国便士符号`,"peso sign":`比索符号`,"guarani sign":`瓜拉尼符号`,"austral sign":`澳元符号`,"hryvnia sign":`格里夫尼亚符号`,"cedi sign":`塞地符号`,"livre tournois sign":`里弗弗尔符号`,"spesmilo sign":`spesmilo符号`,"tenge sign":`坚戈符号`,"indian rupee sign":`印度卢比`,"turkish lira sign":`土耳其里拉`,"nordic mark sign":`北欧马克`,"manat sign":`马纳特符号`,"ruble sign":`卢布符号`,"yen character":`日元字样`,"yuan character":`人民币元字样`,"yuan character, in hong kong and taiwan":`元字样（港台地区）`,"yen/yuan character variant one":`元字样（大写）`,"Loading emoticons...":`加载表情符号...`,"Could not load emoticons":`不能加载表情符号`,People:`人类`,"Animals and Nature":`动物和自然`,"Food and Drink":`食物和饮品`,Activity:`活动`,"Travel and Places":`旅游和地点`,Objects:`物件`,Flags:`旗帜`,Characters:`字符`,"Characters (no spaces)":`字符(无空格)`,"{0} characters":`{0} 个字符`,"Error: Form submit field collision.":`错误: 表单提交字段冲突。`,"Error: No form element found.":`错误: 没有表单控件。`,Update:`更新`,"Color swatch":`颜色样本`,Turquoise:`青绿色`,Green:`绿色`,Blue:`蓝色`,Purple:`紫色`,"Navy Blue":`海军蓝`,"Dark Turquoise":`深蓝绿色`,"Dark Green":`深绿色`,"Medium Blue":`中蓝色`,"Medium Purple":`中紫色`,"Midnight Blue":`深蓝色`,Yellow:`黄色`,Orange:`橙色`,Red:`红色`,"Light Gray":`浅灰色`,Gray:`灰色`,"Dark Yellow":`暗黄色`,"Dark Orange":`深橙色`,"Dark Red":`深红色`,"Medium Gray":`中灰色`,"Dark Gray":`深灰色`,"Light Green":`浅绿色`,"Light Yellow":`浅黄色`,"Light Red":`浅红色`,"Light Purple":`浅紫色`,"Light Blue":`浅蓝色`,"Dark Purple":`深紫色`,"Dark Blue":`深蓝色`,Black:`黑色`,White:`白色`,"Switch to or from fullscreen mode":`切换全屏模式`,"Open help dialog":`打开帮助对话框`,history:`历史`,styles:`样式`,formatting:`格式化`,alignment:`对齐`,indentation:`缩进`,"permanent pen":`记号笔`,comments:`备注`,"Format Painter":`格式刷`,"Insert/edit iframe":`插入/编辑框架`,Capitalization:`大写`,lowercase:`小写`,UPPERCASE:`大写`,"Title Case":`首字母大写`,"Permanent Pen Properties":`永久笔属性`,"Permanent pen properties...":`永久笔属性...`,Font:`字体`,Size:`字号`,"More...":`更多...`,"Spellcheck Language":`拼写检查语言`,"Select...":`选择...`,Preferences:`首选项`,Yes:`是`,No:`否`,"Keyboard Navigation":`键盘指引`,Version:`版本`,Anchor:`锚点`,"Special character":`特殊符号`,"Code sample":`代码示例`,Color:`颜色`,Emoticons:`表情`,"Document properties":`文档属性`,Image:`图片`,"Insert link":`插入链接`,Target:`打开方式`,Link:`链接`,Poster:`封面`,Media:`媒体`,Print:`打印`,Prev:`上一个`,"Find and replace":`查找和替换`,"Whole words":`全字匹配`,Spellcheck:`拼写检查`,Caption:`标题`,"Insert template":`插入模板`});var y=g.default;export{v as default,y as tinymce};