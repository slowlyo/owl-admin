import{s as C,f as r,E,G as k,aK as S,a4 as g,bY as w,K as f,bZ as F,y as L,z as d,P as u,Q as n,b1 as T,a1 as R,ah as P}from"./index-BENtQ4sg.js";var O=function(c){C(e,c);function e(){var t=c!==null&&c.apply(this,arguments)||this;return t.domRef=r.createRef(),t.state={isOpened:!1},t}return e.prototype.close=function(){this.setState({isOpened:!1})},e.prototype.open=function(){this.setState({isOpened:!0})},e.prototype.handleClick=function(){this.state.isOpened?this.close():this.open()},e.prototype.handleChange=function(t){return E(this,void 0,void 0,function(){var o,i,a,s;return k(this,function(p){switch(p.label){case 0:return o=this.props,i=o.dispatchEvent,a=o.onChange,[4,i("change",P(this.props,{value:t}))];case 1:return s=p.sent(),s!=null&&s.prevented?[2]:(a(t),[2])}})})},e.prototype.getParent=function(){var t;return(t=this.domRef.current)===null||t===void 0?void 0:t.parentElement},e.prototype.getTarget=function(){return this.domRef.current},e.prototype.doAction=function(t,o,i){var a,s,p,l=this.props,v=l.resetValue,h=l.onChange,m=l.formStore,y=l.store,_=l.name,b=t==null?void 0:t.actionType;switch(b){case"clear":h("");break;case"reset":h==null||h((p=(s=S((a=m==null?void 0:m.pristine)!==null&&a!==void 0?a:y==null?void 0:y.pristine,_))!==null&&s!==void 0?s:v)!==null&&p!==void 0?p:"");break}},e.prototype.renderStatic=function(t){t===void 0&&(t="-");var o=this.props;o.classnames;var i=o.value,a=o.staticSchema,s=o.ak,p=o.coordinatesType,l=o.hideViewControl,v=l===void 0?!1:l;return this.props.translate,i?r.createElement("div",{className:this.props.classnames("LocationControl",{"is-mobile":g()}),ref:this.domRef},a!=null&&a.embed?r.createElement(r.Fragment,null,a.showAddress===!1?null:r.createElement("div",{className:"mb-2"},i.address),r.createElement(w,{ak:s,value:i,coordinatesType:p,autoSelectCurrentLoc:!1,onlySelectCurrentLoc:!0,showSug:!1,showGeoLoc:a.showGeoLoc,mapStyle:a.mapStyle,hideViewControl:v})):r.createElement("span",null,i.address)):r.createElement(r.Fragment,null,t)},e.prototype.render=function(){var t=this.props;t.style;var o=t.env;return f(this.props.ak,this.props.data)||o.locationPickerAK,r.createElement("div",{className:this.props.classnames("LocationControl",{"is-mobile":g()})},r.createElement(F,L({},this.props,{ak:f(this.props.ak,this.props.data),onChange:this.handleChange})))},e.defaultProps={vendor:"baidu",coordinatesType:"bd09"},d([u,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"close",null),d([u,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"open",null),d([u,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"handleClick",null),d([u,n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",Promise)],e.prototype,"handleChange",null),d([u,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"getParent",null),d([u,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"getTarget",null),d([T(),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"render",null),e}(r.Component),A=function(c){C(e,c);function e(){return c!==null&&c.apply(this,arguments)||this}return e=d([R({type:"location-picker"})],e),e}(O);export{O as LocationControl,A as LocationRenderer};
