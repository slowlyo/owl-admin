import{t as N,cT as T,bl as C,l as s,bm as b,z as F,M as P,ag as j,D as r,Q as l,T as t,a2 as R}from"./index-BnZOs00e.js";var V=[{name:"Font Awesome 4.7",prefix:"fa fa-",icons:["slideshare","snapchat","snapchat-ghost","snapchat-square","soundcloud","spotify","stack-exchange","stack-overflow"]}],B=function(d){N(n,d);function n(){var e=d!==null&&d.apply(this,arguments)||this;return e.state={isOpen:!1,inputValue:"",isFocused:!1,vendorIndex:0},e}return n.prototype.componentDidUpdate=function(e){var a=this.props;e.value!==a.value&&this.setState({inputValue:""})},n.prototype.changeVendor=function(e){this.setState({vendorIndex:e},this.formatOptions)},n.prototype.formatOptions=function(){var e=this.state.vendorIndex||0,a=V[e],i=a.prefix,p=a.icons;return p.map(function(u){return{label:i+u,value:i+u}})},n.prototype.getVendors=function(){return V.map(function(e){return e.name})},n.prototype.inputRef=function(e){this.input=e},n.prototype.focus=function(){if(this.input){this.input.focus();var e=this.input.value.length;e&&this.input.setSelectionRange(e,e)}},n.prototype.handleClick=function(){this.props.disabled||(this.focus(),this.setState({isOpen:!0}))},n.prototype.handleFocus=function(e){this.setState({isOpen:!0,isFocused:!0}),this.props.onFocus&&this.props.onFocus(e)},n.prototype.handleBlur=function(e){var a=this.props,i=a.onBlur,p=a.trimContents,u=a.value,o=a.onChange;this.setState({isFocused:!1},function(){p&&u&&typeof u=="string"&&o(u.trim())}),i&&i(e)},n.prototype.handleInputChange=function(e){var a=e.currentTarget.value;this.setState({inputValue:a})},n.prototype.handleKeyDown=function(e){var a=T(e.keyCode);if(a==="backspace"){var i=this.props.onChange;this.state.inputValue||(i(""),this.setState({inputValue:""}))}},n.prototype.handleChange=function(e){var a=this.props,i=a.onChange,p=a.disabled;p||(i(e),this.setState({isFocused:!1,inputValue:""}))},n.prototype.handleStateChange=function(e){switch(e.type){case C.stateChangeTypes.itemMouseEnter:case C.stateChangeTypes.changeInput:this.setState({isOpen:!0});break;default:var a={};typeof e.isOpen<"u"&&(a.isOpen=e.isOpen),this.state.isOpen&&e.isOpen===!1&&(a.inputValue=""),this.setState(a);break}},n.prototype.handleClear=function(){var e=this,a=this.props,i=a.onChange,p=a.resetValue;i==null||i(p),this.setState({inputValue:p,isFocused:!0},function(){e.focus()})},n.prototype.renderFontIcons=function(){var e=this,a=this.props,i=a.className,p=a.inputOnly,u=a.placeholder,o=a.classnames,S=a.name,c=a.value,E=a.noDataTip,I=a.disabled,_=a.clearable,x=a.translate,k=this.formatOptions(),g=this.getVendors();return s.createElement(C,{isOpen:this.state.isOpen,inputValue:this.state.inputValue,onChange:this.handleChange,onOuterClick:this.handleBlur,onStateChange:this.handleStateChange,selectedItem:[c]},function(m){var D=m.getInputProps,w=m.getItemProps,v=m.isOpen,f=m.inputValue,O=f&&v?b(k,f,{keys:["label","value"],threshold:b.rankings.CONTAINS}):k;return s.createElement("div",{className:o("IconPickerControl-input IconPickerControl-input--withAC",p?i:"",{"is-opened":v}),onClick:e.handleClick},s.createElement("div",{className:o("IconPickerControl-valueWrap")},u&&!c&&!e.state.inputValue?s.createElement("div",{className:o("IconPickerControl-placeholder")},u):null,!c||f&&v?null:s.createElement("div",{className:o("IconPickerControl-value")},s.createElement("i",{className:o(c)}),typeof c=="string"?c:""),s.createElement("input",F({},D({name:S,ref:e.inputRef,onFocus:e.handleFocus,onChange:e.handleInputChange,onKeyDown:e.handleKeyDown,value:e.state.inputValue}),{autoComplete:"off",disabled:I,size:10})),_&&!I&&c?s.createElement("a",{onClick:e.handleClear,className:o("IconPickerControl-clear")},s.createElement(P,{icon:"input-clear",className:"icon"})):null),v?s.createElement("div",{className:o("IconPickerControl-sugsPanel")},g.length>1?s.createElement("div",{className:o("IconPickerControl-tabs")},g.map(function(h,y){return s.createElement("div",{className:o("IconPickerControl-tab",{active:e.state.vendorIndex===y}),onClick:function(){return e.changeVendor(y)},key:y},h)})):null,O.length?s.createElement("div",{className:o("IconPickerControl-sugs",g.length>1?"IconPickerControl-multiVendor":"IconPickerControl-singleVendor")},O.map(function(h,y){return s.createElement("div",F({},w({item:h.value,className:o("IconPickerControl-sugItem",{"is-active":c===h.value})}),{key:y}),s.createElement(P,{className:o("".concat(h.value)),title:"".concat(h.value),icon:h.value}))})):s.createElement("div",{className:o(g.length>1?"IconPickerControl-multiVendor":"IconPickerControl-singleVendor")},x(E))):null)})},n.prototype.render=function(){var e=this.props,a=e.className;e.style;var i=e.classPrefix,p=e.inputOnly,u=e.disabled,o=this.renderFontIcons();return p?o:s.createElement("div",{className:j(a,"".concat(i,"IconPickerControl"),{"is-focused":this.state.isFocused,"is-disabled":u})},o)},n.defaultProps={resetValue:"",placeholder:"",noDataTip:"placeholder.noData"},r([l,t("design:type",Function),t("design:paramtypes",[Number]),t("design:returntype",void 0)],n.prototype,"changeVendor",null),r([l,t("design:type",Function),t("design:paramtypes",[]),t("design:returntype",void 0)],n.prototype,"formatOptions",null),r([l,t("design:type",Function),t("design:paramtypes",[]),t("design:returntype",void 0)],n.prototype,"getVendors",null),r([l,t("design:type",Function),t("design:paramtypes",[Object]),t("design:returntype",void 0)],n.prototype,"inputRef",null),r([l,t("design:type",Function),t("design:paramtypes",[]),t("design:returntype",void 0)],n.prototype,"focus",null),r([l,t("design:type",Function),t("design:paramtypes",[]),t("design:returntype",void 0)],n.prototype,"handleClick",null),r([l,t("design:type",Function),t("design:paramtypes",[Object]),t("design:returntype",void 0)],n.prototype,"handleFocus",null),r([l,t("design:type",Function),t("design:paramtypes",[Object]),t("design:returntype",void 0)],n.prototype,"handleBlur",null),r([l,t("design:type",Function),t("design:paramtypes",[Object]),t("design:returntype",void 0)],n.prototype,"handleInputChange",null),r([l,t("design:type",Function),t("design:paramtypes",[Object]),t("design:returntype",void 0)],n.prototype,"handleKeyDown",null),r([l,t("design:type",Function),t("design:paramtypes",[Object]),t("design:returntype",void 0)],n.prototype,"handleChange",null),r([l,t("design:type",Function),t("design:paramtypes",[Object]),t("design:returntype",void 0)],n.prototype,"handleStateChange",null),r([l,t("design:type",Function),t("design:paramtypes",[]),t("design:returntype",void 0)],n.prototype,"handleClear",null),n}(s.PureComponent),A=function(d){N(n,d);function n(){return d!==null&&d.apply(this,arguments)||this}return n=r([R({type:"icon-picker"})],n),n}(B);export{A as IconPickerControlRenderer,B as default};
