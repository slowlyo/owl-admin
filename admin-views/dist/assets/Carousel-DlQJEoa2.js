import{$n as e,$o as t,Ao as n,Ci as r,D as i,Fo as a,Gi as o,Ii as s,Io as c,Kn as l,Ko as u,La as d,Lo as f,Ma as ee,Mo as p,No as m,Oa as h,Po as g,Qn as _,Wn as v,Xn as y,Zn as b,er as x,jo as S,kr as C,vr as w,wr as T,xr as E}from"./index-C4Pf1uQ-.js";var D=t(u()),O,k=(O={},O[b]=`in`,O[y]=`in`,O[e]=`out`,O),A={component:function(e){var t=e.data||{},n=e.thumbMode,r=e.classnames;return D.createElement(D.default.Fragment,null,t.hasOwnProperty(`image`)?D.createElement(i,{src:t.image,title:t.hasOwnProperty(`title`)?t.title:``,href:t.hasOwnProperty(`href`)?t.href:``,blank:t.hasOwnProperty(`blank`)?t.blank:!1,htmlTarget:t.hasOwnProperty(`htmlTarget`)?t.htmlTarget:``,caption:t.hasOwnProperty(`description`)?t.description:``,thumbMode:t.hasOwnProperty(`thumbMode`)?t.thumbMode:n??`contain`,imageMode:`original`,className:r(`Carousel-image`)}):t.hasOwnProperty(`html`)?D.createElement(v,{html:t.html,filterHtml:e.env.filterHtml}):t.hasOwnProperty(`item`)?D.createElement(`span`,null,t.item):D.createElement(`p`,null))}},j=20,M=function(t){m(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.wrapperRef=D.createRef(),e.state={current:0,options:e.props.options||s(e.props)||[],nextAnimation:``,mouseStartLocation:null,isPaused:!1},e.loading=!1,e.marqueeRef=D.createRef(),e.contentRef=D.createRef(),e}return i.prototype.componentDidMount=function(){this.prepareAutoSlide(),this.props.animation===`marquee`&&this.marquee()},i.prototype.componentDidUpdate=function(e){var t=this.props,n=t.options||s(t)||[];o(e.options||s(e)||[],n)&&this.setState({options:n}),this.props.animation===`marquee`&&e.animation!==`marquee`&&this.marquee()},i.prototype.componentWillUnmount=function(){this.clearAutoTimeout(),cancelAnimationFrame(this.marqueeRequestId)},i.prototype.marquee=function(){var e=this;if(!(!this.marqueeRef.current||!this.contentRef.current)){var t=0,n=performance.now(),r=this.contentRef.current,i=function(a){var o=a-n;n=a;var s=e.marqueeRef.current?.offsetWidth??0;if(!e.state.isPaused){var c=s*(o/e.props.duration);t+=-c;var l=r.scrollWidth/2;Math.abs(t)>=l&&(t=0),r.style.transform=`translateX(${t}px)`}e.marqueeRequestId=requestAnimationFrame(i)};this.marqueeRequestId=requestAnimationFrame(i)}},i.prototype.doAction=function(e,t,n,r){var i=e?.actionType;~[`next`,`prev`].indexOf(i)?this.autoSlide(i):i===`goto-image`&&this.changeSlide(r?.activeIndex-1)},i.prototype.prepareAutoSlide=function(){if(!(this.state.options.length<2)&&(this.clearAutoTimeout(),this.props.auto)){var e=this.props.interval;this.intervalTimeout=setTimeout(this.autoSlide,typeof e==`string`?d(e,this.props.data)||5e3:e)}},i.prototype.autoSlide=function(e){this.clearAutoTimeout();var t=this.props.animation,n=this.state.nextAnimation;switch(e){case`prev`:n=t===`slide`?`slideRight`:``,this.transitFramesTowards(`right`,n);break;case`next`:default:n=``,this.transitFramesTowards(`left`,n);break}this.durationTimeout=setTimeout(this.prepareAutoSlide,this.props.duration)},i.prototype.transitFramesTowards=function(e,t){return S(this,void 0,void 0,function(){var n,r,i,a,o,s;return g(this,function(c){switch(c.label){case 0:if(n=this.state.current,r=n,this.props.loop===!1&&(n===0&&e===`right`||n===this.state.options.length-1&&e===`left`))return[2];switch(e){case`left`:n=this.getFrameId(`next`);break;case`right`:n=this.getFrameId(`prev`);break}return i=this.props,a=i.dispatchEvent,o=i.data,[4,a(`change`,h(o,{activeIndex:n+1,prevIndex:r}))];case 1:return s=c.sent(),s?.prevented||this.setState({current:n,nextAnimation:t}),[2]}})})},i.prototype.getFrameId=function(e){var t=this.state,n=t.options,r=t.current,i=n.length;switch(e){case`prev`:return(r-1+i)%i;case`next`:return(r+1)%i;default:return r}},i.prototype.next=function(){var e=this.props.multiple;this.loading&&e&&e.count>1||this.autoSlide(`next`)},i.prototype.prev=function(){var e=this.props.multiple;this.loading&&e&&e.count>1||this.autoSlide(`prev`)},i.prototype.clearAutoTimeout=function(){clearTimeout(this.intervalTimeout),clearTimeout(this.durationTimeout)},i.prototype.changeSlide=function(e){return S(this,void 0,void 0,function(){var t,n,r,i,a,o;return g(this,function(s){switch(s.label){case 0:return t=this.state.current,n=this.props,r=n.dispatchEvent,i=n.data,a=n.multiple,this.loading&&a&&a.count>1?[2]:[4,r(`change`,h(i,{activeIndex:e,prevIndex:t}))];case 1:return o=s.sent(),o?.prevented||this.setState({current:e}),[2]}})})},i.prototype.renderDots=function(){var e=this,t=this.props.classnames,n=this.state,r=n.current,i=n.options;return D.createElement(`div`,{className:t(`Carousel-dotsControl`),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},Array.from({length:i.length}).map(function(n,i){return D.createElement(`span`,{key:i,onClick:function(){return e.changeSlide(i)},className:t(`Carousel-dot`,r===i?`is-active`:``)})}))},i.prototype.renderArrows=function(){var e=this.props.classnames;return D.createElement(`div`,{className:e(`Carousel-arrowsControl`),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},D.createElement(`div`,{className:e(`Carousel-leftArrow`),onClick:this.prev},D.createElement(l,{icon:`left-arrow`,className:`icon`})),D.createElement(`div`,{className:e(`Carousel-rightArrow`),onClick:this.next},D.createElement(l,{icon:`right-arrow`,className:`icon`})))},i.prototype.handleMouseEnter=function(){var e=this.props.multiple;e&&e.count>1||this.clearAutoTimeout()},i.prototype.handleMouseLeave=function(){var e=this.props.multiple;e&&e.count>1||this.prepareAutoSlide()},i.prototype.getNewOptions=function(e,t){t===void 0&&(t=1);var n=e;if(Array.isArray(e)&&e.length){n=Array(e.length);for(var r=0;r<e.length;r++){n[r]=Array(t);for(var i=0;i<t;i++)n[r][i]=e[(r+i)%e.length]}}return n},i.prototype.getEventScreenXY=function(e){var t,n;return e.screenX===void 0?e.touches?.length?(t=e.touches[0]?.screenX,n=e.touches[0]?.screenY):e.changedTouches?.length&&(t=e.changedTouches[0]?.screenX,n=e.changedTouches[0]?.screenY):(t=e.screenX,n=e.screenY),{screenX:t,screenY:n}},i.prototype.addMouseDownListener=function(e){var t=this.props.direction,n=this.getEventScreenXY(e),r=n.screenX,i=n.screenY,a=t===`vertical`?i:r;a!==void 0&&this.setState({mouseStartLocation:a})},i.prototype.addMouseUpListener=function(e){var t=this.getEventScreenXY(e),n=t.screenX,r=t.screenY,i=this.props.direction===`vertical`?r:n;this.state.mouseStartLocation!==null&&i!==void 0&&(i-this.state.mouseStartLocation>j?this.autoSlide(`prev`):this.state.mouseStartLocation-i>j&&this.autoSlide(),this.setState({mouseStartLocation:null}))},i.prototype.render=function(){var t,r,i=this,a=this.props,o=a.render,s=a.className,u=a.style,d=a.classnames,p=a.itemSchema,m=a.animation,g=a.width,v=a.height,S=a.controls,C=a.controlsTheme,T=a.placeholder,O=a.data,j=a.name,M=a.duration,N=a.multiple,P=a.alwaysShowArrow,F=a.icons,I=a.id,L=a.wrapperCustomStyle,R=a.env,z=a.themeCss,B=this.state,V=B.options,H=B.current,U=B.nextAnimation,W=null,G=u?n({},u):{};g&&(isNaN(Number(g))?G.width=g:G.width=g+`px`),v&&(isNaN(Number(v))?G.height=v:G.height=v+`px`);var K=c([S.indexOf(`dots`)>-1&&m!==`marquee`,S.indexOf(`arrows`)>-1&&m!==`marquee`],2),q=K[0],J=K[1],Y=U||m;if(Array.isArray(V)&&V.length){var X=1;N&&typeof N.count==`number`&&N.count>=2&&(X=Math.floor(N.count)<V.length?Math.floor(N.count):V.length);var Z=this.getNewOptions(V,X),Q=X>1&&typeof M==`number`?`${M}ms`:M||`500ms`,te=X>1&&typeof M==`number`?M:500,ne=(t={},t[b]=0,t[y]=0,t[e]=Y===`slideRight`?100/X:-100/X,t[_]=Y===`slideRight`?-100/X:100/X,t),re=X>1?n({transitionTimingFunction:`linear`,transitionDuration:Q},m===`slide`?{transform:`translateX(${ne[status]}%)`}:{}):{},$=function(e){var t,n=e.itemSchema,r=f(e,[`itemSchema`]);return o(`${H}/body`,n||p?n||p:A,{thumbMode:i.props.thumbMode,data:h(O,ee(e)?r:(t={item:e},t[j]=e,t))})};W=m===`marquee`?D.createElement(`div`,{ref:this.marqueeRef,className:d(`Marquee-container`),onMouseEnter:function(){return i.setState({isPaused:!0})},onMouseLeave:function(){return i.setState({isPaused:!1})},style:{width:`100%`,height:v}},D.createElement(`div`,{className:d(`Marquee-content`),ref:this.contentRef},V.concat(V).map(function(e,t){return D.createElement(`div`,{key:t,className:d(`Marquee-item`)},X===1?$(e):null,X>1?Z.concat(Z)[t].map(function(e,t){return D.createElement(`div`,{key:t,style:{width:100/X+`%`,height:`100%`,float:`left`}},$(e))}):null)}))):D.createElement(`div`,{ref:this.wrapperRef,className:d(`Carousel-container`),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},V.map(function(e,t){return D.createElement(x,{mountOnEnter:!0,unmountOnExit:!0,in:t===H,timeout:te,key:t},function(n){return n===`entering`&&i.wrapperRef.current&&i.wrapperRef.current.childNodes.forEach(function(e){return e.offsetHeight}),X>1&&((n===`entering`||n===`exiting`)&&!i.loading?i.loading=!0:(n===`entered`||n===`exited`)&&i.loading&&(i.loading=!1)),D.createElement(`div`,{className:d(`Carousel-item`,Y,k[n]),style:re},X===1?$(e):null,X>1?Z[t].map(function(e,t){return D.createElement(`div`,{key:t,style:{width:100/X+`%`,height:`100%`,float:`left`}},$(e))}):null)})}))}return D.createElement(`div`,{className:d(`Carousel Carousel--${C}`,(r={},r[`Carousel-arrow--always`]=!!P,r),s,E(n(n({},this.props),{name:`baseControlClassName`,id:I,themeCss:z})),E(n(n({},this.props),{name:`wrapperCustomStyle`,id:I,themeCss:L})),{"Carousel-vertical":this.props.direction===`vertical`}),onMouseDown:this.props.mouseEvent?this.addMouseDownListener:void 0,onMouseUp:this.props.mouseEvent?this.addMouseUpListener:void 0,onMouseLeave:this.props.mouseEvent?this.addMouseUpListener:void 0,onTouchStart:this.props.mouseEvent?this.addMouseDownListener:void 0,onTouchEnd:this.props.mouseEvent?this.addMouseUpListener:void 0,style:G},W||T,q?this.renderDots():null,J?D.createElement(`div`,{className:d(`Carousel-leftArrow`,E(n(n({},this.props),{name:`galleryControlClassName`,id:I,themeCss:z}))),onClick:this.prev},F?.prev?D.createElement(`div`,{className:`ImageGallery-prevBtn`},D.createElement(l,{icon:F.prev})):D.createElement(l,{icon:`left-arrow`,className:`icon`,iconContent:`ImageGallery-prevBtn`})):null,J?D.createElement(`div`,{className:d(`Carousel-rightArrow`,E(n(n({},this.props),{name:`galleryControlClassName`,id:I,themeCss:z}))),onClick:this.next},F?.next?D.createElement(`div`,{className:`ImageGallery-prevBtn`},D.createElement(l,{icon:F.next})):D.createElement(l,{icon:`right-arrow`,className:`icon`,iconContent:`ImageGallery-nextBtn`})):null,D.createElement(w,n({},this.props,{config:{wrapperCustomStyle:L,id:I,themeCss:z,classNames:[{key:`baseControlClassName`},{key:`galleryControlClassName`,weights:{default:{suf:` svg`,important:!0}}}]},env:R})))},i.defaultProps={auto:!0,interval:5e3,duration:500,controlsTheme:`light`,animation:`fade`,controls:[`dots`,`arrows`],placeholder:`-`,multiple:{count:1},alwaysShowArrow:!1},p([r,a(`design:type`,Function),a(`design:paramtypes`,[]),a(`design:returntype`,void 0)],i.prototype,`prepareAutoSlide`,null),p([r,a(`design:type`,Function),a(`design:paramtypes`,[String]),a(`design:returntype`,void 0)],i.prototype,`autoSlide`,null),p([r,a(`design:type`,Function),a(`design:paramtypes`,[String,String]),a(`design:returntype`,Promise)],i.prototype,`transitFramesTowards`,null),p([r,a(`design:type`,Function),a(`design:paramtypes`,[String]),a(`design:returntype`,void 0)],i.prototype,`getFrameId`,null),p([r,a(`design:type`,Function),a(`design:paramtypes`,[]),a(`design:returntype`,void 0)],i.prototype,`next`,null),p([r,a(`design:type`,Function),a(`design:paramtypes`,[]),a(`design:returntype`,void 0)],i.prototype,`prev`,null),p([r,a(`design:type`,Function),a(`design:paramtypes`,[]),a(`design:returntype`,void 0)],i.prototype,`clearAutoTimeout`,null),p([r,a(`design:type`,Function),a(`design:paramtypes`,[Number]),a(`design:returntype`,Promise)],i.prototype,`changeSlide`,null),p([r,a(`design:type`,Function),a(`design:paramtypes`,[]),a(`design:returntype`,void 0)],i.prototype,`handleMouseEnter`,null),p([r,a(`design:type`,Function),a(`design:paramtypes`,[]),a(`design:returntype`,void 0)],i.prototype,`handleMouseLeave`,null),p([r,a(`design:type`,Function),a(`design:paramtypes`,[Object]),a(`design:returntype`,void 0)],i.prototype,`addMouseDownListener`,null),p([r,a(`design:type`,Function),a(`design:paramtypes`,[Object]),a(`design:returntype`,void 0)],i.prototype,`addMouseUpListener`,null),i}(D.Component),N=function(e){m(t,e);function t(t,n){var r=e.call(this,t)||this;return n.registerComponent(r),r}return t.prototype.componentWillUnmount=function(){var t;(t=e.prototype.componentWillUnmount)==null||t.call(this),this.context.unRegisterComponent(this)},t.contextType=C,t=p([T({type:`carousel`}),a(`design:paramtypes`,[Object,Object])],t),t}(M);export{M as Carousel,N as CarouselRenderer};