import{$o as e,Ao as t,Ci as n,Ea as r,Fo as i,Ii as a,Ko as o,Mo as s,No as c,Po as l,Wt as u,ha as d,jo as f,or as p,vr as m,wr as h,xa as g,xr as _,ya as v}from"./index-Z33w_AY6.js";var y=e(o()),b=e(g()),x=function(e){c(o,e);function o(t){var n=e.call(this,t)||this;return n.sn=0,n.state={content:n.getContent()},n.mounted=!0,n}return o.prototype.componentDidUpdate=function(e){var t=this;([`tpl`,`html`,`text`,`raw`,`data`,`placeholder`].some(function(n){return!Object.is(e[n],t.props[n])})||!Object.is(a(e),a(this.props)))&&this.updateContent()},o.prototype.componentDidMount=function(){this.updateContent()},o.prototype.componentWillUnmount=function(){this.mounted=!1},o.prototype.updateContent=function(){return f(this,void 0,void 0,function(){var e,t;return l(this,function(n){switch(n.label){case 0:return e=++this.sn,[4,this.getAsyncContent()];case 1:return t=n.sent(),e===this.sn&&this.mounted&&this.setState({content:t}),[2]}})})},o.prototype.getContent=function(){var e=this.props,t=e.tpl,n=e.html,i=e.text,o=e.raw,s=e.data,c=e.placeholder,l=a(this.props);return o||(n?v(n,s):t?v(t,s):i?r(v(i,s)):l==null||l===``?`<span class="text-muted">${c}</span>`:typeof l==`string`?l:JSON.stringify(l))},o.prototype.getAsyncContent=function(){return f(this,void 0,void 0,function(){var e,t,n,i,o,s,c,u,f;return l(this,function(l){switch(l.label){case 0:return e=this.props,t=e.tpl,n=e.html,i=e.text,o=e.data,s=e.raw,c=e.placeholder,u=a(this.props),s?[2,s]:[3,1];case 1:return n?[2,d(n,o)]:[3,2];case 2:return t?[2,d(t,o)]:[3,3];case 3:return i?(f=r,[4,d(i,o)]):[3,5];case 4:return[2,f.apply(void 0,[l.sent()])];case 5:return[2,u==null||u===``?`<span class="text-muted">${c}</span>`:typeof u==`string`?u:JSON.stringify(u)]}})})},o.prototype.getTitle=function(e){if(!this.props.showNativeTitle)return``;var t=typeof e==`string`?e:``,n=new DOMParser().parseFromString(e,`text/html`);return n?.body?.textContent&&(t=n.body.textContent),t},o.prototype.handleClick=function(e){var t=this.props,n=t.dispatchEvent,r=t.data;n(e,r)},o.prototype.handleMouseEnter=function(e){var t=this.props,n=t.dispatchEvent,r=t.data;n(e,r)},o.prototype.handleMouseLeave=function(e){var t=this.props,n=t.dispatchEvent,r=t.data;n(e,r)},o.prototype.render=function(){var e=this.props,n=e.className,r=e.wrapperComponent,i=e.inline,a=e.classnames,o=e.style,s=e.maxLine,c=e.showNativeTitle,l=e.data,u=e.id,d=e.wrapperCustomStyle,f=e.env,h=e.themeCss,g=e.testIdBuilder,v=r||(i?`span`:`div`),x=this.state.content,S={},C=``;return s>0&&(C=`max-line`,S.WebkitLineClamp=+s),y.createElement(v,t({className:a(`TplField fr-view`,n,_(t(t({},this.props),{name:`baseControlClassName`,id:u,themeCss:h})),_(t(t({},this.props),{name:`wrapperCustomStyle`,id:u,themeCss:d}))),style:p(o,l)},c?{title:this.getTitle(x)}:{},{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},(g?.getChild(`tpl`))?.getTestId()),y.createElement(`span`,{className:C?a(C):void 0,style:(0,b.default)(S)?void 0:S,dangerouslySetInnerHTML:{__html:f.filterHtml(x)}}),y.createElement(m,t({},this.props,{config:{wrapperCustomStyle:d,id:u,themeCss:h,classNames:[{key:`baseControlClassName`}]},env:f})))},o.defaultProps={inline:!0,placeholder:``},s([n,i(`design:type`,Function),i(`design:paramtypes`,[]),i(`design:returntype`,Promise)],o.prototype,`updateContent`,null),s([n,i(`design:type`,Function),i(`design:paramtypes`,[]),i(`design:returntype`,void 0)],o.prototype,`getContent`,null),s([n,i(`design:type`,Function),i(`design:paramtypes`,[]),i(`design:returntype`,Promise)],o.prototype,`getAsyncContent`,null),s([n,i(`design:type`,Function),i(`design:paramtypes`,[String]),i(`design:returntype`,void 0)],o.prototype,`getTitle`,null),s([n,i(`design:type`,Function),i(`design:paramtypes`,[Object]),i(`design:returntype`,void 0)],o.prototype,`handleClick`,null),s([n,i(`design:type`,Function),i(`design:paramtypes`,[Object]),i(`design:returntype`,void 0)],o.prototype,`handleMouseEnter`,null),s([n,i(`design:type`,Function),i(`design:paramtypes`,[Object]),i(`design:returntype`,void 0)],o.prototype,`handleMouseLeave`,null),o}(y.Component),S=function(e){c(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t=s([h({type:`tpl`,alias:[`html`],name:`tpl`}),u],t),t}(x);export{x as Tpl,S as TplRenderer};