import{$o as e,$r as t,Fo as n,Ii as r,Ji as i,Ko as a,La as o,Ma as s,Mo as c,No as l,Xr as u,ba as d,kr as f,ui as p,wr as m,ya as h}from"./index-C4Pf1uQ-.js";var g=e(p()),_=e(a());function v(e,t,n){return n=H(n),`M ${H(e-n)}, ${H(t)} a ${n},${n} 0 1,0 ${2*n},0 a ${n},${n} 0 1,0 ${-2*n},0`}function y(e,t,n){e=H(e),t=H(t);let r=H(e+n),i=H(t+n);return`M ${e}, ${t} L ${r}, ${t} L ${r}, ${i} L ${e}, ${i} Z `}function b(e,t,n,r){e=H(e),t=H(t);let i=H(e+r),a=H(t+r),o=H(e+n-r),s=H(t+n-r),c=H(e+n),l=H(t+n);return`M${i} ${t}L${c} ${t}L${c} ${l}L${e} ${l}L${e} ${t}L${i} ${t}L${i} ${s}L${o} ${s}L${o} ${a}L${i} ${a}Z `}function x(e,t,n,r,i){e=H(e),t=H(t),i=H(i);let a=H(e+i),o=H(e+n-i),s=H(t+i),c=H(t+n-i),l=H(e+r),u=H(t+r),d=H(e+n-r),f=H(t+n-r),p=H(e+n),m=H(t+n),h=H(i-r/2),g=H(l+h),_=H(u+h),v=H(d-h),y=H(f-h),b=H(a+h);return`M${a} ${t}L${o} ${t}A${i} ${i} 0 0 1 ${p} ${s}L${p} ${c}A${i} ${i} 0 0 1 ${o} ${m}L${a} ${m}A${i} ${i} 0 0 1 ${e} ${c}L${e} ${s}A${i} ${i} 0 0 1 ${a} ${t}L${a} ${t}L${b} ${f}L${v} ${f}A${h} ${h} 0 0 0 ${d} ${y}L${d} ${_}A${h} ${h} 0 0 0 ${v} ${u}L${g} ${u}A${h} ${h} 0 0 0 ${l} ${_}L${l} ${y}A${h} ${h} 0 0 0 ${g} ${f}L${b} ${f}Z`}function S(e,t,n,r){let i=H(n),a=H(n-r);t=H(t),e=H(e);let o=H(t-i),s=H(t-a),c=H(t+i),l=H(t+a);return`M${e},${o} A${i},${i} 0 1,1 ${e},${c} A${i},${i} 0 1,1 ${e},${o} M${e},${s} A${a},${a} 0 1,0 ${e},${l} A${a},${a} 0 1,0 ${e},${s} Z`}function C(e){let{size:t,dotSize:n,borderSize:r,x:i,y:a}=e;return{eyeBorder:b(i,a,t,n*r),eyeInner:y(i+n*2,a+n*2,t-n*4)}}function w(e){let{size:t,dotSize:n,borderSize:r,x:i,y:a}=e;return{eyeBorder:x(i,a,t,n*r,n*2),eyeInner:v(i+t/2,a+t/2,t/2-n*2)}}function T(e){let{size:t,dotSize:n,borderSize:r,x:i,y:a}=e;return{eyeBorder:S(i+t/2,a+t/2,t/2,n*r),eyeInner:v(i+t/2,a+t/2,t/2-n*2)}}var E={default:C,rounded:w,circle:T};function D(e){let t={default:1,sm:.8,xs:.5};return n=>{let{size:r,dotSize:i,borderSize:a,margin:o}=n,{eyeSize:s,positions:c}=z(r,i,o),l=``,u=``;for(let n of c){let{eyeBorder:r,eyeInner:o}=e({size:s,dotSize:i,borderSize:t[a],x:n.x,y:n.y});l+=r,u+=o}return{eyeBorder:l,eyeInner:u}}}function O(e){let t=E[e];return D(t)}function k(e){let{x:t,y:n,dotSize:r,dotScale:i,margin:a}=e,o=``,s=r*i;return o+=y(t*r+(r-s)/2+a,n*r+(r-s)/2+a,s),o}function A(e){let{x:t,y:n,dotSize:r,dotScale:i,margin:a}=e,o=``,s=r/2*i,c=t*r+(r-s*2)/2+s+a,l=n*r+(r-s*2)/2+s+a;return o+=v(c,l,s),o}var j={default:k,circle:A};function M(e){let t={default:1,sm:.8,xs:.5};return n=>{let{modules:r,dotSize:i,pointSize:a,customSize:o,margin:s}=n,c=``;for(let n=0;n<r.length;n++)for(let l=0;l<r.length;l++)if(r[n][l]&&!B(r,l,n)){let r=o[n][l]||1;c+=e({x:l,y:n,dotSize:i,dotScale:t[a]*r,margin:s})}return c}}function N(e){let t=j[e];return M(t)}var P;(e=>{let t=class t{constructor(e,n,r,a){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError(`Version value out of range`);if(a<-1||a>7)throw RangeError(`Mask value out of range`);this.size=e*4+17;let o=[];for(let e=0;e<this.size;e++)o.push(!1);for(let e=0;e<this.size;e++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();let s=this.addEccAndInterleave(r);if(this.drawCodewords(s),a==-1){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);let n=this.getPenaltyScore();n<e&&(a=t,e=n),this.applyMask(t)}}i(0<=a&&a<=7),this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}static encodeText(n,r){let i=e.QrSegment.makeSegments(n);return t.encodeSegments(i,r)}static encodeBinary(n,r){let i=e.QrSegment.makeBytes(n);return t.encodeSegments([i],r)}static encodeSegments(e,r,a=1,s=40,c=-1,l=!0){if(!(t.MIN_VERSION<=a&&a<=s&&s<=t.MAX_VERSION)||c<-1||c>7)throw RangeError(`Invalid value`);let u,d;for(u=a;;u++){let n=t.getNumDataCodewords(u,r)*8,i=o.getTotalBits(e,u);if(i<=n){d=i;break}if(u>=s)throw RangeError(`Data too long`)}for(let e of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])l&&d<=t.getNumDataCodewords(u,e)*8&&(r=e);let f=[];for(let t of e){n(t.mode.modeBits,4,f),n(t.numChars,t.mode.numCharCountBits(u),f);for(let e of t.getData())f.push(e)}i(f.length==d);let p=t.getNumDataCodewords(u,r)*8;i(f.length<=p),n(0,Math.min(4,p-f.length),f),n(0,(8-f.length%8)%8,f),i(f.length%8==0);for(let e=236;f.length<p;e^=253)n(e,8,f);let m=[];for(;m.length*8<f.length;)m.push(0);return f.forEach((e,t)=>m[t>>>3]|=e<<7-(t&7)),new t(u,r,m,c)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)n==0&&r==0||n==0&&r==t-1||n==t-1&&r==0||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let t=this.errorCorrectionLevel.formatBits<<3|e,n=t;for(let e=0;e<10;e++)n=n<<1^(n>>>9)*1335;let a=(t<<10|n)^21522;i(a>>>15==0);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,r(a,e));this.setFunctionModule(8,7,r(a,6)),this.setFunctionModule(8,8,r(a,7)),this.setFunctionModule(7,8,r(a,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,r(a,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,r(a,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,r(a,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^(e>>>11)*7973;let t=this.version<<12|e;i(t>>>18==0);for(let e=0;e<18;e++){let n=r(t,e),i=this.size-11+e%3,a=Math.floor(e/3);this.setFunctionModule(i,a,n),this.setFunctionModule(a,i,n)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){let i=Math.max(Math.abs(r),Math.abs(n)),a=e+r,o=t+n;0<=a&&a<this.size&&0<=o&&o<this.size&&this.setFunctionModule(a,o,i!=2&&i!=4)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,Math.max(Math.abs(r),Math.abs(n))!=1)}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){let n=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,r))throw RangeError(`Invalid argument`);let a=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],o=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],s=Math.floor(t.getNumRawDataModules(n)/8),c=a-s%a,l=Math.floor(s/a),u=[],d=t.reedSolomonComputeDivisor(o);for(let n=0,r=0;n<a;n++){let i=e.slice(r,r+l-o+(n<c?0:1));r+=i.length;let a=t.reedSolomonComputeRemainder(i,d);n<c&&i.push(0),u.push(i.concat(a))}let f=[];for(let e=0;e<u[0].length;e++)u.forEach((t,n)=>{(e!=l-o||n>=c)&&f.push(t[e])});return i(f.length==s),f}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw RangeError(`Invalid argument`);let n=0;for(let t=this.size-1;t>=1;t-=2){t==6&&(t=5);for(let i=0;i<this.size;i++)for(let a=0;a<2;a++){let o=t-a,s=t+1&2?i:this.size-1-i;!this.isFunction[s][o]&&n<e.length*8&&(this.modules[s][o]=r(e[n>>>3],7-(n&7)),n++)}}i(n==e.length*8)}applyMask(e){if(e<0||e>7)throw RangeError(`Mask value out of range`);for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw Error(`Unreachable`)}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let n=0;n<this.size;n++){let r=!1,i=0,a=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[n][o]==r?(i++,i==5?e+=t.PENALTY_N1:i>5&&e++):(this.finderPenaltyAddHistory(i,a),r||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),r=this.modules[n][o],i=1);e+=this.finderPenaltyTerminateAndCount(r,i,a)*t.PENALTY_N3}for(let n=0;n<this.size;n++){let r=!1,i=0,a=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[o][n]==r?(i++,i==5?e+=t.PENALTY_N1:i>5&&e++):(this.finderPenaltyAddHistory(i,a),r||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),r=this.modules[o][n],i=1);e+=this.finderPenaltyTerminateAndCount(r,i,a)*t.PENALTY_N3}for(let n=0;n<this.size-1;n++)for(let r=0;r<this.size-1;r++){let i=this.modules[n][r];i==this.modules[n][r+1]&&i==this.modules[n+1][r]&&i==this.modules[n+1][r+1]&&(e+=t.PENALTY_N2)}let n=0;for(let e of this.modules)n=e.reduce((e,t)=>e+(t?1:0),n);let r=this.size*this.size,a=Math.ceil(Math.abs(n*20-r*10)/r)-1;return i(0<=a&&a<=9),e+=a*t.PENALTY_N4,i(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(this.version==1)return[];{let e=Math.floor(this.version/7)+2,t=Math.floor((this.version*8+e*3+5)/(e*4-4))*2,n=[6];for(let r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError(`Version number out of range`);let n=(16*e+128)*e+64;if(e>=2){let t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return i(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw RangeError(`Degree out of range`);let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let r=1;for(let i=0;i<e;i++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],r),e+1<n.length&&(n[e]^=n[e+1]);r=t.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(e,n){let r=n.map(e=>0);for(let i of e){let e=i^r.shift();r.push(0),n.forEach((n,i)=>r[i]^=t.reedSolomonMultiply(n,e))}return r}static reedSolomonMultiply(e,t){if(e>>>8||t>>>8)throw RangeError(`Byte out of range`);let n=0;for(let r=7;r>=0;r--)n=n<<1^(n>>>7)*285,n^=(t>>>r&1)*e;return i(n>>>8==0),n}finderPenaltyCountPatterns(e){let t=e[1];i(t<=this.size*3);let n=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(n&&e[0]>=t*4&&e[6]>=t?1:0)+(n&&e[6]>=t*4&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){t[0]==0&&(e+=this.size),t.pop(),t.unshift(e)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(e,t,n){if(t<0||t>31||e>>>t)throw RangeError(`Value out of range`);for(let r=t-1;r>=0;r--)n.push(e>>>r&1)}function r(e,t){return(e>>>t&1)!=0}function i(e){if(!e)throw Error(`Assertion error`)}let a=class e{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw RangeError(`Invalid argument`);this.bitData=n.slice()}static makeBytes(t){let r=[];for(let e of t)n(e,8,r);return new e(e.Mode.BYTE,t.length,r)}static makeNumeric(t){if(!e.isNumeric(t))throw RangeError(`String contains non-numeric characters`);let r=[];for(let e=0;e<t.length;){let i=Math.min(t.length-e,3);n(parseInt(t.substring(e,e+i),10),i*3+1,r),e+=i}return new e(e.Mode.NUMERIC,t.length,r)}static makeAlphanumeric(t){if(!e.isAlphanumeric(t))throw RangeError(`String contains unencodable characters in alphanumeric mode`);let r=[],i;for(i=0;i+2<=t.length;i+=2){let a=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(i))*45;a+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(i+1)),n(a,11,r)}return i<t.length&&n(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(i)),6,r),new e(e.Mode.ALPHANUMERIC,t.length,r)}static makeSegments(t){return t==``?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let r=[];if(t<0)throw RangeError(`ECI assignment value out of range`);if(t<128)n(t,8,r);else if(t<16384)n(2,2,r),n(t,14,r);else if(t<1e6)n(6,3,r),n(t,21,r);else throw RangeError(`ECI assignment value out of range`);return new e(e.Mode.ECI,0,r)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(let r of e){let e=r.mode.numCharCountBits(t);if(r.numChars>=1<<e)return 1/0;n+=4+e+r.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)e.charAt(n)==`%`?(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2):t.push(e.charCodeAt(n));return t}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET=`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:`;let o=a;e.QrSegment=o})(P||={}),(e=>{(e=>{let t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(e.QrCode||={})})(P||={}),(e=>{(e=>{let t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(e.QrSegment||={})})(P||={});var F=P,I=F.QrCode,L={L:F.QrCode.Ecc.LOW,M:F.QrCode.Ecc.MEDIUM,Q:F.QrCode.Ecc.QUARTILE,H:F.QrCode.Ecc.HIGH};function R(e,t){let{level:n=`L`,minVersion:r=2,maxVersion:i,mask:a,boostLevel:o}=t||{},s=F.QrSegment.makeSegments(e),c=I.encodeSegments(s,L[n],r,i,a,o),l=[];for(let e=0;e<c.size;e++){l.push([]);for(let t=0;t<c.size;t++)l[e].push(c.getModule(t,e))}return l}function z(e,t,n){let r=t*7;return{eyeSize:r,positions:[{x:n,y:n},{x:n,y:e-r-n},{x:e-r-n,y:n}]}}function B(e,t,n){let r=e.length;return t<8&&n<8||t<8&&n>r-8||t>r-8&&n<8}function V(e){let{modules:t,size:n,dotSize:r,margin:i=0,eyeType:a=`default`,eyeBorderSize:o=`default`,pointType:s=`default`,customSize:c,pointSize:l=`default`}=e,u=N(s)({margin:i,modules:t,dotSize:r,pointSize:l,customSize:c}),{eyeBorder:d,eyeInner:f}=O(a)({margin:i,dotSize:r,borderSize:o,size:n});return{points:u,eyeBorder:d,eyeInner:f}}function H(e,t=2){return Number(e.toFixed(t))}function U(e){let{config:t,styleConfig:n,logoConfig:r,value:i}=e,{size:a=200,margin:o=0,eyeType:s,eyeBorderSize:c,pointType:l,pointSize:u,pointSizeRandom:d}=n||{},f=_.useMemo(()=>R(i,t),[i,t]),p=_.useMemo(()=>H((a-o*2)/f.length),[f,a,o]),m=_.useMemo(()=>{let e=[];for(let t=0;t<f.length;t++){e.push([]);for(let n=0;n<f.length;n++)d?e[t].push(Math.random()<.5?1:.8):e[t].push(1)}return e},[f,d]),h=_.useMemo(()=>V({modules:f,margin:o,size:a,dotSize:p,eyeType:s,eyeBorderSize:c,pointType:l,pointSize:u,customSize:m}),[f,p,n]);return{logo:_.useMemo(()=>{if(!r)return;let e=a-o*2,{src:t,width:n=e/5,height:i=e/5,x:s=e/2-n/2+o,y:c=e/2-i/2+o}=r||{},l=f.length,u=Array.from({length:l},(e,t)=>t*p+o),d=u[u.findIndex(e=>e>s)-2]-.5||s,m=u[u.findIndex(e=>e>c)-2]-.5||c;return{src:t,width:n,height:i,x:s,y:c,bg:{x:d,y:m,width:n+(s-d)*2,height:i+(c-m)*2}}},[f,p,o,r]),path:h}}function W(e){let{value:t,config:n,styleConfig:r,logoConfig:i,className:a}=e,{size:o=200,margin:s=0,color:c=`#000`,bgColor:l=`#fff`,eyeBorderColor:u,eyeInnerColor:d}=r||{},{path:f,logo:p}=U({config:n,styleConfig:r,logoConfig:i,value:t}),{src:m,x:h,y:g,width:v,height:y,bg:b}=p||{};return _.createElement(`svg`,{width:o,height:o,viewBox:`0 0 ${o} ${o}`,style:{backgroundColor:l},className:`qr-container qr-svg`+(a?` ${a}`:``)},_.createElement(`g`,{fill:c},_.createElement(`path`,{fill:u||c,d:f.eyeBorder}),_.createElement(`path`,{fill:d||c,d:f.eyeInner}),_.createElement(`path`,{d:f.points}),m&&_.createElement(_.default.Fragment,null,_.createElement(`rect`,{fill:l,x:b?.x,y:b?.y,width:b?.width,height:b?.height}),_.createElement(`image`,{href:m,width:v,height:y,x:h,y:g}))))}function G({ctx:e,bgColor:t=`#fff`,logo:n}){let{src:r,width:i,height:a,x:o,y:s,bg:c}=n||{};if(!r)return;let l=new Image;l.src=r,l.onload=()=>{e.fillStyle=t,e.fillRect(c.x,c.y,c.width,c.height);let n=l.width/l.height,r=i,u=a;n>1?u=i/n:r=a*n,e.drawImage(l,o+(i-r)/2,s+(a-u)/2,r,u)}}function K(e){let{ctx:t,path:n,styleConfig:r}=e,{color:i=`#000`,bgColor:a=`#fff`,eyeBorderColor:o,eyeInnerColor:s}=r||{};t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=a,t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=o||i,t.fill(new Path2D(n.eyeBorder)),t.fillStyle=s||i,t.fill(new Path2D(n.eyeInner)),t.fillStyle=i,t.fill(new Path2D(n.points))}function q(e){let{value:t,config:n,styleConfig:r,logoConfig:i,className:a}=e,{size:o=200,bgColor:s}=r||{},{path:c,logo:l}=U({config:n,styleConfig:r,logoConfig:i,value:t}),u=_.useRef(null);return(0,_.useEffect)(()=>{if(c&&u.current){let e=u.current.getContext(`2d`);K({ctx:e,path:c,styleConfig:r}),l&&G({ctx:e,bgColor:s,logo:l})}},[c,i,r]),_.createElement(`canvas`,{width:o,height:o,ref:u,className:`qr-container qr-canvas`+(a?` ${a}`:``)})}function J(e){let{mode:t=`canvas`}=e;return t===`svg`?_.createElement(W,{...e}):_.createElement(q,{...e})}var Y=e(u()),X=t();function Z(e,t){return(0,X.saveAs)(e,t)}var Q=function(e){l(t,e);function t(t){var n=e.call(this,t)||this;return n.ref=_.createRef(),n}return t.prototype.getImageSettings=function(){var e=this.props,t=e.imageSettings,n=e.data;if(!(!t||!s(t)||!t.src||typeof t.src!=`string`))return d(t.src)&&(t.src=o(t.src,n,`| raw`)),(0,Y.default)(t,function(e,t){return~[`width`,`height`,`x`,`y`].indexOf(t)?i(e)?Number(e):null:e})},t.prototype.doAction=function(e,t,n,r){var i=this.props.codeSize;if(e?.actionType===`saveAs`&&this.ref?.current)if(this.props.mode===`svg`){var a=this.ref.current.querySelector(`svg`);if(a){var o=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" height="${i}" width="${i}" viewBox="${a.getAttribute(`viewBox`)||`0 0 37 37`}">
         ${a.innerHTML}
         </svg>`;Z(new Blob([o],{type:`image/svg+xml`}),r?.name||`qr-code.svg`)}}else{var s=this.ref.current.querySelector(`canvas`);s&&s.toBlob(function(e){e&&Z(e,r?.name?r.name.replace(/\.svg$/,`.png`):`qr-code.png`)},`image/png`)}},t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,i=e.qrcodeClassName,a=e.codeSize,o=e.backgroundColor,s=e.foregroundColor,c=e.placeholder,l=e.level,u=e.defaultValue,d=e.data,f=e.mode,p=e.eyeType,m=e.eyeBorderColor,v=e.eyeBorderSize,y=e.eyeInnerColor,b=e.pointType,x=e.pointSize,S=e.pointSizeRandom,C=e.translate,w=e.classPrefix,T=r(this.props,function(){return h(u,d,`| raw`)||void 0});return _.createElement(`div`,{className:(0,g.default)(`${w}QrCode`,t),style:n,ref:this.ref},T?T.length>2953?_.createElement(`span`,{className:`text-danger`},C(`QRCode.tooLong`,{max:2953})):_.createElement(J,{className:i,value:T,config:{level:l||`L`,minVersion:2,boostLevel:!0},styleConfig:{size:a,bgColor:o,color:s,eyeType:p,eyeBorderColor:m,eyeBorderSize:v,eyeInnerColor:y,pointType:b,pointSize:x,pointSizeRandom:S},logoConfig:this.getImageSettings(),mode:f}):_.createElement(`span`,{className:`${w}QrCode--placeholder`},c))},t.defaultProps={codeSize:128,qrcodeClassName:``,backgroundColor:`#fff`,foregroundColor:`#000`,level:`L`,placeholder:`-`,mode:`canvas`},t}(_.Component),$=function(e){l(t,e);function t(t,n){var r=e.call(this,t)||this;return n.registerComponent(r),r}return t.prototype.componentWillUnmount=function(){var t;(t=e.prototype.componentWillUnmount)==null||t.call(this),this.context.unRegisterComponent(this)},t.contextType=f,t=c([m({type:`qrcode`,alias:[`qr-code`],name:`qrcode`}),n(`design:paramtypes`,[Object,Object])],t),t}(Q);export{$ as QRCodeRenderer,Q as default};